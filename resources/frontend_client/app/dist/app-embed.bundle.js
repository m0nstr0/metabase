/*! For license information please see app-embed.bundle.js.LICENSE.txt */
!function(){var e,t,n={52340:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut,lt,ct,st,ft,dt,pt,ht,mt,yt,vt,bt,gt,wt,Ot,jt,St,Et,_t,xt,Pt,Ct,kt,At,Dt,Rt,It,Tt,Nt,qt,Mt,Zt,Lt,Bt,zt,Ft,Qt,Vt,Ut,Ht,Yt,Gt,Wt,$t,Kt,Jt,Xt,en,tn,nn,rn,on,an,un,ln,cn,sn,fn,dn,pn,hn,mn,yn,vn,bn,gn,wn,On,jn,Sn,En,_n,xn,Pn,Cn,kn,An,Dn,Rn,In,Tn,Nn,qn,Mn,Zn,Ln,Bn,zn,Fn,Qn,Vn,Un,Hn=n(4923);n(70406),n(76877),Hn.Fa="cljs.core",Hn.Ha=function(e){return function(){return jn[e].apply(this,arguments)}},Hn.Ia=function(e,t){return jn[e]=t},Hn.Ma=function(e,t){return e>t?1:e<t?-1:0},r=function(e,t){e.sort(t||Hn.Ma)},i=function(e,t){for(var n=Array(e.length),i=0;i<e.length;i++)n[i]={index:i,value:e[i]};var o=t||Hn.Ma;for(r(n,(function(e,t){return o(e.value,t.value)||e.index-t.index})),i=0;i<e.length;i++)e[i]=n[i].value},Hn.Qa=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},Hn.Ra=function(e,t){return null!==e&&t in e?e[t]:void 0},Hn.Sa=function(e,t){null!=e&&this.append.apply(this,arguments)},o=function(){return new Hn.n(null,5,[Dn,!0,kn,!0,_n,!1,Nn,!1,xn,null],null)},Hn.q=function(e){return null!=e&&!1!==e},Hn.ab=function(e){return e instanceof Array},Hn.bb=function(e){return null==e||!1===e},Hn.cb=function(e,t){return!!e[Hn.Ca(null==t?null:t)]||!!e._},Hn.db=function(e){return null==e?null:e.constructor},Hn.eb=function(e,t){var n=Hn.db(t);return n=Hn.q(Hn.q(n)?n.xc:n)?n.ac:Hn.Ca(t),Error(["No protocol method ",e," defined for type ",n,": ",t].join(""))},a=function(e){var t=e.ac;return Hn.q(t)?t:Hn.fb.b(e)},u=function(e){for(var t=e.length,n=Array(t),r=0;r<t;)n[r]=e[r],r+=1;return n},l=function(e){return"symbol"===Hn.Ca(e)||"undefined"!=typeof Symbol&&e instanceof Symbol},Hn.kb=function(){},c=function(){},s=function(e){if(null!=e&&null!=e.aa)e=e.aa(e);else{var t=s[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=s._))throw Hn.eb("ICounted.-count",e);e=t.b?t.b(e):t.call(null,e)}}return e},f=function(){},d=function(e){if(null!=e&&null!=e.Aa)e=e.Aa(e);else{var t=d[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=d._))throw Hn.eb("IEmptyableCollection.-empty",e);e=t.b?t.b(e):t.call(null,e)}}return e},p=function(){},Hn.qb=function(e,t){if(null!=e&&null!=e.ba)e=e.ba(e,t);else{var n=Hn.qb[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Hn.qb._))throw Hn.eb("ICollection.-conj",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},h=function(){},Hn.tb=function(e){if(null!=e&&null!=e.Ja)e=e.Ja(e);else{var t=Hn.tb[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.tb._))throw Hn.eb("ISeq.-first",e);e=t.b?t.b(e):t.call(null,e)}}return e},m=function(e){if(null!=e&&null!=e.Na)e=e.Na(e);else{var t=m[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=m._))throw Hn.eb("ISeq.-rest",e);e=t.b?t.b(e):t.call(null,e)}}return e},y=function(){},Hn.wb=function(){},v=function(){},b=function(e,t,n){if(null!=e&&null!=e.U)e=e.U(e,t,n);else{var r=b[Hn.Ca(null==e?null:e)];if(null!=r)e=r.c?r.c(e,t,n):r.call(null,e,t,n);else{if(null==(r=b._))throw Hn.eb("IAssociative.-assoc",e);e=r.c?r.c(e,t,n):r.call(null,e,t,n)}}return e},g=function(){},w=function(e,t){if(null!=e&&null!=e.Nb)e=e.Nb(e,t);else{var n=w[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=w._))throw Hn.eb("IFind.-find",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},O=function(){},Hn.Cb=function(e,t){if(null!=e&&null!=e.Ea)e=e.Ea(e,t);else{var n=Hn.Cb[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Hn.Cb._))throw Hn.eb("IMap.-dissoc",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},Hn.Db=function(e){if(null!=e&&null!=e.$c)e=e.key;else{var t=Hn.Db[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.Db._))throw Hn.eb("IMapEntry.-key",e);e=t.b?t.b(e):t.call(null,e)}}return e},Hn.Eb=function(e){if(null!=e&&null!=e.ad)e=e.m;else{var t=Hn.Eb[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.Eb._))throw Hn.eb("IMapEntry.-val",e);e=t.b?t.b(e):t.call(null,e)}}return e},j=function(){},S=function(){},E=function(e,t,n){if(null!=e&&null!=e.Cb)e=e.Cb(e,t,n);else{var r=E[Hn.Ca(null==e?null:e)];if(null!=r)e=r.c?r.c(e,t,n):r.call(null,e,t,n);else{if(null==(r=E._))throw Hn.eb("IVector.-assoc-n",e);e=r.c?r.c(e,t,n):r.call(null,e,t,n)}}return e},Hn.Ib=function(e){if(null!=e&&null!=e.Bb)e=e.Bb(e);else{var t=Hn.Ib[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.Ib._))throw Hn.eb("IDeref.-deref",e);e=t.b?t.b(e):t.call(null,e)}}return e},_=function(){},x=function(e){if(null!=e&&null!=e.X)e=e.X(e);else{var t=x[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=x._))throw Hn.eb("IMeta.-meta",e);e=t.b?t.b(e):t.call(null,e)}}return e},Hn.Lb=function(e,t){if(null!=e&&null!=e.$)e=e.$(e,t);else{var n=Hn.Lb[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Hn.Lb._))throw Hn.eb("IWithMeta.-with-meta",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},P=function(){},C=function(){},k=function(e,t,n){if(null!=e&&null!=e.Ba)e=e.Ba(e,t,n);else{var r=k[Hn.Ca(null==e?null:e)];if(null!=r)e=r.c?r.c(e,t,n):r.call(null,e,t,n);else{if(null==(r=k._))throw Hn.eb("IKVReduce.-kv-reduce",e);e=r.c?r.c(e,t,n):r.call(null,e,t,n)}}return e},A=function(e,t){if(null!=e&&null!=e.S)e=e.S(e,t);else{var n=A[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=A._))throw Hn.eb("IEquiv.-equiv",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},D=function(e){if(null!=e&&null!=e.T)e=e.T(e);else{var t=D[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=D._))throw Hn.eb("IHash.-hash",e);e=t.b?t.b(e):t.call(null,e)}}return e},R=function(){},I=function(e){if(null!=e&&null!=e.Z)e=e.Z(e);else{var t=I[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=I._))throw Hn.eb("ISeqable.-seq",e);e=t.b?t.b(e):t.call(null,e)}}return e},T=function(){},N=function(){},q=function(){},M=function(){},Z=function(e){if(null!=e&&null!=e.Zb)e=e.Zb(e);else{var t=Z[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Z._))throw Hn.eb("IReversible.-rseq",e);e=t.b?t.b(e):t.call(null,e)}}return e},Hn.Zb=function(e,t){if(null!=e&&null!=e.Kc)e=e.Kc(e,t);else{var n=Hn.Zb[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Hn.Zb._))throw Hn.eb("IWriter.-write",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},L=function(){},Hn.ac=function(e,t,n){if(null!=e&&null!=e.O)e=e.O(e,t,n);else{var r=Hn.ac[Hn.Ca(null==e?null:e)];if(null!=r)e=r.c?r.c(e,t,n):r.call(null,e,t,n);else{if(null==(r=Hn.ac._))throw Hn.eb("IPrintWithWriter.-pr-writer",e);e=r.c?r.c(e,t,n):r.call(null,e,t,n)}}return e},Hn.bc=function(e){if(null!=e&&null!=e.Mb)e=e.Mb(e);else{var t=Hn.bc[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.bc._))throw Hn.eb("IEditableCollection.-as-transient",e);e=t.b?t.b(e):t.call(null,e)}}return e},B=function(e,t){if(null!=e&&null!=e.Qb)e=e.Qb(e,t);else{var n=B[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=B._))throw Hn.eb("ITransientCollection.-conj!",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},Hn.dc=function(e){if(null!=e&&null!=e.$b)e=e.$b(e);else{var t=Hn.dc[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.dc._))throw Hn.eb("ITransientCollection.-persistent!",e);e=t.b?t.b(e):t.call(null,e)}}return e},z=function(e,t,n){if(null!=e&&null!=e.Pb)e=e.Pb(e,t,n);else{var r=z[Hn.Ca(null==e?null:e)];if(null!=r)e=r.c?r.c(e,t,n):r.call(null,e,t,n);else{if(null==(r=z._))throw Hn.eb("ITransientAssociative.-assoc!",e);e=r.c?r.c(e,t,n):r.call(null,e,t,n)}}return e},F=function(){},Q=function(e,t){if(null!=e&&null!=e.Xa)e=e.Xa(e,t);else{var n=Q[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Q._))throw Hn.eb("IComparable.-compare",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},V=function(e){if(null!=e&&null!=e.Ec)e=e.Ec(e);else{var t=V[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=V._))throw Hn.eb("IChunk.-drop-first",e);e=t.b?t.b(e):t.call(null,e)}}return e},Hn.ic=function(e){if(null!=e&&null!=e.uc)e=e.uc(e);else{var t=Hn.ic[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.ic._))throw Hn.eb("IChunkedSeq.-chunked-first",e);e=t.b?t.b(e):t.call(null,e)}}return e},Hn.jc=function(e){if(null!=e&&null!=e.kc)e=e.kc(e);else{var t=Hn.jc[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.jc._))throw Hn.eb("IChunkedSeq.-chunked-rest",e);e=t.b?t.b(e):t.call(null,e)}}return e},U=function(e){if(null!=e&&null!=e.Wb)e=e.Wb(e);else{var t=U[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=U._))throw Hn.eb("INamed.-name",e);e=t.b?t.b(e):t.call(null,e)}}return e},H=function(e){if(null!=e&&null!=e.Xb)e=e.Xb(e);else{var t=H[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=H._))throw Hn.eb("INamed.-namespace",e);e=t.b?t.b(e):t.call(null,e)}}return e},Y=function(e,t){if(null!=e&&null!=e.ed)e=e.ed(e,t);else{var n=Y[Hn.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=Y._))throw Hn.eb("IReset.-reset!",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},G=function(){},Hn.oc=function(e){if(null!=e&&null!=e.ja)e=e.ja(e);else{var t=Hn.oc[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=Hn.oc._))throw Hn.eb("IIterable.-iterator",e);e=t.b?t.b(e):t.call(null,e)}}return e},W=function(e){this.xd=e,this.o=1073741824,this.K=0},$=function(e){var t=new Hn.Sa;return e.O(null,new W(t),o()),Hn.fb.b(t)},K=function(e){return e=Xn(0|e,-862048943),Xn(e<<15|e>>>-15,461845907)},J=function(e,t){return Xn((e=(0|e)^(0|t))<<13|e>>>-13,5)+-430675100|0},X=function(e,t){return e=Xn((e=(0|e)^t)^e>>>16,-2048144789),(e=Xn(e^e>>>13,-1028477387))^e>>>16},ee=function(e){if(255<tr&&(er={},tr=0),null==e)return 0;var t=er[e];if("number"==typeof t)e=t;else{e:if(null!=e)if(t=e.length,0<t)for(var n=0,r=0;;){if(!(n<t)){t=r;break e}r=Xn(31,r)+e.charCodeAt(n),n+=1}else t=0;else t=0;er[e]=t,tr+=1,e=t}return e},Hn.zc=function(e){if(null!=e&&(4194304&e.o||Hn.yc===e.Pd))return 0^e.T(null);if("number"!=typeof e)return!0===e?e=1231:!1===e?e=1237:"string"==typeof e?e=0===(e=ee(e))?e:X(J(0,K(e)),4):e=e instanceof Date?0^e.valueOf():null==e?0:0^D(e),e;if(Hn.q(isFinite(e)))return Math.floor(e)%2147483647;switch(e){case 1/0:return 2146435072;case-1/0:return-1048576;default:return 2146959360}},te=function(e){var t=e.name;e:for(var n=1,r=0;;){if(!(n<t.length)){n=r;break e}r=J(r,K(t.charCodeAt(n-1)|t.charCodeAt(n)<<16)),n+=2}return(t=X(1==(1&t.length)?n^K(t.charCodeAt(t.length-1)):n,Xn(2,t.length)))^(e=ee(e.Pa))+2654435769+(t<<6)+(t>>2)},Hn.r=function(e,t,n,r,i){this.Pa=e,this.name=t,this.rb=n,this.Kb=r,this.Za=i,this.o=2154168321,this.K=4096},Hn.Bc=function(e,t,n){this.m=e,this.Ib=t,this.Za=n,this.o=6717441,this.K=0},ne=function(e){return null!=e?!!(131072&e.K||Hn.yc===e.Qd)||!e.K&&Hn.cb(G,e):Hn.cb(G,e)},Hn.t=function(e){if(null==e)return null;if(null!=e&&(8388608&e.o||Hn.yc===e.fd))return e.Z(null);if(Hn.ab(e)||"string"==typeof e)return 0===e.length?null:new Hn.Dc(e,0,null);if(null!=e&&null!=e[Bn])return e=Hn.Ra(e,Bn).call(e),ae.b?ae.b(e):ae.call(null,e);if(Hn.cb(R,e))return I(e);throw Error([Hn.fb.b(e)," is not ISeqable"].join(""))},Hn.u=function(e){return null==e?null:null!=e&&(64&e.o||Hn.yc===e.Y)?e.Ja(null):null==(e=Hn.t(e))?null:Hn.tb(e)},Hn.Hc=function(e){return null!=e&&(null!=e&&(64&e.o||Hn.yc===e.Y)||(e=Hn.t(e)))?e.Na(null):Hn.Gc},Hn.B=function(e){return null==e?null:null!=e&&(128&e.o||Hn.yc===e.Yb)?e.Fa(null):Hn.t(Hn.Hc(e))},re=function(e){this.ca=e},ie=function(e){return new re(Hn.t(e))},oe=function(e,t){this.value=e,this.Tb=t,this.qc=null,this.o=8388672,this.K=0},ae=function(e){var t=e.next();return Hn.q(t.done)?null:new oe(t.value,e)},ue=function(e){var t=0,n=1;for(e=Hn.t(e);;){if(null==e)return X(J(0,K(n)),t);t+=1,n=Xn(31,n)+Hn.zc(Hn.u(e))|0,e=Hn.B(e)}},Hn.Mc=function(e){var t=0,n=0;for(e=Hn.t(e);;){if(null==e)return X(J(0,K(n)),t);t+=1,n=n+Hn.zc(Hn.u(e))|0,e=Hn.B(e)}},Hn.Nc=function(e){this.m=e,this.o=32768,this.K=0},Hn.Oc=function(e){return e instanceof Hn.Nc},le=function(e){return Hn.Ib(e)},ce=function(e,t){var n=e.aa(null);if(0===n)return t.l?t.l():t.call(null);for(var r=e.ea(null,0),i=1;;){if(!(i<n))return r;var o=e.ea(null,i);if(r=t.a?t.a(r,o):t.call(null,r,o),Hn.Oc(r))return Hn.Ib(r);i+=1}},se=function(e,t,n){var r=e.aa(null),i=n;for(n=0;;){if(!(n<r))return i;var o=e.ea(null,n);if(i=t.a?t.a(i,o):t.call(null,i,o),Hn.Oc(i))return Hn.Ib(i);n+=1}},fe=function(e,t){var n=e.length;if(0===e.length)return t.l?t.l():t.call(null);for(var r=e[0],i=1;;){if(!(i<n))return r;var o=e[i];if(r=t.a?t.a(r,o):t.call(null,r,o),Hn.Oc(r))return Hn.Ib(r);i+=1}},de=function(e,t,n){var r=e.length,i=n;for(n=0;;){if(!(n<r))return i;var o=e[n];if(i=t.a?t.a(i,o):t.call(null,i,o),Hn.Oc(i))return Hn.Ib(i);n+=1}},pe=function(e,t,n,r){for(var i=e.length;;){if(!(r<i))return n;var o=e[r];if(n=t.a?t.a(n,o):t.call(null,n,o),Hn.Oc(n))return Hn.Ib(n);r+=1}},he=function(e){return null!=e?!!(2&e.o||Hn.yc===e.Vc)||!e.o&&Hn.cb(c,e):Hn.cb(c,e)},me=function(e){return null!=e?!!(16&e.o||Hn.yc===e.Hc)||!e.o&&Hn.cb(h,e):Hn.cb(h,e)},ye=function(e,t,n){var r=Hn.D.b?Hn.D.b(e):Hn.D.call(null,e);if(n>=r)return-1;for(!(0<n)&&0>n&&(n=0>(n+=r)?0:n);;){if(!(n<r))return-1;if(Hn.Xc.a(Hn.Yc?Hn.Yc(e,n):Oe.call(null,e,n),t))return n;n+=1}},ve=function(e,t,n){var r=Hn.D.b?Hn.D.b(e):Hn.D.call(null,e);if(0===r)return-1;for(0<n?n=--r<n?r:n:n=0>n?r+n:n;;){if(!(0<=n))return-1;if(Hn.Xc.a(Hn.Yc?Hn.Yc(e,n):Oe.call(null,e,n),t))return n;--n}},be=function(e,t){this.h=e,this.G=t},Hn.Dc=function(e,t,n){this.h=e,this.G=t,this.M=n,this.o=166592766,this.K=139264},Hn.F=function(e){return 0<e.length?new Hn.Dc(e,0,null):null},ge=function(e,t,n){this.jc=e,this.G=t,this.M=n,this.o=32374990,this.K=8192},Hn.dd=function(e){return Hn.u(Hn.B(e))},Hn.ed=function(e){for(;;){var t=Hn.B(e);if(null==t)return Hn.u(e);e=t}},Hn.fd=function(e){return null==e?null:null!=e&&(4&e.o||Hn.yc===e.Wc)?e.Aa(null):(null!=e?4&e.o||Hn.yc===e.Wc||!e.o&&Hn.cb(f,e):Hn.cb(f,e))?d(e):null},Hn.D=function(e){if(null!=e)if(null!=e&&(2&e.o||Hn.yc===e.Vc))e=e.aa(null);else if(Hn.ab(e))e=e.length;else if("string"==typeof e)e=e.length;else if(null!=e&&(8388608&e.o||Hn.yc===e.fd))e:{e=Hn.t(e);for(var t=0;;){if(he(e)){e=t+s(e);break e}e=Hn.B(e),t+=1}}else e=s(e);else e=0;return e},we=function(e,t,n){for(;;){if(null==e)return n;if(0===t)return Hn.t(e)?Hn.u(e):n;if(me(e))return Hn.gd(e,t,n);if(!Hn.t(e))return n;e=Hn.B(e),--t}},Oe=function(e){switch(arguments.length){case 2:return Hn.Yc(arguments[0],arguments[1]);case 3:return Hn.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.Yc=function(e,t){if("number"!=typeof t)throw Error("Index argument to nth must be a number");if(null==e)return e;if(null!=e&&(16&e.o||Hn.yc===e.Hc))return e.ea(null,t);if(Hn.ab(e)){if(-1<t&&t<e.length)return e[0|t];throw Error("Index out of bounds")}if("string"==typeof e){if(-1<t&&t<e.length)return e.charAt(0|t);throw Error("Index out of bounds")}if(null!=e&&(64&e.o||Hn.yc===e.Y)||null!=e&&(16777216&e.o||Hn.yc===e.Jc)){if(0>t)throw Error("Index out of bounds");e:for(;;){if(null==e)throw Error("Index out of bounds");if(0===t){if(Hn.t(e)){e=Hn.u(e);break e}throw Error("Index out of bounds")}if(me(e)){e=Hn.gd(e,t);break e}if(!Hn.t(e))throw Error("Index out of bounds");e=Hn.B(e),--t}return e}if(Hn.cb(h,e))return Hn.gd(e,t);throw Error(["nth not supported on this type ",Hn.fb.b(a(Hn.db(e)))].join(""))},Hn.G=function(e,t,n){if("number"!=typeof t)throw Error("Index argument to nth must be a number.");if(null==e)return n;if(null!=e&&(16&e.o||Hn.yc===e.Hc))return e.Ca(null,t,n);if(Hn.ab(e))return-1<t&&t<e.length?e[0|t]:n;if("string"==typeof e)return-1<t&&t<e.length?e.charAt(0|t):n;if(null!=e&&(64&e.o||Hn.yc===e.Y)||null!=e&&(16777216&e.o||Hn.yc===e.Jc))return 0>t?n:we(e,t,n);if(Hn.cb(h,e))return Hn.gd(e,t,n);throw Error(["nth not supported on this type ",Hn.fb.b(a(Hn.db(e)))].join(""))},je=function(e,t){this.A=e,this.M=t,this.o=393217,this.K=0},Hn.I=function(e,t){return"function"==Hn.Ca(e)?new je(e,t):null==e?null:Hn.Lb(e,t)},Hn.jd=function(e){return null!=e&&(null!=e?131072&e.o||Hn.yc===e.bd||!e.o&&Hn.cb(_,e):Hn.cb(_,e))?x(e):null},Hn.kd=function(e){return null==e||Hn.bb(Hn.t(e))},Hn.ld=function(e){return null!=e&&(null!=e?!!(8&e.o||Hn.yc===e.Ld)||!e.o&&Hn.cb(p,e):Hn.cb(p,e))},Hn.md=function(e){return null!=e&&(null!=e?!!(4096&e.o||Hn.yc===e.Xd)||!e.o&&Hn.cb(j,e):Hn.cb(j,e))},Hn.nd=function(e){return null!=e?!!(16777216&e.o||Hn.yc===e.Jc)||!e.o&&Hn.cb(T,e):Hn.cb(T,e)},Hn.od=function(e){return null!=e&&(null!=e?!!(1024&e.o||Hn.yc===e.Td)||!e.o&&Hn.cb(O,e):Hn.cb(O,e))},Hn.pd=function(e){return null!=e?!!(67108864&e.o||Hn.yc===e.Vd)||!e.o&&Hn.cb(q,e):Hn.cb(q,e)},Hn.qd=function(e){return null!=e?!!(16384&e.o||Hn.yc===e.Yd)||!e.o&&Hn.cb(S,e):Hn.cb(S,e)},Hn.rd=function(e){return null!=e&&!!(512&e.K||Hn.yc===e.Kd)},Se=function(e,t,n,r,i){for(;0!==i;)n[r]=e[t],r+=1,--i,t+=1},Hn.td=function(e){return null!=e&&!1!==e},Hn.vd=function(e,t){return Hn.N.c(e,t,Qn)!==Qn},Hn.xd=function(e,t){var n;(null!=e?Hn.yc===e.Vb||!e.lc&&Hn.cb(g,e):Hn.cb(g,e))?e=w(e,t):((n=null!=e)&&(n=null!=e?!!(512&e.o||Hn.yc===e.Uc)||!e.o&&Hn.cb(v,e):Hn.cb(v,e)),e=n&&Hn.vd(e,t)?new Hn.wd(t,Hn.N.a(e,t)):null);return e},Hn.yd=function(e,t){if(e===t)return 0;if(null==e)return-1;if(null==t)return 1;if("number"==typeof e){if("number"==typeof t)return Hn.Ma(e,t);throw Error(["Cannot compare ",Hn.fb.b(e)," to ",Hn.fb.b(t)].join(""))}if(null!=e?2048&e.K||Hn.yc===e.Lb||!e.K&&Hn.cb(F,e):Hn.cb(F,e))return Q(e,t);if("string"!=typeof e&&!Hn.ab(e)&&!0!==e&&!1!==e||Hn.db(e)!==Hn.db(t))throw Error(["Cannot compare ",Hn.fb.b(e)," to ",Hn.fb.b(t)].join(""));return Hn.Ma(e,t)},Hn.zd=function(e,t){var n=Hn.D(e),r=Hn.D(t);if(n<r)e=-1;else if(n>r)e=1;else if(0===n)e=0;else e:for(r=0;;){var i=Hn.yd(Hn.Yc(e,r),Hn.Yc(t,r));if(!(0===i&&r+1<n)){e=i;break e}r+=1}return e},Hn.Ad=function(e){return Hn.Xc.a(e,Hn.yd)?Hn.yd:function(t,n){var r=e.a?e.a(t,n):e.call(null,t,n);return"number"==typeof r?r:Hn.q(r)?-1:Hn.q(e.a?e.a(n,t):e.call(null,n,t))?1:0}},Hn.Cd=function(e,t){return Hn.t(t)?(t=Le.b?Le.b(t):Le.call(null,t),i(t,Hn.Ad(e)),Hn.t(t)):Hn.Gc},Ee=function(e){switch(arguments.length){case 2:return _e(arguments[0],arguments[1]);case 3:return xe(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},_e=function(e,t){var n=Hn.t(t);return n?(t=Hn.u(n),n=Hn.B(n),Hn.Gd?Hn.Gd(e,t,n):Hn.Hd.call(null,e,t,n)):e.l?e.l():e.call(null)},xe=function(e,t,n){for(n=Hn.t(n);;){if(!n)return t;var r=Hn.u(n);if(t=e.a?e.a(t,r):e.call(null,t,r),Hn.Oc(t))return Hn.Ib(t);n=Hn.B(n)}},Pe=function(e,t){if(e=Hn.oc(e),!Hn.q(e.Da()))return t.l?t.l():t.call(null);for(var n=e.next();;){if(!e.Da())return n;var r=e.next();if(n=t.a?t.a(n,r):t.call(null,n,r),Hn.Oc(n))return Hn.Ib(n)}},Ce=function(e,t,n){for(e=Hn.oc(e);;){if(!e.Da())return n;var r=e.next();if(n=t.a?t.a(n,r):t.call(null,n,r),Hn.Oc(n))return Hn.Ib(n)}},Hn.Hd=function(e){switch(arguments.length){case 2:return Hn.Kd(arguments[0],arguments[1]);case 3:return Hn.Gd(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.Kd=function(e,t){return null!=t&&(524288&t.o||Hn.yc===t.dd)?t.Ga(null,e):Hn.ab(t)||"string"==typeof t?fe(t,e):Hn.cb(P,t)?$n(t,e):ne(t)?Pe(t,e):_e(e,t)},Hn.Gd=function(e,t,n){return null!=n&&(524288&n.o||Hn.yc===n.dd)?n.Ha(null,e,t):Hn.ab(n)||"string"==typeof n?de(n,e,t):Hn.cb(P,n)?$n(n,e,t):ne(n)?Ce(n,e,t):xe(e,t,n)},Hn.Md=function(e,t,n){return null!=n?k(n,e,t):t},Hn.Nd=function(e){return e},ke=function(e,t,n,r){return e=e.b?e.b(t):e.call(null,t),n=Hn.Gd(e,n,r),e.b?e.b(n):e.call(null,n)},Ae=function(e){return 0<=(e=(e-e%2)/2)?Math.floor(e):Math.ceil(e)},De=function(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>24},Re=function(e,t){if(Hn.nd(t))if(he(e)&&he(t)&&Hn.D(e)!==Hn.D(t))e=!1;else e:for(e=Hn.t(e),t=Hn.t(t);;){if(null==e){e=null==t;break e}if(null==t||!Hn.Xc.a(Hn.u(e),Hn.u(t))){e=!1;break e}e=Hn.B(e),t=Hn.B(t)}else e=null;return Hn.td(e)},Hn.Sd=function(e,t,n,r,i){this.M=e,this.first=t,this.wb=n,this.count=r,this.v=i,this.o=65937646,this.K=8192},Hn.Td=function(e){return null!=e?!!(33554432&e.o||Hn.yc===e.Sd)||!e.o&&Hn.cb(N,e):Hn.cb(N,e)},Ie=function(e){this.M=e,this.o=65937614,this.K=8192},Hn.Wd=function(e){return(null!=e?134217728&e.o||Hn.yc===e.Wd||!e.o&&Hn.cb(M,e):Hn.cb(M,e))?(e=Z(e))?e:Hn.Gc:Hn.Gd(Hn.Vd,Hn.Gc,e)},Te=function(e,t,n,r){this.M=e,this.first=t,this.wb=n,this.v=r,this.o=65929452,this.K=8192},Hn.Yd=function(e,t){return null==t?new Hn.Sd(null,e,null,1,null):null!=t&&(64&t.o||Hn.yc===t.Y)?new Te(null,e,t,null):new Te(null,e,Hn.t(t),null)},Hn.O=function(e,t,n,r){this.Pa=e,this.name=t,this.ga=n,this.Kb=r,this.o=2153775105,this.K=4096},Hn.Zd=function(e,t){return e===t||e instanceof Hn.O&&t instanceof Hn.O&&e.ga===t.ga},Hn.$d=function(e){if(null!=e&&(4096&e.K||Hn.yc===e.cd))return e.Xb(null);throw Error(["Doesn't support namespace: ",Hn.fb.b(e)].join(""))},Hn.ae=function(e,t,n){this.M=e,this.bc=t,this.ca=null,this.v=n,this.o=32374988,this.K=1},Ne=function(e){return null!=e.bc&&(e.ca=e.bc.l?e.bc.l():e.bc.call(null),e.bc=null),e.ca},qe=function(e){this.sc=e,this.end=0,this.o=2,this.K=0},Hn.de=function(e){return new qe(Array(e))},Me=function(e,t,n){this.h=e,this.Ia=t,this.end=n,this.o=524306,this.K=0},Ze=function(e,t,n,r){this.sb=e,this.hb=t,this.M=n,this.v=r,this.o=31850732,this.K=1536},Hn.ge=function(e,t){return 0===s(e)?t:new Ze(e,t,null,null)},Hn.he=function(e,t){e.add(t)},Hn.ie=function(e){return e.sb()},Le=function(e){var t=[];for(e=Hn.t(e);;){if(null==e)return t;t.push(Hn.u(e)),e=Hn.B(e)}},Be=function(e,t){if(he(t))return Hn.D(t);var n=0;for(t=Hn.t(t);;){if(!(null!=t&&n<e))return n;n+=1,t=Hn.B(t)}},ze=function(e,t,n){var r=Hn.t(n);if(0===t)return e.l?e.l():e.call(null);n=Hn.tb(r);var i=m(r);if(1===t)return e.b?e.b(n):e.call(null,n);r=Hn.tb(i);var o=m(i);if(2===t)return e.a?e.a(n,r):e.call(null,n,r);i=Hn.tb(o);var a=m(o);if(3===t)return e.c?e.c(n,r,i):e.call(null,n,r,i);o=Hn.tb(a);var u=m(a);if(4===t)return e.N?e.N(n,r,i,o):e.call(null,n,r,i,o);a=Hn.tb(u);var l=m(u);if(5===t)return e.V?e.V(n,r,i,o,a):e.call(null,n,r,i,o,a);u=Hn.tb(l);var c=m(l);if(6===t)return e.ia?e.ia(n,r,i,o,a,u):e.call(null,n,r,i,o,a,u);l=Hn.tb(c);var s=m(c);if(7===t)return e.xa?e.xa(n,r,i,o,a,u,l):e.call(null,n,r,i,o,a,u,l);c=Hn.tb(s);var f=m(s);if(8===t)return e.la?e.la(n,r,i,o,a,u,l,c):e.call(null,n,r,i,o,a,u,l,c);s=Hn.tb(f);var d=m(f);if(9===t)return e.ya?e.ya(n,r,i,o,a,u,l,c,s):e.call(null,n,r,i,o,a,u,l,c,s);f=Hn.tb(d);var p=m(d);if(10===t)return e.ma?e.ma(n,r,i,o,a,u,l,c,s,f):e.call(null,n,r,i,o,a,u,l,c,s,f);d=Hn.tb(p);var h=m(p);if(11===t)return e.na?e.na(n,r,i,o,a,u,l,c,s,f,d):e.call(null,n,r,i,o,a,u,l,c,s,f,d);p=Hn.tb(h);var y=m(h);if(12===t)return e.oa?e.oa(n,r,i,o,a,u,l,c,s,f,d,p):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p);h=Hn.tb(y);var v=m(y);if(13===t)return e.pa?e.pa(n,r,i,o,a,u,l,c,s,f,d,p,h):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h);y=Hn.tb(v);var b=m(v);if(14===t)return e.qa?e.qa(n,r,i,o,a,u,l,c,s,f,d,p,h,y):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y);v=Hn.tb(b);var g=m(b);if(15===t)return e.ra?e.ra(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v);b=Hn.tb(g);var w=m(g);if(16===t)return e.sa?e.sa(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b);g=Hn.tb(w);var O=m(w);if(17===t)return e.ta?e.ta(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g);w=Hn.tb(O);var j=m(O);if(18===t)return e.ua?e.ua(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w);if(O=Hn.tb(j),j=m(j),19===t)return e.va?e.va(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w,O):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w,O);var S=Hn.tb(j);if(m(j),20===t)return e.wa?e.wa(n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w,O,S):e.call(null,n,r,i,o,a,u,l,c,s,f,d,p,h,y,v,b,g,w,O,S);throw Error("Only up to 20 arguments supported on functions")},Fe=function(e){return null!=e&&(128&e.o||Hn.yc===e.Yb)?e.Fa(null):Hn.t(Hn.Hc(e))},Qe=function(e,t,n){return null==n?e.b?e.b(t):e.call(e,t):Ve(e,t,Hn.tb(n),Fe(n))},Ve=function(e,t,n,r){return null==r?e.a?e.a(t,n):e.call(e,t,n):Ue(e,t,n,Hn.tb(r),Fe(r))},Ue=function(e,t,n,r,i){return null==i?e.c?e.c(t,n,r):e.call(e,t,n,r):He(e,t,n,r,Hn.tb(i),Fe(i))},He=function(e,t,n,r,i,o){if(null==o)return e.N?e.N(t,n,r,i):e.call(e,t,n,r,i);var a=Hn.tb(o),u=Hn.B(o);if(null==u)return e.V?e.V(t,n,r,i,a):e.call(e,t,n,r,i,a);o=Hn.tb(u);var l=Hn.B(u);if(null==l)return e.ia?e.ia(t,n,r,i,a,o):e.call(e,t,n,r,i,a,o);u=Hn.tb(l);var c=Hn.B(l);if(null==c)return e.xa?e.xa(t,n,r,i,a,o,u):e.call(e,t,n,r,i,a,o,u);l=Hn.tb(c);var s=Hn.B(c);if(null==s)return e.la?e.la(t,n,r,i,a,o,u,l):e.call(e,t,n,r,i,a,o,u,l);c=Hn.tb(s);var f=Hn.B(s);if(null==f)return e.ya?e.ya(t,n,r,i,a,o,u,l,c):e.call(e,t,n,r,i,a,o,u,l,c);s=Hn.tb(f);var d=Hn.B(f);if(null==d)return e.ma?e.ma(t,n,r,i,a,o,u,l,c,s):e.call(e,t,n,r,i,a,o,u,l,c,s);f=Hn.tb(d);var p=Hn.B(d);if(null==p)return e.na?e.na(t,n,r,i,a,o,u,l,c,s,f):e.call(e,t,n,r,i,a,o,u,l,c,s,f);d=Hn.tb(p);var h=Hn.B(p);if(null==h)return e.oa?e.oa(t,n,r,i,a,o,u,l,c,s,f,d):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d);p=Hn.tb(h);var m=Hn.B(h);if(null==m)return e.pa?e.pa(t,n,r,i,a,o,u,l,c,s,f,d,p):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p);h=Hn.tb(m);var y=Hn.B(m);if(null==y)return e.qa?e.qa(t,n,r,i,a,o,u,l,c,s,f,d,p,h):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h);m=Hn.tb(y);var v=Hn.B(y);if(null==v)return e.ra?e.ra(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m);y=Hn.tb(v);var b=Hn.B(v);if(null==b)return e.sa?e.sa(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y);v=Hn.tb(b);var g=Hn.B(b);if(null==g)return e.ta?e.ta(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v);b=Hn.tb(g);var w=Hn.B(g);if(null==w)return e.ua?e.ua(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b);g=Hn.tb(w);var O=Hn.B(w);if(null==O)return e.va?e.va(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b,g):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b,g);if(w=Hn.tb(O),null==(O=Hn.B(O)))return e.wa?e.wa(t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b,g,w):e.call(e,t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b,g,w);for(t=[t,n,r,i,a,o,u,l,c,s,f,d,p,h,m,y,v,b,g,w],n=O;n;)t.push(Hn.tb(n)),n=Hn.B(n);return e.apply(e,t)},Ye=function(e){switch(arguments.length){case 2:return Hn.qe(arguments[0],arguments[1]);case 3:return Hn.re(arguments[0],arguments[1],arguments[2]);case 4:return Hn.se(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Hn.te(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var t=[],n=arguments.length,r=0;r<n;)t.push(arguments[r]),r+=1;return Hn.ue(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],new Hn.Dc(t.slice(5),0,null))}},Hn.qe=function(e,t){if(e.H){var n=e.I,r=Be(n+1,t);return r<=n?ze(e,r,t):e.H(t)}return null==(t=Hn.t(t))?e.l?e.l():e.call(e):Qe(e,Hn.tb(t),Fe(t))},Hn.re=function(e,t,n){if(e.H){t=Hn.Yd(t,n);var r=e.I;return(n=Be(r,n)+1)<=r?ze(e,n,t):e.H(t)}return Qe(e,t,Hn.t(n))},Hn.se=function(e,t,n,r){return e.H?(t=Hn.Yd(t,Hn.Yd(n,r)),n=e.I,(r=2+Be(n-1,r))<=n?ze(e,r,t):e.H(t)):Ve(e,t,n,Hn.t(r))},Hn.te=function(e,t,n,r,i){return e.H?(t=Hn.Yd(t,Hn.Yd(n,Hn.Yd(r,i))),n=e.I,(i=3+Be(n-2,i))<=n?ze(e,i,t):e.H(t)):Ue(e,t,n,r,Hn.t(i))},Hn.ue=function(e,t,n,r,i,o){return e.H?(o=Vn(o),t=Hn.Yd(t,Hn.Yd(n,Hn.Yd(r,Hn.Yd(i,o)))),n=e.I,(o=4+Be(n-3,o))<=n?ze(e,o,t):e.H(t)):He(e,t,n,r,i,Vn(o))},Hn.xe=function(e){return Hn.t(e)?e:null},Hn.Ce=function(){return void 0!==qn&&void 0!==Mn&&void 0!==Zn||((Zn=function(e){this.sd=e,this.o=393216,this.K=0}).prototype.$=function(e,t){return new Zn(t)},Zn.prototype.X=function(){return this.sd},Zn.prototype.Da=function(){return!1},Zn.prototype.next=function(){return Error("No such element")},Zn.prototype.remove=function(){return Error("Unsupported operation")},Zn.xc=!0,Zn.ac="cljs.core/t_cljs$core7667",Zn.Lc=function(e){return Hn.Zb(e,"cljs.core/t_cljs$core7667")}),new Zn(Hn.Be)},Ge=function(e){this.Ub=or,this.zb=e},Hn.Fe=function(e,t){for(;;){if(null==Hn.t(t))return!0;var n=Hn.u(t);if(n=e.b?e.b(n):e.call(null,n),!Hn.q(n))return!1;t=Hn.B(t)}},Hn.Ge=function(e,t){for(;;){if(!(t=Hn.t(t)))return null;var n=Hn.u(t);if(n=e.b?e.b(n):e.call(null,n),Hn.q(n))return n;t=Hn.B(t)}},Hn.He=function(e,t){return Hn.bb(Hn.Ge(e,t))},Hn.Ie=function(e){return function(){function t(t,n){return Hn.bb(e.a?e.a(t,n):e.call(null,t,n))}function n(t){return Hn.bb(e.b?e.b(t):e.call(null,t))}function r(){return Hn.bb(e.l?e.l():e.call(null))}var i,o=function(){function t(e,t,r){var i=null;if(2<arguments.length){i=0;for(var o=Array(arguments.length-2);i<o.length;)o[i]=arguments[i+2],++i;i=new Hn.Dc(o,0,null)}return n.call(this,e,t,i)}function n(t,n,r){return Hn.bb(Hn.se(e,t,n,r))}return t.I=2,t.H=function(e){var t=Hn.u(e);return e=Hn.B(e),n(t,Hn.u(e),e=Hn.Hc(e))},t.j=n,t}();return i=function(e,i,a){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,e);case 2:return t.call(this,e,i);default:var u=null;if(2<arguments.length){u=0;for(var l=Array(arguments.length-2);u<l.length;)l[u]=arguments[u+2],++u;u=new Hn.Dc(l,0,null)}return o.j(e,i,u)}throw Error("Invalid arity: "+arguments.length)},i.I=2,i.H=o.H,i.l=r,i.b=n,i.a=t,i.j=o.j,i}()},Hn.Je=function(e,t){return new Hn.ae(null,(function(){var n,r=Hn.t(t);if(r){if(Hn.rd(r)){for(var i=Hn.ic(r),o=Hn.D(i),a=Hn.de(o),u=0;u<o;){var l=(n=void 0,n=Hn.gd(i,u),e.b?e.b(n):e.call(null,n));null!=l&&a.add(l),u+=1}return Hn.ge(Hn.ie(a),Hn.Je(e,Hn.jc(r)))}return o=function(){var t=Hn.u(r);return e.b?e.b(t):e.call(null,t)}(),null==o?Hn.Je(e,Hn.Hc(r)):Hn.Yd(o,Hn.Je(e,Hn.Hc(r)))}return null}),null)},Hn.Ke=function(e,t,n){this.state=e,this.M=t,this.Ad=n,this.pc=null,this.K=16386,this.o=6455296},Hn.Le=function(e,t){if(e instanceof Hn.Ke){var n=e.Ad;if(null!=n&&!Hn.q(n.b?n.b(t):n.call(null,t)))throw Error("Validator rejected reference state");if(n=e.state,e.state=t,null!=e.pc)e:for(var r=Hn.t(e.pc),i=null,o=0,a=0;;)if(a<o){var u=i.ea(null,a),l=Hn.G(u,0,null);(u=Hn.G(u,1,null)).N?u.N(l,e,n,t):u.call(null,l,e,n,t),a+=1}else{if(!(r=Hn.t(r)))break e;Hn.rd(r)?(i=Hn.ic(r),r=Hn.jc(r),l=i,o=Hn.D(i),i=l):(i=Hn.u(r),l=Hn.G(i,0,null),(u=Hn.G(i,1,null)).N?u.N(l,e,n,t):u.call(null,l,e,n,t),r=Hn.B(r),i=null,o=0),a=0}return t}return Y(e,t)},We=function(e,t){return new Hn.ae(null,(function(){e:for(var n=e,r=t;;){var i;if((i=r=Hn.t(r))&&(i=Hn.u(r),i=n.b?n.b(i):n.call(null,i)),!Hn.q(i))break e;r=Hn.Hc(r)}return r}),null)},Hn.Ne=function(e,t,n,r){this.M=e,this.count=t,this.m=n,this.next=r,this.v=null,this.o=32374988,this.K=1},$e=function(e){return function(t){return function(){function n(n,r){return Hn.q(e.b?e.b(r):e.call(null,r))?t.a?t.a(n,r):t.call(null,n,r):n}function r(e){return t.b?t.b(e):t.call(null,e)}function i(){return t.l?t.l():t.call(null)}var o;return o=function(e,t){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,e);case 2:return n.call(this,e,t)}throw Error("Invalid arity: "+arguments.length)},o.l=i,o.b=r,o.a=n,o}()}},Hn.Pe=function(e,t){return new Hn.ae(null,(function(){var n=Hn.t(t);if(n){if(Hn.rd(n)){for(var r=Hn.ic(n),i=Hn.D(r),o=Hn.de(i),a=0;a<i;){var u=Hn.gd(r,a);u=e.b?e.b(u):e.call(null,u),Hn.q(u)&&(u=Hn.gd(r,a),o.add(u)),a+=1}return Hn.ge(Hn.ie(o),Hn.Pe(e,Hn.jc(n)))}return r=Hn.u(n),n=Hn.Hc(n),Hn.q(e.b?e.b(r):e.call(null,r))?Hn.Yd(r,Hn.Pe(e,n)):Hn.Pe(e,n)}return null}),null)},Ke=function(e,t){this.ha=e,this.h=t},Je=function(e){return new Ke(e,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])},Xe=function(e){return 32>(e=e.F)?0:e-1>>>5<<5},et=function(e,t,n){for(;;){if(0===t)return n;var r=Je(e);r.h[0]=n,n=r,t-=5}},tt=function(e,t){throw Error(["No item ",Hn.fb.b(e)," in vector of length ",Hn.fb.b(t)].join(""))},nt=function(e,t){if(t>=Xe(e))return e.Qa;var n=e.root;for(e=e.shift;;){if(!(0<e))return n.h;var r=e-5;n=n.h[t>>>e&31],e=r}},rt=function(e,t){return 0<=t&&t<e.F?nt(e,t):tt(t,e.F)},it=function(e,t,n,r,i,o){this.G=e,this.rc=t,this.h=n,this.fa=r,this.start=i,this.end=o},ot=function(e,t,n){return new it(t,t-t%32,t<Hn.D(e)?nt(e,t):null,e,t,n)},at=function(e,t,n,r){return n<r?ut(e,t,Hn.Yc(e,n),n+1,r):t.l?t.l():t.call(null)},ut=function(e,t,n,r,i){var o=n;for(n=r,r=nt(e,r);;){if(!(n<i))return o;var a=31&n;if(a=(r=0===a?nt(e,n):r)[a],o=t.a?t.a(o,a):t.call(null,o,a),Hn.Oc(o))return Hn.Ib(o);n+=1}},Hn.Q=function(e,t,n,r,i,o){this.M=e,this.F=t,this.shift=n,this.root=r,this.Qa=i,this.v=o,this.o=167666463,this.K=139268},Hn.bf=function(e,t){var n=e.length;if(e=t?e:u(e),32>n)return new Hn.Q(null,n,5,Hn.R,e,null);t=32;for(var r=new Hn.Q(null,32,5,Hn.R,e.slice(0,32),null).Mb(null);;){if(!(t<n))return Hn.dc(r);var i=t+1;r=Hn.af.a(r,e[t]),t=i}},Hn.gf=function(e){return Hn.q(Hn.cf.b?Hn.cf.b(e):Hn.cf.call(null,e))?new Hn.Q(null,2,5,Hn.R,[Xt.b?Xt.b(e):Xt.call(null,e),tn.b?tn.b(e):tn.call(null,e)],null):Hn.qd(e)?Hn.I(e,null):Hn.ab(e)?Hn.bf(e,!0):Hn.dc(Hn.Gd(B,Hn.bc(Hn.ff),e))},lt=function(e,t,n,r,i){this.Wa=e,this.node=t,this.G=n,this.Ia=r,this.M=i,this.v=null,this.o=32375020,this.K=1536},ct=function(e){switch(arguments.length){case 3:var t=arguments[0],n=arguments[1],r=arguments[2];return new lt(t,rt(t,n),n,r,null);case 4:return st(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ft(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},st=function(e,t,n,r){return new lt(e,t,n,r,null)},ft=function(e,t,n,r,i){return new lt(e,t,n,r,i)},Hn.mf=function(e,t,n,r,i){this.M=e,this.fa=t,this.start=n,this.end=r,this.v=i,this.o=167666463,this.K=139264},Hn.nf=function(e,t,n,r,i){for(;;){if(!(t instanceof Hn.mf)){if(!Hn.qd(t))throw Error("v must satisfy IVector");if(0>n||r<n||r>Hn.D(t))throw Error("Index out of bounds");return new Hn.mf(e,t,n,r,i)}n=t.start+n,r=t.start+r,t=t.fa}},dt=function(e,t){return e===t.ha?t:new Ke(e,u(t.h))},pt=function(e){return new Ke({},u(e.h))},ht=function(e){var t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];return Se(e,0,t,0,e.length),t},mt=function(e,t,n,r){this.F=e,this.shift=t,this.root=n,this.Qa=r,this.K=88,this.o=275},yt=function(e,t,n){if(e.root.ha){if(0<=t&&t<e.F){if(Xe(e)<=t)e.Qa[31&t]=n;else{var r=function r(i,o){if(o=dt(e.root.ha,o),0===i)o.h[31&t]=n;else{var a=t>>>i&31;i=r(i-5,o.h[a]),o.h[a]=i}return o}(e.shift,e.root);e.root=r}return e}if(t===e.F)return e.Qb(null,n);throw Error(["Index ",Hn.fb.b(t)," out of bounds for TransientVector of length",Hn.fb.b(e.F)].join(""))}throw Error("assoc! after persistent!")},vt=function(){this.o=2097152,this.K=0},bt=function(e,t){return Hn.td(Hn.od(t)&&!Hn.pd(t)&&Hn.D(e)===Hn.D(t)?(null!=e?1048576&e.o||Hn.yc===e.Rd||!e.o&&Hn.cb(C,e):Hn.cb(C,e))?Hn.Md((function(e,n,r){return!!Hn.Xc.a(Hn.N.c(t,n,sr),r)||new Hn.Nc(!1)}),!0,e):Hn.Fe((function(e){return Hn.Xc.a(Hn.N.c(t,Hn.u(e),sr),Hn.dd(e))}),e):null)},Hn.wf=function(e,t,n,r){this.G=0,this.wd=e,this.Bc=t,this.pd=n,this.Mc=r},gt=function(e){this.ca=e},wt=function(e){this.ca=e},Ot=function(e,t){if(t instanceof Hn.O)e:{var n=e.length;t=t.ga;for(var r=0;;){if(n<=r){e=-1;break e}if(e[r]instanceof Hn.O&&t===e[r].ga){e=r;break e}r+=2}}else if("string"==typeof t||"number"==typeof t)e:for(n=e.length,r=0;;){if(n<=r){e=-1;break e}if(t===e[r]){e=r;break e}r+=2}else if(t instanceof Hn.r)e:for(n=e.length,t=t.rb,r=0;;){if(n<=r){e=-1;break e}if(e[r]instanceof Hn.r&&t===e[r].rb){e=r;break e}r+=2}else if(null==t)e:for(t=e.length,n=0;;){if(t<=n){e=-1;break e}if(null==e[n]){e=n;break e}n+=2}else e:for(n=e.length,r=0;;){if(n<=r){e=-1;break e}if(Hn.Xc.a(t,e[r])){e=r;break e}r+=2}return e},Hn.wd=function(e,t){this.key=e,this.m=t,this.v=null,this.o=166619935,this.K=0},Hn.cf=function(e){return null!=e&&!!(2048&e.o||Hn.yc===e.Ud)},jt=function(e,t,n){this.h=e,this.G=t,this.Za=n,this.o=32374990,this.K=0},St=function(e,t){this.h=e,this.G=0,this.F=t},Hn.n=function(e,t,n,r){this.M=e,this.F=t,this.h=n,this.v=r,this.o=16647951,this.K=139268},Hn.Cf=function(e){for(var t=[],n=0;n<e.length;){var r=e[n],i=e[n+1],o=Ot(t,r);-1===o?((o=t).push(r),o.push(i)):t[o+1]=i,n+=2}return new Hn.n(null,t.length/2,t,null)},Et=function(e,t){this.Rb={},this.Fb=e,this.h=t,this.o=259,this.K=56},_t=function(e,t){for(var n=Hn.bc(dr),r=0;;){if(!(r<e))return n;n=Hn.Ff.c(n,t[r],t[r+1]),r+=2}},xt=function(){this.m=!1},Pt=function(e,t){return e===t||(!!Hn.Zd(e,t)||Hn.Xc.a(e,t))},Ct=function(e,t,n){return(e=u(e))[t]=n,e},kt=function(e,t){var n=Array(e.length-2);return Se(e,0,n,0,2*t),Se(e,2*(t+1),n,2*t,n.length-2*t),n},At=function(e,t,n,r){return(e=e.Db(t)).h[n]=r,e},Dt=function(e,t,n){for(var r=e.length,i=0,o=n;;){if(!(i<r))return o;if(null!=(n=e[i])){var a=e[i+1];n=t.c?t.c(o,n,a):t.call(null,o,n,a)}else n=null!=(n=e[i+1])?n.fc(t,o):o;if(Hn.Oc(n))return n;i+=2,o=n}},Rt=function(e){this.h=e,this.G=0,this.ib=this.hc=null},It=function(e,t,n){this.ha=e,this.ka=t,this.h=n,this.K=131072,this.o=0},Tt=function(e){this.h=e,this.G=0,this.ib=null},Nt=function(e,t,n){this.ha=e,this.F=t,this.h=n,this.K=131072,this.o=0},qt=function(e,t,n){t*=2;for(var r=0;;){if(!(r<t))return-1;if(Pt(n,e[r]))return r;r+=2}},Mt=function(e,t,n,r){this.ha=e,this.tb=t,this.F=n,this.h=r,this.K=131072,this.o=0},Zt=function(e){switch(arguments.length){case 6:return Lt(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Bt(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Lt=function(e,t,n,r,i,o){var a=Hn.zc(t);if(a===r)return new Mt(null,a,2,[t,n,i,o]);var u=new xt;return fr.eb(e,a,t,n,u).eb(e,r,i,o,u)},Bt=function(e,t,n,r,i,o,a){var u=Hn.zc(n);if(u===i)return new Mt(null,u,2,[n,r,o,a]);var l=new xt;return fr.fb(e,t,u,n,r,l).fb(e,t,i,o,a,l)},zt=function(e,t,n,r,i){this.M=e,this.jb=t,this.G=n,this.ca=r,this.v=i,this.o=32374988,this.K=0},Ft=function(e){switch(arguments.length){case 1:return Qt(arguments[0]);case 3:return Vt(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Qt=function(e){return Vt(e,0,null)},Vt=function(e,t,n){if(null!=n)return new zt(null,e,t,n,null);for(n=e.length;;){if(!(t<n))return null;if(null!=e[t])return new zt(null,e,t,null,null);var r=e[t+1];if(Hn.q(r)&&(r=r.dc(),Hn.q(r)))return new zt(null,e,t+2,r,null);t+=2}},Ut=function(e,t,n,r,i){this.M=e,this.jb=t,this.G=n,this.ca=r,this.v=i,this.o=32374988,this.K=0},Ht=function(e){switch(arguments.length){case 1:return Yt(arguments[0]);case 3:return Gt(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Yt=function(e){return Gt(e,0,null)},Gt=function(e,t,n){if(null!=n)return new Ut(null,e,t,n,null);for(n=e.length;;){if(!(t<n))return null;var r=e[t];if(Hn.q(r)&&(r=r.dc(),Hn.q(r)))return new Ut(null,e,t+1,r,null);t+=1}},Wt=function(e,t){this.Ka=e,this.Oc=t,this.zc=!1},Hn.gg=function(e,t,n,r,i,o){this.M=e,this.F=t,this.root=n,this.Oa=r,this.Ka=i,this.v=o,this.o=16123663,this.K=139268},Hn.hg=function(e,t){for(var n=e.length,r=0,i=Hn.bc(dr);;){if(!(r<n))return Hn.dc(i);var o=r+1;i=z(i,e[r],t[r]),r=o}},$t=function(e,t,n,r){this.ha={},this.root=e,this.count=t,this.Oa=n,this.Ka=r,this.o=259,this.K=56},Kt=function(e,t,n){if(e.ha){if(null==t)e.Ka!==n&&(e.Ka=n),e.Oa||(e.count+=1,e.Oa=!0);else{var r=new xt;(t=(null==e.root?fr:e.root).fb(e.ha,0,Hn.zc(t),t,n,r))!==e.root&&(e.root=t),r.m&&(e.count+=1)}return e}throw Error("assoc! after persistent!")},Jt=function(e,t){this.da=e,this.Za=t,this.o=32374988,this.K=0},Hn.lg=function(e){return(e=Hn.t(e))?new Jt(e,null):null},Xt=function(e){return Hn.Db(e)},en=function(e,t){this.da=e,this.Za=t,this.o=32374988,this.K=0},Hn.ng=function(e){return(e=Hn.t(e))?new en(e,null):null},tn=function(e){return Hn.Eb(e)},nn=function(e){this.Tb=e},Hn.pg=function(e,t,n){this.M=e,this.vb=t,this.v=n,this.o=15077647,this.K=139268},Hn.rg=function(e){for(var t=e.length,n=Hn.bc(Hn.qg),r=0;r<t;)B(n,e[r]),r+=1;return Hn.dc(n)},rn=function(e){this.xb=e,this.K=136,this.o=259},Hn.tg=function(e){if(Hn.md(e))return Hn.I(e,null);if(null==(e=Hn.t(e)))return Hn.qg;if(e instanceof Hn.Dc&&0===e.G)return Hn.rg(e.h);for(var t=Hn.bc(Hn.qg);;){if(null==e)return Hn.dc(t);var n=Hn.B(e);t=B(t,Hn.tb(e)),e=n}},Hn.ug=function(e){for(var t=Hn.ff;;){if(!Hn.B(e))return Hn.t(t);t=Hn.Vd.a(t,Hn.u(e)),e=Hn.B(e)}},Hn.vg=function(e){if(null!=e&&(4096&e.K||Hn.yc===e.cd))return e.Wb(null);if("string"==typeof e)return e;throw Error(["Doesn't support name: ",Hn.fb.b(e)].join(""))},on=function(e,t){return new Hn.ae(null,(function(){var n=Hn.t(t);if(n){var r=Hn.u(n);r=e.b?e.b(r):e.call(null,r),n=Hn.q(r)?Hn.Yd(Hn.u(n),on(e,Hn.Hc(n))):null}else n=null;return n}),null)},Hn.xg=function(e,t){return new Hn.Q(null,2,5,Hn.R,[on(e,t),We(e,t)],null)},Hn.yg=function(e,t){if("string"==typeof t)return null!=(e=e.exec(t))&&Hn.Xc.a(e[0],t)?1===e.length?e[0]:Hn.gf(e):null;throw new TypeError("re-matches must match against a string.")},Hn.zg=function(e,t){if("string"==typeof t)return null==(e=e.exec(t))?null:1===e.length?e[0]:Hn.gf(e);throw new TypeError("re-find must match against a string.")},Hn.Cg=function(e,t,n,r,i,o,a){var u,l=Ln;Ln=null==Ln?null:Ln-1;try{if(null!=Ln&&0>Ln)return Hn.Zb(e,"#");if(Hn.Zb(e,n),0===xn.b(o))Hn.t(a)&&Hn.Zb(e,(u=In.b(o),Hn.q(u)?u:"..."));else{if(Hn.t(a)){var c=Hn.u(a);t.c?t.c(c,e,o):t.call(null,c,e,o)}for(var s=Hn.B(a),f=xn.b(o)-1;;){if(!s||null!=f&&0===f){Hn.t(s)&&0===f&&(Hn.Zb(e,r),Hn.Zb(e,function(){var e=In.b(o);return Hn.q(e)?e:"..."}()));break}Hn.Zb(e,r);var d=Hn.u(s);n=e,a=o,t.c?t.c(d,n,a):t.call(null,d,n,a),s=Hn.B(s),f=n=f-1}}return Hn.Zb(e,i)}finally{Ln=l}},an=function(e,t){t=Hn.t(t);for(var n=null,r=0,i=0;;)if(i<r){var o=n.ea(null,i);Hn.Zb(e,o),i+=1}else{if(!(t=Hn.t(t)))return null;n=t,Hn.rd(n)?(t=Hn.ic(n),r=Hn.jc(n),n=t,o=Hn.D(t),t=r,r=o):(o=Hn.u(n),Hn.Zb(e,o),t=Hn.B(n),n=null,r=0),i=0}},un=function(e){return['"',Hn.fb.b(e.replace(/[\\"\b\f\n\r\t]/g,(function(e){return pr[e]}))),'"'].join("")},ln=function(e,t){return!!Hn.td(Hn.N.a(e,_n))&&(!(null==t||!(131072&t.o||Hn.yc===t.bd))&&null!=Hn.jd(t))},cn=function(e,t,n){if(null==e)return Hn.Zb(t,"nil");if(ln(n,e)){Hn.Zb(t,"^");var r=Hn.jd(e);Hn.Hg.c?Hn.Hg.c(r,t,n):Hn.Hg.call(null,r,t,n),Hn.Zb(t," ")}if(e.xc)return e.Lc(t);if(null!=e?2147483648&e.o||Hn.yc===e.za||!e.o&&Hn.cb(L,e):Hn.cb(L,e))return Hn.ac(e,t,n);if(!0===e||!1===e)return Hn.Zb(t,Hn.fb.b(e));if("number"==typeof e)return Hn.Zb(t,isNaN(e)?"##NaN":e===Number.POSITIVE_INFINITY?"##Inf":e===Number.NEGATIVE_INFINITY?"##-Inf":Hn.fb.b(e));if(null!=e&&e.constructor===Object)return Hn.Zb(t,"#js "),r=Hn.Ig.a((function(t){return new Hn.wd(null!=Hn.yg(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,t)?Hn.Jg.b(t):t,e[t])}),Hn.Qa(e)),hn.N?hn.N(r,Hn.Hg,t,n):hn.call(null,r,Hn.Hg,t,n);if(Hn.ab(e))return Hn.Cg(t,Hn.Hg,"#js ["," ","]",n,e);if("string"==typeof e)return Hn.q(kn.b(n))?Hn.Zb(t,un(e)):Hn.Zb(t,e);if("function"==Hn.Ca(e)){var i=e.name;return n=Hn.q(null==i||/^[\s\xa0]*$/.test(i))?"Function":i,an(t,Hn.F(["#object[",n,Hn.q(!1)?[' "',Hn.fb.b(e),'"'].join(""):"","]"]))}return e instanceof Date?(n=function(e,t){for(e=Hn.fb.b(e);;){if(!(e.length<t))return e;e=["0",e].join("")}},an(t,Hn.F(['#inst "',Hn.fb.b(e.getUTCFullYear()),"-",n(e.getUTCMonth()+1,2),"-",n(e.getUTCDate(),2),"T",n(e.getUTCHours(),2),":",n(e.getUTCMinutes(),2),":",n(e.getUTCSeconds(),2),".",n(e.getUTCMilliseconds(),3),"-",'00:00"']))):e instanceof RegExp?an(t,Hn.F(['#"',e.source,'"'])):l(e)?an(t,Hn.F(["#object[",e.toString(),"]"])):Hn.q(function(){var t=null==e?null:e.constructor;return null==t?null:t.ac}())?an(t,Hn.F(["#object[",e.constructor.ac.replace(/\//g,"."),"]"])):(i=function(){var t=null==e?null:e.constructor;return null==t?null:t.name}(),n=Hn.q(function(){var e=null==i;return e||/^[\s\xa0]*$/.test(i)}())?"Object":i,null==e.constructor?an(t,Hn.F(["#object[",n,"]"])):an(t,Hn.F(["#object[",n," ",Hn.fb.b(e),"]"])))},Hn.Hg=function(e,t,n){var r=An.b(n);return Hn.q(r)?(n=Hn.Ng.c(n,Rn,cn),r.c?r.c(e,t,n):r.call(null,e,t,n)):cn(e,t,n)},sn=function(e,t){var n=new Hn.Sa;e:{var r=new W(n);Hn.Hg(Hn.u(e),r,t),e=Hn.t(Hn.B(e));for(var i=null,o=0,a=0;;)if(a<o){var u=i.ea(null,a);Hn.Zb(r," "),Hn.Hg(u,r,t),a+=1}else{if(!(e=Hn.t(e)))break e;i=e,Hn.rd(i)?(e=Hn.ic(i),o=Hn.jc(i),i=e,u=Hn.D(e),e=o,o=u):(u=Hn.u(i),Hn.Zb(r," "),Hn.Hg(u,r,t),e=Hn.B(i),i=null,o=0),a=0}}return n},Hn.Qg=function(e){var t=o();return Hn.kd(e)?"":Hn.fb.b(sn(e,t))},fn=function(e){return e instanceof Hn.r?Hn.Rg.a(null,Hn.vg(e)):Hn.Jg.a(null,Hn.vg(e))},dn=function(e){if(!Hn.q(!1))return null;var t=Hn.t(e),n=Hn.t(t),r=Hn.u(n);for(Hn.B(n),Hn.G(r,0,null),Hn.G(r,1,null),n=Hn.fd(e),e=null;;){r=e,t=Hn.t(t),e=Hn.u(t);var i=Hn.B(t),o=e;if(e=Hn.G(o,0,null),t=Hn.G(o,1,null),!Hn.q(o))return new Hn.Q(null,2,5,Hn.R,[r,n],null);if(!(e instanceof Hn.O||e instanceof Hn.r))return null;if(Hn.q(r)){if(!Hn.Xc.a(r,Hn.$d(e)))return null;n=Hn.Ng.c(n,fn(e),t),e=r,t=i}else{if(r=Hn.$d(e),!Hn.q(r))return null;n=Hn.Ng.c(n,fn(e),t),e=r,t=i}}},pn=function(e,t,n,r,i){return Hn.Cg(r,(function(e,t,r){var i=Hn.Db(e);return n.c?n.c(i,t,r):n.call(null,i,t,r),Hn.Zb(t," "),e=Hn.Eb(e),n.c?n.c(e,t,r):n.call(null,e,t,r)}),[Hn.fb.b(e),"{"].join(""),", ","}",i,Hn.t(t))},hn=function(e,t,n,r){var i=Hn.od(e)?dn(e):null,o=Hn.G(i,0,null);return i=Hn.G(i,1,null),Hn.q(o)?pn(["#:",Hn.fb.b(o)].join(""),i,t,n,r):pn(null,e,t,n,r)},Hn.Vg=function(e){this.Sb=e,this.value=null,this.o=2147516416,this.K=1},mn=function(){},yn=function(e){if(null!=e&&null!=e.Zc)e=e.Zc(e);else{var t=yn[Hn.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=yn._))throw Hn.eb("IEncodeJS.-clj->js",e);e=t.b?t.b(e):t.call(null,e)}}return e},vn=function(e,t){return(null!=e?Hn.yc===e.Yc||!e.lc&&Hn.cb(mn,e):Hn.cb(mn,e))?yn(e):"string"==typeof e||"number"==typeof e||e instanceof Hn.O||e instanceof Hn.r?t.b?t.b(e):t.call(null,e):Hn.Qg(Hn.F([e]))},Hn.Zg=function(e,t){return Hn.dc(Hn.Gd((function(t,n){var r=e.b?e.b(n):e.call(null,n);return Hn.Ff.c(t,r,Hn.Vd.a(Hn.N.c(t,r,Hn.ff),n))}),Hn.bc(Hn.Be),t))},Hn.eh=function(){return null==hr&&(hr=Hn.ah.b(new Hn.n(null,3,[Hn.bh,Hn.Be,Hn.ch,Hn.Be,Hn.dh,Hn.Be],null))),hr},Hn.fh=function(e,t,n){var r=Hn.Xc.a(t,n);if(r)return r;if(r=(r=Hn.dh.b(e)).b?r.b(t):r.call(null,t),r=Hn.vd(r,n))return r;if(!Hn.qd(n))return!1;if(!Hn.qd(t))return!1;if(Hn.D(n)!==Hn.D(t))return!1;r=!0;for(var i=0;;){if(!r||i===Hn.D(n))return r;r=Hn.fh(e,t.b?t.b(i):t.call(null,i),n.b?n.b(i):n.call(null,i)),i+=1}},bn=function(e){return Hn.gh(Hn.Ib(Hn.eh()),e)},Hn.gh=function(e,t){return Hn.xe(Hn.N.a(Hn.bh.b(e),t))},Hn.kh=function(e,t,n,r){Hn.ih.a(e,(function(){return Hn.Ib(t)})),Hn.ih.a(n,(function(){return Hn.Ib(r)}))},gn=function(e,t,n,r){return n=mr(e,t,n),Hn.q(n)?n:Hn.fh(r,e,t)},wn=function(e,t){throw Error(["No method in multimethod '",Hn.fb.b(e),"' for dispatch value: ",Hn.fb.b(t)].join(""))},Hn.ph=function(e,t,n,r,i,o,a){var u=Hn.oh;this.name=e,this.B=t,this.md=u,this.mc=n,this.oc=r,this.ud=i,this.nc=o,this.ic=a,this.o=4194305,this.K=4352},On=function(e,t){Hn.Xc.a(Hn.Ib(e.ic),Hn.Ib(e.mc))||Hn.kh(e.nc,e.oc,e.ic,e.mc);var n=Hn.Ib(e.nc);return n=n.b?n.b(t):n.call(null,t),Hn.q(n)?n:yr(e.name,t,e.mc,e.oc,e.ud,e.nc,e.ic,e.md)},Hn.sh=function(e,t,n){var r=Error(e);return this.message=e,this.data=t,this.Cc=n,this.name=r.name,this.description=r.description,this.number=r.number,this.fileName=r.fileName,this.lineNumber=r.lineNumber,this.columnNumber=r.columnNumber,this.stack=r.stack,this},Hn.vh=function(){return Hn.q(zn)||(zn=function(){for(var e=Hn.Cd((function(e,t){return t.length-e.length}),Hn.Qa(Hn.uh)),t="";;){if(!Hn.t(e))return[t,"|\\$"].join("");var n=Hn.B(e),r=[(i=void 0,i=t,""!==t?[i,"|"].join(""):i),Hn.fb.b(Hn.u(e))].join("");e=n,t=r}var i}()),zn},jn=[],Sn=0,Hn.h=Hn.Sa.prototype,Hn.h.Ab="",Hn.h.set=function(e){this.Ab=""+e},Hn.h.append=function(e,t,n){if(this.Ab+=String(e),null!=t)for(var r=1;r<arguments.length;r++)this.Ab+=arguments[r];return this},Hn.h.clear=function(){this.Ab=""},Hn.h.toString=function(){return this.Ab},Hn.xh=new Hn.O(null,"ns","ns",441598760),En=new Hn.O(null,"status","status",-1997798413),Hn.ch=new Hn.O(null,"descendants","descendants",1824886031),Hn.zh=new Hn.O(Hn.Fa,"not-found","cljs.core/not-found",-1572889185),Hn.Ah=new Hn.O(null,"keyword-fn","keyword-fn",-64566675),Hn.Bh=new Hn.r(null,"f","f",43394975,null),Hn.Ch=new Hn.r(null,"count","count",-514511684,null),_n=new Hn.O(null,"meta","meta",1499536964),Hn.Dh=new Hn.r(null,"&","&",-2144855648,null),xn=new Hn.O(null,"print-length","print-length",1931866356),Hn.Eh=new Hn.r(null,"rest","rest",398835108,null),Hn.Fh=new Hn.O(null,"keywordize-keys","keywordize-keys",1310784252),Pn=new Hn.O(null,"validator","validator",-1966190681),Cn=new Hn.O(null,"pending","pending",-220036727),kn=new Hn.O(null,"readably","readably",1129599760),Hn.dh=new Hn.O(null,"ancestors","ancestors",-776045424),Hn.Ih=new Hn.O(null,"val","val",128701612),An=new Hn.O(null,"alt-impl","alt-impl",670969595),Dn=new Hn.O(null,"flush-on-newline","flush-on-newline",-151457939),Hn.Jh=new Hn.r(null,"quote","quote",1377916282,null),Hn.Kh=new Hn.O(null,"symbol","symbol",-1038572696),Rn=new Hn.O(null,"fallback-impl","fallback-impl",-1501286995),In=new Hn.O(null,"more-marker","more-marker",-14717935),Hn.Lh=new Hn.r(null,"var","var",870848730,null),Tn=new Hn.O(null,"ready","ready",1086465795),Hn.S=new Hn.O(null,"name","name",1843675177),Nn=new Hn.O(null,"dup","dup",556298533),Hn.bh=new Hn.O(null,"parents","parents",-2027538891),qn={},Mn={},Hn.yc={},Ln=null,Bn="undefined"!=typeof Symbol&&"function"===Hn.Ca(Symbol)?Symbol.iterator:"@@iterator",Hn.uh={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"=",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:">",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"&",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"<",_STAR_:"*"},zn=null,Fn=function(){function e(e,t,n){var r=Hn.gd[Hn.Ca(null==e?null:e)];if(null!=r)return r.c?r.c(e,t,n):r.call(null,e,t,n);if(null!=(r=Hn.gd._))return r.c?r.c(e,t,n):r.call(null,e,t,n);throw Hn.eb("IIndexed.-nth",e)}function t(e,t){var n=Hn.gd[Hn.Ca(null==e?null:e)];if(null!=n)return n.a?n.a(e,t):n.call(null,e,t);if(null!=(n=Hn.gd._))return n.a?n.a(e,t):n.call(null,e,t);throw Hn.eb("IIndexed.-nth",e)}var n;return n=function(n,r,i){switch(arguments.length){case 2:return t.call(this,n,r);case 3:return e.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)},n.a=t,n.c=e,n}(),Hn.gd=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.gd.a=function(e,t){return null!=e&&null!=e.ea?e.ea(e,t):Fn(e,t)},Hn.gd.c=function(e,t,n){return null!=e&&null!=e.Ca?e.Ca(e,t,n):Fn(e,t,n)},Hn.gd.I=3;var Yn=function(){function e(e,t,n){var r=Gn[Hn.Ca(null==e?null:e)];if(null!=r)return r.c?r.c(e,t,n):r.call(null,e,t,n);if(null!=(r=Gn._))return r.c?r.c(e,t,n):r.call(null,e,t,n);throw Hn.eb("ILookup.-lookup",e)}function t(e,t){var n=Gn[Hn.Ca(null==e?null:e)];if(null!=n)return n.a?n.a(e,t):n.call(null,e,t);if(null!=(n=Gn._))return n.a?n.a(e,t):n.call(null,e,t);throw Hn.eb("ILookup.-lookup",e)}var n;return n=function(n,r,i){switch(arguments.length){case 2:return t.call(this,n,r);case 3:return e.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)},n.a=t,n.c=e,n}(),Gn=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}};Gn.a=function(e,t){return null!=e&&null!=e.W?e.W(e,t):Yn(e,t)},Gn.c=function(e,t,n){return null!=e&&null!=e.J?e.J(e,t,n):Yn(e,t,n)},Gn.I=3;var Wn=function(){function e(e,t,n){var r=$n[Hn.Ca(null==e?null:e)];if(null!=r)return r.c?r.c(e,t,n):r.call(null,e,t,n);if(null!=(r=$n._))return r.c?r.c(e,t,n):r.call(null,e,t,n);throw Hn.eb("IReduce.-reduce",e)}function t(e,t){var n=$n[Hn.Ca(null==e?null:e)];if(null!=n)return n.a?n.a(e,t):n.call(null,e,t);if(null!=(n=$n._))return n.a?n.a(e,t):n.call(null,e,t);throw Hn.eb("IReduce.-reduce",e)}var n;return n=function(n,r,i){switch(arguments.length){case 2:return t.call(this,n,r);case 3:return e.call(this,n,r,i)}throw Error("Invalid arity: "+arguments.length)},n.a=t,n.c=e,n}(),$n=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}};$n.a=function(e,t){return null!=e&&null!=e.Ga?e.Ga(e,t):Wn(e,t)},$n.c=function(e,t,n){return null!=e&&null!=e.Ha?e.Ha(e,t,n):Wn(e,t,n)},$n.I=3;var Kn=function(){function e(e,t,n,r,i){var o=Jn[Hn.Ca(null==e?null:e)];if(null!=o)return o.V?o.V(e,t,n,r,i):o.call(null,e,t,n,r,i);if(null!=(o=Jn._))return o.V?o.V(e,t,n,r,i):o.call(null,e,t,n,r,i);throw Hn.eb("ISwap.-swap!",e)}function t(e,t,n,r){var i=Jn[Hn.Ca(null==e?null:e)];if(null!=i)return i.N?i.N(e,t,n,r):i.call(null,e,t,n,r);if(null!=(i=Jn._))return i.N?i.N(e,t,n,r):i.call(null,e,t,n,r);throw Hn.eb("ISwap.-swap!",e)}function n(e,t,n){var r=Jn[Hn.Ca(null==e?null:e)];if(null!=r)return r.c?r.c(e,t,n):r.call(null,e,t,n);if(null!=(r=Jn._))return r.c?r.c(e,t,n):r.call(null,e,t,n);throw Hn.eb("ISwap.-swap!",e)}function r(e,t){var n=Jn[Hn.Ca(null==e?null:e)];if(null!=n)return n.a?n.a(e,t):n.call(null,e,t);if(null!=(n=Jn._))return n.a?n.a(e,t):n.call(null,e,t);throw Hn.eb("ISwap.-swap!",e)}var i;return i=function(i,o,a,u,l){switch(arguments.length){case 2:return r.call(this,i,o);case 3:return n.call(this,i,o,a);case 4:return t.call(this,i,o,a,u);case 5:return e.call(this,i,o,a,u,l)}throw Error("Invalid arity: "+arguments.length)},i.a=r,i.c=n,i.N=t,i.V=e,i}(),Jn=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return e.V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}};Jn.a=function(e,t){return null!=e&&null!=e.gd?e.gd(e,t):Kn(e,t)},Jn.c=function(e,t,n){return null!=e&&null!=e.hd?e.hd(e,t,n):Kn(e,t,n)},Jn.N=function(e,t,n,r){return null!=e&&null!=e.jd?e.jd(e,t,n,r):Kn(e,t,n,r)},Jn.V=function(e,t,n,r,i){return null!=e&&null!=e.kd?e.kd(e,t,n,r,i):Kn(e,t,n,r,i)},Jn.I=5,W.prototype.Kc=function(e,t){return this.xd.append(t)};var Xn="undefined"!=typeof Math&&void 0!==Math.imul&&0!==Math.imul(4294967295,5)?function(e,t){return Math.imul(e,t)}:function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},er={},tr=0;Hn.h=Hn.r.prototype,Hn.h.toString=function(){return this.rb},Hn.h.S=function(e,t){return t instanceof Hn.r&&this.rb===t.rb},Hn.h.call=function(){function e(e,t,n){return Hn.N.c?Hn.N.c(t,this,n):Hn.N.call(null,t,this,n)}function t(e,t){return Hn.N.a?Hn.N.a(t,this):Hn.N.call(null,t,this)}var n;return n=function(n,r,i){switch(arguments.length){case 2:return t.call(this,n,r);case 3:return e.call(this,n,r,i)}throw Error("Invalid arity: "+(arguments.length-1))},n.a=t,n.c=e,n}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return Hn.N.a?Hn.N.a(e,this):Hn.N.call(null,e,this)},Hn.h.a=function(e,t){return Hn.N.c?Hn.N.c(e,this,t):Hn.N.call(null,e,this,t)},Hn.h.X=function(){return this.Za},Hn.h.$=function(e,t){return new Hn.r(this.Pa,this.name,this.rb,this.Kb,t)},Hn.h.T=function(){var e=this.Kb;return null!=e?e:this.Kb=e=te(this)},Hn.h.Wb=function(){return this.name},Hn.h.Xb=function(){return this.Pa},Hn.h.O=function(e,t){return Hn.Zb(t,this.rb)},Hn.Rg=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.Rg.b=function(e){for(;;){if(e instanceof Hn.r)return e;if("string"==typeof e){var t=e.indexOf("/");return 1>t?Hn.Rg.a(null,e):Hn.Rg.a(e.substring(0,t),e.substring(t+1,e.length))}if(e instanceof Hn.Bc)return e.Ib;if(!(e instanceof Hn.O))throw Error("no conversion to symbol");e=e.ga}},Hn.Rg.a=function(e,t){var n=null!=e?[Hn.fb.b(e),"/",Hn.fb.b(t)].join(""):t;return new Hn.r(e,t,n,null,null)},Hn.Rg.I=2,Hn.h=Hn.Bc.prototype,Hn.h.toString=function(){return["#'",Hn.fb.b(this.Ib)].join("")},Hn.h.Bb=function(){return this.m.l?this.m.l():this.m.call(null)},Hn.h.X=function(){return this.Za},Hn.h.$=function(e,t){return new Hn.Bc(this.m,this.Ib,t)},Hn.h.S=function(e,t){return t instanceof Hn.Bc&&(e=this.Ib,t=t.Ib,Hn.Xc.a?Hn.Xc.a(e,t):Hn.Xc.call(null,e,t))},Hn.h.T=function(){return te(this.Ib)},Hn.h.Dc=Hn.yc,Hn.h.call=function(){function e(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O){return e=(e=this).m.l?e.m.l():e.m.call(null),Ye.Ob?Ye.Ob(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O):Ye.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O)}function t(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){return(e=(e=this).m.l?e.m.l():e.m.call(null)).va?e.va(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)}function n(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ua?e.ua(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)}function r(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ta?e.ta(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)}function i(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){return(e=(e=this).m.l?e.m.l():e.m.call(null)).sa?e.sa(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)}function o(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ra?e.ra(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)}function a(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){return(e=(e=this).m.l?e.m.l():e.m.call(null)).qa?e.qa(t,n,r,i,o,a,u,l,c,s,f,d,p,h):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h)}function u(e,t,n,r,i,o,a,u,l,c,s,f,d,p){return(e=(e=this).m.l?e.m.l():e.m.call(null)).pa?e.pa(t,n,r,i,o,a,u,l,c,s,f,d,p):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p)}function l(e,t,n,r,i,o,a,u,l,c,s,f,d){return(e=(e=this).m.l?e.m.l():e.m.call(null)).oa?e.oa(t,n,r,i,o,a,u,l,c,s,f,d):e.call(null,t,n,r,i,o,a,u,l,c,s,f,d)}function c(e,t,n,r,i,o,a,u,l,c,s,f){return(e=(e=this).m.l?e.m.l():e.m.call(null)).na?e.na(t,n,r,i,o,a,u,l,c,s,f):e.call(null,t,n,r,i,o,a,u,l,c,s,f)}function s(e,t,n,r,i,o,a,u,l,c,s){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ma?e.ma(t,n,r,i,o,a,u,l,c,s):e.call(null,t,n,r,i,o,a,u,l,c,s)}function f(e,t,n,r,i,o,a,u,l,c){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ya?e.ya(t,n,r,i,o,a,u,l,c):e.call(null,t,n,r,i,o,a,u,l,c)}function d(e,t,n,r,i,o,a,u,l){return(e=(e=this).m.l?e.m.l():e.m.call(null)).la?e.la(t,n,r,i,o,a,u,l):e.call(null,t,n,r,i,o,a,u,l)}function p(e,t,n,r,i,o,a,u){return(e=(e=this).m.l?e.m.l():e.m.call(null)).xa?e.xa(t,n,r,i,o,a,u):e.call(null,t,n,r,i,o,a,u)}function h(e,t,n,r,i,o,a){return(e=(e=this).m.l?e.m.l():e.m.call(null)).ia?e.ia(t,n,r,i,o,a):e.call(null,t,n,r,i,o,a)}function m(e,t,n,r,i,o){return(e=(e=this).m.l?e.m.l():e.m.call(null)).V?e.V(t,n,r,i,o):e.call(null,t,n,r,i,o)}function y(e,t,n,r,i){return(e=(e=this).m.l?e.m.l():e.m.call(null)).N?e.N(t,n,r,i):e.call(null,t,n,r,i)}function v(e,t,n,r){return(e=(e=this).m.l?e.m.l():e.m.call(null)).c?e.c(t,n,r):e.call(null,t,n,r)}function b(e,t,n){return(e=(e=this).m.l?e.m.l():e.m.call(null)).a?e.a(t,n):e.call(null,t,n)}function g(e,t){return(e=(e=this).m.l?e.m.l():e.m.call(null)).b?e.b(t):e.call(null,t)}function w(e){return(e=(e=this).m.l?e.m.l():e.m.call(null)).l?e.l():e.call(null)}var O;return O=function(O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F){switch(arguments.length){case 1:return w.call(this,O);case 2:return g.call(this,O,j);case 3:return b.call(this,O,j,S);case 4:return v.call(this,O,j,S,E);case 5:return y.call(this,O,j,S,E,_);case 6:return m.call(this,O,j,S,E,_,x);case 7:return h.call(this,O,j,S,E,_,x,P);case 8:return p.call(this,O,j,S,E,_,x,P,C);case 9:return d.call(this,O,j,S,E,_,x,P,C,k);case 10:return f.call(this,O,j,S,E,_,x,P,C,k,A);case 11:return s.call(this,O,j,S,E,_,x,P,C,k,A,D);case 12:return c.call(this,O,j,S,E,_,x,P,C,k,A,D,R);case 13:return l.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I);case 14:return u.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T);case 15:return a.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N);case 16:return o.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q);case 17:return i.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M);case 18:return r.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z);case 19:return n.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L);case 20:return t.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B);case 21:var Q=this.m.l?this.m.l():this.m.call(null);return Q.wa?Q.wa(j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z):Q.call(null,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z);case 22:return e.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F)}throw Error("Invalid arity: "+(arguments.length-1))},O.b=w,O.a=g,O.c=b,O.N=v,O.V=y,O.ia=m,O.xa=h,O.la=p,O.ya=d,O.ma=f,O.na=s,O.oa=c,O.pa=l,O.qa=u,O.ra=a,O.sa=o,O.ta=i,O.ua=r,O.va=n,O.wa=t,O.Ob=e,O}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.l=function(){var e=this.m.l?this.m.l():this.m.call(null);return e.l?e.l():e.call(null)},Hn.h.b=function(e){var t=this.m.l?this.m.l():this.m.call(null);return t.b?t.b(e):t.call(null,e)},Hn.h.a=function(e,t){var n=this.m.l?this.m.l():this.m.call(null);return n.a?n.a(e,t):n.call(null,e,t)},Hn.h.c=function(e,t,n){var r=this.m.l?this.m.l():this.m.call(null);return r.c?r.c(e,t,n):r.call(null,e,t,n)},Hn.h.N=function(e,t,n,r){var i=this.m.l?this.m.l():this.m.call(null);return i.N?i.N(e,t,n,r):i.call(null,e,t,n,r)},Hn.h.V=function(e,t,n,r,i){var o=this.m.l?this.m.l():this.m.call(null);return o.V?o.V(e,t,n,r,i):o.call(null,e,t,n,r,i)},Hn.h.ia=function(e,t,n,r,i,o){var a=this.m.l?this.m.l():this.m.call(null);return a.ia?a.ia(e,t,n,r,i,o):a.call(null,e,t,n,r,i,o)},Hn.h.xa=function(e,t,n,r,i,o,a){var u=this.m.l?this.m.l():this.m.call(null);return u.xa?u.xa(e,t,n,r,i,o,a):u.call(null,e,t,n,r,i,o,a)},Hn.h.la=function(e,t,n,r,i,o,a,u){var l=this.m.l?this.m.l():this.m.call(null);return l.la?l.la(e,t,n,r,i,o,a,u):l.call(null,e,t,n,r,i,o,a,u)},Hn.h.ya=function(e,t,n,r,i,o,a,u,l){var c=this.m.l?this.m.l():this.m.call(null);return c.ya?c.ya(e,t,n,r,i,o,a,u,l):c.call(null,e,t,n,r,i,o,a,u,l)},Hn.h.ma=function(e,t,n,r,i,o,a,u,l,c){var s=this.m.l?this.m.l():this.m.call(null);return s.ma?s.ma(e,t,n,r,i,o,a,u,l,c):s.call(null,e,t,n,r,i,o,a,u,l,c)},Hn.h.na=function(e,t,n,r,i,o,a,u,l,c,s){var f=this.m.l?this.m.l():this.m.call(null);return f.na?f.na(e,t,n,r,i,o,a,u,l,c,s):f.call(null,e,t,n,r,i,o,a,u,l,c,s)},Hn.h.oa=function(e,t,n,r,i,o,a,u,l,c,s,f){var d=this.m.l?this.m.l():this.m.call(null);return d.oa?d.oa(e,t,n,r,i,o,a,u,l,c,s,f):d.call(null,e,t,n,r,i,o,a,u,l,c,s,f)},Hn.h.pa=function(e,t,n,r,i,o,a,u,l,c,s,f,d){var p=this.m.l?this.m.l():this.m.call(null);return p.pa?p.pa(e,t,n,r,i,o,a,u,l,c,s,f,d):p.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d)},Hn.h.qa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p){var h=this.m.l?this.m.l():this.m.call(null);return h.qa?h.qa(e,t,n,r,i,o,a,u,l,c,s,f,d,p):h.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p)},Hn.h.ra=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){var m=this.m.l?this.m.l():this.m.call(null);return m.ra?m.ra(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h):m.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h)},Hn.h.sa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){var y=this.m.l?this.m.l():this.m.call(null);return y.sa?y.sa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):y.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)},Hn.h.ta=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){var v=this.m.l?this.m.l():this.m.call(null);return v.ta?v.ta(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):v.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)},Hn.h.ua=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){var b=this.m.l?this.m.l():this.m.call(null);return b.ua?b.ua(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):b.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)},Hn.h.va=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){var g=this.m.l?this.m.l():this.m.call(null);return g.va?g.va(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):g.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)},Hn.h.wa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){var w=this.m.l?this.m.l():this.m.call(null);return w.wa?w.wa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):w.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)},Hn.Xc=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new Hn.Dc(n.slice(2),0,null))}},Hn.Xc.b=function(){return!0},Hn.Xc.a=function(e,t){return null==e?null==t:e===t||A(e,t)},Hn.Xc.j=function(e,t,n){for(;;){if(!Hn.Xc.a(e,t))return!1;if(!Hn.B(n))return Hn.Xc.a(t,Hn.u(n));e=t,t=Hn.u(n),n=Hn.B(n)}},Hn.Xc.H=function(e){var t=Hn.u(e),n=Hn.B(e);return e=Hn.u(n),n=Hn.B(n),this.j(t,e,n)},Hn.Xc.I=2,re.prototype.next=function(){if(null!=this.ca){var e=Hn.u(this.ca);return this.ca=Hn.B(this.ca),{value:e,done:!1}}return{value:null,done:!0}},oe.prototype.Z=function(){return this},oe.prototype.Ja=function(){return this.value},oe.prototype.Na=function(){return null==this.qc&&(this.qc=ae.b?ae.b(this.Tb):ae.call(null,this.Tb)),this.qc};var nr,rr=X(J(0,K(1)),0),ir=X(J(0,K(0)),0);c.null=!0,s.null=function(){return 0},Date.prototype.S=function(e,t){return t instanceof Date&&this.valueOf()===t.valueOf()},Date.prototype.Lb=Hn.yc,Date.prototype.Xa=function(e,t){if(t instanceof Date)return Hn.Ma(this.valueOf(),t.valueOf());throw Error(["Cannot compare ",Hn.fb.b(this)," to ",Hn.fb.b(t)].join(""))},A.number=function(e,t){return e===t},Hn.kb.function=!0,_.function=!0,x.function=function(){return null},D._=function(e){return e[Hn.ea]||(e[Hn.ea]=++Sn)},Hn.Nc.prototype.Bb=function(){return this.m},be.prototype.Da=function(){return this.G<this.h.length},be.prototype.next=function(){var e=this.h[this.G];return this.G+=1,e},Hn.h=Hn.Dc.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=(nr=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},nr.b=function(e){return ye(this,e,0)},nr.a=function(e,t){return ye(this,e,t)},nr),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D.b?Hn.D.b(this):Hn.D.call(null,this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.ea=function(e,t){if(0<=(e=t+this.G)&&e<this.h.length)return this.h[e];throw Error("Index out of bounds")},Hn.h.Ca=function(e,t,n){return 0<=(e=t+this.G)&&e<this.h.length?this.h[e]:n},Hn.h.ja=function(){return new be(this.h,this.G)},Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return this.G+1<this.h.length?new Hn.Dc(this.h,this.G+1,null):null},Hn.h.aa=function(){var e=this.h.length-this.G;return 0>e?0:e},Hn.h.Zb=function(){var e=this.aa(null);return 0<e?new ge(this,e-1,null):null},Hn.h.T=function(){return ue(this)},Hn.h.S=function(e,t){return Re.a?Re.a(this,t):Re.call(null,this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return pe(this.h,t,this.h[this.G],this.G+1)},Hn.h.Ha=function(e,t,n){return pe(this.h,t,n,this.G)},Hn.h.Ja=function(){return this.h[this.G]},Hn.h.Na=function(){return this.G+1<this.h.length?new Hn.Dc(this.h,this.G+1,null):Hn.Gc},Hn.h.Z=function(){return this.G<this.h.length?this:null},Hn.h.$=function(e,t){return t===this.M?this:new Hn.Dc(this.h,this.G,t)},Hn.h.ba=function(e,t){return Hn.Yd.a?Hn.Yd.a(t,this):Hn.Yd.call(null,t,this)},Hn.Dc.prototype[Bn]=function(){return ie(this)},Hn.h=ge.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D.b?Hn.D.b(this):Hn.D.call(null,this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return 0<this.G?new ge(this.jc,this.G-1,null):null},Hn.h.aa=function(){return this.G+1},Hn.h.T=function(){return ue(this)},Hn.h.S=function(e,t){return Re.a?Re.a(this,t):Re.call(null,this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e?_e(t,this):Ee.call(null,t,this)},Hn.h.Ha=function(e,t,n){return xe?xe(t,n,this):Ee.call(null,t,n,this)},Hn.h.Ja=function(){return Hn.gd(this.jc,this.G)},Hn.h.Na=function(){return 0<this.G?new ge(this.jc,this.G-1,null):Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new ge(this.jc,this.G,t)},Hn.h.ba=function(e,t){return Hn.Yd.a?Hn.Yd.a(t,this):Hn.Yd.call(null,t,this)},ge.prototype[Bn]=function(){return ie(this)},A._=function(e,t){return e===t},Hn.Vd=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new Hn.Dc(n.slice(2),0,null))}},Hn.Vd.l=function(){return Hn.ff},Hn.Vd.b=function(e){return e},Hn.Vd.a=function(e,t){return null!=e?Hn.qb(e,t):new Hn.Sd(null,t,null,1,null)},Hn.Vd.j=function(e,t,n){for(;;){if(!Hn.q(n))return Hn.Vd.a(e,t);e=Hn.Vd.a(e,t),t=Hn.u(n),n=Hn.B(n)}},Hn.Vd.H=function(e){var t=Hn.u(e),n=Hn.B(e);return e=Hn.u(n),n=Hn.B(n),this.j(t,e,n)},Hn.Vd.I=2,Hn.N=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.N.a=function(e,t){return null==e?null:null!=e&&(256&e.o||Hn.yc===e.Ic)?e.W(null,t):Hn.ab(e)?null!=t&&t<e.length?e[0|t]:null:"string"==typeof e?null!=t&&-1<t&&t<e.length?e.charAt(0|t):null:Hn.cb(Hn.wb,e)?Gn(e,t):null},Hn.N.c=function(e,t,n){return null!=e?null!=e&&(256&e.o||Hn.yc===e.Ic)?e.J(null,t,n):Hn.ab(e)?null!=t&&-1<t&&t<e.length?e[0|t]:n:"string"==typeof e?null!=t&&-1<t&&t<e.length?e.charAt(0|t):n:Hn.cb(Hn.wb,e)?Gn(e,t,n):n:n},Hn.N.I=3,Hn.Ng=function e(t){if(3===arguments.length)return e.c(arguments[0],arguments[1],arguments[2]);for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new Hn.Dc(n.slice(3),0,null))},Hn.Ng.c=function(e,t,n){return null!=e&&(512&e.o||Hn.yc===e.Uc)?e.U(null,t,n):null!=e?b(e,t,n):Hn.Cf([t,n])},Hn.Ng.j=function(e,t,n,r){for(;;){if(e=Hn.Ng.c(e,t,n),!Hn.q(r))return e;t=Hn.u(r),n=Hn.dd(r),r=Hn.B(Hn.B(r))}},Hn.Ng.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);return n=Hn.u(r),r=Hn.B(r),this.j(t,e,n,r)},Hn.Ng.I=3,Hn.Vh=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new Hn.Dc(n.slice(2),0,null))}},Hn.Vh.b=function(e){return e},Hn.Vh.a=function(e,t){return null==e?null:Hn.Cb(e,t)},Hn.Vh.j=function(e,t,n){for(;;){if(null==e)return null;if(e=Hn.Vh.a(e,t),!Hn.q(n))return e;t=Hn.u(n),n=Hn.B(n)}},Hn.Vh.H=function(e){var t=Hn.u(e),n=Hn.B(e);return e=Hn.u(n),n=Hn.B(n),this.j(t,e,n)},Hn.Vh.I=2,Hn.h=je.prototype,Hn.h.X=function(){return this.M},Hn.h.$=function(e,t){return new je(this.A,t)},Hn.h.Dc=Hn.yc,Hn.h.call=function(){function e(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O){return e=this,Ye.Ob?Ye.Ob(e.A,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O):Ye.call(null,e.A,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O)}function t(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){return(e=this).A.va?e.A.va(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)}function n(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){return(e=this).A.ua?e.A.ua(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)}function r(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){return(e=this).A.ta?e.A.ta(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)}function i(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){return(e=this).A.sa?e.A.sa(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)}function o(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){return(e=this).A.ra?e.A.ra(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)}function a(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){return(e=this).A.qa?e.A.qa(t,n,r,i,o,a,u,l,c,s,f,d,p,h):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h)}function u(e,t,n,r,i,o,a,u,l,c,s,f,d,p){return(e=this).A.pa?e.A.pa(t,n,r,i,o,a,u,l,c,s,f,d,p):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p)}function l(e,t,n,r,i,o,a,u,l,c,s,f,d){return(e=this).A.oa?e.A.oa(t,n,r,i,o,a,u,l,c,s,f,d):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f,d)}function c(e,t,n,r,i,o,a,u,l,c,s,f){return(e=this).A.na?e.A.na(t,n,r,i,o,a,u,l,c,s,f):e.A.call(null,t,n,r,i,o,a,u,l,c,s,f)}function s(e,t,n,r,i,o,a,u,l,c,s){return(e=this).A.ma?e.A.ma(t,n,r,i,o,a,u,l,c,s):e.A.call(null,t,n,r,i,o,a,u,l,c,s)}function f(e,t,n,r,i,o,a,u,l,c){return(e=this).A.ya?e.A.ya(t,n,r,i,o,a,u,l,c):e.A.call(null,t,n,r,i,o,a,u,l,c)}function d(e,t,n,r,i,o,a,u,l){return(e=this).A.la?e.A.la(t,n,r,i,o,a,u,l):e.A.call(null,t,n,r,i,o,a,u,l)}function p(e,t,n,r,i,o,a,u){return(e=this).A.xa?e.A.xa(t,n,r,i,o,a,u):e.A.call(null,t,n,r,i,o,a,u)}function h(e,t,n,r,i,o,a){return(e=this).A.ia?e.A.ia(t,n,r,i,o,a):e.A.call(null,t,n,r,i,o,a)}function m(e,t,n,r,i,o){return(e=this).A.V?e.A.V(t,n,r,i,o):e.A.call(null,t,n,r,i,o)}function y(e,t,n,r,i){return(e=this).A.N?e.A.N(t,n,r,i):e.A.call(null,t,n,r,i)}function v(e,t,n,r){return(e=this).A.c?e.A.c(t,n,r):e.A.call(null,t,n,r)}function b(e,t,n){return(e=this).A.a?e.A.a(t,n):e.A.call(null,t,n)}function g(e,t){return(e=this).A.b?e.A.b(t):e.A.call(null,t)}function w(e){return(e=this).A.l?e.A.l():e.A.call(null)}var O;return O=function(O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F){switch(arguments.length){case 1:return w.call(this,O);case 2:return g.call(this,O,j);case 3:return b.call(this,O,j,S);case 4:return v.call(this,O,j,S,E);case 5:return y.call(this,O,j,S,E,_);case 6:return m.call(this,O,j,S,E,_,x);case 7:return h.call(this,O,j,S,E,_,x,P);case 8:return p.call(this,O,j,S,E,_,x,P,C);case 9:return d.call(this,O,j,S,E,_,x,P,C,k);case 10:return f.call(this,O,j,S,E,_,x,P,C,k,A);case 11:return s.call(this,O,j,S,E,_,x,P,C,k,A,D);case 12:return c.call(this,O,j,S,E,_,x,P,C,k,A,D,R);case 13:return l.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I);case 14:return u.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T);case 15:return a.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N);case 16:return o.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q);case 17:return i.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M);case 18:return r.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z);case 19:return n.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L);case 20:return t.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B);case 21:return this.A.wa?this.A.wa(j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z):this.A.call(null,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z);case 22:return e.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F)}throw Error("Invalid arity: "+(arguments.length-1))},O.b=w,O.a=g,O.c=b,O.N=v,O.V=y,O.ia=m,O.xa=h,O.la=p,O.ya=d,O.ma=f,O.na=s,O.oa=c,O.pa=l,O.qa=u,O.ra=a,O.sa=o,O.ta=i,O.ua=r,O.va=n,O.wa=t,O.Ob=e,O}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.l=function(){return this.A.l?this.A.l():this.A.call(null)},Hn.h.b=function(e){return this.A.b?this.A.b(e):this.A.call(null,e)},Hn.h.a=function(e,t){return this.A.a?this.A.a(e,t):this.A.call(null,e,t)},Hn.h.c=function(e,t,n){return this.A.c?this.A.c(e,t,n):this.A.call(null,e,t,n)},Hn.h.N=function(e,t,n,r){return this.A.N?this.A.N(e,t,n,r):this.A.call(null,e,t,n,r)},Hn.h.V=function(e,t,n,r,i){return this.A.V?this.A.V(e,t,n,r,i):this.A.call(null,e,t,n,r,i)},Hn.h.ia=function(e,t,n,r,i,o){return this.A.ia?this.A.ia(e,t,n,r,i,o):this.A.call(null,e,t,n,r,i,o)},Hn.h.xa=function(e,t,n,r,i,o,a){return this.A.xa?this.A.xa(e,t,n,r,i,o,a):this.A.call(null,e,t,n,r,i,o,a)},Hn.h.la=function(e,t,n,r,i,o,a,u){return this.A.la?this.A.la(e,t,n,r,i,o,a,u):this.A.call(null,e,t,n,r,i,o,a,u)},Hn.h.ya=function(e,t,n,r,i,o,a,u,l){return this.A.ya?this.A.ya(e,t,n,r,i,o,a,u,l):this.A.call(null,e,t,n,r,i,o,a,u,l)},Hn.h.ma=function(e,t,n,r,i,o,a,u,l,c){return this.A.ma?this.A.ma(e,t,n,r,i,o,a,u,l,c):this.A.call(null,e,t,n,r,i,o,a,u,l,c)},Hn.h.na=function(e,t,n,r,i,o,a,u,l,c,s){return this.A.na?this.A.na(e,t,n,r,i,o,a,u,l,c,s):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s)},Hn.h.oa=function(e,t,n,r,i,o,a,u,l,c,s,f){return this.A.oa?this.A.oa(e,t,n,r,i,o,a,u,l,c,s,f):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f)},Hn.h.pa=function(e,t,n,r,i,o,a,u,l,c,s,f,d){return this.A.pa?this.A.pa(e,t,n,r,i,o,a,u,l,c,s,f,d):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d)},Hn.h.qa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p){return this.A.qa?this.A.qa(e,t,n,r,i,o,a,u,l,c,s,f,d,p):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p)},Hn.h.ra=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){return this.A.ra?this.A.ra(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h)},Hn.h.sa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){return this.A.sa?this.A.sa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)},Hn.h.ta=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){return this.A.ta?this.A.ta(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)},Hn.h.ua=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){return this.A.ua?this.A.ua(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)},Hn.h.va=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){return this.A.va?this.A.va(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)},Hn.h.wa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){return this.A.wa?this.A.wa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):this.A.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)},Qn={},Hn.fb=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],new Hn.Dc(n.slice(1),0,null))}},Hn.fb.l=function(){return""},Hn.fb.b=function(e){return null==e?"":[e].join("")},Hn.fb.j=function(e,t){for(e=new Hn.Sa(Hn.fb.b(e));;){if(!Hn.q(t))return e.toString();e=e.append(Hn.fb.b(Hn.u(t))),t=Hn.B(t)}},Hn.fb.H=function(e){var t=Hn.u(e);return e=Hn.B(e),this.j(t,e)},Hn.fb.I=1,Hn.h=Hn.Sd.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,this.count)}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return 1===this.count?null:this.wb},Hn.h.aa=function(){return this.count},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Lb(Hn.Gc,this.M)},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return this.first},Hn.h.Na=function(){return 1===this.count?Hn.Gc:this.wb},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new Hn.Sd(t,this.first,this.wb,this.count,this.v)},Hn.h.ba=function(e,t){return new Hn.Sd(this.M,t,this,this.count+1,null)},Hn.Sd.prototype[Bn]=function(){return ie(this)},Hn.h=Ie.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return null},Hn.h.aa=function(){return 0},Hn.h.T=function(){return rr},Hn.h.S=function(e,t){return!(!Hn.Td(t)&&!Hn.nd(t))&&null==Hn.t(t)},Hn.h.Aa=function(){return this},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return null},Hn.h.Na=function(){return Hn.Gc},Hn.h.Z=function(){return null},Hn.h.$=function(e,t){return t===this.M?this:new Ie(t)},Hn.h.ba=function(e,t){return new Hn.Sd(this.M,t,null,1,null)},Hn.Gc=new Ie(null),Ie.prototype[Bn]=function(){return ie(this)},Hn.h=Te.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return null==this.wb?null:Hn.t(this.wb)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return this.first},Hn.h.Na=function(){return null==this.wb?Hn.Gc:this.wb},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new Te(t,this.first,this.wb,this.v)},Hn.h.ba=function(e,t){return new Te(null,t,this,null)},Te.prototype[Bn]=function(){return ie(this)},Hn.h=Hn.O.prototype,Hn.h.toString=function(){return[":",Hn.fb.b(this.ga)].join("")},Hn.h.S=function(e,t){return t instanceof Hn.O&&this.ga===t.ga},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return Hn.N.a(t,this);case 3:return Hn.N.c(t,this,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return Hn.N.a(t,this)},e.c=function(e,t,n){return Hn.N.c(t,this,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return Hn.N.a(e,this)},Hn.h.a=function(e,t){return Hn.N.c(e,this,t)},Hn.h.T=function(){var e=this.Kb;return null!=e?e:this.Kb=e=te(this)+2654435769|0},Hn.h.Wb=function(){return this.name},Hn.h.Xb=function(){return this.Pa},Hn.h.O=function(e,t){return Hn.Zb(t,[":",Hn.fb.b(this.ga)].join(""))},Hn.Jg=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.Jg.b=function(e){if(e instanceof Hn.O)return e;if(e instanceof Hn.r)return new Hn.O(Hn.$d(e),Hn.vg.b?Hn.vg.b(e):Hn.vg.call(null,e),e.rb,null);if(Hn.Xc.a("/",e))return new Hn.O(null,e,e,null);if("string"==typeof e){var t=e.split("/");return 2===t.length?new Hn.O(t[0],t[1],e,null):new Hn.O(null,t[0],e,null)}return null},Hn.Jg.a=function(e,t){return e=e instanceof Hn.O||e instanceof Hn.r?Hn.vg.b?Hn.vg.b(e):Hn.vg.call(null,e):e,t=t instanceof Hn.O||t instanceof Hn.r?Hn.vg.b?Hn.vg.b(t):Hn.vg.call(null,t):t,new Hn.O(e,t,[Hn.q(e)?[Hn.fb.b(e),"/"].join(""):null,Hn.fb.b(t)].join(""),null)},Hn.Jg.I=2,Hn.h=Hn.ae.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return this.Z(null),null==this.ca?null:Hn.B(this.ca)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Lb(Hn.Gc,this.M)},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return this.Z(null),null==this.ca?null:Hn.u(this.ca)},Hn.h.Na=function(){return this.Z(null),null!=this.ca?Hn.Hc(this.ca):Hn.Gc},Hn.h.Z=function(){if(Ne(this),null==this.ca)return null;for(var e=this.ca;;){if(!(e instanceof Hn.ae))return this.ca=e,Hn.t(this.ca);e=Ne(e)}},Hn.h.$=function(e,t){var n=this;return t===this.M?n:new Hn.ae(t,(function(){return n.Z(null)}),this.v)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Hn.ae.prototype[Bn]=function(){return ie(this)},qe.prototype.add=function(e){return this.sc[this.end]=e,this.end+=1},qe.prototype.sb=function(){var e=new Me(this.sc,0,this.end);return this.sc=null,e},qe.prototype.aa=function(){return this.end},Hn.h=Me.prototype,Hn.h.aa=function(){return this.end-this.Ia},Hn.h.ea=function(e,t){return this.h[this.Ia+t]},Hn.h.Ca=function(e,t,n){return 0<=t&&t<this.end-this.Ia?this.h[this.Ia+t]:n},Hn.h.Ec=function(){if(this.Ia===this.end)throw Error("-drop-first of empty chunk");return new Me(this.h,this.Ia+1,this.end)},Hn.h.Ga=function(e,t){return pe(this.h,t,this.h[this.Ia],this.Ia+1)},Hn.h.Ha=function(e,t,n){return pe(this.h,t,n,this.Ia)},Hn.h=Ze.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return 1<s(this.sb)?new Ze(V(this.sb),this.hb,null,null):null==this.hb?null:I(this.hb)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ja=function(){return Hn.gd(this.sb,0)},Hn.h.Na=function(){return 1<s(this.sb)?new Ze(V(this.sb),this.hb,null,null):null==this.hb?Hn.Gc:this.hb},Hn.h.Z=function(){return this},Hn.h.uc=function(){return this.sb},Hn.h.kc=function(){return null==this.hb?Hn.Gc:this.hb},Hn.h.$=function(e,t){return t===this.M?this:new Ze(this.sb,this.hb,t,this.v)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Hn.h.Fc=function(){return null==this.hb?null:this.hb},Ze.prototype[Bn]=function(){return ie(this)},Vn=function e(t){if(null==t)return null;var n=Hn.B(t);return null==n?Hn.t(Hn.u(t)):Hn.Yd(Hn.u(t),e.b?e.b(n):e.call(null,n))},Hn.Wh=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new Hn.Dc(n.slice(2),0,null))}},Hn.Wh.l=function(){return new Hn.ae(null,(function(){return null}),null)},Hn.Wh.b=function(e){return new Hn.ae(null,(function(){return e}),null)},Hn.Wh.a=function(e,t){return new Hn.ae(null,(function(){var n=Hn.t(e);return n?Hn.rd(n)?Hn.ge(Hn.ic(n),Hn.Wh.a(Hn.jc(n),t)):Hn.Yd(Hn.u(n),Hn.Wh.a(Hn.Hc(n),t)):t}),null)},Hn.Wh.j=function(e,t,n){return function e(t,n){return new Hn.ae(null,(function(){var r=Hn.t(t);return r?Hn.rd(r)?Hn.ge(Hn.ic(r),e(Hn.jc(r),n)):Hn.Yd(Hn.u(r),e(Hn.Hc(r),n)):Hn.q(n)?e(Hn.u(n),Hn.B(n)):null}),null)}(Hn.Wh.a(e,t),n)},Hn.Wh.H=function(e){var t=Hn.u(e),n=Hn.B(e);return e=Hn.u(n),n=Hn.B(n),this.j(t,e,n)},Hn.Wh.I=2,Hn.af=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new Hn.Dc(n.slice(2),0,null))}},Hn.af.l=function(){return Hn.bc(Hn.ff)},Hn.af.b=function(e){return e},Hn.af.a=function(e,t){return B(e,t)},Hn.af.j=function(e,t,n){for(;;){if(e=B(e,t),!Hn.q(n))return e;t=Hn.u(n),n=Hn.B(n)}},Hn.af.H=function(e){var t=Hn.u(e),n=Hn.B(e);return e=Hn.u(n),n=Hn.B(n),this.j(t,e,n)},Hn.af.I=2,Hn.Ff=function e(t){if(3===arguments.length)return e.c(arguments[0],arguments[1],arguments[2]);for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new Hn.Dc(n.slice(3),0,null))},Hn.Ff.c=function(e,t,n){return z(e,t,n)},Hn.Ff.j=function(e,t,n,r){for(;;){if(e=z(e,t,n),!Hn.q(r))return e;t=Hn.u(r),n=Hn.dd(r),r=Hn.B(Hn.B(r))}},Hn.Ff.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);return n=Hn.u(r),r=Hn.B(r),this.j(t,e,n,r)},Hn.Ff.I=3;var or={},ar={};Ge.prototype.Da=function(){return this.Ub===or?(this.Ub=ar,this.zb=Hn.t(this.zb)):this.Ub===this.zb&&(this.zb=Hn.B(this.Ub)),null!=this.zb},Ge.prototype.next=function(){if(this.Da())return this.Ub=this.zb,Hn.u(this.zb);throw Error("No such element")},Ge.prototype.remove=function(){return Error("Unsupported operation")},Hn.h=Hn.Ke.prototype,Hn.h.S=function(e,t){return this===t},Hn.h.Bb=function(){return this.state},Hn.h.X=function(){return this.M},Hn.h.wc=Hn.Ha(5),Hn.h.T=function(){return this[Hn.ea]||(this[Hn.ea]=++Sn)},Hn.ah=function e(t){if(1===arguments.length)return e.b(arguments[0]);for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],new Hn.Dc(n.slice(1),0,null))},Hn.ah.b=function(e){return new Hn.Ke(e,null,null)},Hn.ah.j=function(e,t){var n=null!=t&&(64&t.o||Hn.yc===t.Y)?Hn.qe(Hn.Yh,t):t;return t=Hn.N.a(n,_n),n=Hn.N.a(n,Pn),new Hn.Ke(e,t,n)},Hn.ah.H=function(e){var t=Hn.u(e);return e=Hn.B(e),this.j(t,e)},Hn.ah.I=1,Hn.ih=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],arguments[3],new Hn.Dc(n.slice(4),0,null))}},Hn.ih.a=function(e,t){if(e instanceof Hn.Ke){var n=e.state;t=t.b?t.b(n):t.call(null,n),e=Hn.Le(e,t)}else e=Jn(e,t);return e},Hn.ih.c=function(e,t,n){if(e instanceof Hn.Ke){var r=e.state;t=t.a?t.a(r,n):t.call(null,r,n),e=Hn.Le(e,t)}else e=Jn(e,t,n);return e},Hn.ih.N=function(e,t,n,r){if(e instanceof Hn.Ke){var i=e.state;t=t.c?t.c(i,n,r):t.call(null,i,n,r),e=Hn.Le(e,t)}else e=Jn(e,t,n,r);return e},Hn.ih.j=function(e,t,n,r,i){return e instanceof Hn.Ke?Hn.Le(e,Hn.te(t,e.state,n,r,i)):Jn(e,t,n,r,i)},Hn.ih.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);n=Hn.u(r);var i=Hn.B(r);return r=Hn.u(i),i=Hn.B(i),this.j(t,e,n,r,i)},Hn.ih.I=4,Hn.Zh=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new Hn.Dc(n.slice(3),0,null))}},Hn.Zh.b=function(e){return function(){function t(t,n,r){return t=e.b?e.b(t):e.call(null,t),Hn.q(t)?(n=e.b?e.b(n):e.call(null,n),r=Hn.q(n)?e.b?e.b(r):e.call(null,r):n):r=t,Hn.td(r)}function n(t,n){return t=e.b?e.b(t):e.call(null,t),n=Hn.q(t)?e.b?e.b(n):e.call(null,n):t,Hn.td(n)}function r(t){return Hn.td(e.b?e.b(t):e.call(null,t))}var i=null,o=function(){function t(e,t,r,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return n.call(this,e,t,r,o)}function n(t,n,r,o){return t=i.c(t,n,r),o=Hn.q(t)?Hn.Fe(e,o):t,Hn.td(o)}return t.I=3,t.H=function(e){var t=Hn.u(e);e=Hn.B(e);var r=Hn.u(e);return e=Hn.B(e),n(t,r,Hn.u(e),e=Hn.Hc(e))},t.j=n,t}();return i=function(e,i,a,u){switch(arguments.length){case 0:return!0;case 1:return r.call(this,e);case 2:return n.call(this,e,i);case 3:return t.call(this,e,i,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return o.j(e,i,a,l)}throw Error("Invalid arity: "+arguments.length)},i.I=3,i.H=o.H,i.l=function(){return!0},i.b=r,i.a=n,i.c=t,i.j=o.j,i}()},Hn.Zh.a=function(e,t){return function(){function n(n,r,i){return Hn.td((o=e.b?e.b(n):e.call(null,n),Hn.q(o)?(o=e.b?e.b(r):e.call(null,r),Hn.q(o)?(o=e.b?e.b(i):e.call(null,i),Hn.q(o)?(o=t.b?t.b(n):t.call(null,n),Hn.q(o)?(o=t.b?t.b(r):t.call(null,r),Hn.q(o)?t.b?t.b(i):t.call(null,i):o):o):o):o):o));var o}function r(n,r){return Hn.td((i=e.b?e.b(n):e.call(null,n),Hn.q(i)?(i=e.b?e.b(r):e.call(null,r),Hn.q(i)?(i=t.b?t.b(n):t.call(null,n),Hn.q(i)?t.b?t.b(r):t.call(null,r):i):i):i));var i}function i(n){var r=e.b?e.b(n):e.call(null,n);return n=Hn.q(r)?t.b?t.b(n):t.call(null,n):r,Hn.td(n)}var o=null,a=function(){function n(e,t,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return r.call(this,e,t,n,o)}function r(n,r,i,a){return Hn.td((u=o.c(n,r,i),Hn.q(u)?Hn.Fe((function(n){var r=e.b?e.b(n):e.call(null,n);return Hn.q(r)?t.b?t.b(n):t.call(null,n):r}),a):u));var u}return n.I=3,n.H=function(e){var t=Hn.u(e);e=Hn.B(e);var n=Hn.u(e);return e=Hn.B(e),r(t,n,Hn.u(e),e=Hn.Hc(e))},n.j=r,n}();return o=function(e,t,o,u){switch(arguments.length){case 0:return!0;case 1:return i.call(this,e);case 2:return r.call(this,e,t);case 3:return n.call(this,e,t,o);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return a.j(e,t,o,l)}throw Error("Invalid arity: "+arguments.length)},o.I=3,o.H=a.H,o.l=function(){return!0},o.b=i,o.a=r,o.c=n,o.j=a.j,o}()},Hn.Zh.c=function(e,t,n){return function(){function r(r,i,o){return Hn.td((a=e.b?e.b(r):e.call(null,r),Hn.q(a)?(a=t.b?t.b(r):t.call(null,r),Hn.q(a)?(a=n.b?n.b(r):n.call(null,r),Hn.q(a)?(a=e.b?e.b(i):e.call(null,i),Hn.q(a)?(a=t.b?t.b(i):t.call(null,i),Hn.q(a)?(a=n.b?n.b(i):n.call(null,i),Hn.q(a)?(a=e.b?e.b(o):e.call(null,o),Hn.q(a)?(a=t.b?t.b(o):t.call(null,o),Hn.q(a)?n.b?n.b(o):n.call(null,o):a):a):a):a):a):a):a):a));var a}function i(r,i){return Hn.td((o=e.b?e.b(r):e.call(null,r),Hn.q(o)?(o=t.b?t.b(r):t.call(null,r),Hn.q(o)?(o=n.b?n.b(r):n.call(null,r),Hn.q(o)?(o=e.b?e.b(i):e.call(null,i),Hn.q(o)?(o=t.b?t.b(i):t.call(null,i),Hn.q(o)?n.b?n.b(i):n.call(null,i):o):o):o):o):o));var o}function o(r){var i=e.b?e.b(r):e.call(null,r);return Hn.q(i)?(i=t.b?t.b(r):t.call(null,r),r=Hn.q(i)?n.b?n.b(r):n.call(null,r):i):r=i,Hn.td(r)}var a=null,u=function(){function r(e,t,n,r){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return i.call(this,e,t,n,o)}function i(r,i,o,u){return Hn.td((l=a.c(r,i,o),Hn.q(l)?Hn.Fe((function(r){var i=e.b?e.b(r):e.call(null,r);return Hn.q(i)?(i=t.b?t.b(r):t.call(null,r),Hn.q(i)?n.b?n.b(r):n.call(null,r):i):i}),u):l));var l}return r.I=3,r.H=function(e){var t=Hn.u(e);e=Hn.B(e);var n=Hn.u(e);return e=Hn.B(e),i(t,n,Hn.u(e),e=Hn.Hc(e))},r.j=i,r}();return a=function(e,t,n,a){switch(arguments.length){case 0:return!0;case 1:return o.call(this,e);case 2:return i.call(this,e,t);case 3:return r.call(this,e,t,n);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return u.j(e,t,n,l)}throw Error("Invalid arity: "+arguments.length)},a.I=3,a.H=u.H,a.l=function(){return!0},a.b=o,a.a=i,a.c=r,a.j=u.j,a}()},Hn.Zh.j=function(e,t,n,r){var i=Hn.Yd(e,Hn.Yd(t,Hn.Yd(n,r)));return function(){function e(e,t,n){return Hn.Fe((function(r){var i=r.b?r.b(e):r.call(null,e);return Hn.q(i)?(i=r.b?r.b(t):r.call(null,t),Hn.q(i)?r.b?r.b(n):r.call(null,n):i):i}),i)}function t(e,t){return Hn.Fe((function(n){var r=n.b?n.b(e):n.call(null,e);return Hn.q(r)?n.b?n.b(t):n.call(null,t):r}),i)}function n(e){return Hn.Fe((function(t){return t.b?t.b(e):t.call(null,e)}),i)}var r=null,o=function(){function e(e,n,r,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return t.call(this,e,n,r,o)}function t(e,t,n,o){return Hn.td((a=r.c(e,t,n),Hn.q(a)?Hn.Fe((function(e){return Hn.Fe(e,o)}),i):a));var a}return e.I=3,e.H=function(e){var n=Hn.u(e);e=Hn.B(e);var r=Hn.u(e);return e=Hn.B(e),t(n,r,Hn.u(e),e=Hn.Hc(e))},e.j=t,e}();return r=function(r,i,a,u){switch(arguments.length){case 0:return!0;case 1:return n.call(this,r);case 2:return t.call(this,r,i);case 3:return e.call(this,r,i,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return o.j(r,i,a,l)}throw Error("Invalid arity: "+arguments.length)},r.I=3,r.H=o.H,r.l=function(){return!0},r.b=n,r.a=t,r.c=e,r.j=o.j,r}()},Hn.Zh.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);return n=Hn.u(r),r=Hn.B(r),this.j(t,e,n,r)},Hn.Zh.I=3,Hn.$h=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new Hn.Dc(n.slice(3),0,null))}},Hn.$h.b=function(e){return function(){function t(t,n,r){return t=e.b?e.b(t):e.call(null,t),Hn.q(t)?t:(n=e.b?e.b(n):e.call(null,n),Hn.q(n)?n:e.b?e.b(r):e.call(null,r))}function n(t,n){return t=e.b?e.b(t):e.call(null,t),Hn.q(t)?t:e.b?e.b(n):e.call(null,n)}function r(t){return e.b?e.b(t):e.call(null,t)}var i=null,o=function(){function t(e,t,r,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return n.call(this,e,t,r,o)}function n(t,n,r,o){return t=i.c(t,n,r),Hn.q(t)?t:Hn.Ge(e,o)}return t.I=3,t.H=function(e){var t=Hn.u(e);e=Hn.B(e);var r=Hn.u(e);return e=Hn.B(e),n(t,r,Hn.u(e),e=Hn.Hc(e))},t.j=n,t}();return i=function(e,i,a,u){switch(arguments.length){case 0:return null;case 1:return r.call(this,e);case 2:return n.call(this,e,i);case 3:return t.call(this,e,i,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return o.j(e,i,a,l)}throw Error("Invalid arity: "+arguments.length)},i.I=3,i.H=o.H,i.l=function(){return null},i.b=r,i.a=n,i.c=t,i.j=o.j,i}()},Hn.$h.a=function(e,t){return function(){function n(n,r,i){var o=e.b?e.b(n):e.call(null,n);return Hn.q(o)?o:(o=e.b?e.b(r):e.call(null,r),Hn.q(o)?o:(o=e.b?e.b(i):e.call(null,i),Hn.q(o)?o:(n=t.b?t.b(n):t.call(null,n),Hn.q(n)?n:(r=t.b?t.b(r):t.call(null,r),Hn.q(r)?r:t.b?t.b(i):t.call(null,i)))))}function r(n,r){var i=e.b?e.b(n):e.call(null,n);return Hn.q(i)?i:(i=e.b?e.b(r):e.call(null,r),Hn.q(i)?i:(n=t.b?t.b(n):t.call(null,n),Hn.q(n)?n:t.b?t.b(r):t.call(null,r)))}function i(n){var r=e.b?e.b(n):e.call(null,n);return Hn.q(r)?r:t.b?t.b(n):t.call(null,n)}var o=null,a=function(){function n(e,t,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return r.call(this,e,t,n,o)}function r(n,r,i,a){return n=o.c(n,r,i),Hn.q(n)?n:Hn.Ge((function(n){var r=e.b?e.b(n):e.call(null,n);return Hn.q(r)?r:t.b?t.b(n):t.call(null,n)}),a)}return n.I=3,n.H=function(e){var t=Hn.u(e);e=Hn.B(e);var n=Hn.u(e);return e=Hn.B(e),r(t,n,Hn.u(e),e=Hn.Hc(e))},n.j=r,n}();return o=function(e,t,o,u){switch(arguments.length){case 0:return null;case 1:return i.call(this,e);case 2:return r.call(this,e,t);case 3:return n.call(this,e,t,o);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return a.j(e,t,o,l)}throw Error("Invalid arity: "+arguments.length)},o.I=3,o.H=a.H,o.l=function(){return null},o.b=i,o.a=r,o.c=n,o.j=a.j,o}()},Hn.$h.c=function(e,t,n){return function(){function r(r,i,o){var a=e.b?e.b(r):e.call(null,r);return Hn.q(a)?a:(a=t.b?t.b(r):t.call(null,r),Hn.q(a)?a:(r=n.b?n.b(r):n.call(null,r),Hn.q(r)?r:(r=e.b?e.b(i):e.call(null,i),Hn.q(r)?r:(r=t.b?t.b(i):t.call(null,i),Hn.q(r)?r:(i=n.b?n.b(i):n.call(null,i),Hn.q(i)?i:(i=e.b?e.b(o):e.call(null,o),Hn.q(i)?i:(i=t.b?t.b(o):t.call(null,o),Hn.q(i)?i:n.b?n.b(o):n.call(null,o))))))))}function i(r,i){var o=e.b?e.b(r):e.call(null,r);return Hn.q(o)?o:(o=t.b?t.b(r):t.call(null,r),Hn.q(o)?o:(r=n.b?n.b(r):n.call(null,r),Hn.q(r)?r:(r=e.b?e.b(i):e.call(null,i),Hn.q(r)?r:(r=t.b?t.b(i):t.call(null,i),Hn.q(r)?r:n.b?n.b(i):n.call(null,i)))))}function o(r){var i=e.b?e.b(r):e.call(null,r);return Hn.q(i)?i:(i=t.b?t.b(r):t.call(null,r),Hn.q(i)?i:n.b?n.b(r):n.call(null,r))}var a=null,u=function(){function r(e,t,n,r){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return i.call(this,e,t,n,o)}function i(r,i,o,u){return r=a.c(r,i,o),Hn.q(r)?r:Hn.Ge((function(r){var i=e.b?e.b(r):e.call(null,r);return Hn.q(i)?i:(i=t.b?t.b(r):t.call(null,r),Hn.q(i)?i:n.b?n.b(r):n.call(null,r))}),u)}return r.I=3,r.H=function(e){var t=Hn.u(e);e=Hn.B(e);var n=Hn.u(e);return e=Hn.B(e),i(t,n,Hn.u(e),e=Hn.Hc(e))},r.j=i,r}();return a=function(e,t,n,a){switch(arguments.length){case 0:return null;case 1:return o.call(this,e);case 2:return i.call(this,e,t);case 3:return r.call(this,e,t,n);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return u.j(e,t,n,l)}throw Error("Invalid arity: "+arguments.length)},a.I=3,a.H=u.H,a.l=function(){return null},a.b=o,a.a=i,a.c=r,a.j=u.j,a}()},Hn.$h.j=function(e,t,n,r){var i=Hn.Yd(e,Hn.Yd(t,Hn.Yd(n,r)));return function(){function e(e,t,n){return Hn.Ge((function(r){var i=r.b?r.b(e):r.call(null,e);return Hn.q(i)?i:(i=r.b?r.b(t):r.call(null,t),Hn.q(i)?i:r.b?r.b(n):r.call(null,n))}),i)}function t(e,t){return Hn.Ge((function(n){var r=n.b?n.b(e):n.call(null,e);return Hn.q(r)?r:n.b?n.b(t):n.call(null,t)}),i)}function n(e){return Hn.Ge((function(t){return t.b?t.b(e):t.call(null,e)}),i)}var r=null,o=function(){function e(e,n,r,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new Hn.Dc(a,0,null)}return t.call(this,e,n,r,o)}function t(e,t,n,o){return e=r.c(e,t,n),Hn.q(e)?e:Hn.Ge((function(e){return Hn.Ge(e,o)}),i)}return e.I=3,e.H=function(e){var n=Hn.u(e);e=Hn.B(e);var r=Hn.u(e);return e=Hn.B(e),t(n,r,Hn.u(e),e=Hn.Hc(e))},e.j=t,e}();return r=function(r,i,a,u){switch(arguments.length){case 0:return null;case 1:return n.call(this,r);case 2:return t.call(this,r,i);case 3:return e.call(this,r,i,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new Hn.Dc(c,0,null)}return o.j(r,i,a,l)}throw Error("Invalid arity: "+arguments.length)},r.I=3,r.H=o.H,r.l=function(){return null},r.b=n,r.a=t,r.c=e,r.j=o.j,r}()},Hn.$h.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);return n=Hn.u(r),r=Hn.B(r),this.j(t,e,n,r)},Hn.$h.I=3,Hn.Ig=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],arguments[3],new Hn.Dc(n.slice(4),0,null))}},Hn.Ig.b=function(e){return function(t){return function(){function n(n,r){return r=e.b?e.b(r):e.call(null,r),t.a?t.a(n,r):t.call(null,n,r)}function r(e){return t.b?t.b(e):t.call(null,e)}function i(){return t.l?t.l():t.call(null)}var o,a=function(){function n(e,t,n){var i=null;if(2<arguments.length){i=0;for(var o=Array(arguments.length-2);i<o.length;)o[i]=arguments[i+2],++i;i=new Hn.Dc(o,0,null)}return r.call(this,e,t,i)}function r(n,r,i){return r=Hn.re(e,r,i),t.a?t.a(n,r):t.call(null,n,r)}return n.I=2,n.H=function(e){var t=Hn.u(e);return e=Hn.B(e),r(t,Hn.u(e),e=Hn.Hc(e))},n.j=r,n}();return o=function(e,t,o){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,e);case 2:return n.call(this,e,t);default:var u=null;if(2<arguments.length){u=0;for(var l=Array(arguments.length-2);u<l.length;)l[u]=arguments[u+2],++u;u=new Hn.Dc(l,0,null)}return a.j(e,t,u)}throw Error("Invalid arity: "+arguments.length)},o.I=2,o.H=a.H,o.l=i,o.b=r,o.a=n,o.j=a.j,o}()}},Hn.Ig.a=function(e,t){return new Hn.ae(null,(function(){var n,r=Hn.t(t);if(r){if(Hn.rd(r)){for(var i=Hn.ic(r),o=Hn.D(i),a=Hn.de(o),u=0;u<o;)Hn.he(a,(n=void 0,n=Hn.gd(i,u),e.b?e.b(n):e.call(null,n))),u+=1;return Hn.ge(Hn.ie(a),Hn.Ig.a(e,Hn.jc(r)))}return Hn.Yd(function(){var t=Hn.u(r);return e.b?e.b(t):e.call(null,t)}(),Hn.Ig.a(e,Hn.Hc(r)))}return null}),null)},Hn.Ig.c=function(e,t,n){return new Hn.ae(null,(function(){var r=Hn.t(t),i=Hn.t(n);if(r&&i){var o=Hn.u(r),a=Hn.u(i);o=e.a?e.a(o,a):e.call(null,o,a),r=Hn.Yd(o,Hn.Ig.c(e,Hn.Hc(r),Hn.Hc(i)))}else r=null;return r}),null)},Hn.Ig.N=function(e,t,n,r){return new Hn.ae(null,(function(){var i=Hn.t(t),o=Hn.t(n),a=Hn.t(r);if(i&&o&&a){var u=Hn.u(i),l=Hn.u(o),c=Hn.u(a);u=e.c?e.c(u,l,c):e.call(null,u,l,c),i=Hn.Yd(u,Hn.Ig.N(e,Hn.Hc(i),Hn.Hc(o),Hn.Hc(a)))}else i=null;return i}),null)},Hn.Ig.j=function(e,t,n,r,i){return Hn.Ig.a((function(t){return Hn.qe(e,t)}),function e(t){return new Hn.ae(null,(function(){var n=Hn.Ig.a(Hn.t,t);return Hn.Fe(Hn.Nd,n)?Hn.Yd(Hn.Ig.a(Hn.u,n),e(Hn.Ig.a(Hn.Hc,n))):null}),null)}(Hn.Vd.j(i,r,Hn.F([n,t]))))},Hn.Ig.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);n=Hn.u(r);var i=Hn.B(r);return r=Hn.u(i),i=Hn.B(i),this.j(t,e,n,r,i)},Hn.Ig.I=4,Hn.h=Hn.Ne.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,this.count)}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){return null==this.next?1<this.count?this.next=new Hn.Ne(null,this.count-1,this.m,null):-1===this.count?this:null:this.next},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){if(-1===this.count)for(var n=t.a?t.a(this.m,this.m):t.call(null,this.m,this.m);;){if(Hn.Oc(n))return Hn.Ib(n);n=t.a?t.a(n,this.m):t.call(null,n,this.m)}else for(e=1,n=this.m;;){if(!(e<this.count))return n;if(n=t.a?t.a(n,this.m):t.call(null,n,this.m),Hn.Oc(n))return Hn.Ib(n);e+=1}},Hn.h.Ha=function(e,t,n){if(-1===this.count)for(n=t.a?t.a(n,this.m):t.call(null,n,this.m);;){if(Hn.Oc(n))return Hn.Ib(n);n=t.a?t.a(n,this.m):t.call(null,n,this.m)}else for(e=0;;){if(!(e<this.count))return n;if(n=t.a?t.a(n,this.m):t.call(null,n,this.m),Hn.Oc(n))return Hn.Ib(n);e+=1}},Hn.h.Ja=function(){return this.m},Hn.h.Na=function(){return null==this.next?1<this.count?this.next=new Hn.Ne(null,this.count-1,this.m,null):-1===this.count?this:Hn.Gc:this.next},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new Hn.Ne(t,this.count,this.m,this.next)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Hn.ai=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.ai.b=function(e){return $e(Hn.Ie(e))},Hn.ai.a=function(e,t){return Hn.Pe(Hn.Ie(e),t)},Hn.ai.I=2,Hn.bi=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",Hn.fb.b(arguments.length)].join(""))}},Hn.bi.l=function(){return Hn.ff},Hn.bi.b=function(e){return e},Hn.bi.a=function(e,t){return null!=e?null!=e&&(4&e.K||Hn.yc===e.Gc)?Hn.Lb(Hn.dc(Hn.Gd(B,Hn.bc(e),t)),Hn.jd(e)):Hn.Gd(Hn.qb,e,t):Hn.Gd(Hn.Vd,e,t)},Hn.bi.c=function(e,t,n){return null!=e&&(4&e.K||Hn.yc===e.Gc)?Hn.Lb(Hn.dc(ke(t,Hn.af,Hn.bc(e),n)),Hn.jd(e)):ke(t,Hn.Vd,e,n)},Hn.bi.I=3,Hn.ci=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],arguments[3],new Hn.Dc(n.slice(4),0,null))}},Hn.ci.a=function(e,t){return Hn.dc(Hn.Gd((function(t,n){return Hn.af.a(t,e.b?e.b(n):e.call(null,n))}),Hn.bc(Hn.ff),t))},Hn.ci.c=function(e,t,n){return Hn.bi.a(Hn.ff,Hn.Ig.c(e,t,n))},Hn.ci.N=function(e,t,n,r){return Hn.bi.a(Hn.ff,Hn.Ig.N(e,t,n,r))},Hn.ci.j=function(e,t,n,r,i){return Hn.bi.a(Hn.ff,Hn.ue(Hn.Ig,e,t,n,r,Hn.F([i])))},Hn.ci.H=function(e){var t=Hn.u(e),n=Hn.B(e);e=Hn.u(n);var r=Hn.B(n);n=Hn.u(r);var i=Hn.B(r);return r=Hn.u(i),i=Hn.B(i),this.j(t,e,n,r,i)},Hn.ci.I=4;var ur=function e(t,n,r,i){var o=new Ke(r.ha,u(r.h)),a=t.F-1>>>n&31;return 5===n?o.h[a]=i:(null!=(r=r.h[a])?(n-=5,t=e.N?e.N(t,n,r,i):e.call(null,t,n,r,i)):t=et(null,n-5,i),o.h[a]=t),o},lr=function e(t,n,r,i,o){var a=new Ke(r.ha,u(r.h));if(0===n)a.h[31&i]=o;else{var l=i>>>n&31;n-=5,r=r.h[l],t=e.V?e.V(t,n,r,i,o):e.call(null,t,n,r,i,o),a.h[l]=t}return a};it.prototype.Da=function(){return this.G<this.end},it.prototype.next=function(){32==this.G-this.rc&&(this.h=nt(this.fa,this.G),this.rc+=32);var e=this.h[31&this.G];return this.G+=1,e},Hn.h=Hn.Q.prototype,Hn.h.Vb=Hn.yc,Hn.h.Nb=function(e,t){return 0<=t&&t<this.F?new Hn.wd(t,nt(this,t)[31&t]):null},Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return"number"==typeof t?this.Ca(null,t,n):n},Hn.h.Ba=function(e,t,n){e=0;for(var r=n;;){if(!(e<this.F))return r;var i=nt(this,e);n=i.length;e:for(var o=0;;){if(!(o<n)){i=r;break e}var a=o+e,u=i[o];if(r=t.c?t.c(r,a,u):t.call(null,r,a,u),Hn.Oc(r)){i=r;break e}o+=1}if(Hn.Oc(i))return Hn.Ib(i);e+=n,r=i}},Hn.h.tc=Hn.yc,Hn.h.ea=function(e,t){return rt(this,t)[31&t]},Hn.h.Ca=function(e,t,n){return 0<=t&&t<this.F?nt(this,t)[31&t]:n},Hn.h.Cb=function(e,t,n){if(0<=t&&t<this.F)return Xe(this)<=t?((e=u(this.Qa))[31&t]=n,new Hn.Q(this.M,this.F,this.shift,this.root,e,null)):new Hn.Q(this.M,this.F,this.shift,lr(this,this.shift,this.root,t,n),this.Qa,null);if(t===this.F)return this.ba(null,n);throw Error(["Index ",Hn.fb.b(t)," out of bounds  [0,",Hn.fb.b(this.F),"]"].join(""))},Hn.h.ja=function(){return ot(this,0,this.F)},Hn.h.X=function(){return this.M},Hn.h.aa=function(){return this.F},Hn.h.Zb=function(){return 0<this.F?new ge(this,this.F-1,null):null},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){if(!(t instanceof Hn.Q))return Re(this,t);if(this.F!==Hn.D(t))return!1;for(e=this.ja(null),t=t.ja(null);;){if(!e.Da())return!0;var n=e.next(),r=t.next();if(!Hn.Xc.a(n,r))return!1}},Hn.h.Mb=function(){return new mt(this.F,this.shift,pt.b?pt.b(this.root):pt.call(null,this.root),ht.b?ht.b(this.Qa):ht.call(null,this.Qa))},Hn.h.Aa=function(){return Hn.Lb(Hn.ff,this.M)},Hn.h.Ga=function(e,t){return at(this,t,0,this.F)},Hn.h.Ha=function(e,t,n){e=0;for(var r=n;;){if(!(e<this.F))return r;var i=nt(this,e);n=i.length;e:for(var o=0;;){if(!(o<n)){i=r;break e}var a=i[o];if(r=t.a?t.a(r,a):t.call(null,r,a),Hn.Oc(r)){i=r;break e}o+=1}if(Hn.Oc(i))return Hn.Ib(i);e+=n,r=i}},Hn.h.U=function(e,t,n){if("number"==typeof t)return this.Cb(null,t,n);throw Error("Vector's key for assoc must be a number.")},Hn.h.Z=function(){if(0===this.F)return null;if(32>=this.F)return new Hn.Dc(this.Qa,0,null);e:for(var e=this.root,t=this.shift;;){if(!(0<t)){e=e.h;break e}t-=5,e=e.h[0]}return st?st(this,e,0,0):ct.call(null,this,e,0,0)},Hn.h.$=function(e,t){return t===this.M?this:new Hn.Q(t,this.F,this.shift,this.root,this.Qa,this.v)},Hn.h.ba=function(e,t){if(32>this.F-Xe(this)){e=this.Qa.length;for(var n=Array(e+1),r=0;r<e;)n[r]=this.Qa[r],r+=1;return n[e]=t,new Hn.Q(this.M,this.F+1,this.shift,this.root,n,null)}return e=(n=this.F>>>5>1<<this.shift)?this.shift+5:this.shift,n?((n=Je(null)).h[0]=this.root,r=et(null,this.shift,new Ke(null,this.Qa)),n.h[1]=r):n=ur(this,this.shift,this.root,new Ke(null,this.Qa)),new Hn.Q(this.M,this.F+1,e,n,[t],null)},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.ea(null,t);case 3:return this.Ca(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.ea(null,t)},e.c=function(e,t,n){return this.Ca(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.ea(null,e)},Hn.h.a=function(e,t){return this.Ca(null,e,t)},Hn.R=new Ke(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Hn.ff=new Hn.Q(null,0,5,Hn.R,[],rr),Hn.Q.prototype[Bn]=function(){return ie(this)},Hn.h=lt.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){if(this.Ia+1<this.node.length){var e=this.Wa,t=this.node,n=this.G,r=this.Ia+1;return null==(e=st?st(e,t,n,r):ct.call(null,e,t,n,r))?null:e}return this.Fc()},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return at(this.Wa,t,this.G+this.Ia,Hn.D(this.Wa))},Hn.h.Ha=function(e,t,n){return ut(this.Wa,t,n,this.G+this.Ia,Hn.D(this.Wa))},Hn.h.Ja=function(){return this.node[this.Ia]},Hn.h.Na=function(){if(this.Ia+1<this.node.length){var e=this.Wa,t=this.node,n=this.G,r=this.Ia+1;return null==(e=st?st(e,t,n,r):ct.call(null,e,t,n,r))?Hn.Gc:e}return this.kc(null)},Hn.h.Z=function(){return this},Hn.h.uc=function(){var e=this.node;return new Me(e,this.Ia,e.length)},Hn.h.kc=function(){var e=this.G+this.node.length;if(e<s(this.Wa)){var t=this.Wa,n=nt(this.Wa,e);return st?st(t,n,e,0):ct.call(null,t,n,e,0)}return Hn.Gc},Hn.h.$=function(e,t){return t===this.M?this:ft?ft(this.Wa,this.node,this.G,this.Ia,t):ct.call(null,this.Wa,this.node,this.G,this.Ia,t)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Hn.h.Fc=function(){var e=this.G+this.node.length;if(e<s(this.Wa)){var t=this.Wa,n=nt(this.Wa,e);return st?st(t,n,e,0):ct.call(null,t,n,e,0)}return null},lt.prototype[Bn]=function(){return ie(this)},Hn.h=Hn.mf.prototype,Hn.h.Vb=Hn.yc,Hn.h.Nb=function(e,t){return 0>t?null:(e=this.start+t)<this.end?new Hn.wd(t,Gn(this.fa,e)):null},Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return"number"==typeof t?this.Ca(null,t,n):n},Hn.h.Ba=function(e,t,n){e=this.start;for(var r=0;;){if(!(e<this.end))return n;var i=r,o=Hn.gd(this.fa,e);if(n=t.c?t.c(n,i,o):t.call(null,n,i,o),Hn.Oc(n))return Hn.Ib(n);r+=1,e+=1}},Hn.h.ea=function(e,t){return 0>t||this.end<=this.start+t?tt(t,this.end-this.start):Hn.gd(this.fa,this.start+t)},Hn.h.Ca=function(e,t,n){return 0>t||this.end<=this.start+t?n:Hn.gd(this.fa,this.start+t,n)},Hn.h.Cb=function(e,t,n){if(e=this.start+t,0>t||this.end+1<=e)throw Error(["Index ",Hn.fb.b(t)," out of bounds [0,",Hn.fb.b(this.aa(null)),"]"].join(""));t=this.M,n=Hn.Ng.c(this.fa,e,n);var r=this.start,i=this.end;return e=i>(e+=1)?i:e,Hn.nf.V?Hn.nf.V(t,n,r,e,null):Hn.nf.call(null,t,n,r,e,null)},Hn.h.ja=function(){return null!=this.fa&&Hn.yc===this.fa.tc?ot(this.fa,this.start,this.end):new Ge(this)},Hn.h.X=function(){return this.M},Hn.h.aa=function(){return this.end-this.start},Hn.h.Zb=function(){return this.start!==this.end?new ge(this,this.end-this.start-1,null):null},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Lb(Hn.ff,this.M)},Hn.h.Ga=function(e,t){return null!=this.fa&&Hn.yc===this.fa.tc?at(this.fa,t,this.start,this.end):ce(this,t)},Hn.h.Ha=function(e,t,n){return null!=this.fa&&Hn.yc===this.fa.tc?ut(this.fa,t,n,this.start,this.end):se(this,t,n)},Hn.h.U=function(e,t,n){if("number"==typeof t)return this.Cb(null,t,n);throw Error("Subvec's key for assoc must be a number.")},Hn.h.Z=function(){var e=this;return function t(n){return n===e.end?null:Hn.Yd(Hn.gd(e.fa,n),new Hn.ae(null,(function(){return t(n+1)}),null))}(e.start)},Hn.h.$=function(e,t){return t===this.M?this:Hn.nf.V?Hn.nf.V(t,this.fa,this.start,this.end,this.v):Hn.nf.call(null,t,this.fa,this.start,this.end,this.v)},Hn.h.ba=function(e,t){e=this.M,t=E(this.fa,this.end,t);var n=this.start,r=this.end+1;return Hn.nf.V?Hn.nf.V(e,t,n,r,null):Hn.nf.call(null,e,t,n,r,null)},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.ea(null,t);case 3:return this.Ca(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.ea(null,t)},e.c=function(e,t,n){return this.Ca(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.ea(null,e)},Hn.h.a=function(e,t){return this.Ca(null,e,t)},Hn.mf.prototype[Bn]=function(){return ie(this)};var cr=function e(t,n,r,i){r=dt(t.root.ha,r);var o=t.F-1>>>n&31;if(5===n)t=i;else{var a=r.h[o];null!=a?(n-=5,t=e.N?e.N(t,n,a,i):e.call(null,t,n,a,i)):t=et(t.root.ha,n-5,i)}return r.h[o]=t,r};Hn.h=mt.prototype,Hn.h.Qb=function(e,t){if(this.root.ha){if(32>this.F-Xe(this))this.Qa[31&this.F]=t;else{e=new Ke(this.root.ha,this.Qa);var n=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];n[0]=t,this.Qa=n,this.F>>>5>1<<this.shift?(t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],n=this.shift+5,t[0]=this.root,t[1]=et(this.root.ha,this.shift,e),this.root=new Ke(this.root.ha,t),this.shift=n):this.root=cr(this,this.shift,this.root,e)}return this.F+=1,this}throw Error("conj! after persistent!")},Hn.h.$b=function(){if(this.root.ha){this.root.ha=null;var e=this.F-Xe(this),t=Array(e);return Se(this.Qa,0,t,0,e),new Hn.Q(null,this.F,this.shift,this.root,t,null)}throw Error("persistent! called twice")},Hn.h.Pb=function(e,t,n){if("number"==typeof t)return yt(this,t,n);throw Error("TransientVector's key for assoc! must be a number.")},Hn.h.aa=function(){if(this.root.ha)return this.F;throw Error("count after persistent!")},Hn.h.ea=function(e,t){if(this.root.ha)return rt(this,t)[31&t];throw Error("nth after persistent!")},Hn.h.Ca=function(e,t,n){return 0<=t&&t<this.F?this.ea(null,t):n},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){if(this.root.ha)return"number"==typeof t?this.Ca(null,t,n):n;throw Error("lookup after persistent!")},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.W(null,t);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.W(null,t)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.W(null,e)},Hn.h.a=function(e,t){return this.J(null,e,t)},vt.prototype.S=function(){return!1};var sr=new vt;Hn.wf.prototype.Da=function(){var e=this.G<this.Bc;return e||this.Mc.Da()},Hn.wf.prototype.next=function(){if(this.G<this.Bc){var e=Hn.Yc(this.pd,this.G);return this.G+=1,new Hn.wd(e,Gn(this.wd,e))}return this.Mc.next()},Hn.wf.prototype.remove=function(){return Error("Unsupported operation")},gt.prototype.next=function(){if(null!=this.ca){var e=Hn.u(this.ca),t=Hn.G(e,0,null);return e=Hn.G(e,1,null),this.ca=Hn.B(this.ca),{value:[t,e],done:!1}}return{value:null,done:!0}},wt.prototype.next=function(){if(null!=this.ca){var e=Hn.u(this.ca);return this.ca=Hn.B(this.ca),{value:[e,e],done:!1}}return{value:null,done:!0}},Hn.h=Hn.wd.prototype,Hn.h.Vb=Hn.yc,Hn.h.Nb=function(e,t){switch(t){case 0:return new Hn.wd(0,this.key);case 1:return new Hn.wd(1,this.m);default:return null}},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.W=function(e,t){return this.Ca(null,t,null)},Hn.h.J=function(e,t,n){return this.Ca(null,t,n)},Hn.h.ea=function(e,t){if(0===t)return this.key;if(1===t)return this.m;throw Error("Index out of bounds")},Hn.h.Ca=function(e,t,n){return 0===t?this.key:1===t?this.m:n},Hn.h.Cb=function(e,t,n){return new Hn.Q(null,2,5,Hn.R,[this.key,this.m],null).Cb(null,t,n)},Hn.h.X=function(){return null},Hn.h.aa=function(){return 2},Hn.h.$c=function(){return this.key},Hn.h.ad=function(){return this.m},Hn.h.Zb=function(){return new Hn.Dc([this.m,this.key],0,null)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return null},Hn.h.Ga=function(e,t){return ce(this,t)},Hn.h.Ha=function(e,t,n){return se(this,t,n)},Hn.h.U=function(e,t,n){return Hn.Ng.c(new Hn.Q(null,2,5,Hn.R,[this.key,this.m],null),t,n)},Hn.h.Z=function(){return new Hn.Dc([this.key,this.m],0,null)},Hn.h.$=function(e,t){return Hn.I(new Hn.Q(null,2,5,Hn.R,[this.key,this.m],null),t)},Hn.h.ba=function(e,t){return new Hn.Q(null,3,5,Hn.R,[this.key,this.m,t],null)},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.ea(null,t);case 3:return this.Ca(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.ea(null,t)},e.c=function(e,t,n){return this.Ca(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.ea(null,e)},Hn.h.a=function(e,t){return this.Ca(null,e,t)},Hn.h=jt.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.Za},Hn.h.Fa=function(){return this.G<this.h.length-2?new jt(this.h,this.G+2,null):null},Hn.h.aa=function(){return(this.h.length-this.G)/2},Hn.h.T=function(){return ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return new Hn.wd(this.h[this.G],this.h[this.G+1])},Hn.h.Na=function(){return this.G<this.h.length-2?new jt(this.h,this.G+2,null):Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.Za?this:new jt(this.h,this.G,t)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},jt.prototype[Bn]=function(){return ie(this)},St.prototype.Da=function(){return this.G<this.F},St.prototype.next=function(){var e=new Hn.wd(this.h[this.G],this.h[this.G+1]);return this.G+=2,e},Hn.h=Hn.n.prototype,Hn.h.Vb=Hn.yc,Hn.h.Nb=function(e,t){return-1===(e=Ot(this.h,t))?null:new Hn.wd(this.h[e],this.h[e+1])},Hn.h.toString=function(){return $(this)},Hn.h.keys=function(){return ie(Hn.lg.b?Hn.lg.b(this):Hn.lg.call(null,this))},Hn.h.entries=function(){return new gt(Hn.t(Hn.t(this)))},Hn.h.values=function(){return ie(Hn.ng.b?Hn.ng.b(this):Hn.ng.call(null,this))},Hn.h.has=function(e){return Hn.vd(this,e)},Hn.h.get=function(e,t){return this.J(null,e,t)},Hn.h.forEach=function(e){for(var t=Hn.t(this),n=null,r=0,i=0;;)if(i<r){var o=n.ea(null,i),a=Hn.G(o,0,null);o=Hn.G(o,1,null),e.a?e.a(o,a):e.call(null,o,a),i+=1}else{if(!(t=Hn.t(t)))return null;Hn.rd(t)?(n=Hn.ic(t),t=Hn.jc(t),a=n,r=Hn.D(n),n=a):(n=Hn.u(t),a=Hn.G(n,0,null),o=Hn.G(n,1,null),e.a?e.a(o,a):e.call(null,o,a),t=Hn.B(t),n=null,r=0),i=0}},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return-1===(e=Ot(this.h,t))?n:this.h[e+1]},Hn.h.Ba=function(e,t,n){e=this.h.length;for(var r=0;;){if(!(r<e))return n;var i=this.h[r],o=this.h[r+1];if(n=t.c?t.c(n,i,o):t.call(null,n,i,o),Hn.Oc(n))return Hn.Ib(n);r+=2}},Hn.h.ja=function(){return new St(this.h,2*this.F)},Hn.h.X=function(){return this.M},Hn.h.aa=function(){return this.F},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=Hn.Mc(this)},Hn.h.S=function(e,t){if(!Hn.od(t)||Hn.pd(t))return!1;if(e=this.h.length,this.F!==t.aa(null))return!1;for(var n=0;;){if(!(n<e))return!0;var r=t.J(null,this.h[n],Qn);if(r===Qn)return!1;if(!Hn.Xc.a(this.h[n+1],r))return!1;n+=2}},Hn.h.Mb=function(){return new Et(this.h.length,u(this.h))},Hn.h.Aa=function(){return Hn.Lb(Hn.Be,this.M)},Hn.h.Ga=function(e,t){return Pe(this,t)},Hn.h.Ha=function(e,t,n){return Ce(this,t,n)},Hn.h.Ea=function(e,t){if(!(0<=Ot(this.h,t)))return this;var n=(e=this.h.length)-2;if(0===n)return this.Aa(null);n=Array(n);for(var r=0,i=0;;){if(r>=e)return new Hn.n(this.M,this.F-1,n,null);Hn.Xc.a(t,this.h[r])||(n[i]=this.h[r],n[i+1]=this.h[r+1],i+=2),r+=2}},Hn.h.U=function(e,t,n){if(-1===(e=Ot(this.h,t))){if(this.F<Un){for(var r=(e=this.h).length,i=Array(r+2),o=0;o<r;)i[o]=e[o],o+=1;return i[r]=t,i[r+1]=n,new Hn.n(this.M,this.F+1,i,null)}return Hn.Lb(b(Hn.bi.a(dr,this),t,n),this.M)}return n===this.h[e+1]?this:((t=u(this.h))[e+1]=n,new Hn.n(this.M,this.F,t,null))},Hn.h.Z=function(){var e=this.h;return 0<=e.length-2?new jt(e,0,null):null},Hn.h.$=function(e,t){return t===this.M?this:new Hn.n(t,this.F,this.h,this.v)},Hn.h.ba=function(e,t){if(Hn.qd(t))return this.U(null,Hn.gd(t,0),Hn.gd(t,1));for(e=this,t=Hn.t(t);;){if(null==t)return e;var n=Hn.u(t);if(!Hn.qd(n))throw Error("conj on a map takes map entries or seqables of map entries");e=b(e,Hn.gd(n,0),Hn.gd(n,1)),t=Hn.B(t)}},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.W(null,t);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.W(null,t)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.W(null,e)},Hn.h.a=function(e,t){return this.J(null,e,t)},Hn.Be=new Hn.n(null,0,[],ir),Un=8,Hn.n.prototype[Bn]=function(){return ie(this)},Hn.h=Et.prototype,Hn.h.aa=function(){if(this.Rb)return Ae(this.Fb);throw Error("count after persistent!")},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){if(this.Rb)return-1===(e=Ot(this.h,t))?n:this.h[e+1];throw Error("lookup after persistent!")},Hn.h.Qb=function(e,t){if(!this.Rb)throw Error("conj! after persistent!");if(Hn.cf(t))return this.Pb(null,Xt.b?Xt.b(t):Xt.call(null,t),tn.b?tn.b(t):tn.call(null,t));if(Hn.qd(t))return this.Pb(null,t.b?t.b(0):t.call(null,0),t.b?t.b(1):t.call(null,1));for(e=Hn.t(t),t=this;;){var n=Hn.u(e);if(!Hn.q(n))return t;e=Hn.B(e),t=z(t,Xt.b?Xt.b(n):Xt.call(null,n),tn.b?tn.b(n):tn.call(null,n))}},Hn.h.$b=function(){if(this.Rb)return this.Rb=!1,new Hn.n(null,Ae(this.Fb),this.h,null);throw Error("persistent! called twice")},Hn.h.Pb=function(e,t,n){if(this.Rb)return-1===(e=Ot(this.h,t))?this.Fb+2<=2*Un?(this.Fb+=2,this.h.push(t),this.h.push(n),this):Hn.Ff.c(_t.a?_t.a(this.Fb,this.h):_t.call(null,this.Fb,this.h),t,n):(n!==this.h[e+1]&&(this.h[e+1]=n),this);throw Error("assoc! after persistent!")},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.J(null,t,null);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.J(null,t,null)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.J(null,e,null)},Hn.h.a=function(e,t){return this.J(null,e,t)},Rt.prototype.advance=function(){for(var e=this.h.length;;){if(!(this.G<e))return!1;var t=this.h[this.G],n=this.h[this.G+1];if(null!=t?t=this.hc=new Hn.wd(t,n):null!=n?t=!!(t=Hn.oc(n)).Da()&&(this.ib=t):t=!1,this.G+=2,t)return!0}},Rt.prototype.Da=function(){var e=null!=this.hc;return e||((e=null!=this.ib)?e:this.advance())},Rt.prototype.next=function(){if(null!=this.hc){var e=this.hc;return this.hc=null,e}if(null!=this.ib)return e=this.ib.next(),this.ib.Da()||(this.ib=null),e;if(this.advance())return this.next();throw Error("No such element")},Rt.prototype.remove=function(){return Error("Unsupported operation")},Hn.h=It.prototype,Hn.h.Db=function(e){if(e===this.ha)return this;var t=De(this.ka),n=Array(0>t?4:2*(t+1));return Se(this.h,0,n,0,2*t),new It(e,this.ka,n)},Hn.h.dc=function(){return Qt?Qt(this.h):Ft.call(null,this.h)},Hn.h.fc=function(e,t){return Dt(this.h,e,t)},Hn.h.Eb=function(e,t,n,r){var i=1<<(t>>>e&31);if(0==(this.ka&i))return r;var o=De(this.ka&i-1);return i=this.h[2*o],o=this.h[2*o+1],null==i?o.Eb(e+5,t,n,r):Pt(n,i)?o:r},Hn.h.fb=function(e,t,n,r,i,o){var a=1<<(n>>>t&31),u=De(this.ka&a-1);if(0==(this.ka&a)){var l=De(this.ka);if(2*l<this.h.length){for(t=(e=this.Db(e)).h,o.m=!0,o=2*u+((n=2*(l-u))-1),l=2*(u+1)+(n-1);0!==n;)t[l]=t[o],--l,--n,--o;return t[2*u]=r,t[2*u+1]=i,e.ka|=a,e}if(16<=l){for((u=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[n>>>t&31]=fr.fb(e,t+5,n,r,i,o),i=r=0;32>r;)0==(this.ka>>>r&1)||(u[r]=null!=this.h[i]?fr.fb(e,t+5,Hn.zc(this.h[i]),this.h[i],this.h[i+1],o):this.h[i+1],i+=2),r+=1;return new Nt(e,l+1,u)}return t=Array(2*(l+4)),Se(this.h,0,t,0,2*u),t[2*u]=r,t[2*u+1]=i,Se(this.h,2*u,t,2*(u+1),2*(l-u)),o.m=!0,(e=this.Db(e)).h=t,e.ka|=a,e}return l=this.h[2*u],a=this.h[2*u+1],null==l?(l=a.fb(e,t+5,n,r,i,o))===a?this:At(this,e,2*u+1,l):Pt(r,l)?i===a?this:At(this,e,2*u+1,i):(o.m=!0,o=t+5,r=Bt?Bt(e,o,l,a,n,r,i):Zt.call(null,e,o,l,a,n,r,i),i=2*u,u=2*u+1,(e=this.Db(e)).h[i]=null,e.h[u]=r,e)},Hn.h.eb=function(e,t,n,r,i){var o=1<<(t>>>e&31),a=De(this.ka&o-1);if(0==(this.ka&o)){var l=De(this.ka);if(16<=l){for((a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])[t>>>e&31]=fr.eb(e+5,t,n,r,i),r=n=0;32>n;)0==(this.ka>>>n&1)||(a[n]=null!=this.h[r]?fr.eb(e+5,Hn.zc(this.h[r]),this.h[r],this.h[r+1],i):this.h[r+1],r+=2),n+=1;return new Nt(null,l+1,a)}return e=Array(2*(l+1)),Se(this.h,0,e,0,2*a),e[2*a]=n,e[2*a+1]=r,Se(this.h,2*a,e,2*(a+1),2*(l-a)),i.m=!0,new It(null,this.ka|o,e)}var c=this.h[2*a];return o=this.h[2*a+1],null==c?(l=o.eb(e+5,t,n,r,i))===o?this:new It(null,this.ka,Ct(this.h,2*a+1,l)):Pt(n,c)?r===o?this:new It(null,this.ka,Ct(this.h,2*a+1,r)):(i.m=!0,i=this.ka,l=this.h,e+=5,e=Lt?Lt(e,c,o,t,n,r):Zt.call(null,e,c,o,t,n,r),n=2*a,a=2*a+1,(r=u(l))[n]=null,r[a]=e,new It(null,i,r))},Hn.h.cc=function(e,t,n,r){var i=1<<(t>>>e&31);if(0==(this.ka&i))return r;var o=De(this.ka&i-1);return i=this.h[2*o],o=this.h[2*o+1],null==i?o.cc(e+5,t,n,r):Pt(n,i)?new Hn.wd(i,o):r},Hn.h.ec=function(e,t,n){var r=1<<(t>>>e&31);if(0==(this.ka&r))return this;var i=De(this.ka&r-1),o=this.h[2*i],a=this.h[2*i+1];return null==o?(e=a.ec(e+5,t,n))===a?this:null!=e?new It(null,this.ka,Ct(this.h,2*i+1,e)):this.ka===r?null:new It(null,this.ka^r,kt(this.h,i)):Pt(n,o)?new It(null,this.ka^r,kt(this.h,i)):this},Hn.h.ja=function(){return new Rt(this.h)};var fr=new It(null,0,[]);Tt.prototype.Da=function(){for(var e=this.h.length;;){if(null!=this.ib&&this.ib.Da())return!0;if(!(this.G<e))return!1;var t=this.h[this.G];this.G+=1,null!=t&&(this.ib=Hn.oc(t))}},Tt.prototype.next=function(){if(this.Da())return this.ib.next();throw Error("No such element")},Tt.prototype.remove=function(){return Error("Unsupported operation")},Hn.h=Nt.prototype,Hn.h.Db=function(e){return e===this.ha?this:new Nt(e,this.F,u(this.h))},Hn.h.dc=function(){return Yt?Yt(this.h):Ht.call(null,this.h)},Hn.h.fc=function(e,t){for(var n=this.h.length,r=0;;){if(!(r<n))return t;var i=this.h[r];if(null!=i){if(t=i.fc(e,t),Hn.Oc(t))return t;r+=1}else r+=1}},Hn.h.Eb=function(e,t,n,r){var i=this.h[t>>>e&31];return null!=i?i.Eb(e+5,t,n,r):r},Hn.h.fb=function(e,t,n,r,i,o){var a=n>>>t&31,u=this.h[a];return null==u?((e=At(this,e,a,fr.fb(e,t+5,n,r,i,o))).F+=1,e):(t=u.fb(e,t+5,n,r,i,o))===u?this:At(this,e,a,t)},Hn.h.eb=function(e,t,n,r,i){var o=t>>>e&31,a=this.h[o];return null==a?new Nt(null,this.F+1,Ct(this.h,o,fr.eb(e+5,t,n,r,i))):(e=a.eb(e+5,t,n,r,i))===a?this:new Nt(null,this.F,Ct(this.h,o,e))},Hn.h.cc=function(e,t,n,r){var i=this.h[t>>>e&31];return null!=i?i.cc(e+5,t,n,r):r},Hn.h.ec=function(e,t,n){var r=t>>>e&31,i=this.h[r];if(null!=i){if((e=i.ec(e+5,t,n))===i)r=this;else if(null==e)if(8>=this.F)e:{e=(i=this.h).length,t=Array(2*(this.F-1)),n=0;for(var o=1,a=0;;){if(!(n<e)){r=new It(null,a,t);break e}n!==r&&null!=i[n]?(t[o]=i[n],o+=2,a|=1<<n,n+=1):n+=1}}else r=new Nt(null,this.F-1,Ct(this.h,r,e));else r=new Nt(null,this.F,Ct(this.h,r,e));return r}return this},Hn.h.ja=function(){return new Tt(this.h)},Hn.h=Mt.prototype,Hn.h.Db=function(e){if(e===this.ha)return this;var t=Array(2*(this.F+1));return Se(this.h,0,t,0,2*this.F),new Mt(e,this.tb,this.F,t)},Hn.h.dc=function(){return Qt?Qt(this.h):Ft.call(null,this.h)},Hn.h.fc=function(e,t){return Dt(this.h,e,t)},Hn.h.Eb=function(e,t,n,r){return 0>(e=qt(this.h,this.F,n))?r:Pt(n,this.h[e])?this.h[e+1]:r},Hn.h.fb=function(e,t,n,r,i,o){return n===this.tb?-1===(t=qt(this.h,this.F,r))?this.h.length>2*this.F?(t=2*this.F,n=2*this.F+1,(e=this.Db(e)).h[t]=r,e.h[n]=i,o.m=!0,e.F+=1,e):(n=this.h.length,t=Array(n+2),Se(this.h,0,t,0,n),t[n]=r,t[n+1]=i,o.m=!0,r=this.F+1,e===this.ha?(this.h=t,this.F=r,e=this):e=new Mt(this.ha,this.tb,r,t),e):this.h[t+1]===i?this:At(this,e,t+1,i):new It(e,1<<(this.tb>>>t&31),[null,this,null,null]).fb(e,t,n,r,i,o)},Hn.h.eb=function(e,t,n,r,i){return t===this.tb?-1===(e=qt(this.h,this.F,n))?(e=2*this.F,t=Array(e+2),Se(this.h,0,t,0,e),t[e]=n,t[e+1]=r,i.m=!0,new Mt(null,this.tb,this.F+1,t)):Hn.Xc.a(this.h[e+1],r)?this:new Mt(null,this.tb,this.F,Ct(this.h,e+1,r)):new It(null,1<<(this.tb>>>e&31),[null,this]).eb(e,t,n,r,i)},Hn.h.cc=function(e,t,n,r){return 0>(e=qt(this.h,this.F,n))?r:Pt(n,this.h[e])?new Hn.wd(this.h[e],this.h[e+1]):r},Hn.h.ec=function(e,t,n){return-1===(e=qt(this.h,this.F,n))?this:1===this.F?null:new Mt(null,this.tb,this.F-1,kt(this.h,Ae(e)))},Hn.h.ja=function(){return new Rt(this.h)},Hn.h=zt.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){if(null==this.ca){var e=this.jb,t=this.G+2;return Vt?Vt(e,t,null):Ft.call(null,e,t,null)}e=this.jb,t=this.G;var n=Hn.B(this.ca);return Vt?Vt(e,t,n):Ft.call(null,e,t,n)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return null==this.ca?new Hn.wd(this.jb[this.G],this.jb[this.G+1]):Hn.u(this.ca)},Hn.h.Na=function(){var e,t,n=this,r=null==n.ca?(e=n.jb,t=n.G+2,Vt?Vt(e,t,null):Ft.call(null,e,t,null)):function(){var e=n.jb,t=n.G,r=Hn.B(n.ca);return Vt?Vt(e,t,r):Ft.call(null,e,t,r)}();return null!=r?r:Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new zt(t,this.jb,this.G,this.ca,this.v)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},zt.prototype[Bn]=function(){return ie(this)},Hn.h=Ut.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.M},Hn.h.Fa=function(){var e=this.jb,t=this.G,n=Hn.B(this.ca);return Gt?Gt(e,t,n):Ht.call(null,e,t,n)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return Hn.u(this.ca)},Hn.h.Na=function(){var e=this.jb,t=this.G,n=Hn.B(this.ca);return null!=(e=Gt?Gt(e,t,n):Ht.call(null,e,t,n))?e:Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.M?this:new Ut(t,this.jb,this.G,this.ca,this.v)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Ut.prototype[Bn]=function(){return ie(this)},Wt.prototype.Da=function(){return!this.zc||this.Oc.Da()},Wt.prototype.next=function(){return this.zc?this.Oc.next():(this.zc=!0,new Hn.wd(null,this.Ka))},Wt.prototype.remove=function(){return Error("Unsupported operation")},Hn.h=Hn.gg.prototype,Hn.h.Vb=Hn.yc,Hn.h.Nb=function(e,t){return null==t?this.Oa?new Hn.wd(null,this.Ka):null:null==this.root?null:this.root.cc(0,Hn.zc(t),t,null)},Hn.h.toString=function(){return $(this)},Hn.h.keys=function(){return ie(Hn.lg.b?Hn.lg.b(this):Hn.lg.call(null,this))},Hn.h.entries=function(){return new gt(Hn.t(Hn.t(this)))},Hn.h.values=function(){return ie(Hn.ng.b?Hn.ng.b(this):Hn.ng.call(null,this))},Hn.h.has=function(e){return Hn.vd(this,e)},Hn.h.get=function(e,t){return this.J(null,e,t)},Hn.h.forEach=function(e){for(var t=Hn.t(this),n=null,r=0,i=0;;)if(i<r){var o=n.ea(null,i),a=Hn.G(o,0,null);o=Hn.G(o,1,null),e.a?e.a(o,a):e.call(null,o,a),i+=1}else{if(!(t=Hn.t(t)))return null;Hn.rd(t)?(n=Hn.ic(t),t=Hn.jc(t),a=n,r=Hn.D(n),n=a):(n=Hn.u(t),a=Hn.G(n,0,null),o=Hn.G(n,1,null),e.a?e.a(o,a):e.call(null,o,a),t=Hn.B(t),n=null,r=0),i=0}},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return null==t?this.Oa?this.Ka:n:null==this.root?n:this.root.Eb(0,Hn.zc(t),t,n)},Hn.h.Ba=function(e,t,n){return e=this.Oa?t.c?t.c(n,null,this.Ka):t.call(null,n,null,this.Ka):n,Hn.Oc(e)?t=Hn.Ib(e):null!=this.root?(t=this.root.fc(t,e),t=Hn.Oc(t)?le.b?le.b(t):le.call(null,t):t):t=e,t},Hn.h.ja=function(){var e=this.root?Hn.oc(this.root):Hn.Ce();return this.Oa?new Wt(this.Ka,e):e},Hn.h.X=function(){return this.M},Hn.h.aa=function(){return this.F},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=Hn.Mc(this)},Hn.h.S=function(e,t){return bt(this,t)},Hn.h.Mb=function(){return new $t(this.root,this.F,this.Oa,this.Ka)},Hn.h.Aa=function(){return Hn.Lb(dr,this.M)},Hn.h.Ea=function(e,t){return null==t?this.Oa?new Hn.gg(this.M,this.F-1,this.root,!1,null,null):this:null==this.root||(e=this.root.ec(0,Hn.zc(t),t))===this.root?this:new Hn.gg(this.M,this.F-1,e,this.Oa,this.Ka,null)},Hn.h.U=function(e,t,n){return null==t?this.Oa&&n===this.Ka?this:new Hn.gg(this.M,this.Oa?this.F:this.F+1,this.root,!0,n,null):(e=new xt,(t=(null==this.root?fr:this.root).eb(0,Hn.zc(t),t,n,e))===this.root?this:new Hn.gg(this.M,e.m?this.F+1:this.F,t,this.Oa,this.Ka,null))},Hn.h.Z=function(){if(0<this.F){var e=null!=this.root?this.root.dc():null;return this.Oa?Hn.Yd(new Hn.wd(null,this.Ka),e):e}return null},Hn.h.$=function(e,t){return t===this.M?this:new Hn.gg(t,this.F,this.root,this.Oa,this.Ka,this.v)},Hn.h.ba=function(e,t){if(Hn.qd(t))return this.U(null,Hn.gd(t,0),Hn.gd(t,1));for(e=this,t=Hn.t(t);;){if(null==t)return e;var n=Hn.u(t);if(!Hn.qd(n))throw Error("conj on a map takes map entries or seqables of map entries");e=b(e,Hn.gd(n,0),Hn.gd(n,1)),t=Hn.B(t)}},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.W(null,t);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.W(null,t)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.W(null,e)},Hn.h.a=function(e,t){return this.J(null,e,t)};var dr=new Hn.gg(null,0,null,!1,null,ir);Hn.gg.prototype[Bn]=function(){return ie(this)},Hn.h=$t.prototype,Hn.h.aa=function(){if(this.ha)return this.count;throw Error("count after persistent!")},Hn.h.W=function(e,t){return null==t?this.Oa?this.Ka:null:null==this.root?null:this.root.Eb(0,Hn.zc(t),t)},Hn.h.J=function(e,t,n){return null==t?this.Oa?this.Ka:n:null==this.root?n:this.root.Eb(0,Hn.zc(t),t,n)},Hn.h.Qb=function(e,t){e:{if(!this.ha)throw Error("conj! after persistent");if(Hn.cf(t))e=Kt(this,Xt.b?Xt.b(t):Xt.call(null,t),tn.b?tn.b(t):tn.call(null,t));else if(Hn.qd(t))e=Kt(this,t.b?t.b(0):t.call(null,0),t.b?t.b(1):t.call(null,1));else for(e=Hn.t(t),t=this;;){var n=Hn.u(e);if(!Hn.q(n)){e=t;break e}e=Hn.B(e),t=Kt(t,Xt.b?Xt.b(n):Xt.call(null,n),tn.b?tn.b(n):tn.call(null,n))}}return e},Hn.h.$b=function(){if(!this.ha)throw Error("persistent! called twice");return this.ha=null,new Hn.gg(null,this.count,this.root,this.Oa,this.Ka,null)},Hn.h.Pb=function(e,t,n){return Kt(this,t,n)},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.W(null,t);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.W(null,t)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.W(null,e)},Hn.h.a=function(e,t){return this.J(null,e,t)},Hn.Yh=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(0<n.length?new Hn.Dc(n.slice(0),0,null):null)},Hn.Yh.j=function(e){e=Hn.t(e);for(var t=Hn.bc(dr);;){if(!e)return Hn.dc(t);var n=Hn.B(Hn.B(e));t=Hn.Ff.c(t,Hn.u(e),Hn.dd(e)),e=n}},Hn.Yh.I=0,Hn.Yh.H=function(e){return this.j(Hn.t(e))},Hn.h=Jt.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.Za},Hn.h.Fa=function(){var e=(null!=this.da?128&this.da.o||Hn.yc===this.da.Yb||!this.da.o&&Hn.cb(y,this.da):Hn.cb(y,this.da))?this.da.Fa(null):Hn.B(this.da);return null==e?null:new Jt(e,null)},Hn.h.T=function(){return ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return this.da.Ja(null).key},Hn.h.Na=function(){var e=(null!=this.da?128&this.da.o||Hn.yc===this.da.Yb||!this.da.o&&Hn.cb(y,this.da):Hn.cb(y,this.da))?this.da.Fa(null):Hn.B(this.da);return null!=e?new Jt(e,null):Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.Za?this:new Jt(this.da,t)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},Jt.prototype[Bn]=function(){return ie(this)},Hn.h=en.prototype,Hn.h.toString=function(){return $(this)},Hn.h.indexOf=function(){var e;return e=function(e,t){switch(arguments.length){case 1:return ye(this,e,0);case 2:return ye(this,e,t)}throw Error("Invalid arity: "+arguments.length)},e.b=function(e){return ye(this,e,0)},e.a=function(e,t){return ye(this,e,t)},e}(),Hn.h.lastIndexOf=function(){function e(e){return ve(this,e,Hn.D(this))}var t;return t=function(t,n){switch(arguments.length){case 1:return e.call(this,t);case 2:return ve(this,t,n)}throw Error("Invalid arity: "+arguments.length)},t.b=e,t.a=function(e,t){return ve(this,e,t)},t}(),Hn.h.X=function(){return this.Za},Hn.h.Fa=function(){var e=(null!=this.da?128&this.da.o||Hn.yc===this.da.Yb||!this.da.o&&Hn.cb(y,this.da):Hn.cb(y,this.da))?this.da.Fa(null):Hn.B(this.da);return null==e?null:new en(e,null)},Hn.h.T=function(){return ue(this)},Hn.h.S=function(e,t){return Re(this,t)},Hn.h.Aa=function(){return Hn.Gc},Hn.h.Ga=function(e,t){return _e(t,this)},Hn.h.Ha=function(e,t,n){return xe(t,n,this)},Hn.h.Ja=function(){return this.da.Ja(null).m},Hn.h.Na=function(){var e=(null!=this.da?128&this.da.o||Hn.yc===this.da.Yb||!this.da.o&&Hn.cb(y,this.da):Hn.cb(y,this.da))?this.da.Fa(null):Hn.B(this.da);return null!=e?new en(e,null):Hn.Gc},Hn.h.Z=function(){return this},Hn.h.$=function(e,t){return t===this.Za?this:new en(this.da,t)},Hn.h.ba=function(e,t){return Hn.Yd(t,this)},en.prototype[Bn]=function(){return ie(this)},nn.prototype.Da=function(){return this.Tb.Da()},nn.prototype.next=function(){if(this.Tb.Da())return this.Tb.next().key;throw Error("No such element")},nn.prototype.remove=function(){return Error("Unsupported operation")},Hn.h=Hn.pg.prototype,Hn.h.toString=function(){return $(this)},Hn.h.keys=function(){return ie(Hn.t(this))},Hn.h.entries=function(){return new wt(Hn.t(Hn.t(this)))},Hn.h.values=function(){return ie(Hn.t(this))},Hn.h.has=function(e){return Hn.vd(this,e)},Hn.h.forEach=function(e){for(var t=Hn.t(this),n=null,r=0,i=0;;)if(i<r){var o=n.ea(null,i),a=Hn.G(o,0,null);o=Hn.G(o,1,null),e.a?e.a(o,a):e.call(null,o,a),i+=1}else{if(!(t=Hn.t(t)))return null;Hn.rd(t)?(n=Hn.ic(t),t=Hn.jc(t),a=n,r=Hn.D(n),n=a):(n=Hn.u(t),a=Hn.G(n,0,null),o=Hn.G(n,1,null),e.a?e.a(o,a):e.call(null,o,a),t=Hn.B(t),n=null,r=0),i=0}},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return e=w(this.vb,t),Hn.q(e)?Hn.Db(e):n},Hn.h.ja=function(){return new nn(Hn.oc(this.vb))},Hn.h.X=function(){return this.M},Hn.h.aa=function(){return s(this.vb)},Hn.h.T=function(){var e=this.v;return null!=e?e:this.v=e=Hn.Mc(this)},Hn.h.S=function(e,t){if(!Hn.md(t))return!1;if(Hn.D(this)!==Hn.D(t))return!1;try{return Hn.Md((function(e,n){return(e=Hn.vd(t,n))?e:new Hn.Nc(!1)}),!0,this.vb)}catch(e){if(e instanceof Error)return!1;throw e}},Hn.h.Mb=function(){return new rn(Hn.bc(this.vb))},Hn.h.Aa=function(){return Hn.Lb(Hn.qg,this.M)},Hn.h.vc=Hn.Ha(6),Hn.h.Z=function(){return Hn.lg(this.vb)},Hn.h.$=function(e,t){return t===this.M?this:new Hn.pg(t,this.vb,this.v)},Hn.h.ba=function(e,t){return new Hn.pg(this.M,Hn.Ng.c(this.vb,t,null),null)},Hn.h.call=function(){var e;return e=function(e,t,n){switch(arguments.length){case 2:return this.W(null,t);case 3:return this.J(null,t,n)}throw Error("Invalid arity: "+(arguments.length-1))},e.a=function(e,t){return this.W(null,t)},e.c=function(e,t,n){return this.J(null,t,n)},e}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return this.W(null,e)},Hn.h.a=function(e,t){return this.J(null,e,t)},Hn.qg=new Hn.pg(null,Hn.Be,ir),Hn.pg.prototype[Bn]=function(){return ie(this)},Hn.h=rn.prototype,Hn.h.Qb=function(e,t){return this.xb=Hn.Ff.c(this.xb,t,null),this},Hn.h.$b=function(){return new Hn.pg(null,Hn.dc(this.xb),null)},Hn.h.aa=function(){return Hn.D(this.xb)},Hn.h.W=function(e,t){return this.J(null,t,null)},Hn.h.J=function(e,t,n){return Gn(this.xb,t,Qn)===Qn?n:t},Hn.h.call=function(){function e(e,t,n){return Gn(this.xb,t,Qn)===Qn?n:t}function t(e,t){return Gn(this.xb,t,Qn)===Qn?null:t}var n;return n=function(n,r,i){switch(arguments.length){case 2:return t.call(this,n,r);case 3:return e.call(this,n,r,i)}throw Error("Invalid arity: "+(arguments.length-1))},n.a=t,n.c=e,n}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.b=function(e){return Gn(this.xb,e,Qn)===Qn?null:e},Hn.h.a=function(e,t){return Gn(this.xb,e,Qn)===Qn?t:e};var pr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};Hn.Bc.prototype.za=Hn.yc,Hn.Bc.prototype.O=function(e,t,n){return Hn.Zb(t,"#'"),Hn.Hg(this.Ib,t,n)},Hn.Dc.prototype.za=Hn.yc,Hn.Dc.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.ae.prototype.za=Hn.yc,Hn.ae.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.wd.prototype.za=Hn.yc,Hn.wd.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"["," ","]",n,this)},zt.prototype.za=Hn.yc,zt.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},jt.prototype.za=Hn.yc,jt.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},oe.prototype.za=Hn.yc,oe.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},lt.prototype.za=Hn.yc,lt.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Te.prototype.za=Hn.yc,Te.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},ge.prototype.za=Hn.yc,ge.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.gg.prototype.za=Hn.yc,Hn.gg.prototype.O=function(e,t,n){return hn(this,Hn.Hg,t,n)},Ut.prototype.za=Hn.yc,Ut.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.mf.prototype.za=Hn.yc,Hn.mf.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"["," ","]",n,this)},Hn.pg.prototype.za=Hn.yc,Hn.pg.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"#{"," ","}",n,this)},Ze.prototype.za=Hn.yc,Ze.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.Ke.prototype.za=Hn.yc,Hn.Ke.prototype.O=function(e,t,n){return Hn.Zb(t,"#object[cljs.core.Atom "),Hn.Hg(new Hn.n(null,1,[Hn.Ih,this.state],null),t,n),Hn.Zb(t,"]")},en.prototype.za=Hn.yc,en.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.Ne.prototype.za=Hn.yc,Hn.Ne.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.Q.prototype.za=Hn.yc,Hn.Q.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"["," ","]",n,this)},Ie.prototype.za=Hn.yc,Ie.prototype.O=function(e,t){return Hn.Zb(t,"()")},Hn.n.prototype.za=Hn.yc,Hn.n.prototype.O=function(e,t,n){return hn(this,Hn.Hg,t,n)},Jt.prototype.za=Hn.yc,Jt.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.Sd.prototype.za=Hn.yc,Hn.Sd.prototype.O=function(e,t,n){return Hn.Cg(t,Hn.Hg,"("," ",")",n,this)},Hn.r.prototype.Lb=Hn.yc,Hn.r.prototype.Xa=Hn.Ha(4),Hn.O.prototype.Lb=Hn.yc,Hn.O.prototype.Xa=Hn.Ha(3),Hn.mf.prototype.Lb=Hn.yc,Hn.mf.prototype.Xa=Hn.Ha(2),Hn.Q.prototype.Lb=Hn.yc,Hn.Q.prototype.Xa=Hn.Ha(1),Hn.wd.prototype.Lb=Hn.yc,Hn.wd.prototype.Xa=Hn.Ha(0),Hn.Vg.prototype.Bb=function(){return Hn.q(this.Sb)&&(this.value=this.Sb.l?this.Sb.l():this.Sb.call(null),this.Sb=null),this.value},Hn.Vg.prototype.O=function(e,t,n){return Hn.Zb(t,"#object[cljs.core.Delay "),Hn.Hg(new Hn.n(null,2,[En,null==this.Sb?Tn:Cn,Hn.Ih,this.value],null),t,n),Hn.Zb(t,"]")},Hn.hi=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],1<n.length?new Hn.Dc(n.slice(1),0,null):null)},Hn.hi.j=function(e,t){t=null!=t&&(64&t.o||Hn.yc===t.Y)?Hn.qe(Hn.Yh,t):t;var n=Hn.N.c(t,Hn.Ah,Hn.vg),r=function e(t){if(null==t)return null;if(null!=t?Hn.yc===t.Yc||!t.lc&&Hn.cb(mn,t):Hn.cb(mn,t))return yn(t);if(t instanceof Hn.O)return n.b?n.b(t):n.call(null,t);if(t instanceof Hn.r)return Hn.fb.b(t);if(Hn.od(t)){var i={};t=Hn.t(t);for(var o=null,a=0,u=0;;)if(u<a){var l=o.ea(null,u),c=Hn.G(l,0,null);l=Hn.G(l,1,null),c=vn(c,r),l=e(l),i[c]=l,u+=1}else{if(!(t=Hn.t(t)))break;Hn.rd(t)?(a=Hn.ic(t),t=Hn.jc(t),o=a,a=Hn.D(a)):(a=Hn.u(t),o=Hn.G(a,0,null),a=Hn.G(a,1,null),o=vn(o,r),a=e(a),i[o]=a,t=Hn.B(t),o=null,a=0),u=0}return i}if(Hn.ld(t)){for(i=[],t=Hn.t(Hn.Ig.a(e,t)),o=null,u=a=0;;)if(u<a)c=o.ea(null,u),i.push(c),u+=1;else{if(!(t=Hn.t(t)))break;o=t,Hn.rd(o)?(t=Hn.ic(o),u=Hn.jc(o),o=t,a=Hn.D(t),t=u):(t=Hn.u(o),i.push(t),t=Hn.B(o),o=null,a=0),u=0}return i}return t};return r(e)},Hn.hi.I=1,Hn.hi.H=function(e){var t=Hn.u(e);return e=Hn.B(e),this.j(t,e)};var hr=null,mr=function e(t,n,r){var i,o=(i=Hn.Ib(r)).b?i.b(t):i.call(null,t);return o=!!Hn.q(Hn.q(o)?o.b?o.b(n):o.call(null,n):o)||null,Hn.q(o)?o:(o=function(){for(var i=bn(n);;){if(!(0<Hn.D(i)))return null;var o=Hn.u(i);e.c?e.c(t,o,r):e.call(null,t,o,r),i=Hn.Hc(i)}}(),Hn.q(o)?o:(o=function(){for(var i=bn(t);;){if(!(0<Hn.D(i)))return null;var o=Hn.u(i);e.c?e.c(o,n,r):e.call(null,o,n,r),i=Hn.Hc(i)}}(),!!Hn.q(o)&&o))},yr=function e(t,n,r,i,o,a,u,l){var c=Hn.Gd((function(e,i){var a=Hn.G(i,0,null);if(Hn.G(i,1,null),Hn.fh(Hn.Ib(r),n,a)){if(e=null==e||gn(a,Hn.u(e),o,Hn.Ib(r))?i:e,!gn(Hn.u(e),a,o,Hn.Ib(r)))throw Error(["Multiple methods in multimethod '",Hn.fb.b(t),"' match dispatch value: ",Hn.fb.b(n)," -> ",Hn.fb.b(a)," and ",Hn.fb.b(Hn.u(e)),", and neither is preferred"].join(""));return e}return e}),null,Hn.Ib(i)),s=function(){if(null==c){var e=Hn.Ib(i);e=e.b?e.b(l):e.call(null,l)}else e=!1;return Hn.q(e)?new Hn.Q(null,2,5,Hn.R,[l,e],null):c}();return Hn.q(s)?Hn.Xc.a(Hn.Ib(u),Hn.Ib(r))?(Hn.ih.N(a,Hn.Ng,n,Hn.dd(s)),Hn.dd(s)):(Hn.kh(a,i,u,r),e.la?e.la(t,n,r,i,o,a,u,l):e.call(null,t,n,r,i,o,a,u,l)):null};Hn.h=Hn.ph.prototype,Hn.h.call=function(){function e(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O){e=this;var j=Hn.ue(e.B,t,n,r,i,Hn.F([o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O])),S=On(this,j);return Hn.q(S)||wn(e.name,j),Hn.ue(S,t,n,r,i,Hn.F([o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O]))}function t(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){var w=(e=this).B.va?e.B.va(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g),O=On(this,w);return Hn.q(O)||wn(e.name,w),O.va?O.va(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):O.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)}function n(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){var g=(e=this).B.ua?e.B.ua(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b),w=On(this,g);return Hn.q(w)||wn(e.name,g),w.ua?w.ua(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):w.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)}function r(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){var b=(e=this).B.ta?e.B.ta(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v),g=On(this,b);return Hn.q(g)||wn(e.name,b),g.ta?g.ta(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):g.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)}function i(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){var v=(e=this).B.sa?e.B.sa(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y),b=On(this,v);return Hn.q(b)||wn(e.name,v),b.sa?b.sa(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):b.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)}function o(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){var y=(e=this).B.ra?e.B.ra(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m),v=On(this,y);return Hn.q(v)||wn(e.name,y),v.ra?v.ra(t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):v.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)}function a(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){var m=(e=this).B.qa?e.B.qa(t,n,r,i,o,a,u,l,c,s,f,d,p,h):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h),y=On(this,m);return Hn.q(y)||wn(e.name,m),y.qa?y.qa(t,n,r,i,o,a,u,l,c,s,f,d,p,h):y.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p,h)}function u(e,t,n,r,i,o,a,u,l,c,s,f,d,p){var h=(e=this).B.pa?e.B.pa(t,n,r,i,o,a,u,l,c,s,f,d,p):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p),m=On(this,h);return Hn.q(m)||wn(e.name,h),m.pa?m.pa(t,n,r,i,o,a,u,l,c,s,f,d,p):m.call(null,t,n,r,i,o,a,u,l,c,s,f,d,p)}function l(e,t,n,r,i,o,a,u,l,c,s,f,d){var p=(e=this).B.oa?e.B.oa(t,n,r,i,o,a,u,l,c,s,f,d):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f,d),h=On(this,p);return Hn.q(h)||wn(e.name,p),h.oa?h.oa(t,n,r,i,o,a,u,l,c,s,f,d):h.call(null,t,n,r,i,o,a,u,l,c,s,f,d)}function c(e,t,n,r,i,o,a,u,l,c,s,f){var d=(e=this).B.na?e.B.na(t,n,r,i,o,a,u,l,c,s,f):e.B.call(null,t,n,r,i,o,a,u,l,c,s,f),p=On(this,d);return Hn.q(p)||wn(e.name,d),p.na?p.na(t,n,r,i,o,a,u,l,c,s,f):p.call(null,t,n,r,i,o,a,u,l,c,s,f)}function s(e,t,n,r,i,o,a,u,l,c,s){var f=(e=this).B.ma?e.B.ma(t,n,r,i,o,a,u,l,c,s):e.B.call(null,t,n,r,i,o,a,u,l,c,s),d=On(this,f);return Hn.q(d)||wn(e.name,f),d.ma?d.ma(t,n,r,i,o,a,u,l,c,s):d.call(null,t,n,r,i,o,a,u,l,c,s)}function f(e,t,n,r,i,o,a,u,l,c){var s=(e=this).B.ya?e.B.ya(t,n,r,i,o,a,u,l,c):e.B.call(null,t,n,r,i,o,a,u,l,c),f=On(this,s);return Hn.q(f)||wn(e.name,s),f.ya?f.ya(t,n,r,i,o,a,u,l,c):f.call(null,t,n,r,i,o,a,u,l,c)}function d(e,t,n,r,i,o,a,u,l){var c=(e=this).B.la?e.B.la(t,n,r,i,o,a,u,l):e.B.call(null,t,n,r,i,o,a,u,l),s=On(this,c);return Hn.q(s)||wn(e.name,c),s.la?s.la(t,n,r,i,o,a,u,l):s.call(null,t,n,r,i,o,a,u,l)}function p(e,t,n,r,i,o,a,u){var l=(e=this).B.xa?e.B.xa(t,n,r,i,o,a,u):e.B.call(null,t,n,r,i,o,a,u),c=On(this,l);return Hn.q(c)||wn(e.name,l),c.xa?c.xa(t,n,r,i,o,a,u):c.call(null,t,n,r,i,o,a,u)}function h(e,t,n,r,i,o,a){var u=(e=this).B.ia?e.B.ia(t,n,r,i,o,a):e.B.call(null,t,n,r,i,o,a),l=On(this,u);return Hn.q(l)||wn(e.name,u),l.ia?l.ia(t,n,r,i,o,a):l.call(null,t,n,r,i,o,a)}function m(e,t,n,r,i,o){var a=(e=this).B.V?e.B.V(t,n,r,i,o):e.B.call(null,t,n,r,i,o),u=On(this,a);return Hn.q(u)||wn(e.name,a),u.V?u.V(t,n,r,i,o):u.call(null,t,n,r,i,o)}function y(e,t,n,r,i){var o=(e=this).B.N?e.B.N(t,n,r,i):e.B.call(null,t,n,r,i),a=On(this,o);return Hn.q(a)||wn(e.name,o),a.N?a.N(t,n,r,i):a.call(null,t,n,r,i)}function v(e,t,n,r){var i=(e=this).B.c?e.B.c(t,n,r):e.B.call(null,t,n,r),o=On(this,i);return Hn.q(o)||wn(e.name,i),o.c?o.c(t,n,r):o.call(null,t,n,r)}function b(e,t,n){var r=(e=this).B.a?e.B.a(t,n):e.B.call(null,t,n),i=On(this,r);return Hn.q(i)||wn(e.name,r),i.a?i.a(t,n):i.call(null,t,n)}function g(e,t){var n=(e=this).B.b?e.B.b(t):e.B.call(null,t),r=On(this,n);return Hn.q(r)||wn(e.name,n),r.b?r.b(t):r.call(null,t)}function w(e){var t=(e=this).B.l?e.B.l():e.B.call(null),n=On(this,t);return Hn.q(n)||wn(e.name,t),n.l?n.l():n.call(null)}var O;return O=function(O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F){switch(arguments.length){case 1:return w.call(this,O);case 2:return g.call(this,O,j);case 3:return b.call(this,O,j,S);case 4:return v.call(this,O,j,S,E);case 5:return y.call(this,O,j,S,E,_);case 6:return m.call(this,O,j,S,E,_,x);case 7:return h.call(this,O,j,S,E,_,x,P);case 8:return p.call(this,O,j,S,E,_,x,P,C);case 9:return d.call(this,O,j,S,E,_,x,P,C,k);case 10:return f.call(this,O,j,S,E,_,x,P,C,k,A);case 11:return s.call(this,O,j,S,E,_,x,P,C,k,A,D);case 12:return c.call(this,O,j,S,E,_,x,P,C,k,A,D,R);case 13:return l.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I);case 14:return u.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T);case 15:return a.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N);case 16:return o.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q);case 17:return i.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M);case 18:return r.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z);case 19:return n.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L);case 20:return t.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B);case 21:var Q=this.B.wa?this.B.wa(j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z):this.B.call(null,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z),V=On(this,Q);return Hn.q(V)||wn(this.name,Q),V.wa?V.wa(j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z):V.call(null,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z);case 22:return e.call(this,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F)}throw Error("Invalid arity: "+(arguments.length-1))},O.b=w,O.a=g,O.c=b,O.N=v,O.V=y,O.ia=m,O.xa=h,O.la=p,O.ya=d,O.ma=f,O.na=s,O.oa=c,O.pa=l,O.qa=u,O.ra=a,O.sa=o,O.ta=i,O.ua=r,O.va=n,O.wa=t,O.Ob=e,O}(),Hn.h.apply=function(e,t){return this.call.apply(this,[this].concat(u(t)))},Hn.h.l=function(){var e=this.B.l?this.B.l():this.B.call(null),t=On(this,e);return Hn.q(t)||wn(this.name,e),t.l?t.l():t.call(null)},Hn.h.b=function(e){var t=this.B.b?this.B.b(e):this.B.call(null,e),n=On(this,t);return Hn.q(n)||wn(this.name,t),n.b?n.b(e):n.call(null,e)},Hn.h.a=function(e,t){var n=this.B.a?this.B.a(e,t):this.B.call(null,e,t),r=On(this,n);return Hn.q(r)||wn(this.name,n),r.a?r.a(e,t):r.call(null,e,t)},Hn.h.c=function(e,t,n){var r=this.B.c?this.B.c(e,t,n):this.B.call(null,e,t,n),i=On(this,r);return Hn.q(i)||wn(this.name,r),i.c?i.c(e,t,n):i.call(null,e,t,n)},Hn.h.N=function(e,t,n,r){var i=this.B.N?this.B.N(e,t,n,r):this.B.call(null,e,t,n,r),o=On(this,i);return Hn.q(o)||wn(this.name,i),o.N?o.N(e,t,n,r):o.call(null,e,t,n,r)},Hn.h.V=function(e,t,n,r,i){var o=this.B.V?this.B.V(e,t,n,r,i):this.B.call(null,e,t,n,r,i),a=On(this,o);return Hn.q(a)||wn(this.name,o),a.V?a.V(e,t,n,r,i):a.call(null,e,t,n,r,i)},Hn.h.ia=function(e,t,n,r,i,o){var a=this.B.ia?this.B.ia(e,t,n,r,i,o):this.B.call(null,e,t,n,r,i,o),u=On(this,a);return Hn.q(u)||wn(this.name,a),u.ia?u.ia(e,t,n,r,i,o):u.call(null,e,t,n,r,i,o)},Hn.h.xa=function(e,t,n,r,i,o,a){var u=this.B.xa?this.B.xa(e,t,n,r,i,o,a):this.B.call(null,e,t,n,r,i,o,a),l=On(this,u);return Hn.q(l)||wn(this.name,u),l.xa?l.xa(e,t,n,r,i,o,a):l.call(null,e,t,n,r,i,o,a)},Hn.h.la=function(e,t,n,r,i,o,a,u){var l=this.B.la?this.B.la(e,t,n,r,i,o,a,u):this.B.call(null,e,t,n,r,i,o,a,u),c=On(this,l);return Hn.q(c)||wn(this.name,l),c.la?c.la(e,t,n,r,i,o,a,u):c.call(null,e,t,n,r,i,o,a,u)},Hn.h.ya=function(e,t,n,r,i,o,a,u,l){var c=this.B.ya?this.B.ya(e,t,n,r,i,o,a,u,l):this.B.call(null,e,t,n,r,i,o,a,u,l),s=On(this,c);return Hn.q(s)||wn(this.name,c),s.ya?s.ya(e,t,n,r,i,o,a,u,l):s.call(null,e,t,n,r,i,o,a,u,l)},Hn.h.ma=function(e,t,n,r,i,o,a,u,l,c){var s=this.B.ma?this.B.ma(e,t,n,r,i,o,a,u,l,c):this.B.call(null,e,t,n,r,i,o,a,u,l,c),f=On(this,s);return Hn.q(f)||wn(this.name,s),f.ma?f.ma(e,t,n,r,i,o,a,u,l,c):f.call(null,e,t,n,r,i,o,a,u,l,c)},Hn.h.na=function(e,t,n,r,i,o,a,u,l,c,s){var f=this.B.na?this.B.na(e,t,n,r,i,o,a,u,l,c,s):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s),d=On(this,f);return Hn.q(d)||wn(this.name,f),d.na?d.na(e,t,n,r,i,o,a,u,l,c,s):d.call(null,e,t,n,r,i,o,a,u,l,c,s)},Hn.h.oa=function(e,t,n,r,i,o,a,u,l,c,s,f){var d=this.B.oa?this.B.oa(e,t,n,r,i,o,a,u,l,c,s,f):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f),p=On(this,d);return Hn.q(p)||wn(this.name,d),p.oa?p.oa(e,t,n,r,i,o,a,u,l,c,s,f):p.call(null,e,t,n,r,i,o,a,u,l,c,s,f)},Hn.h.pa=function(e,t,n,r,i,o,a,u,l,c,s,f,d){var p=this.B.pa?this.B.pa(e,t,n,r,i,o,a,u,l,c,s,f,d):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d),h=On(this,p);return Hn.q(h)||wn(this.name,p),h.pa?h.pa(e,t,n,r,i,o,a,u,l,c,s,f,d):h.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d)},Hn.h.qa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p){var h=this.B.qa?this.B.qa(e,t,n,r,i,o,a,u,l,c,s,f,d,p):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p),m=On(this,h);return Hn.q(m)||wn(this.name,h),m.qa?m.qa(e,t,n,r,i,o,a,u,l,c,s,f,d,p):m.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p)},Hn.h.ra=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h){var m=this.B.ra?this.B.ra(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h),y=On(this,m);return Hn.q(y)||wn(this.name,m),y.ra?y.ra(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h):y.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h)},Hn.h.sa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m){var y=this.B.sa?this.B.sa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m),v=On(this,y);return Hn.q(v)||wn(this.name,y),v.sa?v.sa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m):v.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m)},Hn.h.ta=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y){var v=this.B.ta?this.B.ta(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y),b=On(this,v);return Hn.q(b)||wn(this.name,v),b.ta?b.ta(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y):b.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y)},Hn.h.ua=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v){var b=this.B.ua?this.B.ua(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v),g=On(this,b);return Hn.q(g)||wn(this.name,b),g.ua?g.ua(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v):g.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v)},Hn.h.va=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b){var g=this.B.va?this.B.va(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b),w=On(this,g);return Hn.q(w)||wn(this.name,g),w.va?w.va(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b):w.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b)},Hn.h.wa=function(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g){var w=this.B.wa?this.B.wa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):this.B.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g),O=On(this,w);return Hn.q(O)||wn(this.name,w),O.wa?O.wa(e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g):O.call(null,e,t,n,r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g)},Hn.h.Wb=function(){return U(this.name)},Hn.h.Xb=function(){return H(this.name)},Hn.h.T=function(){return this[Hn.ea]||(this[Hn.ea]=++Sn)},Hn.sh.prototype.__proto__=Error.prototype,Hn.sh.prototype.za=Hn.yc,Hn.sh.prototype.O=function(e,t,n){return Hn.Zb(t,"#error {:message "),Hn.Hg(this.message,t,n),Hn.q(this.data)&&(Hn.Zb(t,", :data "),Hn.Hg(this.data,t,n)),Hn.q(this.Cc)&&(Hn.Zb(t,", :cause "),Hn.Hg(this.Cc,t,n)),Hn.Zb(t,"}")},Hn.sh.prototype.toString=function(){return $(this)}},95375:function(e,t,n){n.g;var r=n(4923);n(70406),n(52340),r.Z=Error()},4923:function(e){e.exports={}},82702:function(e,t,n){n.g;var r,i=n(4923);n(70406),n(52340),n(76877),r=function(){},i.ji=function(e){return null!=e&&(null!=e?!!(64&e.o||i.yc===e.Y)||!e.o&&i.cb(r,e):i.cb(r,e))},i.ki=function(e,t){return new i.ae(null,(function(){e:for(var n=e,r=t;r=i.t(r),0<n&&r;)--n,r=i.Hc(r);return r}),null)},i.li=new i.O(null,"error","error",-978969032),i.mi=new i.O(null,"all","all",892129742),i.ni=new i.O(null,"info","info",-317069002),i.oi=new i.O(null,"time","time",1385887882)},70406:function(e,t,n){n.g;var r=n(4923);r.aa=r.aa||{},r.ba=n.g,r.ea="closure_uid_"+(1e9*Math.random()>>>0),r.ha=Date.now||function(){return+new Date},r.ba=n.g},25949:function(e,t,n){n.g;var r=n(4923);n(70406),n(80570),n(95466),(0,r.ha)()},94948:function(e,t,n){n.g;var r=n(4923);n(70406);var i=function(e){this.yd=e};i.prototype.toString=function(){return this.yd},r.ja=new i("APPLET"),r.ka=new i("BASE"),r.la=new i("EMBED"),r.na=new i("IFRAME"),r.ra=new i("LINK"),r.sa=new i("MATH"),r.ta=new i("META"),r.ua=new i("OBJECT"),r.va=new i("SCRIPT"),r.wa=new i("STYLE"),r.xa=new i("SVG"),r.ya=new i("TEMPLATE")},95466:function(e,t,n){n.g;var r,i=n(4923);n(70406),n(94948),n(4683),i.Ca=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},r=function(e){var t=arguments.length;if(1==t&&"array"==i.Ca(arguments[0]))return r.apply(null,arguments[0]);for(var n={},o=0;o<t;o++)n[arguments[o]]=!0;return n},r(i.ja,i.ka,i.la,i.na,i.ra,i.sa,i.ta,i.ua,i.va,i.wa,i.xa,i.ya)},4683:function(e,t,n){n.g;var r=n(4923);n(70406);e:{var i=r.ba.navigator;if(i){var o=i.userAgent;if(o){r.za=o;break e}}r.za=""}},76877:function(e,t,n){n.g;var r=n(4923);n(70406),n(95466),r.Ea=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)}},72771:function(e,t,n){n.g;var r=n(4923);n(70406),n(76877),r.ul=function(e,t){var n=Array.prototype.slice.call(arguments),i=n.shift();if(void 0===i)throw Error("[goog.string.format] Template required");return i.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,(function(e,t,i,o,a,u,l,c){if("%"==u)return"%";var s=n.shift();if(void 0===s)throw Error("[goog.string.format] Not enough arguments");return arguments[0]=s,r.ul.ub[u].apply(null,arguments)}))},r.ul.ub={},r.ul.ub.s=function(e,t,n){return isNaN(n)||""==n||e.length>=Number(n)?e:e=-1<t.indexOf("-",0)?e+(0,r.Ea)(" ",Number(n)-e.length):(0,r.Ea)(" ",Number(n)-e.length)+e},r.ul.ub.f=function(e,t,n,i,o){i=e.toString(),isNaN(o)||""==o||(i=parseFloat(e).toFixed(o));var a=0>Number(e)?"-":0<=t.indexOf("+")?"+":0<=t.indexOf(" ")?" ":"";return 0<=Number(e)&&(i=a+i),isNaN(n)||i.length>=Number(n)||(i=isNaN(o)?Math.abs(Number(e)).toString():Math.abs(Number(e)).toFixed(o),e=Number(n)-i.length-a.length,0<=t.indexOf("-",0)?i=a+i+(0,r.Ea)(" ",e):(t=0<=t.indexOf("0",0)?"0":" ",i=a+(0,r.Ea)(t,e)+i)),i},r.ul.ub.d=function(e,t,n,i,o,a,u,l){return r.ul.ub.f(parseInt(e,10),t,n,i,0,a,u,l)},r.ul.ub.i=r.ul.ub.d,r.ul.ub.u=r.ul.ub.d},80570:function(e,t,n){n.g;var r=n(4923);n(70406),n(4683),n(76877);var i=function(e){return-1!=r.za.toLowerCase().indexOf(e.toLowerCase())},o=function(e){return-1!=r.za.indexOf(e)},a=function(){return o("iPhone")&&!o("iPod")&&!o("iPad")};o("Opera"),o("Trident")||o("MSIE"),o("Edge"),!o("Gecko")||i("WebKit")&&!o("Edge")||o("Trident")||o("MSIE")||o("Edge"),i("WebKit")&&!o("Edge")&&o("Mobile"),o("Macintosh"),o("Windows"),o("Linux")||o("CrOS");var u=r.ba.navigator||null;u&&(u.appVersion||"").indexOf("X11"),o("Android"),a(),o("iPad"),o("iPod"),a()||o("iPad")||o("iPod"),i("KaiOS"),i("GAFP")},70818:function(e,t,n){var r=n(98399),i=(n.g,n(4923));n(70406),n(52340),n(40656),n(57037),n(80570),n(95466);var o=function(){},a=function(e,t){return i.ki(1,p.a(new i.Ne(null,-1,e,null),t))},u=function(e){return i.N.a(i.eD,e).value},l=function(e){var t=i.G(e,0,null);return e=i.G(e,1,null),new i.Q(null,2,5,i.R,[[i.fb.b(t),i.fb.b(" ")].join(""),e],null)},c=function(e,t,n){var r=i.G(e,0,null);return e=i.G(e,1,null),new i.Q(null,2,5,i.R,[[i.fb.b(r),"%c",i.fb.b(t),"%c"].join(""),i.Vd.j(e,["color:",i.fb.b(i.N.a(i.QD,n))].join(""),i.F(["color:black"]))],null)},s=function(e,t,n){var r=i.G(e,0,null);return e=i.G(e,1,null),new i.Q(null,2,5,i.R,[[i.fb.b(r),"%c",i.fb.b(t),"%c"].join(""),i.Vd.j(e,["color:",i.fb.b(i.N.a(i.QD,i.BD)),";background-color:",i.fb.b(i.N.a(i.QD,n))].join(""),i.F(["color:black;background-color:inherit"]))],null)},f=function(e){return function(t){var n=null!=t&&(64&t.o||i.yc===t.Y)?i.qe(i.Yh,t):t,o=i.N.a(n,i.xD),a=i.N.a(n,i.jD);return t=i.N.a(n,i.lD),a=function(e){function t(e,t){return t>=e}return e=u(e),t(u(i.rD),e)?"error":t(u(i.sD),e)?"warn":t(u(i.ni),e)?"info":(t(u(i.yD),e),"log")}(a),a=i.Ra(r,a),a=i.q(a)?a:r.log,i.qe(a,e.b?e.b(n):e.call(null,n)),i.q(t)?(n=["[",i.fb.b(o),"]"].join(""),o=i.fb.b(t),t=t.stack,a.N?a.N(n,o,"\n",t):a.call(null,n,o,"\n",t)):null}},d=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,o=0;o<r;)n.push(arguments[o]),o+=1;return e.j(arguments[0],arguments[1],new i.Dc(n.slice(2),0,null))}};d.b=function(){return!0},d.a=function(e,t){return e<=t},d.j=function(e,t,n){for(;;){if(!(e<=t))return!1;if(!i.B(n))return t<=i.u(n);e=t,t=i.u(n),n=i.B(n)}},d.H=function(e){var t=i.u(e),n=i.B(e);return e=i.u(n),n=i.B(n),this.j(t,e,n)},d.I=2;var p=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,o=0;o<r;)n.push(arguments[o]),o+=1;return e.j(arguments[0],arguments[1],new i.Dc(n.slice(2),0,null))}};p.l=function(){return i.Gc},p.b=function(e){return new i.ae(null,(function(){return e}),null)},p.a=function(e,t){return new i.ae(null,(function(){var n=i.t(e),r=i.t(t);return n&&r?i.Yd(i.u(n),i.Yd(i.u(r),p.a(i.Hc(n),i.Hc(r)))):null}),null)},p.j=function(e,t,n){return new i.ae(null,(function(){var r=i.Ig.a(i.t,i.Vd.j(n,t,i.F([e])));return i.Fe(i.Nd,r)?i.Wh.a(i.Ig.a(i.u,r),i.qe(p,i.Ig.a(i.Hc,r))):null}),null)},p.H=function(e){var t=i.u(e),n=i.B(e);return e=i.u(n),n=i.B(n),this.j(t,e,n)},p.I=2;var h=function e(t,n){for(;;){if(i.Xc.a(i.DD,n))return c(t,", ",i.FD);if(i.Xc.a(i.PD,n))return l(t);if(n instanceof i.O)return c(t,n,i.CD);if(n instanceof i.r)return c(t,n,i.JD);if("string"==typeof n)return c(t,i.Qg(i.F([n])),i.ID);if(i.cf(n)){var r=l((s=void 0,f=void 0,s=t,f=i.Db(n),e.a?e.a(s,f):e.call(null,s,f))),u=i.Eb(n);return e.a?e.a(r,u):e.call(null,r,u)}if(n instanceof i.n||n instanceof i.gg)return r=c(r=t,"{",i.KD),r=i.Gd(e,r,a(i.DD,n)),c(r,"}",i.KD);if(i.od(n))return r=c(r=t,["#",i.fb.b(function(){var e=i.db(n),t=e.name;return i.kd(t)?i.Qg(i.F([e])):t}())," "].join(""),i.ND),r=c(r,"{",i.KD),r=i.Gd(e,r,a(i.DD,n)),c(r,"}",i.KD);if(i.md(n))return r=c(r=t,"#{",i.KD),r=i.Gd(e,r,a(i.PD,n)),c(r,"}",i.KD);if(i.qd(n))return r=c(r=t,"[",i.KD),r=i.Gd(e,r,a(i.PD,n)),c(r,"]",i.KD);if(i.ji(n))return r=c(r=t,"(",i.ND),r=i.Gd(e,r,a(i.PD,n)),c(r,")",i.ND);if(null!=n?16384&n.K||i.yc===n.Jd||!n.K&&i.cb(o,n):i.cb(o,n))r=c(t,"#atom ",i.ND),u=i.Ib(n),t=r,n=u;else if(null!=n&&i.yc===n.ld)r=c(t,"#uuid ",i.ND),u=i.fb.b(n),t=r,n=u;else if(null!=n&&n.constructor===Object)r=c(t,"#js ",i.ND),u=i.Gd(function(e,t){return function(e,n){return i.Ng.c(e,i.Jg.b(n),i.Ra(t,n))}}(0,n),i.Be,Object.keys(n)),t=r,n=u;else{if(!i.ab(n))return c(t,i.Qg(i.F([n])),i.GD);r=c(t,"#js ",i.ND),u=i.bi.a(i.ff,n),t=r,n=u}}var s,f};i.cE=f((function(e){e=null!=e&&(64&e.o||i.yc===e.Y)?i.qe(i.Yh,e):e,i.N.a(e,i.jD);var t=i.N.a(e,i.xD),n=i.N.a(e,i.pD);return i.N.a(e,i.lD),new i.Q(null,2,5,i.R,[["[",i.fb.b(t),"]"].join(""),n],null)})),i.dE=f((function(e){var t=null!=e&&(64&e.o||i.yc===e.Y)?i.qe(i.Yh,e):e,n=i.N.a(t,i.jD);e=i.N.a(t,i.xD);var r=i.N.a(t,i.pD);return i.N.a(t,i.lD),t=function(e){var t,n=u(e);return i.q((t=u(i.rD),d.a?d.a(t,n):d.call(null,t,n)))?i.MD:i.q(function(){var e=u(i.sD);return d.a?d.a(e,n):d.call(null,e,n)}())?i.OD:i.q(function(){var e=u(i.ni);return d.a?d.a(e,n):d.call(null,e,n)}())?i.CD:i.q(function(){var e=u(i.yD);return d.a?d.a(e,n):d.call(null,e,n)}())?i.JD:i.q(function(){var e=u(i.oD);return d.a?d.a(e,n):d.call(null,e,n)}())?i.LD:i.q(function(){var e=u(i.nD);return d.a?d.a(e,n):d.call(null,e,n)}())?i.ED:i.q(function(){var e=u(i.qD);return d.a?d.a(e,n):d.call(null,e,n)}())?i.HD:i.FD}(n),r=h(l(s(s(s(new i.Q(null,2,5,i.R,["",i.ff],null),"[",t),e,t),"]",t)),r),e=i.G(r,0,null),r=i.G(r,1,null),i.Yd(e,r)})),i.eE=f((function(e){e=null!=e&&(64&e.o||i.yc===e.Y)?i.qe(i.Yh,e):e,i.N.a(e,i.jD);var t=i.N.a(e,i.xD),n=i.N.a(e,i.pD);return i.N.a(e,i.lD),new i.Q(null,2,5,i.R,[["[",i.fb.b(t),"]"].join(""),i.Qg(i.F([n]))],null)}))},40656:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f=n(4923);n(70406),n(52340),n(80570),n(95466),n(82702),n(25949),n(94948),n(76877),r=function(e,t){this.name=e,this.value=t},f.bD=function(){return null},f.dD=function(e){if(f.Xc.a(f.cD,e))e="";else if("string"!=typeof e)if((e instanceof f.O||e instanceof f.r)&&null==f.$d(e))e=f.vg(e);else{if(e instanceof f.O||e instanceof f.r){var t=f.$d(e);t=!!f.q(t)||t}else t=!1;e=f.td(t)?[f.$d(e),"/",f.vg(e)].join(""):f.fb.b(e)}return e},i=function(e,t){null!=(e=f.bD(f.dD(e)))&&(t=f.N.a(f.eD,t),void 0!==f.aa&&void 0!==f.fD&&void 0!==f.fD.Ac?f.fD.Ac(e):e.Ac(t))},f.hD=function(e){for(var t=f.t(e),n=null,r=0,o=0;;)if(o<r){var a=n.ea(null,o);e=f.G(a,0,null),a="string"==typeof(a=f.G(a,1,null))?f.Jg.b(a):a,i(e,a),o+=1}else{if(!(e=f.t(t)))return null;t=e,f.rd(t)?(n=f.ic(t),t=f.jc(t),e=n,r=f.D(n),n=e):(n=f.u(t),e=f.G(n,0,null),n="string"==typeof(a=f.G(n,1,null))?f.Jg.b(a):a,i(e,n),t=f.B(t),n=null,r=0),o=0}},o={},r.prototype.toString=function(){return this.name},f.fD={},f.cD=new f.O("glogi","root","glogi/root",-77414841),f.jD=new f.O(null,"level","level",1290497552),f.kD=new f.O(null,"sequenceNumber","sequenceNumber",-543983615),f.lD=new f.O(null,"exception","exception",-335277064),a=new f.O(null,"shout","shout",186018337),f.nD=new f.O(null,"finer","finer",974902846),f.oD=new f.O(null,"fine","fine",-873037193),f.pD=new f.O(null,"message","message",-406056002),f.qD=new f.O(null,"finest","finest",-1359568890),f.rD=new f.O(null,"severe","severe",-1364500238),f.sD=new f.O(null,"warning","warning",-1685650671),u=new f.O(null,"trace","trace",-1082747415),l=new f.O(null,"debug","debug",-1608172596),c=new f.O(null,"off","off",606440789),s=new f.O(null,"warn","warn",-436710552),f.xD=new f.O(null,"logger-name","logger-name",-1988126927),f.yD=new f.O(null,"config","config",994861415);var d=void 0!==f.aa&&void 0!==f.fD&&void 0!==r?r:o.ae.Fd;f.dD(""),f.eD=f.hg([a,f.qD,f.yD,s,u,l,f.mi,f.sD,f.rD,c,f.ni,f.oD,f.li,f.nD],[d.Hd,d.Dd,d.Cd,d.Tc,d.Rc,d.Qc,d.Bd,d.Tc,d.Sc,d.Gd,d.Ed,d.Qc,d.Sc,d.Rc]),e.exports={set_levels:f.hD}},57037:function(e,t,n){n.g;var r,i=n(4923);n(70406),n(52340),n(40656),r="lambdaisland.glogi.print",i.BD=new i.O(null,"white","white",-483998618),i.CD=new i.O(null,"blue","blue",-622100620),i.DD=new i.O(r,"comma","lambdaisland.glogi.print/comma",-725182078),i.ED=new i.O(null,"gray3","gray3",-617553786),i.FD=new i.O(null,"gray2","gray2",-1424527469),i.GD=new i.O(null,"gray5","gray5",1481094938),i.HD=new i.O(null,"gray4","gray4",460735815),i.ID=new i.O(null,"turqoise","turqoise",1674869457),i.JD=new i.O(null,"green","green",-945526839),i.KD=new i.O(null,"purple","purple",-876021126),i.LD=new i.O(null,"yellow","yellow",-881035449),i.MD=new i.O(null,"red","red",-969428204),i.ND=new i.O(null,"brown","brown",1414854429),i.OD=new i.O(null,"orange","orange",73816386),i.PD=new i.O(r,"space","lambdaisland.glogi.print/space",1682088588),i.QD=i.hg([i.OD,new i.O(null,"gray1","gray1",23549221),i.BD,i.ED,i.HD,i.LD,i.JD,i.ID,i.FD,i.MD,i.CD,i.KD,new i.O(null,"gray6","gray6",-2106469670),i.GD,i.ND,new i.O(null,"black","black",1294279647)],"#f5871f #e0e0e0 #ffffff #8e908c #969896 #eab700 #718c00 #3e999f #d6d6d6 #c82829 #4271ae #8959a8 #282a2e #4d4d4c #a3685a #1d1f21".split(" "))},24359:function(e,t,n){n.g;var r=n(4923);n(70406),n(52340),n(56812);var i=function(){},o=function(e,t){if(null!=e&&null!=e.Xc)e=e.Xc(e,t);else{var n=o[r.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=o._))throw r.eb("IEncodeClojure.-js->clj",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},a=function e(t){for(var n=[],i=arguments.length,o=0;o<i;)n.push(arguments[o]),o+=1;return e.j(0<n.length?new r.Dc(n.slice(0),0,null):null)};a.j=function(e){return e=e instanceof r.Dc&&0===e.G?e.h:function(e){function t(e,t){return e.push(t),e}var n=[];return r.Gd?r.Gd(t,n,e):r.Hd.call(null,t,n,e)}(e),r.Cf(e)},a.I=0,a.H=function(e){return this.j(r.t(e))},e.exports={normalize:function(e){return r.hi.j((0,r.VG)(function(e){var t=r.F([r.Fh,!1]),n=null!=t&&(64&t.o||r.yc===t.Y)?r.qe(r.Yh,t):t;n=r.N.a(n,r.Fh);var u=r.q(n)?r.Jg:r.fb;return function e(n){return(null!=n?r.yc===n.Nd||!n.lc&&r.cb(i,n):r.cb(i,n))?o(n,r.qe(a,t)):r.ji(n)?r.oE(r.Ig.a(e,n)):r.cf(n)?new r.wd(e(r.Db(n)),e(r.Eb(n))):r.ld(n)?r.bi.c(r.fd(n),r.Ig.b(e),n):r.ab(n)?r.dc(r.Gd((function(t,n){return r.af.a(t,e(n))}),r.bc(r.ff),n)):r.db(n)===Object?r.dc(r.Gd((function(t,i){return r.Ff.c(t,u.b?u.b(i):u.call(null,i),e(r.Ra(n,i)))}),r.bc(r.Be),r.Qa(n))):n}(e)}(e)),r.F([r.Ah,r.Li]))}}},56812:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F=n(4923);n(70406),n(52340),n(65167),n(95375),n(98421),n(48314),r="metabase.mbql.normalize",i=function(){},F.oE=function(e){e:for(var t=e;t=F.t(t);)t=F.B(t);return e},o=function(e,t){return(null!=(t=F.pd(t)?F.bi.a(F.Be,t):t)?4&t.K||F.yc===t.Gc||!t.K&&F.cb(i,t):F.cb(i,t))?F.dc(F.Md(e.b?e.b(F.Ff):e.call(null,F.Ff),F.bc(F.fd(t)),t)):F.Md(e.b?e.b(F.Ng):e.call(null,F.Ng),F.fd(t),t)},a=function(e){var t=P;return o((function(e){return function(n,r,i){return i=t.b?t.b(i):t.call(null,i),e.c?e.c(n,r,i):e.call(null,n,r,i)}}),e)},u=function(e){var t=h;return o((function(e){return function(n,r,i){return r=t.b?t.b(r):t.call(null,r),e.c?e.c(n,r,i):e.call(null,n,r,i)}}),e)},l=function(e,t,n){var r,i=F.xd(e,t);return F.q(i)?F.Ng.c(e,t,(r=F.Eb(i),n.b?n.b(r):n.call(null,r))):e},c=function(e,t,n){if(F.Td(n)){var r=F.qe(F.W,F.Ig.a(e,n));return t.b?t.b(r):t.call(null,r)}return F.cf(n)?(r=new F.wd((i=F.Db(n),e.b?e.b(i):e.call(null,i)),function(){var t=F.Eb(n);return e.b?e.b(t):e.call(null,t)}()),t.b?t.b(r):t.call(null,r)):F.ji(n)?(r=F.oE(F.Ig.a(e,n)),t.b?t.b(r):t.call(null,r)):F.pd(n)?(r=F.Gd((function(t,n){return F.Vd.a(t,e.b?e.b(n):e.call(null,n))}),n,n),t.b?t.b(r):t.call(null,r)):F.ld(n)?(r=F.bi.a(F.fd(n),F.Ig.a(e,n)),t.b?t.b(r):t.call(null,r)):t.b?t.b(n):t.call(null,n);var i},s=function(e){function t(e){var t=F.G(e,0,null);return e=F.G(e,1,null),"string"==typeof t?new F.Q(null,2,5,F.R,[F.Jg.b(t),e],null):new F.Q(null,2,5,F.R,[t,e],null)}return V((function(e){return F.od(e)?F.bi.a(F.Be,F.Ig.a(t,e)):e}),e)},f=function(e,t){this.reset(e,t,r,void 0,void 0)},d=function(e,t,n){if(F.q(!1)){var i=F.bD(F.dD(r));F.q(i)&&(e=F.N.a(F.eD,e),t=new f(e,t),F.q(n)&&(t.yc=n),void 0!==F.aa&&void 0!==F.fD&&void 0!==F.fD.vd?F.fD.vd(i,t):i.$d(t))}},p=function(e){return!!F.nd(e)&&(!F.cf(e)&&F.$h.a(F.Gm,F.zm)(F.u(e)))},h=function(e){return F.q(F.$h.a(F.Gm,F.zm)(e))?F.hC(e):e},m=function(e,t){var n=p(t);return F.q(n)?(t=h(F.u(t)),F.ld(e)?(e=F.tg(e)).b?e.b(t):e.call(null,t):F.Xc.a(e,t)):n},y=function(e){return F.N.c(new F.n(null,3,[F.oh,F.Nd,F.Mn,h,F.Lu,h],null),e,(function(t){return F.N.a((n=F.Cf([e,t]),je.a?je.a(n,ae):je.call(null,n,ae)),e);var n}))},v=function(e){return e=F.bi.c(F.Be,F.Ig.b((function(e){var t=F.G(e,0,null);e=F.G(e,1,null),t=h(t);var n=y(t);return new F.Q(null,2,5,F.R,[t,n.b?n.b(e):n.call(null,e)],null)})),e),F.Xc.a(F.Mn.b(e),F.ww)&&F.bb(F.Lu.b(e))?F.Ng.c(e,F.Lu,F.Nt):e},b=function(e){return F.bi.c(F.Be,F.Ig.b((function(e){var t=F.G(e,0,null);return e=F.G(e,1,null),t=F.gB(t),new F.Q(null,2,5,F.R,[t,F.Ng.c(v(e),F.S,t)],null)})),e)},g=function(e){return l(l(F.Gd((function(e,t){return l(e,t,F.Jg)}),e,new F.Q(null,6,5,F.R,[F.Ij,F.wj,F.Px,ce,$,F.Fx],null)),J,F.fj.a(P,je)),F.Mq,s)},w=function(e){return F.Dm(e)?new F.Q(null,3,5,F.R,[F.vw,e,null],null):e},O=function(e){return Ce.b(w(e))},j=function(e){var t=F.t(e);return e=F.u(t),t=F.B(t),F.kB(F.bi.a(new F.Q(null,1,5,F.R,[e],null),F.Ig.a(Ce,t)))},S=function(e){var t=F.t(e);e=F.u(t);var n=F.B(t);return t=F.u(n),n=F.B(n),F.bi.a(new F.Q(null,2,5,F.R,[e,O(t)],null),F.Ig.a(Ce,n))},E=function(e){var t=F.G(e,0,null);return e=F.G(e,1,null),F.q(e)?new F.Q(null,2,5,F.R,[t,O(e)],null):new F.Q(null,1,5,F.R,[t],null)},_=function(e){var t=F.G(e,0,null);return e=F.G(e,1,null),new F.Q(null,2,5,F.R,[t,O(e)],null)},x=function(e){var t=F.G(e,0,null);return e=F.G(e,1,null),new F.Q(null,2,5,F.R,[t,Ce.b(e)],null)},P=function(e){return Q((function(e){if(F.od(e))return a(e);if(F.bb(p(e)))return e;try{return Ce.b(e)}catch(o){if(o instanceof Error){var t=o,n=F.bD(F.dD(r)).Zd(F.eD.b?F.eD.b(F.li):F.eD.call(null,F.li));if(F.q(n))if(n=F.F([F.fB("Invalid clause:"),e]),F.u(n)instanceof Error){var i=F.t(n);n=F.u(i),i=F.B(i),d(F.li,F.qe(H,i),n)}else n=F.qe(H,n),d(F.li,n,null);throw F.Xo(F.fB("Invalid MBQL clause"),new F.n(null,1,[F.br,e],null),t)}throw o}}),e)},C=function(e){return F.gf(F.Je(P,wt(e)))},k=function(e){for(;;){if(!F.q(p(e)))return F.xe(F.ci.a(w,e));e=new F.Q(null,1,5,F.R,[e],null)}},A=function(e){e=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;var t=F.N.a(e,F.ww);return F.q(t)?F.yB.c(e,F.ww,Ce):e},D=function(e){return F.bi.a(F.Be,function e(t){return new F.ae(null,(function(){for(;;){var n=F.t(t);if(n){if(F.rd(n)){var r=F.ic(n),i=F.D(r),o=F.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=F.gd(r,a),l=F.G(u,0,null);u=F.G(u,1,null),l=new F.Q(null,2,5,F.R,[l,A(u)],null),o.add(l),a+=1}return r?F.ge(F.ie(o),e(F.jc(n))):F.ge(F.ie(o),null)}return r=F.u(n),o=F.G(r,0,null),r=F.G(r,1,null),F.Yd(new F.Q(null,2,5,F.R,[o,A(r)],null),e(F.Hc(n)))}return null}}),null)}(e))},R=function(e){e=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;var t=F.N.a(e,F.wq);return F.q(t)?F.yB.c(e,F.wq,D):e},I=function(e){var t=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;return e=F.N.a(t,F.Bw),t=F.bb(e)?jt.b?jt.b(t):jt.call(null,t):t,F.q(e)?R(t):t},T=function(e){return F.ld(e)?F.t(e):null!=e},N=function(e){var t=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;e=F.N.a(t,F.Vw);var n=F.N.a(t,F.ir),r=F.N.a(t,F.As),i=F.N.a(t,F.Bw);try{if(F.q(r))var o=null!=t&&(64&t.o||F.yc===t.Y)?F.qe(F.Yh,t):t,a=F.N.a(o,F.As),u=B(F.Vh.a(o,F.As),new F.Q(null,2,5,F.R,[F.Vw,F.As],null),a);else u=t;var l=F.q(e)?F.yB.c(u,F.Vw,jt):u,c=F.q(n)?F.yB.c(l,F.ir,F.Qi(F.ci,P)):l,s=F.q(i)?F.yB.c(c,F.Bw,R):c;return P(s)}catch(t){if(t instanceof Error)throw l=t,F.Xo(F.eB("Error canonicalizing query: {0}",F.F([l instanceof Error?l.message:null])),new F.n(null,1,[F.Vw,e],null),l);throw t}},q=function(e){e=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;var t=F.N.a(e,F.Vw),n=null!=t&&(64&t.o||F.yc===t.Y)?F.qe(F.Yh,t):t;return t=F.N.a(n,F.qv),n=F.N.a(n,F.sx),F.t(t)&&F.t(n)?(t=F.tg(F.Kd(F.Wh,F.t(F.Pe(F.So,function e(t,n){try{if(!F.qd(n)||3!==F.D(n))throw F.Z;try{var r=F.Yc(n,0);if(F.Zd(r,F.vw)){var i=F.Yc(n,1),o=F.Yc(n,2);return new F.Q(null,1,5,F.R,[new F.Q(null,2,5,F.R,[n,new F.Q(null,3,5,F.R,[F.vw,i,F.Vh.a(o,F.aw)],null)],null)],null)}throw F.Z}catch(e){if(e instanceof Error){if((r=e)===F.Z)throw F.Z;throw r}throw e}}catch(i){if(i instanceof Error){if((r=i)===F.Z)return F.cB(e,t,n);throw r}throw i}}(F.ff,t))))),z.c(e,new F.Q(null,2,5,F.R,[F.Vw,F.sx],null),F.fj.a(F.gf,F.Qi(F.ai,t)))):e},M=function(e){try{return q(e)}catch(n){if(n instanceof Error){var t=n;throw F.Xo(F.fB("Error performing whole query transformations"),new F.n(null,1,[F.Vw,e],null),t)}throw n}},Z=function(e,t){var n=F.bi.a(F.fd(e),function e(n){return new F.ae(null,(function(){for(var r=n;;){if(!(r=F.t(r)))return null;if(F.rd(r)){var i=F.ic(r),o=F.D(i),a=F.de(o);return function(){for(var e=0;;){if(!(e<o))return!0;var n=F.gd(i,e),r=F.G(n,0,null);n=F.G(n,1,null);var u=F.Vd.a(t,r);null!=(n=Et.a?Et.a(n,u):Et.call(null,n,u))&&a.add(new F.Q(null,2,5,F.R,[r,n],null)),e+=1}}()?F.ge(F.ie(a),e(F.jc(r))):F.ge(F.ie(a),null)}var u=F.u(r),l=F.G(u,0,null),c=F.G(u,1,null);if(s=void 0,f=void 0,s=c,f=F.Vd.a(t,l),null!=(u=Et.a?Et.a(s,f):Et.call(null,s,f)))return F.Yd(new F.Q(null,2,5,F.R,[l,u],null),e(F.Hc(r)));r=F.Hc(r)}var s,f}),null)}(e));return F.t(n)?n:null},L=function(e,t){return e=F.ci.a((function(e){var n=F.Vd.a(t,G);return Et.a?Et.a(e,n):Et.call(null,e,n)}),e),F.q(F.Ge(F.So,e))?e:null},B=function e(t,n,r){n=F.t(n);var i,o=F.u(n),a=F.B(n);return a?F.Ng.c(t,o,(i=F.N.a(t,o),e.c?e.c(i,a,r):e.call(null,i,a,r))):F.Ng.c(t,o,r)},z=function e(t){switch(arguments.length){case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return e.V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return e.ia(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new F.Dc(n.slice(6),0,null))}},z.c=function(e,t,n){t=F.t(t);var r,i=F.u(t);return(t=F.B(t))?F.Ng.c(e,i,z.c(F.N.a(e,i),t,n)):F.Ng.c(e,i,(r=F.N.a(e,i),n.b?n.b(r):n.call(null,r)))},z.N=function(e,t,n,r){t=F.t(t);var i,o=F.u(t);return(t=F.B(t))?F.Ng.c(e,o,z.N(F.N.a(e,o),t,n,r)):F.Ng.c(e,o,(i=F.N.a(e,o),n.a?n.a(i,r):n.call(null,i,r)))},z.V=function(e,t,n,r,i){t=F.t(t);var o,a=F.u(t);return(t=F.B(t))?F.Ng.c(e,a,z.V(F.N.a(e,a),t,n,r,i)):F.Ng.c(e,a,(o=F.N.a(e,a),n.c?n.c(o,r,i):n.call(null,o,r,i)))},z.ia=function(e,t,n,r,i,o){t=F.t(t);var a,u=F.u(t);return(t=F.B(t))?F.Ng.c(e,u,z.ia(F.N.a(e,u),t,n,r,i,o)):F.Ng.c(e,u,(a=F.N.a(e,u),n.N?n.N(a,r,i,o):n.call(null,a,r,i,o)))},z.j=function(e,t,n,r,i,o,a){var u=F.t(t);return t=F.u(u),(u=F.B(u))?F.Ng.c(e,t,F.ue(z,F.N.a(e,t),u,n,r,F.F([i,o,a]))):F.Ng.c(e,t,F.ue(n,F.N.a(e,t),r,i,o,F.F([a])))},z.H=function(e){var t=F.u(e),n=F.B(e);e=F.u(n);var r=F.B(n);n=F.u(r);var i=F.B(r);r=F.u(i);var o=F.B(i);i=F.u(o);var a=F.B(o);return o=F.u(a),a=F.B(a),this.j(t,e,n,r,i,o,a)},z.I=6;var Q=function e(t,n){return c(F.Qi(e,t),F.Nd,t.b?t.b(n):t.call(null,n))},V=function e(t,n){return c(F.Qi(e,t),t,n)},U=0;f.prototype.Pc=0,f.prototype.yc=null,f.prototype.reset=function(e,t,n,r,i){this.Pc="number"==typeof i?i:U++,this.zd=r||(0,F.ha)(),this.Nc=e,this.td=t,this.qd=n,delete this.yc},f.prototype.Ac=function(e){this.Nc=e};var H=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(0<n.length?new F.Dc(n.slice(0),0,null):null)};H.j=function(e){return 1<F.D(e)?F.gf(e):F.u(e)},H.I=0,H.H=function(e){return this.j(F.t(e))};var Y,G=new F.O(r,"sequence","metabase.mbql.normalize/sequence",-1700645683),W=new F.O(null,"descending","descending",-24766135),$=new F.O(null,"source","source",-433931539),K=new F.O(null,"field-id","field-id",-353751335),J=new F.O(null,"field_ref","field_ref",-1985640334),X=new F.O(null,"datetime-field","datetime-field",21731696),ee=new F.O(null,"joined-field","joined-field",-2048778268),te=new F.O(null,"field-literal","field-literal",-1295883554),ne=new F.O(null,"viz-settings","viz-settings",256055379),re=new F.O(null,"form","form",-1624062471),ie=new F.O(null,"special-fn","special-fn",1290649344),oe=new F.O(null,"use-as-display-name?","use-as-display-name?",686752941),ae=new F.O(null,"ignore-path","ignore-path",944069061),ue=new F.O(null,"named","named",-422393479),le=new F.O(null,"binning-strategy","binning-strategy",2063329158),ce=new F.O(null,"visibility_type","visibility_type",-508434247),se=new F.O(null,"path","path",-188191168),fe=new F.O(null,"fk->","fk->",-499026738),de=new F.O(null,"rows","rows",850049680),pe=new F.O(null,"as","as",1148689641),he=new F.O(null,"ascending","ascending",-988350486),me=F.ah.b(F.Be),ye=F.ah.b(F.Be),ve=F.ah.b(F.Be),be=F.ah.b(F.Be),ge=F.N.c(F.Be,F.XB,F.eh.l?F.eh.l():F.eh.call(null));Y=new F.ph(F.Rg.a(r,"normalize-mbql-clause-tokens"),F.fj.a(h,F.u),ge,me,ye,ve,be),F.OA(Y,F.Np,(function(e){return F.G(e,0,null),e=F.G(e,1,null),new F.Q(null,2,5,F.R,[F.Np,e instanceof F.O?F.gB(e):e],null)})),F.OA(Y,le,(function(e){F.G(e,0,null);var t=F.G(e,1,null),n=F.G(e,2,null);return e=F.G(e,3,null),F.q(e)?F.Vd.a(Y.b(new F.Q(null,3,5,F.R,[le,t,n],null)),e):new F.Q(null,3,5,F.R,[le,je.a?je.a(t,ae):je.call(null,t,ae),h(n)],null)})),F.OA(Y,F.vw,(function(e){F.G(e,0,null);var t=F.G(e,1,null);e=F.G(e,2,null);var n,r=je.a?je.a(e,ae):je.call(null,e,ae);return new F.Q(null,3,5,F.R,[F.vw,t,(n=F.q(F.tx.b(r))?F.yB.c(r,F.tx,F.Jg):r,n=F.q(F.aw.b(r))?F.yB.c(n,F.aw,F.Jg):n,F.q(F.qr.b(r))?F.yB.c(n,F.qr,(function(e){return F.q(F.Gr.b(e))?F.yB.c(e,F.Gr,F.Jg):e})):n)],null)})),F.OA(Y,te,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[te,t instanceof F.O?F.gB(t):t,F.Jg.b(e)],null)})),F.OA(Y,X,(function(e){F.G(e,0,null);var t=F.G(e,1,null),n=F.G(e,2,null);return e=F.G(e,3,null),F.q(e)?new F.Q(null,4,5,F.R,[X,je.a?je.a(t,ae):je.call(null,t,ae),pe,h(e)],null):new F.Q(null,3,5,F.R,[X,je.a?je.a(t,ae):je.call(null,t,ae),h(n)],null)})),F.OA(Y,F.Wv,(function(e){F.G(e,0,null);var t=F.G(e,1,null),n=F.G(e,2,null),r=F.G(e,3,null);return e=F.G(e,4,null),F.q(e)?F.Vd.a(Y.b(new F.Q(null,4,5,F.R,[F.Wv,t,n,r],null)),je.a?je.a(e,ae):je.call(null,e,ae)):new F.Q(null,4,5,F.R,[F.Wv,je.a?je.a(t,ae):je.call(null,t,ae),F.Dm(n)?n:h(n),h(r)],null)})),F.OA(Y,F.Fu,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),F.q(e)?new F.Q(null,3,5,F.R,[F.Fu,t,h(e)],null):new F.Q(null,2,5,F.R,[F.Fu,F.ss],null)})),F.OA(Y,F.Eq,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[F.Eq,t,h(e)],null)})),F.OA(Y,F.oh,(function(e){var t=F.t(e);return e=F.u(t),t=F.B(t),F.bi.c(new F.Q(null,1,5,F.R,[h(e)],null),F.Ig.b((function(e){return je.a?je.a(e,ae):je.call(null,e,ae)})),t)}));var we=function e(t){if(F.q(F.$h.a(F.Gm,F.zm)(t))){var n=h(t),r=new F.pg(null,new F.n(null,18,[F.mx,null,F.Ss,null,F.ox,null,F.Ts,null,F.Dv,null,F.bw,null,F.er,null,F.yv,null,F.Lt,null,F.us,null,F.Gu,null,F.Yt,null,F.fq,null,F.Zt,null,F.ow,null,F.rw,null,F.Ht,null,F.ix,null],null),null);n=r.b?r.b(n):r.call(null,n)}else n=null;return F.q(n)?n:F.q(p(t))?(t=F.u(t),e.b?e.b(t):e.call(null,t)):null},Oe=new F.n(null,8,[F.Mn,h,F.Bw,function(e){return e=u(e),F.t(F.wq.b(e))?F.yB.c(e,F.wq,b):e},F.Vw,new F.n(null,6,[F.ts,function e(t){if(F.q(F.$h.a(F.Gm,F.zm)(t)))return h(t);if(F.q(m(ue,t))){t=F.t(t),F.u(t);var n=F.B(t);return t=F.u(n),n=F.B(n),F.bi.a(new F.Q(null,2,5,F.R,[ue,e.b?e.b(t):e.call(null,t)],null),n)}return F.q(F.q(p(t))?we(F.dd(t)):null)?F.ci.a(e,t):je.a?je.a(t,ae):je.call(null,t,ae)},F.fu,function(e){return F.bi.a(F.Be,function e(t){return new F.ae(null,(function(){for(;;){var n=F.t(t);if(n){if(F.rd(n)){var r=F.ic(n),i=F.D(r),o=F.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=F.gd(r,a),l=F.G(u,0,null);u=F.G(u,1,null),l=new F.Q(null,2,5,F.R,[F.gB(l),je.a?je.a(u,ae):je.call(null,u,ae)],null),o.add(l),a+=1}return r?F.ge(F.ie(o),e(F.jc(n))):F.ge(F.ie(o),null)}return r=F.u(n),o=F.G(r,0,null),r=F.G(r,1,null),F.Yd(new F.Q(null,2,5,F.R,[F.gB(o),je.a?je.a(r,ae):je.call(null,r,ae)],null),e(F.Hc(n)))}return null}}),null)}(e))},F.Yr,function(e){return F.gf(function e(t){return new F.ae(null,(function(){for(;;){var n=F.t(t);if(n){if(F.rd(n)){var r=F.ic(n),i=F.D(r),o=F.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=F.gd(r,a);u=F.q(p(u))?Y.b(u):F.Wd(Y.b(F.Wd(u))),o.add(u),a+=1}return r?F.ge(F.ie(o),e(F.jc(n))):F.ge(F.ie(o),null)}return o=F.u(n),F.Yd(F.q(p(o))?Y.b(o):F.Wd(Y.b(F.Wd(o))),e(F.Hc(n)))}return null}}),null)}(e))},F.Yu,function(e){e=null!=(e=u(e))&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;var t=F.N.a(e,F.Bw);return F.q(t)?(e=F.bp(e,new F.n(null,1,[F.Bw,F.Vw],null)),t=new F.Q(null,1,5,F.R,[F.Bw],null),e=je.a?je.a(e,t):je.call(null,e,t),F.bp(e,new F.n(null,1,[F.Vw,F.Bw],null))):(t=new F.Q(null,1,5,F.R,[F.Vw],null),je.a?je.a(e,t):je.call(null,e,t))},F.As,new F.n(null,1,[G,g],null),F.ex,new F.n(null,1,[G,function(e){var t=null!=(e=je.a?je.a(e,F.Vw):je.call(null,e,F.Vw))&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e,n=F.N.a(t,F.Gr),r=F.N.a(t,F.sx);return e=F.N.a(t,F.wv),t=F.q(n)?F.yB.c(t,F.Gr,h):t,r=F.q(F.$h.a(F.Gm,F.zm)(r))?F.yB.c(t,F.sx,h):t,F.q(e)?F.yB.c(r,F.wv,F.gB):r}],null)],null),F.ni,new F.n(null,1,[F.Vt,F.Nd],null),F.ir,new F.n(null,1,[G,function(e){var t=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e,n=F.N.a(t,F.Mn);return e=F.N.a(t,F.yq),t=F.q(n)?F.yB.c(t,F.Mn,h):t,F.q(e)?F.yB.c(t,F.yq,(function(e){return je.a?je.a(e,ae):je.call(null,e,ae)})):t}],null),F.Ow,function(e){return null==e?null:h(e)},F.As,new F.n(null,1,[G,g],null),ne,h],null),je=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],1<n.length?new F.Dc(n.slice(1),0,null):null)};je.j=function(e,t){var n=(t=F.G(t,0,null))instanceof F.O?new F.Q(null,1,5,F.R,[t],null):F.gf(t);t=F.t(n)?F.Gd(F.N,Oe,n):null;try{return F.Bm(t)?t.b?t.b(e):t.call(null,e):F.pd(e)?e:F.od(e)?F.bi.a(F.Be,function e(t){return new F.ae(null,(function(){for(;;){var r=F.t(t);if(r){if(F.rd(r)){var i=F.ic(r),o=F.D(i),a=F.de(o);e:for(var u=0;;){if(!(u<o)){i=!0;break e}var l=F.gd(i,u),c=F.G(l,0,null);l=F.G(l,1,null),c=h(c),c=new F.Q(null,2,5,F.R,[c,je.j(l,F.F([F.Vd.a(F.gf(n),c)]))],null),a.add(c),u+=1}return i?F.ge(F.ie(a),e(F.jc(r))):F.ge(F.ie(a),null)}return i=F.u(r),a=F.G(i,0,null),i=F.G(i,1,null),a=h(a),F.Yd(new F.Q(null,2,5,F.R,[a,je.j(i,F.F([F.Vd.a(F.gf(n),a)]))],null),e(F.Hc(r)))}return null}}),null)}(e)):F.q(p(e))?Y.b(e):F.nd(e)?F.ci.a((function(e){return je.j(e,F.F([F.Vd.a(F.gf(n),G)]))}),e):e}catch(i){if(i instanceof Error){var r=i;throw F.Xo(F.fB("Error normalizing form."),new F.n(null,3,[re,e,se,n,ie,t],null),r)}throw i}},je.I=1,je.H=function(e){var t=F.u(e);return e=F.B(e),this.j(t,e)};var Se,Ee,_e,xe,Pe,Ce=(Se=F.ah.b(F.Be),Ee=F.ah.b(F.Be),_e=F.ah.b(F.Be),xe=F.ah.b(F.Be),Pe=F.N.c(F.Be,F.XB,F.eh.l?F.eh.l():F.eh.call(null)),new F.ph(F.Rg.a(r,"canonicalize-mbql-clause"),(function(e){return F.q(p(e))?F.u(e):null}),Pe,Se,Ee,_e,xe));F.OA(Ce,F.oh,(function(e){return e})),F.OA(Ce,F.vw,(function(e){F.G(e,0,null);var t=F.G(e,1,null);if(e=F.G(e,2,null),F.q(m(F.vw,t))){F.G(t,0,null);var n=F.G(t,1,null);return t=F.G(t,2,null),Ce.b(new F.Q(null,3,5,F.R,[F.vw,n,F.xe(F.ap(F.F([t,e])))],null))}return new F.Q(null,3,5,F.R,[F.vw,t,F.xe(e)],null)})),F.OA(Ce,K,(function(e){return F.G(e,0,null),e=F.G(e,1,null),F.q(p(e))?Ce.b(e):new F.Q(null,3,5,F.R,[F.vw,e,null],null)})),F.OA(Ce,te,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[F.vw,t,new F.n(null,1,[F.tx,e],null)],null)})),F.OA(Ce,fe,(function(e){F.G(e,0,null);var t=F.G(e,1,null);e=F.G(e,2,null);var n=O(t);return F.G(n,0,null),t=F.G(n,1,null),F.G(n,2,null),n=O(e),F.G(n,0,null),e=F.G(n,1,null),n=F.G(n,2,null),new F.Q(null,3,5,F.R,[F.vw,e,F.Ng.c(n,F.vu,t)],null)})),F.OA(Ce,ee,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),e=O(e),F.se(F.BB,e,F.Ng,F.F([F.Ds,t]))})),F.OA(Ce,X,(function(e){var t=F.D(e);switch(t){case 3:return F.G(e,0,null),t=F.G(e,1,null),e=F.G(e,2,null),t=O(t),F.se(F.BB,t,F.Ng,F.F([F.aw,e]));case 4:return F.G(e,0,null),t=F.G(e,1,null),F.G(e,2,null),e=F.G(e,3,null),Ce.b(new F.Q(null,3,5,F.R,[X,t,e],null));default:throw Error(["No matching clause: ",F.fb.b(t)].join(""))}})),F.OA(Ce,le,(function(e){F.G(e,0,null);var t=F.G(e,1,null),n=F.G(e,2,null),r=F.G(e,3,null);e=F.G(e,4,null);var i=O(t);return F.G(i,0,null),t=F.G(i,1,null),i=F.G(i,2,null),new F.Q(null,3,5,F.R,[F.vw,t,F.Ng.c(i,F.qr,F.ap(F.F([new F.n(null,1,[F.Gr,n],null),F.q(r)?F.Cf([n,r]):null,e])))],null)}));for(var ke=F.t(new F.Q(null,3,5,F.R,[F.Fs,F.Hq,F.Gt],null)),Ae=null,De=0,Re=0;;)if(Re<De){var Ie=Ae.ea(null,Re);F.OA(Ce,Ie,(function(e){return j(e)})),Re+=1}else{var Te=F.t(ke);if(!Te)break;var Ne=Te;if(F.rd(Ne)){var qe=F.ic(Ne);ke=F.jc(Ne),Ae=qe,De=F.D(qe)}else{var Me=F.u(Ne);F.OA(Ce,Me,(function(e){return j(e)})),ke=F.B(Ne),Ae=null,De=0}Re=0}F.OA(Ce,F.dx,(function(e){e=F.t(e),F.u(e);var t=F.B(e);e=F.u(t);var n=F.B(t);return t=F.u(n),n=F.B(n),F.bi.a(new F.Q(null,3,5,F.R,[F.dx,O(e),O(t)],null),n)})),F.OA(Ce,F.Wv,(function(e){e=F.t(e),F.u(e);var t=F.B(e);e=F.u(t),t=F.B(t);var n=O(e);return e=F.q(F.hB(F.vw,e))?F.BB.j(n,F.Vh,F.F([F.aw])):n,F.bi.a(new F.Q(null,2,5,F.R,[F.Wv,e],null),t)}));for(var Ze=F.t(new F.Q(null,15,5,F.R,[F.Mt,F.bu,F.fw,F.tu,F.su,F.jt,F.yr,F.Gq,F.nu,F.Fp,F.Pt,F.Nu,F.$u,F.Us,F.Xq],null)),Le=null,Be=0,ze=0;;)if(ze<Be){var Fe=Le.ea(null,ze);F.OA(Ce,Fe,(function(e){return S(e)})),ze+=1}else{var Qe=F.t(Ze);if(!Qe)break;var Ve=Qe;if(F.rd(Ve)){var Ue=F.ic(Ve);Ze=F.jc(Ve),Le=Ue,Be=F.D(Ue)}else{var He=F.u(Ve);F.OA(Ce,He,(function(e){return S(e)})),Ze=F.B(Ve),Le=null,Be=0}ze=0}F.OA(Ce,de,(function(){return null})),F.OA(Ce,F.Kv,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[F.Kv,Ce.b(t),e],null)})),F.OA(Ce,ue,(function(e){e=F.t(e),F.u(e);var t=F.B(e);e=F.u(t),t=F.B(t);var n=F.u(t),r=F.B(t);return Ce.b(new F.Q(null,3,5,F.R,[F.Kv,Ce.b(e),function(){var e=F.G(r,0,null);return e=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e,!1===F.N.a(e,oe)?new F.n(null,1,[F.S,n],null):new F.n(null,1,[F.zv,n],null)}()],null))}));for(var Ye=F.t(new F.Q(null,2,5,F.R,[F.rw,F.bw],null)),Ge=null,We=0,$e=0;;)if($e<We){var Ke=Ge.ea(null,$e);F.OA(Ce,Ke,(function(e){return E(e)})),$e+=1}else{var Je=F.t(Ye);if(!Je)break;var Xe=Je;if(F.rd(Xe)){var et=F.ic(Xe);Ye=F.jc(Xe),Ge=et,We=F.D(et)}else{var tt=F.u(Xe);F.OA(Ce,tt,(function(e){return E(e)})),Ye=F.B(Xe),Ge=null,We=0}$e=0}for(var nt=F.t(new F.Q(null,9,5,F.R,[F.Ht,F.Iw,F.Lt,F.ox,F.ix,F.mx,F.ow,F.fq,F.Yt],null)),rt=null,it=0,ot=0;;)if(ot<it){var at=rt.ea(null,ot);F.OA(Ce,at,(function(e){return _(e)})),ot+=1}else{var ut=F.t(nt);if(!ut)break;var lt=ut;if(F.rd(lt)){var ct=F.ic(lt);nt=F.jc(lt),rt=ct,it=F.D(ct)}else{var st=F.u(lt);F.OA(Ce,st,(function(e){return _(e)})),nt=F.B(lt),rt=null,it=0}ot=0}F.OA(Ce,F.us,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[F.us,O(t),e],null)}));for(var ft=F.t(new F.Q(null,2,5,F.R,[F.Zt,F.Ts],null)),dt=null,pt=0,ht=0;;)if(ht<pt){var mt=dt.ea(null,ht);F.OA(Ce,mt,(function(e){return x(e)})),ht+=1}else{var yt=F.t(ft);if(!yt)break;var vt=yt;if(F.rd(vt)){var bt=F.ic(vt);ft=F.jc(vt),dt=bt,pt=F.D(bt)}else{var gt=F.u(vt);F.OA(Ce,gt,(function(e){return x(e)})),ft=F.B(vt),dt=null,pt=0}ht=0}F.OA(Ce,F.er,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),new F.Q(null,3,5,F.R,[F.er,Ce.b(t),Ce.b(e)],null)})),F.OA(Ce,F.Ov,(function(e){F.G(e,0,null);var t=F.G(e,1,null);return e=F.G(e,2,null),F.q(e)?F.Vd.a(Ce.b(new F.Q(null,2,5,F.R,[F.Ov,t],null)),je.j(e,F.F([ae]))):new F.Q(null,2,5,F.R,[F.Ov,F.gf(function e(t){return new F.ae(null,(function(){for(;;){var n=F.t(t);if(n){if(F.rd(n)){var r=F.ic(n),i=F.D(r),o=F.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=F.gd(r,a),l=F.G(u,0,null);u=F.G(u,1,null),l=new F.Q(null,2,5,F.R,[Ce.b(l),Ce.b(u)],null),o.add(l),a+=1}return r?F.ge(F.ie(o),e(F.jc(n))):F.ge(F.ie(o),null)}return r=F.u(n),o=F.G(r,0,null),r=F.G(r,1,null),F.Yd(new F.Q(null,2,5,F.R,[Ce.b(o),Ce.b(r)],null),e(F.Hc(n)))}return null}}),null)}(t))],null)}));var wt=function e(t){return function n(r,i){try{if(F.q((d=F.bB(F.ji)).b?d.b(i):d.call(null,i)))return n(r,F.gf(i));throw F.Z}catch(d){if(!(d instanceof Error))throw d;if(r=d,r!==F.Z)throw r;try{if(F.q((f=F.bB(F.Gm)).b?f.b(i):f.call(null,i)))return new F.Q(null,1,5,F.R,[new F.Q(null,1,5,F.R,[i],null)],null);throw F.Z}catch(f){if(!(f instanceof Error))throw f;if(r=f,r!==F.Z)throw r;try{if(!(F.qd(i)&&2<=F.D(i)))throw F.Z;try{var o=F.TA(i,0,2);if(!F.qd(o)||2!==F.D(o))throw F.Z;try{var a=F.Yc(o,0);if(!F.q(F.Zh.a(F.Gm,F.Ie(new F.pg(null,new F.n(null,5,[F.Ss,null,F.Dv,null,F.yv,null,F.Gu,null,ue,null],null),null)))(a)))throw F.Z;try{var u=F.Yc(o,1);if(F.q(we(u)))return F.gf(F.Kd(F.Wh,F.Ig.a(e,t)));throw F.Z}catch(e){if(e instanceof Error){var l=e;if(l===F.Z)throw F.Z;throw l}throw e}}catch(e){if(e instanceof Error){if((l=e)===F.Z)throw F.Z;throw l}throw e}}catch(e){if(e instanceof Error){if((l=e)===F.Z)throw F.Z;throw l}throw e}}catch(e){if(!(e instanceof Error))throw e;if((l=e)!==F.Z)throw l;try{if(!(F.qd(i)&&1<=F.D(i)))throw F.Z;try{var c=F.TA(i,0,1);if(!F.qd(c)||1!==F.D(c))throw F.Z;try{if(F.Yc(c,0)instanceof F.O)return new F.Q(null,1,5,F.R,[i],null);throw F.Z}catch(e){if(e instanceof Error){var s=e;if(s===F.Z)throw F.Z;throw s}throw e}}catch(e){if(e instanceof Error){if((s=e)===F.Z)throw F.Z;throw s}throw e}}catch(e){if(e instanceof Error){if((s=e)===F.Z)return i;throw s}throw e}}}}var f,d}(F.ff,t)},Ot=function e(t){return function n(r,i){try{var o=F.bB(F.ji),a=o.b?o.b(i):o.call(null,i);if(F.q(a))return n(r,F.gf(i));throw F.Z}catch(o){if(!(o instanceof Error))throw o;if((a=o)!==F.Z)throw a;try{if(!F.qd(i)||2!==F.D(i))throw F.Z;try{var u=F.Yc(i,1);if(F.Zd(u,F.it)){var l=F.Yc(i,0);return n(r,new F.Q(null,2,5,F.R,[F.it,l],null))}throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((a=e)!==F.Z)throw a;try{if(u=F.Yc(i,1),F.Zd(u,F.Es))return l=F.Yc(i,0),n(r,new F.Q(null,2,5,F.R,[F.Es,l],null));throw F.Z}catch(e){if(!(e instanceof Error))throw e;var c=e;if(c!==F.Z)throw c;try{if(u=F.Yc(i,1),F.Zd(u,he))return l=F.Yc(i,0),n(r,new F.Q(null,2,5,F.R,[F.it,l],null));throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((a=e)!==F.Z)throw a;try{if(u=F.Yc(i,1),F.Zd(u,W))return l=F.Yc(i,0),n(r,new F.Q(null,2,5,F.R,[F.Es,l],null));throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((u=e)!==F.Z)throw u;try{var s=F.Yc(i,0);if(F.Zd(s,he))return l=F.Yc(i,1),n(r,new F.Q(null,2,5,F.R,[F.it,l],null));throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((u=e)!==F.Z)throw u;try{if(s=F.Yc(i,0),F.Zd(s,W))return l=F.Yc(i,1),n(r,new F.Q(null,2,5,F.R,[F.Es,l],null));throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((u=e)!==F.Z)throw u;try{if(s=F.Yc(i,0),F.Zd(s,F.it))return l=F.Yc(i,1),new F.Q(null,2,5,F.R,[F.it,O(l)],null);throw F.Z}catch(e){if(!(e instanceof Error))throw e;if((u=e)!==F.Z)throw u;try{if(s=F.Yc(i,0),F.Zd(s,F.Es))return l=F.Yc(i,1),new F.Q(null,2,5,F.R,[F.Es,O(l)],null);throw F.Z}catch(e){if(e instanceof Error){if((l=e)===F.Z)throw F.Z;throw l}throw e}}}}}}}}}catch(o){if(!(o instanceof Error))throw o;if((a=o)!==F.Z)throw a;try{if(!(F.qd(i)&&0<=F.D(i)))throw F.Z;try{var f=F.TA(i,0,0);if(!F.qd(f)||0!==F.D(f))throw F.Z;try{var d=F.UA(i,0);if(F.Xc.a(d,t))return F.gf(F.ej.b(F.Ig.a(e,t)));throw F.Z}catch(e){if(e instanceof Error){if((c=e)===F.Z)throw F.Z;throw c}throw e}}catch(e){if(e instanceof Error){if((c=e)===F.Z)throw F.Z;throw c}throw e}}catch(e){if(e instanceof Error){if((c=e)===F.Z)return F.dB(n,r,i);throw c}throw e}}}}(F.ff,t)},jt=F.fj.a(P,(function(e){var t=T(F.ts.b(e))?F.yB.c(e,F.ts,C):e;return t=T(F.qv.b(e))?F.yB.c(t,F.qv,k):t,t=T(F.sx.b(e))?F.yB.c(t,F.sx,F.Qi(F.ci,w)):t,t=T(F.Yr.b(e))?F.yB.c(t,F.Yr,Ot):t,T(F.Yu.b(e))?F.yB.c(t,F.Yu,I):t})),St=new F.n(null,3,[F.Bw,F.Nd,F.Vw,new F.n(null,2,[F.Yu,function(e){e=null!=e&&(64&e.o||F.yc===e.Y)?F.qe(F.Yh,e):e;var t=F.N.a(e,F.Bw);return F.q(t)?(e=F.bp(e,new F.n(null,1,[F.Bw,F.Vw],null)),t=new F.Q(null,1,5,F.R,[F.Bw],null),e=Et.a?Et.a(e,t):Et.call(null,e,t),F.bp(e,new F.n(null,1,[F.Vw,F.Bw],null))):(t=new F.Q(null,1,5,F.R,[F.Vw],null),Et.a?Et.a(e,t):Et.call(null,e,t))},F.ex,new F.n(null,1,[G,function(e){var t=new F.Q(null,1,5,F.R,[F.Vw],null);return Et.a?Et.a(e,t):Et.call(null,e,t)}],null)],null),ne,F.Nd],null),Et=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",F.fb.b(arguments.length)].join(""))}};Et.b=function(e){return Et.a(e,F.ff)},Et.a=function(e,t){try{var n=F.t(t)?F.Gd(F.N,St,t):null;return F.Bm(n)?n.b?n.b(e):n.call(null,e):F.pd(e)?e:F.od(e)?Z(e,t):F.nd(e)?L(e,t):e}catch(n){if(n instanceof Error)throw F.Xo("Error removing empty clauses from form.",new F.n(null,2,[re,e,se,t],null),n);throw n}},Et.I=2,F.VG=function(){var e=F.fj.j(Et,M,N,F.F([je]));return function(t){try{return e(t)}catch(e){if(e instanceof Error){var n=e;throw F.Xo(F.eB("Error normalizing query: {0}",F.F([n instanceof Error?n.message:null])),new F.n(null,1,[F.Vw,t],null),n)}throw e}}}()},30624:function(e,t,n){n.g;var r,i,o=n(4923);n(70406),n(52340),n(82702),n(6539),n(58367),r=function(e){if(null!=e&&null!=e.Gb)e=e.Gb(e);else{var t=r[o.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=r._))throw o.eb("HasPrecondition.precondition",e);e=t.b?t.b(e):t.call(null,e)}}return e},o.Go=function(e){return 0>e},i=function(e,t,n,r){this.qb=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},o.Io=function(e){return new i(e,null,null,null)},o.Wl.prototype.Gb=o.Ia(12,(function(){return o.Ie(this.R)})),o.bm.prototype.Gb=o.Ia(11,(function(){var e=this;return o.Zh.a(o.Ie(e.R),o.qe(o.$h,function e(t){return new o.ae(null,(function(){for(;;){var n=o.t(t);if(n){if(o.rd(n)){var i=o.ic(n),a=o.D(i),u=o.de(a);e:for(var l=0;;){if(!(l<a)){i=!0;break e}var c=o.gd(i,l),s=null!=c&&(64&c.o||o.yc===c.Y)?o.qe(o.Yh,c):c;c=o.N.a(s,o.Yl),s=o.N.a(s,o.Pl),c=o.q(c)?o.Zh.a(c,r(o.Im(s))):r(o.Im(s)),u.add(c),l+=1}return i?o.ge(o.ie(u),e(o.jc(n))):o.ge(o.ie(u),null)}return i=null!=(u=o.u(n))&&(64&u.o||o.yc===u.Y)?o.qe(o.Yh,u):u,u=o.N.a(i,o.Yl),i=o.N.a(i,o.Pl),o.Yd(o.q(u)?o.Zh.a(u,r(o.Im(i))):r(o.Im(i)),e(o.Hc(n)))}return null}}),null)}(e.options)))})),o.nm.prototype.Gb=o.Ia(10,(function(){return o.Ie(this.R)})),o.h=i.prototype,o.h.W=function(e,t){return this.J(null,t,null)},o.h.J=function(e,t,n){return"schemas"===(t instanceof o.O?t.ga:null)?this.qb:o.N.c(this.g,t,n)},o.h.Ba=function(e,t,n){return o.Gd((function(e,n){var r=o.G(n,0,null);return n=o.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},o.h.O=function(e,t,n){return o.Cg(t,(function(e){return o.Cg(t,o.Hg,""," ","",n,e)}),"#schema.core.CondPre{",", ","}",n,o.Wh.a(new o.Q(null,1,5,o.R,[new o.Q(null,2,5,o.R,[o.Xn,this.qb],null)],null),this.g))},o.h.ja=function(){return new o.wf(this,1,new o.Q(null,1,5,o.R,[o.Xn],null),o.q(this.g)?o.oc(this.g):o.Ce())},o.h.X=function(){return this.C},o.h.aa=function(){return 1+o.D(this.g)},o.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-56613580^o.Mc(this)},o.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&o.Xc.a(this.qb,t.qb)&&o.Xc.a(this.g,t.g)},o.h.Ea=function(e,t){return o.vd(new o.pg(null,new o.n(null,1,[o.Xn,null],null),null),t)?o.Vh.a(o.Lb(o.bi.a(o.Be,this),this.C),t):new i(this.qb,this.C,o.xe(o.Vh.a(this.g,t)),null)},o.h.U=function(e,t,n){return o.q(o.Zd.a?o.Zd.a(o.Xn,t):o.Zd.call(null,o.Xn,t))?new i(n,this.C,this.g,null):new i(this.qb,this.C,o.Ng.c(this.g,t,n),null)},o.h.Z=function(){return o.t(o.Wh.a(new o.Q(null,1,5,o.R,[new o.wd(o.Xn,this.qb)],null),this.g))},o.h.$=function(e,t){return new i(this.qb,t,this.g,this.v)},o.h.ba=function(e,t){return o.qd(t)?this.U(null,o.gd(t,0),o.gd(t,1)):o.Gd(o.qb,this,t)},o.h.Ma=function(){var e=this;return o.cm(o.Em,function e(t){return new o.ae(null,(function(){for(;;){var n=o.t(t);if(n){if(o.rd(n)){var i=o.ic(n),a=o.D(i),u=o.de(a);e:for(var l=0;;){if(!(l<a)){i=!0;break e}var c=o.gd(i,l);c=new o.n(null,2,[o.Yl,r(o.Im(c)),o.Pl,c],null),u.add(c),l+=1}return i?o.ge(o.ie(u),e(o.jc(n))):o.ge(o.ie(u),null)}return u=o.u(n),o.Yd(new o.n(null,2,[o.Yl,r(o.Im(u)),o.Pl,u],null),e(o.Hc(n)))}return null}}),null)}(e.qb),(function(e){return new o.Sd(null,o.Kn,new o.Sd(null,e,null,1,null),2,null)}))},o.h.La=function(){return o.Yd(o.Nn,o.Ig.a(o.Jm,this.qb))},o.Jo=o.Um(o.Ao,o.Ie((function(e){return/^[\s\xa0]*$/.test(null==e?"":String(e))})),"Non-blank string"),o.Ko=o.Qm((function(e){return o.Ti(e,o.Lj)}),"Valid field type"),o.Lo=o.Qm((function(e){return o.Ti(e,o.ak)||o.Ti(e,o.rk)}),"Valid semantic type"),o.Mo=o.Um(o.Do,(function(e){return 0<e}),"positive integer"),o.No=o.Um(o.Do,o.Ie(o.Go),"integer >= 0"),o.Oo=o.Cf([o.zo,o.zo]),o.Po=o.Io(o.F([o.Eo,o.Ao]))},52192:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut,lt,ct,st,ft,dt,pt,ht,mt,yt,vt,bt,gt,wt,Ot,jt,St,Et,_t,xt,Pt,Ct,kt,At,Dt,Rt,It,Tt,Nt,qt,Mt,Zt,Lt,Bt,zt,Ft,Qt,Vt,Ut,Ht,Yt,Gt,Wt,$t,Kt,Jt,Xt,en,tn,nn,rn,on,an,un,ln,cn,sn,fn,dn,pn,hn,mn,yn,vn,bn,gn,wn,On,jn,Sn,En,_n,xn,Pn,Cn,kn,An,Dn,Rn,In,Tn,Nn,qn,Mn,Zn,Ln,Bn,zn,Fn,Qn,Vn,Un,Hn,Yn,Gn,Wn,$n,Kn,Jn,Xn,er,tr,nr,rr,ir,or,ar,ur,lr,cr,sr,fr,dr,pr,hr,mr,yr,vr,br,gr,wr,Or,jr,Sr,Er,_r,xr,Pr,Cr,kr,Ar,Dr,Rr,Ir,Tr,Nr,qr,Mr,Zr,Lr,Br,zr,Fr,Qr,Vr,Ur,Hr,Yr,Gr,Wr,$r,Kr,Jr,Xr,ei,ti,ni,ri,ii,oi,ai,ui,li,ci,si,fi,di,pi,hi,mi,yi,vi,bi,gi,wi,Oi,ji,Si,Ei,_i,xi,Pi,Ci,ki,Ai,Di,Ri,Ii,Ti,Ni,qi,Mi,Zi,Li,Bi,zi,Fi,Qi,Vi,Ui,Hi,Yi,Gi,Wi,$i,Ki,Ji,Xi,eo,to,no,ro,io,oo,ao,uo,lo,co,so,fo,po,ho,mo,yo,vo,bo,go,wo,Oo,jo,So,Eo,_o,xo,Po,Co,ko,Ao,Do,Ro,Io,To,No,qo,Mo,Zo,Lo,Bo,zo,Fo,Qo,Vo,Uo,Ho,Yo,Go,Wo,$o,Ko,Jo,Xo,ea,ta,na,ra,ia,oa=n(4923);n(70406),n(52340),n(30624),n(58367),r="metabase.mbql.schema",i=function(e){return"number"==typeof e},oa.So=function(e){return null!=e},o=function(e,t){if(null!=e&&null!=e.vc)e=e.vc(e,t);else{var n=o[oa.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=o._))throw oa.eb("ISet.-disjoin",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},a=function(){},u=function(e,t){if(null!=e&&null!=e.Hb)e=e.Hb(e,t);else{var n=u[oa.Ca(null==e?null:e)];if(null!=n)e=n.a?n.a(e,t):n.call(null,e,t);else{if(null==(n=u._))throw oa.eb("CoreSpec.checker",e);e=n.a?n.a(e,t):n.call(null,e,t)}}return e},l=function(){return function(){function e(e){if(0<arguments.length)for(var t=0,n=Array(arguments.length-0);t<n.length;)n[t]=arguments[t+0],++t;return!0}return e.I=0,e.H=function(e){return oa.t(e),!0},e.j=function(){return!0},e}()},oa.Xo=function(e,t,n){return new oa.sh(e,t,n)},oa.Yo=function(e,t){return oa.Xo(e,t,null)},c=function(e){var t=new oa.Sa;for(e=oa.t(e);;){if(null==e)return t.toString();t.append(oa.fb.b(oa.u(e))),null!=(e=oa.B(e))&&t.append(", ")}},s=function(e){if(oa.Dm(e))return 0==(1&e);throw Error(["Argument must be an integer: ",oa.fb.b(e)].join(""))},oa.ap=function(e){return oa.q(oa.Ge(oa.Nd,e))?oa.Kd((function(e,t){return oa.Vd.a(oa.q(e)?e:oa.Be,t)}),e):null},oa.bp=function(e,t){return oa.Gd((function(t,n){var r=oa.G(n,0,null);return n=oa.G(n,1,null),oa.vd(e,r)?oa.Ng.c(t,n,oa.N.a(e,r)):t}),oa.re(oa.Vh,e,oa.lg(t)),t)},f=function(e,t){return new oa.ae(null,(function(){if(0<e){var n=oa.t(t);return n?oa.Yd(oa.u(n),f(e-1,oa.Hc(n))):null}return null}),null)},d=function(e,t,n){return new oa.ae(null,(function(){var r=oa.t(n);if(r){var i=f(e,r);return e===oa.D(i)?oa.Yd(i,d(e,t,oa.ki(t,r))):null}return null}),null)},oa.ep=function(e,t){return new oa.nn(e,!1,t,null,null,null)},p=function(e,t){var n=new oa.n(null,3,[oa.Rl,e,oa.Ul,!1,oa.Sl,oa.ah.b(oa.Be)],null);return e.a?e.a(t,n):e.call(null,t,n)},h=function(e){return new oa.Xm(e,null,null,null)},m=function(e,t,n,r){this.ob=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},y=function(e){for(var t=[],n=arguments.length,r=0;r<n;)t.push(arguments[r]),r+=1;return y.j(0<t.length?new oa.Dc(t.slice(0),0,null):null)},v=function(e,t,n,r,i){this.Ya=e,this.$a=t,this.C=n,this.g=r,this.v=i,this.o=2230716170,this.K=139264},b=function(e,t,n){return fa.j(oa.F([e,t,l(),n]))},g=function(e,t,n,r){this.cb=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},w=function(e){if(!(null!=e?32768&e.o||oa.yc===e.Md||!e.o&&oa.cb(a,e):oa.cb(a,e)))throw Error(oa.vl("Not an IDeref: %s",oa.F([e])));return new g(e,null,null,null)},O=function(e,t,n,r){this.P=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},oa.pp=function(e){return new O(e,null,null,null)},j=function(e){return oa.fj.a(oa.Kl,p((function(e,t){return u(oa.Im(e),t)}),e))},S=function(e,t){if(!oa.qd(t))return oa.ep(t,e);var n=oa.G(t,0,null),r=oa.G(t,1,null);switch(n instanceof oa.O?n.ga:null){case"optional":return new oa.nn(oa.pp(r),!0,e,null,null,null);case"rest":return oa.Sm(r,e);default:return oa.ep(t,e)}},E=function(e,t){return oa.gf(oa.Yd(oa.ep(oa.Om(e),e),function e(t){return new oa.ae(null,(function(){for(;;){var n=oa.t(t);if(n){if(oa.rd(n)){var r=oa.ic(n),i=oa.D(r),o=oa.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=oa.gd(r,a),l=oa.G(u,0,null);u=oa.G(u,1,null),l=S(l,u),o.add(l),a+=1}return r?oa.ge(oa.ie(o),e(oa.jc(n))):oa.ge(oa.ie(o),null)}return r=oa.u(n),o=oa.G(r,0,null),r=oa.G(r,1,null),oa.Yd(S(o,r),e(oa.Hc(n)))}return null}}),null)}(d(2,2,t))))},_=function(e,t){return!!(oa.nd(t)&&oa.u(t)instanceof oa.O)&&(oa.ld(e)?(t=oa.u(t),(e=oa.tg(e)).b?e.b(t):e.call(null,t)):oa.Xc.a(e,oa.u(t)))},x=function(e){return oa.Sm(oa.qe(fa,oa.Kd(oa.Wh,function e(t){return new oa.ae(null,(function(){for(;;){var n=oa.t(t);if(n){if(oa.rd(n)){var r=oa.ic(n),i=oa.D(r),o=oa.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=oa.gd(r,a),l=oa.G(u,0,null);u=oa.G(u,1,null),o.add(new oa.Q(null,2,5,oa.R,[oa.Qi(_,l),u],null)),a+=1}return r?oa.ge(oa.ie(o),e(oa.jc(n))):oa.ge(oa.ie(o),null)}return r=oa.u(n),o=oa.G(r,0,null),r=oa.G(r,1,null),oa.Yd(new oa.Q(null,2,5,oa.R,[oa.Qi(_,o),r],null),e(oa.Hc(n)))}return null}}),null)}(e))),["Must be a valid instance of one of these clauses: ",c(oa.Ig.a(oa.u,e))].join(""))},P=function(e){return oa.Um(e,oa.t,"Non-empty")},C=function(e){return!oa.t(e)||oa.qe(oa.wp,e)},k=function(e){return"string"==typeof e?(e=Date.parse(e),e=!oa.Xc.a(e,NaN)):e=null,e},oa.Wl.prototype.Hb=oa.Ia(9,(function(){var e=this;return function(t){var n=e.R.b?e.R.b(t):e.R.call(null,t);return oa.q(n)?n:t}})),oa.bm.prototype.Hb=oa.Ia(8,(function(e,t){var n=this,r=this,i=oa.Gd((function(e,n){return oa.am(n,t,e)}),(function(e){return oa.Il(oa.Dl(r,e,new oa.Vg((function(){var t=oa.yl(e);return n.Ta.b?n.Ta.b(t):n.Ta.call(null,t)})),null))}),oa.Wd(n.options));return oa.q(n.Sa)?function(e){var r=n.R.b?n.R.b(e):n.R.call(null,e);return oa.q(r)?r:(r=i.b?i.b(e):i.call(null,e),oa.Jl(r)?r:(e=oa.q(oa.Ul.b(t))?r:e,e=n.Sa.b?n.Sa.b(e):n.Sa.call(null,e),oa.q(e)?e:r))}:function(e){var t=n.R.b?n.R.b(e):n.R.call(null,e);return oa.q(t)?t:i.b?i.b(e):i.call(null,e)}})),oa.nm.prototype.Hb=oa.Ia(7,(function(e,t){var n=this,r=oa.q(oa.Ul.b(t))?n.pb:function(){return null},i=oa.jm(n.elements,t,(function(e,t){return t}));return function(e){var t=n.R.b?n.R.b(e):n.R.call(null,e);if(oa.q(t))return t;var o=oa.ah.b(oa.ff);t=i.a?i.a(o,e):i.call(null,o,e),o=oa.Ib(o);var a=(a=oa.t(t))?a:oa.Ge(oa.Jl,o);return oa.q(a)?oa.Il(n.Ua.c?n.Ua.c(e,o,t):n.Ua.call(null,e,o,t)):r.b?r.b(o):r.call(null,o)}})),oa.pg.prototype.vc=oa.Ia(6,(function(e,t){return new oa.pg(this.M,oa.Cb(this.vb,t),null)}));var aa={},ua={},la={},ca=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new oa.Dc(n.slice(2),0,null))}};ca.b=function(e){return e},ca.a=function(e,t){return null==e?null:o(e,t)},ca.j=function(e,t,n){for(;;){if(null==e)return null;if(e=ca.a(e,t),!oa.q(n))return e;t=oa.u(n),n=oa.B(n)}},ca.H=function(e){var t=oa.u(e),n=oa.B(e);return e=oa.u(n),n=oa.B(n),this.j(t,e,n)},ca.I=2;var sa=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new oa.Dc(n.slice(2),0,null))}};sa.b=function(e){return e},sa.a=function(e,t){for(;;){if(!(oa.D(t)<oa.D(e)))return oa.Gd(function(e,t){return function(e,n){return oa.vd(t,n)?e:ca.a(e,n)}}(0,t),e,e);var n=e;e=t,t=n}},sa.j=function(e,t,n){return e=oa.Si((function(e){return-oa.D(e)}),oa.Vd.j(n,t,oa.F([e]))),oa.Gd(sa,oa.u(e),oa.Hc(e))},sa.H=function(e){var t=oa.u(e),n=oa.B(e);return e=oa.u(n),n=oa.B(n),this.j(t,e,n)},sa.I=2,oa.h=m.prototype,oa.h.W=function(e,t){return this.J(null,t,null)},oa.h.J=function(e,t,n){return"vs"===(t instanceof oa.O?t.ga:null)?this.ob:oa.N.c(this.g,t,n)},oa.h.Ba=function(e,t,n){return oa.Gd((function(e,n){var r=oa.G(n,0,null);return n=oa.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},oa.h.O=function(e,t,n){return oa.Cg(t,(function(e){return oa.Cg(t,oa.Hg,""," ","",n,e)}),"#schema.core.EnumSchema{",", ","}",n,oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.Q(null,2,5,oa.R,[oa.Cn,this.ob],null)],null),this.g))},oa.h.ja=function(){return new oa.wf(this,1,new oa.Q(null,1,5,oa.R,[oa.Cn],null),oa.q(this.g)?oa.oc(this.g):oa.Ce())},oa.h.X=function(){return this.C},oa.h.aa=function(){return 1+oa.D(this.g)},oa.h.T=function(){var e=this.v;return null!=e?e:this.v=e=2002701468^oa.Mc(this)},oa.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&oa.Xc.a(this.ob,t.ob)&&oa.Xc.a(this.g,t.g)},oa.h.Ea=function(e,t){return oa.vd(new oa.pg(null,new oa.n(null,1,[oa.Cn,null],null),null),t)?oa.Vh.a(oa.Lb(oa.bi.a(oa.Be,this),this.C),t):new m(this.ob,this.C,oa.xe(oa.Vh.a(this.g,t)),null)},oa.h.U=function(e,t,n){return oa.q(oa.Zd.a?oa.Zd.a(oa.Cn,t):oa.Zd.call(null,oa.Cn,t))?new m(n,this.C,this.g,null):new m(this.ob,this.C,oa.Ng.c(this.g,t,n),null)},oa.h.Z=function(){return oa.t(oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.wd(oa.Cn,this.ob)],null),this.g))},oa.h.$=function(e,t){return new m(this.ob,t,this.g,this.v)},oa.h.ba=function(e,t){return oa.qd(t)?this.U(null,oa.gd(t,0),oa.gd(t,1)):oa.Gd(oa.qb,this,t)},oa.h.Ma=function(){var e=this;return oa.Xl(oa.Ml(this,(function(t){return oa.vd(e.ob,t)}),(function(t){return new oa.Sd(null,e.ob,new oa.Sd(null,t,null,1,null),2,null)})))},oa.h.La=function(){return oa.Yd(oa.$n,this.ob)},y.j=function(e){return new m(oa.tg(e),null,null,null)},y.I=0,y.H=function(e){return this.j(oa.t(e))},oa.h=v.prototype,oa.h.W=function(e,t){return this.J(null,t,null)},oa.h.J=function(e,t,n){switch(t instanceof oa.O?t.ga:null){case"preds-and-schemas":return this.Ya;case"error-symbol":return this.$a;default:return oa.N.c(this.g,t,n)}},oa.h.Ba=function(e,t,n){return oa.Gd((function(e,n){var r=oa.G(n,0,null);return n=oa.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},oa.h.O=function(e,t,n){return oa.Cg(t,(function(e){return oa.Cg(t,oa.Hg,""," ","",n,e)}),"#schema.core.ConditionalSchema{",", ","}",n,oa.Wh.a(new oa.Q(null,2,5,oa.R,[new oa.Q(null,2,5,oa.R,[oa.wn,this.Ya],null),new oa.Q(null,2,5,oa.R,[oa.wo,this.$a],null)],null),this.g))},oa.h.ja=function(){return new oa.wf(this,2,new oa.Q(null,2,5,oa.R,[oa.wn,oa.wo],null),oa.q(this.g)?oa.oc(this.g):oa.Ce())},oa.h.X=function(){return this.C},oa.h.aa=function(){return 2+oa.D(this.g)},oa.h.T=function(){var e=this.v;return null!=e?e:this.v=e=1418435858^oa.Mc(this)},oa.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&oa.Xc.a(this.Ya,t.Ya)&&oa.Xc.a(this.$a,t.$a)&&oa.Xc.a(this.g,t.g)},oa.h.Ea=function(e,t){return oa.vd(new oa.pg(null,new oa.n(null,2,[oa.wn,null,oa.wo,null],null),null),t)?oa.Vh.a(oa.Lb(oa.bi.a(oa.Be,this),this.C),t):new v(this.Ya,this.$a,this.C,oa.xe(oa.Vh.a(this.g,t)),null)},oa.h.U=function(e,t,n){return oa.q(oa.Zd.a?oa.Zd.a(oa.wn,t):oa.Zd.call(null,oa.wn,t))?new v(n,this.$a,this.C,this.g,null):oa.q(oa.Zd.a?oa.Zd.a(oa.wo,t):oa.Zd.call(null,oa.wo,t))?new v(this.Ya,n,this.C,this.g,null):new v(this.Ya,this.$a,this.C,oa.Ng.c(this.g,t,n),null)},oa.h.Z=function(){return oa.t(oa.Wh.a(new oa.Q(null,2,5,oa.R,[new oa.wd(oa.wn,this.Ya),new oa.wd(oa.wo,this.$a)],null),this.g))},oa.h.$=function(e,t){return new v(this.Ya,this.$a,t,this.g,this.v)},oa.h.ba=function(e,t){return oa.qd(t)?this.U(null,oa.gd(t,0),oa.gd(t,1)):oa.Gd(oa.qb,this,t)},oa.h.Ma=function(){var e=this;return oa.cm(oa.Em,function e(t){return new oa.ae(null,(function(){for(;;){var n=oa.t(t);if(n){if(oa.rd(n)){var r=oa.ic(n),i=oa.D(r),o=oa.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=oa.gd(r,a),l=oa.G(u,0,null);u=oa.G(u,1,null),o.add(new oa.n(null,2,[oa.Yl,l,oa.Pl,u],null)),a+=1}return r?oa.ge(oa.ie(o),e(oa.jc(n))):oa.ge(oa.ie(o),null)}return r=oa.u(n),o=oa.G(r,0,null),r=oa.G(r,1,null),oa.Yd(new oa.n(null,2,[oa.Yl,o,oa.Pl,r],null),e(oa.Hc(n)))}return null}}),null)}(e.Ya),(function(t){var n=e.$a;return n=oa.q(n)?n:oa.Xc.a(1,oa.D(e.Ya))?oa.Rg.b(oa.zl(oa.u(oa.u(e.Ya)))):oa.fo,new oa.Sd(null,n,new oa.Sd(null,t,null,1,null),2,null)}))},oa.h.La=function(){return oa.Yd(oa.Rn,oa.Wh.a(oa.Yi((function(e){var t=oa.G(e,0,null);return e=oa.G(e,1,null),new oa.Q(null,2,5,oa.R,[oa.Rg.b(oa.zl(t)),oa.Jm(e)],null)}),oa.F([this.Ya])),oa.q(this.$a)?new oa.Q(null,1,5,oa.R,[this.$a],null):null))};var fa=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(0<n.length?new oa.Dc(n.slice(0),0,null):null)};fa.j=function(e){if(!oa.t(e)||!(s(oa.D(e))||oa.ed(e)instanceof oa.r))throw Error(oa.vl("Expected even, nonzero number of args (with optional trailing symbol); got %s",oa.F([oa.D(e)])));return new v(oa.gf(function e(t){return new oa.ae(null,(function(){for(;;){var n=oa.t(t);if(n){if(oa.rd(n)){var r=oa.ic(n),i=oa.D(r),o=oa.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=oa.gd(r,a),c=oa.G(u,0,null),s=oa.G(u,1,null);if(u=o,!oa.Cm(c))throw Error(oa.wl(["Conditional predicate ",oa.fb.b(c)," must be a function"].join("")));c=new oa.Q(null,2,5,oa.R,[oa.Xc.a(c,oa.Yn)?l():c,s],null),u.add(c),a+=1}return r?oa.ge(oa.ie(o),e(oa.jc(n))):oa.ge(oa.ie(o),null)}if(r=oa.u(n),o=oa.G(r,0,null),r=oa.G(r,1,null),!oa.Cm(o))throw Error(oa.wl(["Conditional predicate ",oa.fb.b(o)," must be a function"].join("")));return o=new oa.Q(null,2,5,oa.R,[oa.Xc.a(o,oa.Yn)?l():o,r],null),oa.Yd(o,e(oa.Hc(n)))}return null}}),null)}(d(2,2,e))),s(oa.D(e))?null:oa.ed(e),null,null,null)},fa.I=0,fa.H=function(e){return this.j(oa.t(e))},oa.h=g.prototype,oa.h.W=function(e,t){return this.J(null,t,null)},oa.h.J=function(e,t,n){return"derefable"===(t instanceof oa.O?t.ga:null)?this.cb:oa.N.c(this.g,t,n)},oa.h.Ba=function(e,t,n){return oa.Gd((function(e,n){var r=oa.G(n,0,null);return n=oa.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},oa.h.O=function(e,t,n){return oa.Cg(t,(function(e){return oa.Cg(t,oa.Hg,""," ","",n,e)}),"#schema.core.Recursive{",", ","}",n,oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.Q(null,2,5,oa.R,[oa.po,this.cb],null)],null),this.g))},oa.h.ja=function(){return new oa.wf(this,1,new oa.Q(null,1,5,oa.R,[oa.po],null),oa.q(this.g)?oa.oc(this.g):oa.Ce())},oa.h.X=function(){return this.C},oa.h.aa=function(){return 1+oa.D(this.g)},oa.h.T=function(){var e=this.v;return null!=e?e:this.v=e=1521498755^oa.Mc(this)},oa.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&oa.Xc.a(this.cb,t.cb)&&oa.Xc.a(this.g,t.g)},oa.h.Ea=function(e,t){return oa.vd(new oa.pg(null,new oa.n(null,1,[oa.po,null],null),null),t)?oa.Vh.a(oa.Lb(oa.bi.a(oa.Be,this),this.C),t):new g(this.cb,this.C,oa.xe(oa.Vh.a(this.g,t)),null)},oa.h.U=function(e,t,n){return oa.q(oa.Zd.a?oa.Zd.a(oa.po,t):oa.Zd.call(null,oa.po,t))?new g(n,this.C,this.g,null):new g(this.cb,this.C,oa.Ng.c(this.g,t,n),null)},oa.h.Z=function(){return oa.t(oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.wd(oa.po,this.cb)],null),this.g))},oa.h.$=function(e,t){return new g(this.cb,t,this.g,this.v)},oa.h.ba=function(e,t){return oa.qd(t)?this.U(null,oa.gd(t,0),oa.gd(t,1)):oa.Gd(oa.qb,this,t)},oa.h.Ma=function(){return oa.dm(oa.Em,new oa.Q(null,1,5,oa.R,[new oa.n(null,1,[oa.Pl,oa.Ib(this.cb)],null)],null))},oa.h.La=function(){if(this.cb instanceof oa.Bc){var e=oa.jd(this.cb),t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;e=oa.N.a(t,oa.xh),t=oa.N.a(t,oa.S),e=oa.Rg.b([oa.fb.b(e),"/",oa.fb.b(t)].join("")),e=new oa.Sd(null,oa.Lh,new oa.Sd(null,e,null,1,null),2,null)}else e=oa.co;return new oa.Sd(null,oa.An,new oa.Sd(null,e,null,1,null),2,null)},oa.h=O.prototype,oa.h.W=function(e,t){return this.J(null,t,null)},oa.h.J=function(e,t,n){return"schema"===(t instanceof oa.O?t.ga:null)?this.P:oa.N.c(this.g,t,n)},oa.h.Ba=function(e,t,n){return oa.Gd((function(e,n){var r=oa.G(n,0,null);return n=oa.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},oa.h.O=function(e,t,n){return oa.Cg(t,(function(e){return oa.Cg(t,oa.Hg,""," ","",n,e)}),"#schema.core.Maybe{",", ","}",n,oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.Q(null,2,5,oa.R,[oa.Pl,this.P],null)],null),this.g))},oa.h.ja=function(){return new oa.wf(this,1,new oa.Q(null,1,5,oa.R,[oa.Pl],null),oa.q(this.g)?oa.oc(this.g):oa.Ce())},oa.h.X=function(){return this.C},oa.h.aa=function(){return 1+oa.D(this.g)},oa.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-805411239^oa.Mc(this)},oa.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&oa.Xc.a(this.P,t.P)&&oa.Xc.a(this.g,t.g)},oa.h.Ea=function(e,t){return oa.vd(new oa.pg(null,new oa.n(null,1,[oa.Pl,null],null),null),t)?oa.Vh.a(oa.Lb(oa.bi.a(oa.Be,this),this.C),t):new O(this.P,this.C,oa.xe(oa.Vh.a(this.g,t)),null)},oa.h.U=function(e,t,n){return oa.q(oa.Zd.a?oa.Zd.a(oa.Pl,t):oa.Zd.call(null,oa.Pl,t))?new O(n,this.C,this.g,null):new O(this.P,this.C,oa.Ng.c(this.g,t,n),null)},oa.h.Z=function(){return oa.t(oa.Wh.a(new oa.Q(null,1,5,oa.R,[new oa.wd(oa.Pl,this.P)],null),this.g))},oa.h.$=function(e,t){return new O(this.P,t,this.g,this.v)},oa.h.ba=function(e,t){return oa.qd(t)?this.U(null,oa.gd(t,0),oa.gd(t,1)):oa.Gd(oa.qb,this,t)},oa.h.Ma=function(){return oa.dm(oa.Em,new oa.Q(null,2,5,oa.R,[new oa.n(null,2,[oa.Yl,oa.Ji,oa.Pl,oa.Om(null)],null),new oa.n(null,1,[oa.Pl,this.P],null)],null))},oa.h.La=function(){return new oa.Sd(null,oa.xn,new oa.Sd(null,oa.Jm(this.P),null,1,null),2,null)},oa.wp=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new oa.Dc(n.slice(2),0,null))}},oa.wp.b=function(){return!0},oa.wp.a=function(e,t){return!oa.Xc.a(e,t)},oa.wp.j=function(e,t,n){if(oa.Xc.a(e,t))return!1;for(e=oa.rg([e,t]),t=n;;){var r=oa.u(t);if(n=oa.B(t),!oa.q(t))return!0;if(oa.vd(e,r))return!1;e=oa.Vd.a(e,r),t=n}},oa.wp.H=function(e){var t=oa.u(e),n=oa.B(e);return e=oa.u(n),n=oa.B(n),this.j(t,e,n)},oa.wp.I=2,A=new oa.r(r,"-","metabase.mbql.schema/-",-1440604423,null),oa.Fp=new oa.O(null,">=",">=",-623615505),D=new oa.O("string","does-not-contain","string/does-not-contain",-1536178964),R=new oa.r(null,"TimeIntervalOptions","TimeIntervalOptions",1566864026,null),I=new oa.O(null,"pulse","pulse",-244494476),T=new oa.r(null,"ceil","ceil",-184398425,null),N=new oa.O(null,"left-join","left-join",-672831855),q=new oa.r(null,"!=","!=",-201205829,null),M=new oa.O(null,"week","week",-1326473278),oa.Np=new oa.O(null,"expression","expression",202311876),Z=new oa.O("location","zip_code","location/zip_code",1641155222),L=new oa.O(null,"absolute-datetime","absolute-datetime",-560340465),B=new oa.r(r,"sum-where","metabase.mbql.schema/sum-where",969078380,null),z=new oa.O(null,"log","log",-1595516004),F=new oa.r(r,"<=","metabase.mbql.schema/<=",-2098137664,null),Q=new oa.O(null,"limit","limit",-1355822363),V=new oa.r(r,"max","metabase.mbql.schema/max",-1397867614,null),U=new oa.r(null,"rtrim","rtrim",979195078,null),H=new oa.O(null,"segment-id","segment-id",1810133590),Y=new oa.O(null,"string","string",-1989541586),oa.Yp=new oa.r("s","cond-pre","s/cond-pre",-923707600,null),G=new oa.r(null,"BooleanExpression*","BooleanExpression*",623370113,null),W=new oa.O(null,"allowed-for","allowed-for",122724334),$=new oa.r(r,"Aggregation","metabase.mbql.schema/Aggregation",-1908264889,null),K=new oa.O(null,"date","date",-1463434462),J=new oa.r(null,"max","max",1701898075,null),X=new oa.O(null,"embedded-question","embedded-question",-2146473954),ee=new oa.r(null,"StringExpression*","StringExpression*",1110382599,null),oa.fq=new oa.O(null,"median","median",569566131),te=new oa.O("date","range","date/range",1647265776),ne=new oa.O(null,"ad-hoc","ad-hoc",-2033634036),re=new oa.O(null,"lat-max","lat-max",841568226),ie=new oa.O(null,"add-default-userland-constraints?","add-default-userland-constraints?",2039156190),oe=new oa.O(null,"dashboard","dashboard",-631747508),ae=new oa.r(null,"median","median",-2084869638,null),ue=new oa.O(null,"metric","metric",408798077),le=new oa.O(null,"day","day",-274800446),ce=new oa.r(null,"Field","Field",430385967,null),se=new oa.O(null,"start","start",-355208981),fe=new oa.O(null,"boolean","boolean",-1919418404),de=new oa.r(null,"Aggregation","Aggregation",-955933538,null),pe=new oa.O("date","month-year","date/month-year",1948031290),he=new oa.O(null,"lower","lower",1120320821),me=new oa.r(null,"Field*","Field*",-2104480026,null),ye=new oa.r(null,"cum-sum","cum-sum",-589533420,null),oa.wq=new oa.O(null,"template-tags","template-tags",1853115685),ve=new oa.r(null,"coalesce","coalesce",-1999813740,null),oa.yq=new oa.O(null,"target","target",253001721),be=new oa.r(null,"length","length",-2065447907,null),ge=new oa.r(null,"MBQLQuery","MBQLQuery",-1395590243,null),we=new oa.r(null,"metric","metric",2049329604,null),oa.Cq=new oa.O(null,"expression-name","expression-name",-1798450709),Oe=new oa.O(null,"length","length",588987862),oa.Eq=new oa.O(null,"interval","interval",1708495417),je=new oa.O(null,"regex-match-first","regex-match-first",-657299718),oa.Gq=new oa.O(null,"<=","<=",-395636158),oa.Hq=new oa.O(null,"or","or",235744169),Se=new oa.O(null,"year","year",335913393),Ee=new oa.r(r,"time-interval","metabase.mbql.schema/time-interval",1275783375,null),_e=new oa.r(r,"cum-sum","metabase.mbql.schema/cum-sum",-2078342061,null),xe=new oa.r(r,"rtrim","metabase.mbql.schema/rtrim",1937815937,null),oa.Mq=new oa.O(null,"fingerprint","fingerprint",598613022),Pe=new oa.r(null,"/","/",-1371932971,null),Ce=new oa.r(null,"stddev","stddev",775056588,null),ke=new oa.O(null,"inner-join","inner-join",659431740),Ae=new oa.r(r,"count","metabase.mbql.schema/count",678066683,null),De=new oa.r(null,"substring","substring",-1513569493,null),Re=new oa.O(null,"month","month",-1960248533),Ie=new oa.O("cljs.analyzer","no-resolve","cljs.analyzer/no-resolve",-1872351017),Te=new oa.r(r,"ceil","metabase.mbql.schema/ceil",-1404628626,null),Ne=new oa.O(null,"lat-min","lat-min",1630784161),qe=new oa.r(r,"MBQLQuery","metabase.mbql.schema/MBQLQuery",1964355302,null),oa.Xq=new oa.O(null,"between","between",1131099276),Me=new oa.r(r,"UnnamedAggregation*","metabase.mbql.schema/UnnamedAggregation*",652628682,null),Ze=new oa.r(null,"percentile","percentile",1039342775,null),Le=new oa.O("string","ends-with","string/ends-with",302681156),Be=new oa.r(null,"floor","floor",-772394748,null),oa.br=new oa.O(null,"clause","clause",1479668060),oa.cr=new oa.r("s","pred","s/pred",-727014287,null),ze=new oa.O(null,"max-results","max-results",-32858165),oa.er=new oa.O(null,"sum-where","sum-where",2135348428),Fe=new oa.r(r,"cum-count","metabase.mbql.schema/cum-count",596526831,null),Qe=new oa.r(r,"field","metabase.mbql.schema/field",1566852856,null),Ve=new oa.O(null,"query-hash","query-hash",-1524484965),oa.ir=new oa.O(null,"parameters","parameters",-1229919748),Ue=new oa.O(null,"question","question",-1411720117),He=new oa.r(r,"sum","metabase.mbql.schema/sum",-1589890100,null),Ye=new oa.r(null,"sum","sum",1777518341,null),Ge=new oa.r(null,"min","min",2085523049,null),We=new oa.O("number","!=","number/!=",-673025509),$e=new oa.r(null,"time-interval","time-interval",-1949813754,null),Ke=new oa.r(r,"min","metabase.mbql.schema/min",-1534510688,null),oa.qr=new oa.O(null,"binning","binning",1709835866),Je=new oa.O(null,"sugar","sugar",-73788488),Xe=new oa.r(null,"lower","lower",-1534114948,null),et=new oa.O("location","country","location/country",1666636202),tt=new oa.r(r,"/","metabase.mbql.schema//",2004134796,null),nt=new oa.r(null,"ag:var","ag:var",-1804440286,null),rt=new oa.r(null,"contains","contains",-1977535957,null),it=new oa.O(null,"percentile-aggregations","percentile-aggregations",1241763983),oa.yr=new oa.O(null,"<","<",-646864291),ot=new oa.r(null,"ExpressionArg","ExpressionArg",1060743736,null),at=new oa.O(null,"card-id","card-id",-1770060179),ut=new oa.r(r,"StringExpression","metabase.mbql.schema/StringExpression",970196104,null),lt=new oa.r(null,"FieldOptions","FieldOptions",-1536320891,null),ct=new oa.r(r,"dimension","metabase.mbql.schema/dimension",1500199226,null),st=new oa.O(null,"none","none",1333468478),ft=new oa.r(r,"starts-with","metabase.mbql.schema/starts-with",1063663591,null),oa.Gr=new oa.O(null,"strategy","strategy",-1471631918),dt=new oa.O("number","<=","number/<=",-1499316353),pt=new oa.r(null,"ArithmeticExpression*","ArithmeticExpression*",353324128,null),ht=new oa.O(null,"coalesce","coalesce",654622029),mt=new oa.O(null,"optional","optional",2053951509),yt=new oa.O("string","!=","string/!=",-1083772573),vt=new oa.O(null,"variadic","variadic",882626057),bt=new oa.O(null,"dashboard-id","dashboard-id",1965414288),gt=new oa.r(r,"ArithmeticExpression","metabase.mbql.schema/ArithmeticExpression",-2037262177,null),wt=new oa.O(null,"hour","hour",-555989214),Ot=new oa.r(r,"Filter","metabase.mbql.schema/Filter",-1444327113,null),jt=new oa.r(null,"replace","replace",853943757,null),St=new oa.r(null,"time","time",-1268547887,null),Et=new oa.r(r,"contains","metabase.mbql.schema/contains",1399250832,null),_t=new oa.r(null,"field","field",338095027,null),xt=new oa.O("string","contains","string/contains",1602423827),Pt=new oa.r(null,"EqualityComparable","EqualityComparable",-2076258858,null),Ct=new oa.r(null,"segment","segment",675610331,null),oa.Yr=new oa.O(null,"order-by","order-by",1527318070),kt=new oa.r("helpers","IntGreaterThanZero","helpers/IntGreaterThanZero",1743901629,null),oa.$r=new oa.O(null,"filter","filter",-948537934),At=new oa.r(null,"Filter*","Filter*",-1193205185,null),Dt=new oa.O(null,"skip-results-metadata?","skip-results-metadata?",251010463),Rt=new oa.r(null,"round","round",-645002441,null),It=new oa.r(r,"BooleanExpression*","metabase.mbql.schema/BooleanExpression*",-630544184,null),Tt=new oa.r(r,"+","metabase.mbql.schema/+",-1802115711,null),Nt=new oa.O(null,"other-clauses","other-clauses",1570511021),qt=new oa.r("s","enum","s/enum",-975416934,null),Mt=new oa.O(null,"field-or-expression","field-or-expression",-1409494368),Zt=new oa.r(null,"CaseClauses","CaseClauses",-1749071354,null),Lt=new oa.r(null,">=",">=",1016916022,null),Bt=new oa.r(r,"is-empty","metabase.mbql.schema/is-empty",1686480962,null),zt=new oa.r(r,"log","metabase.mbql.schema/log",-899459908,null),Ft=new oa.r(null,"case","case",-1510733573,null),Qt=new oa.r(null,"FieldOrExpressionDef","FieldOrExpressionDef",-788269541,null),Vt=new oa.O(null,"public-question","public-question",629369976),Ut=new oa.r(null,"or","or",1876275696,null),Ht=new oa.r(null,"sum-where","sum-where",-519087341,null),Yt=new oa.r(null,"log","log",45015523,null),oa.ss=new oa.O(null,"current","current",-1088038603),oa.ts=new oa.O(null,"aggregation","aggregation",1597476696),oa.us=new oa.O(null,"percentile","percentile",-601188752),Gt=new oa.r(null,"regex-match-first","regex-match-first",983231809,null),Wt=new oa.r(r,"Filter*","metabase.mbql.schema/Filter*",-140275836,null),$t=new oa.r(null,"UnnamedAggregation*","UnnamedAggregation*",1873018243,null),oa.ys=new oa.O(null,"source-table","source-table",-225307692),Kt=new oa.r(null,"<=","<=",1244895369,null),oa.As=new oa.O(null,"source-metadata","source-metadata",-477816085),Jt=new oa.r(r,"segment","metabase.mbql.schema/segment",-512121472,null),Xt=new oa.O(null,"internal","internal",-854870097),oa.Ds=new oa.O(null,"join-alias","join-alias",1454206794),oa.Es=new oa.O(null,"desc","desc",2093485764),oa.Fs=new oa.O(null,"and","and",-971899817),en=new oa.O(null,"advanced-math-expressions","advanced-math-expressions",1076581757),tn=new oa.r(null,"is-null","is-null",-356519403,null),nn=new oa.r(null,"ends-with","ends-with",1183740516,null),rn=new oa.r(r,"metric","metabase.mbql.schema/metric",1030004285,null),on=new oa.O("number","between","number/between",97700581),an=new oa.O(null,"map-tiles","map-tiles",1961865797),un=new oa.O("date","quarter-year","date/quarter-year",-1453950150),oa.oh=new oa.O(null,"default","default",-1987822328),ln=new oa.O(null,"lon-max","lon-max",1590224717),cn=new oa.r(null,"NumericExpressionArgOrInterval","NumericExpressionArgOrInterval",-151709337,null),sn=new oa.r(null,"CaseOptions","CaseOptions",1989286806,null),fn=new oa.r(r,"not","metabase.mbql.schema/not",-113379604,null),dn=new oa.r(r,"avg","metabase.mbql.schema/avg",-1530848906,null),oa.Ss=new oa.O(null,"*","*",-1294732318),oa.Ts=new oa.O(null,"count-where","count-where",385407720),oa.Us=new oa.O(null,"not-null","not-null",-1326718535),pn=new oa.r(r,"<","metabase.mbql.schema/<",-1057391587,null),hn=new oa.O(null,"exp","exp",-261706262),mn=new oa.r(null,"dimension","dimension",-2111181571,null),yn=new oa.r("s","Int","s/Int",-2116888657,null),vn=new oa.O(null,"num-bins","num-bins",847672055),bn=new oa.r(null,"-","-",-471816912,null),gn=new oa.r(r,"is-null","metabase.mbql.schema/is-null",637054412,null),wn=new oa.O(null,"csv-download","csv-download",2141432084),On=new oa.r(null,"Filter","Filter",-424893332,null),jn=new oa.O(null,"metric-id","metric-id",-686486942),Sn=new oa.r(null,"is-empty","is-empty",600228619,null),En=new oa.O(null,"json-download","json-download",-971130133),_n=new oa.O(null,"floor","floor",1882041021),xn=new oa.r(null,"absolute-datetime","absolute-datetime",1080191062,null),oa.it=new oa.O(null,"asc","asc",356854569),oa.jt=new oa.O(null,"!=","!=",-1841737356),Pn=new oa.r(null,"trim","trim",-1880116002,null),Cn=new oa.r(r,"desc","metabase.mbql.schema/desc",-2050113424,null),kn=new oa.r("s","recursive","s/recursive",-1935549792,null),An=new oa.r(r,"ends-with","metabase.mbql.schema/ends-with",-2117292579,null),Dn=new oa.r(r,"StringExpression*","metabase.mbql.schema/StringExpression*",224546636,null),Rn=new oa.r(null,"TimeUnit","TimeUnit",1200517789,null),In=new oa.r(null,"FieldOrAggregationReference","FieldOrAggregationReference",85477856,null),Tn=new oa.O("date","relative","date/relative",25987732),Nn=new oa.O(null,"concat","concat",-2108183992),qn=new oa.O(null,"condition","condition",1668437652),Mn=new oa.r(null,"upper","upper",1886775433,null),Zn=new oa.O("location","city","location/city",-1746973325),Ln=new oa.r(null,"ArithmeticExpression","ArithmeticExpression",-2677674,null),Bn=new oa.r(null,"power","power",702679448,null),zn=new oa.O("string","=","string/=",983744235),Fn=new oa.r(r,"*","metabase.mbql.schema/*",1842546528,null),Qn=new oa.O(null,"rtrim","rtrim",-661336449),Vn=new oa.r(null,"not-null","not-null",313812992,null),Un=new oa.r(null,"BooleanExpression","BooleanExpression",1027887421,null),Hn=new oa.r(r,"Field*","metabase.mbql.schema/Field*",-1168278623,null),Yn=new oa.O(null,"sqrt","sqrt",-1270051929),Gn=new oa.r(r,"concat","metabase.mbql.schema/concat",-580718778,null),oa.Gt=new oa.O(null,"not","not",-595976884),oa.Ht=new oa.O(null,"avg","avg",197406200),Wn=new oa.O(null,"text","text",-1790561697),$n=new oa.O("string","starts-with","string/starts-with",1266861170),Kn=new oa.O(null,"minute","minute",-642875969),oa.Lt=new oa.O(null,"distinct","distinct",-1788879121),oa.Mt=new oa.O(null,"starts-with","starts-with",366503009),oa.Nt=new oa.O(null,"category","category",-593092832),Jn=new oa.O(null,"variable","variable",-281346492),oa.Pt=new oa.O(null,"is-empty","is-empty",-1040302908),Xn=new oa.O(null,"lon-min","lon-min",-787291357),er=new oa.r(r,">=","metabase.mbql.schema/>=",1977236849,null),tr=new oa.r(r,"ltrim","metabase.mbql.schema/ltrim",52894949,null),nr=new oa.r(null,"share","share",1051097594,null),rr=new oa.r(null,"OrderComparable","OrderComparable",772072595,null),oa.Vt=new oa.O("metadata","dataset-metadata","metadata/dataset-metadata",-728376469),ir=new oa.O(null,"quarter","quarter",-508147616),or=new oa.O(null,"rest","rest",-1241696419),oa.Yt=new oa.O(null,"var","var",-769682797),oa.Zt=new oa.O(null,"share","share",-589433933),ar=new oa.O(null,"snippet-id","snippet-id",1987785841),ur=new oa.r("js","Date","js/Date",946858373,null),oa.bu=new oa.O(null,"ends-with","ends-with",-456791011),lr=new oa.r(r,"trim","metabase.mbql.schema/trim",1991053191,null),cr=new oa.O(null,"constraints","constraints",422775616),sr=new oa.O(null,"clause-name","clause-name",-996419059),oa.fu=new oa.O(null,"expressions","expressions",255689909),fr=new oa.r(r,"ParameterType","metabase.mbql.schema/ParameterType",-1385848876,null),dr=new oa.r(null,"NumericExpressionArg","NumericExpressionArg",-1537445195,null),pr=new oa.r(r,"!=","metabase.mbql.schema/!=",-807630752,null),hr=new oa.O(null,"items","items",1031954938),mr=new oa.r(null,"sqrt","sqrt",370479598,null),yr=new oa.r(r,"ArithmeticExpression*","metabase.mbql.schema/ArithmeticExpression*",1582495545,null),vr=new oa.r(r,"stddev","metabase.mbql.schema/stddev",1735459125,null),oa.nu=new oa.O(null,">",">",-555517146),br=new oa.O(null,"bin-width","bin-width",1377922579),gr=new oa.O(null,"number","number",1570378438),wr=new oa.r(null,"StringExpression","StringExpression",-233088561,null),Or=new oa.r(null,">",">",1085014381,null),oa.su=new oa.O(null,"=","=",1152933628),oa.tu=new oa.O(null,"does-not-contain","does-not-contain",-274946853),jr=new oa.r(null,"relative-datetime","relative-datetime",-1369266491,null),oa.vu=new oa.O(null,"source-field","source-field",933829534),Sr=new oa.O(null,"operator","operator",-1860875338),Er=new oa.O("location","state","location/state",-114378652),_r=new oa.O(null,"trim","trim",774319767),xr=new oa.r(null,"not-empty","not-empty",2029453590,null),Pr=new oa.O(null,"embedded-dashboard","embedded-dashboard",-485078014),Cr=new oa.r(null,"and","and",668631710,null),kr=new oa.O("date","all-options","date/all-options",549325958),Ar=new oa.O(null,"snippet","snippet",953581994),Dr=new oa.O(null,"upper","upper",246243906),oa.Fu=new oa.O(null,"relative-datetime","relative-datetime",1285169278),oa.Gu=new oa.O(null,"+","+",1913524883),Rr=new oa.r(r,"between","metabase.mbql.schema/between",-302972630,null),Ir=new oa.O(null,"string-or-field","string-or-field",-1970678542),Tr=new oa.r(null,"exp","exp",1378825265,null),Nr=new oa.r(null,"ltrim","ltrim",-1000166486,null),oa.Lu=new oa.O(null,"widget-type","widget-type",1836256899),oa.Mu=new oa.O(null,"next","next",-117701485),oa.Nu=new oa.O(null,"not-empty","not-empty",388922063),qr=new oa.r(r,"share","metabase.mbql.schema/share",1977664161,null),Mr=new oa.r(r,"sqrt","metabase.mbql.schema/sqrt",-824662873,null),Zr=new oa.O(null,"standard-deviation-aggregations","standard-deviation-aggregations",-1683333464),Lr=new oa.O(null,"card","card",-1430355152),Br=new oa.r(null,"asc","asc",1997386096,null),zr=new oa.O(null,"public-dashboard","public-dashboard",645968405),oa.Uu=new oa.O(null,"last","last",1105735132),Fr=new oa.O(null,"more-values-or-fields","more-values-or-fields",-886177554),Qr=new oa.r(r,"length","metabase.mbql.schema/length",-844221500,null),Vr=new oa.O(null,"database_type","database_type",-54700895),oa.Yu=new oa.O(null,"source-query","source-query",198004422),Ur=new oa.O(null,"unary","unary",-989314568),oa.$u=new oa.O(null,"is-null","is-null",-1997050930),Hr=new oa.O(null,"slug","slug",2029314850),Yr=new oa.r(null,"template-tag","template-tag",1951372565,null),Gr=new oa.r(r,"median","metabase.mbql.schema/median",2055093571,null),Wr=new oa.O(null,"a","a",-2123407586),$r=new oa.O(null,"b","b",1482224470),Kr=new oa.r(r,"asc","metabase.mbql.schema/asc",1338042063,null),Jr=new oa.O(null,"fk-field-id","fk-field-id",1124127357),Xr=new oa.O(null,"y","y",-1757859776),ei=new oa.O(null,"requires-features","requires-features",-101116256),ti=new oa.O(null,"x","x",2099068185),ni=new oa.O(null,"s","s",1705939918),oa.lv=new oa.r("s","Str","s/Str",907974338,null),ri=new oa.O(null,"n","n",562130025),ii=new oa.O(null,"abs","abs",-246026477),oi=new oa.O(null,"ltrim","ltrim",1654269283),ai=new oa.r(r,"absolute-datetime","metabase.mbql.schema/absolute-datetime",-1180642019,null),oa.qv=new oa.O(null,"breakout","breakout",-732419050),ui=new oa.O(null,"second-clause","second-clause",-461435645),li=new oa.r(r,"not-empty","metabase.mbql.schema/not-empty",-2093700401,null),ci=new oa.O(null,"middleware","middleware",1462115504),si=new oa.r(null,"RelativeDatetimeUnit","RelativeDatetimeUnit",-1157637501,null),fi=new oa.O(null,"more","more",-2058821800),oa.wv=new oa.O(null,"alias","alias",-2039751630),di=new oa.r(r,"percentile","metabase.mbql.schema/percentile",-91330436,null),oa.yv=new oa.O(null,"/","/",1282502798),oa.zv=new oa.O(null,"display-name","display-name",694513143),pi=new oa.r(r,"replace","metabase.mbql.schema/replace",1269362826,null),hi=new oa.O(null,"settings","settings",1556144875),mi=new oa.r(r,"not-null","metabase.mbql.schema/not-null",1248581449,null),oa.Dv=new oa.O(null,"-","-",-2112348439),yi=new oa.r(r,"upper","metabase.mbql.schema/upper",993691634,null),vi=new oa.r(r,"exp","metabase.mbql.schema/exp",451780488,null),bi=new oa.O(null,"full-join","full-join",1305476385),gi=new oa.O(null,"round","round",2009433328),wi=new oa.r(null,"distinct","distinct",-148347594,null),Oi=new oa.r(r,"Fields","metabase.mbql.schema/Fields",-781973827,null),oa.Kv=new oa.O(null,"aggregation-options","aggregation-options",-1904917550),ji=new oa.O(null,"replacement","replacement",-1836238839),Si=new oa.r(null,"*","*",345799209,null),Ei=new oa.r(r,">","metabase.mbql.schema/>",-1619862474,null),oa.Ov=new oa.O(null,"case","case",1143702196),_i=new oa.r(null,"avg","avg",1837937727,null),xi=new oa.r(null,"concat","concat",-467652465,null),Pi=new oa.O(null,"userland-query?","userland-query?",-123699383),Ci=new oa.r(null,"variable","variable",1359185035,null),ki=new oa.O(null,"declared","declared",92336021),Ai=new oa.r(r,"and","metabase.mbql.schema/and",1553856071,null),Di=new oa.r(r,"=","metabase.mbql.schema/=",1850085384,null),oa.Wv=new oa.O(null,"time-interval","time-interval",704622015),Ri=new oa.O(null,"clause-form","clause-form",1820463737),Ii=new oa.O(null,"process-viz-settings?","process-viz-settings?",-173592315),Ti=new oa.r(null,"starts-with","starts-with",2007034536,null),Ni=new oa.r(r,"BooleanExpression","metabase.mbql.schema/BooleanExpression",-469303836,null),oa.aw=new oa.O(null,"temporal-unit","temporal-unit",-1892306358),oa.bw=new oa.O(null,"cum-count","cum-count",-1964431543),qi=new oa.r(r,"floor","metabase.mbql.schema/floor",422926927,null),Mi=new oa.O(null,"added","added",2057651688),Zi=new oa.r(r,"coalesce","metabase.mbql.schema/coalesce",-1048570669,null),oa.fw=new oa.O(null,"contains","contains",676899812),Li=new oa.O(null,"executed-by","executed-by",-739811161),Bi=new oa.O(null,"segment","segment",-964921196),zi=new oa.r(null,"<","<",993667236,null),Fi=new oa.r(r,"power","metabase.mbql.schema/power",-517905321,null),Qi=new oa.O(null,"display_name","display_name",-1494335013),Vi=new oa.O(null,"substring","substring",1140866276),Ui=new oa.O(null,"match","match",1220059550),Hi=new oa.O(null,"replace","replace",-786587770),oa.ow=new oa.O(null,"max","max",61366548),Yi=new oa.O(null,"max-results-bare-rows","max-results-bare-rows",2096475889),Gi=new oa.O(null,"card-name","card-name",-2035606807),oa.rw=new oa.O(null,"count","count",2139924085),Wi=new oa.O(null,"clauses","clauses",1454841241),$i=new oa.r(null,"between","between",-1523336493,null),Ki=new oa.O(null,"basic-aggregations","basic-aggregations",-1628959228),oa.vw=new oa.O(null,"field","field",-1302436500),oa.ww=new oa.O(null,"dimension","dimension",543254198),Ji=new oa.O(null,"xlsx-download","xlsx-download",-1622892009),Xi=new oa.r(null,"ParameterType","ParameterType",-442355043,null),eo=new oa.O(null,"numeric","numeric",-1495594714),to=new oa.O("number","=","number/=",-2094581309),oa.Bw=new oa.O(null,"native","native",-613060878),no=new oa.r(r,"relative-datetime","metabase.mbql.schema/relative-datetime",1965492610,null),ro=new oa.O("number",">=","number/>=",-1670691032),io=new oa.O(null,"page","page",849072397),oo=new oa.r(r,"does-not-contain","metabase.mbql.schema/does-not-contain",-1742276611,null),ao=new oa.r("s","eq","s/eq",1021992833,null),uo=new oa.O(null,"pred","pred",1927423397),oa.Iw=new oa.O(null,"cum-sum","cum-sum",2064902349),lo=new oa.r(r,"round","metabase.mbql.schema/round",314817788,null),co=new oa.O(null,"disable-mbql->native?","disable-mbql->native?",1103196677),so=new oa.r(null,"desc","desc",-560950005,null),fo=new oa.r(r,"count-where","metabase.mbql.schema/count-where",-1224231786,null),po=new oa.r(null,"inside","inside",-681932758,null),oa.Ow=new oa.O(null,"context","context",-830191113),ho=new oa.O(null,"power","power",-937852079),mo=new oa.r(null,"expression","expression",1842843403,null),yo=new oa.O(null,"binary","binary",-1802232288),vo=new oa.O(null,"right-join","right-join",-56349359),bo=new oa.r(r,"inside","metabase.mbql.schema/inside",-291996315,null),go=new oa.r(null,"cum-count","cum-count",-323900016,null),oa.Vw=new oa.O(null,"query","query",-1288509510),wo=new oa.r(r,"expression","metabase.mbql.schema/expression",370334320,null),Oo=new oa.r("helpers","NonBlankString","helpers/NonBlankString",-2060904596,null),jo=new oa.O(null,"pattern","pattern",242135423),So=new oa.O(null,"required","required",1807647006),Eo=new oa.r(r,"case","metabase.mbql.schema/case",2100482976,null),_o=new oa.r(null,"does-not-contain","does-not-contain",1365584674,null),xo=new oa.r(null,"StringExpressionArg","StringExpressionArg",-1131357258,null),Po=new oa.r(r,"regex-match-first","metabase.mbql.schema/regex-match-first",1918122376,null),oa.dx=new oa.O(null,"inside","inside",1972503011),oa.ex=new oa.O(null,"joins","joins",1033962699),Co=new oa.r(r,"ag:var","metabase.mbql.schema/ag:var",1295047163,null),ko=new oa.r(null,r,r,-408168902,null),Ao=new oa.O(null,"ceil","ceil",-1824929952),oa.ix=new oa.O(null,"sum","sum",136986814),Do=new oa.O(null,"case-sensitive","case-sensitive",-1005239404),Ro=new oa.r(null,"count-where","count-where",2025939247,null),Io=new oa.r(null,"abs","abs",1394505050,null),oa.mx=new oa.O(null,"min","min",444991522),To=new oa.r(r,"time","metabase.mbql.schema/time",-1927273576,null),oa.ox=new oa.O(null,"stddev","stddev",-865474939),No=new oa.r(r,"abs","metabase.mbql.schema/abs",1792880149,null),qo=new oa.r(null,"+","+",-740910886,null),Mo=new oa.r(r,"variable","metabase.mbql.schema/variable",-1981984686,null),oa.sx=new oa.O(null,"fields","fields",-1932066230),oa.tx=new oa.O(null,"base-type","base-type",1167971299),Zo=new oa.O(null,"regex","regex",939488856),Lo=new oa.O(null,"snippet-name","snippet-name",819240328),Bo=new oa.O(null,"format-rows?","format-rows?",992129486),zo=new oa.r(r,"lower","metabase.mbql.schema/lower",-313920313,null),oa.yx=new oa.O(null,"include-current","include-current",-1602371981),Fo=new oa.O("date","single","date/single",1554682003),Qo=new oa.O(null,"lat-field","lat-field",-830652957),Vo=new oa.r(r,"or","metabase.mbql.schema/or",-1500355255,null),Uo=new oa.O(null,"value-or-field","value-or-field",-1387286309),Ho=new oa.r(null,"StringFilterOptions","StringFilterOptions",-847398229,null),Yo=new oa.r(r,"FieldOptions","metabase.mbql.schema/FieldOptions",-475072702,null),oa.Fx=new oa.O(null,"unit","unit",375175175),Go=new oa.O(null,"id","id",-1388402092),Wo=new oa.r(r,"distinct","metabase.mbql.schema/distinct",-823840515,null),$o=new oa.r(r,"substring","metabase.mbql.schema/substring",1829402610,null),Ko=new oa.O(null,"first-clause","first-clause",-20953491),Jo=new oa.O(null,"database","database",1849087575),Xo=new oa.O(null,"report-timezone","report-timezone",-2053796389),ea=new oa.O(null,"lon-field","lon-field",517872067),ta=new oa.O(null,"collection","collection",-683361892),na=new oa.O(null,"pulse-id","pulse-id",1331432237),oa.Px=new oa.O(null,"semantic_type","semantic_type",272485089),ra=new oa.O(null,"template-tag","template-tag",310841038),ia=new oa.r(null,"Fields","Fields",430617156,null);var da,pa,ha,ma,ya,va,ba,ga,wa,Oa,ja,Sa,Ea,_a,xa,Pa,Ca,ka,Aa,Da,Ra,Ia,Ta,Na,qa,Ma,Za,La,Ba,za,Fa,Qa,Va,Ua,Ha,Ya,Ga,Wa,$a,Ka,Ja,Xa,eu,tu,nu,ru,iu,ou,au,uu,lu,cu,su,fu,du,pu,hu,mu,yu,vu,bu,gu,wu,Ou,ju,Su,Eu,_u,xu,Pu,Cu,ku,Au,Du,Ru,Iu,Tu,Nu,qu,Mu,Zu,Lu,Bu,zu,Fu,Qu,Vu,Uu,Hu,Yu,Gu,Wu,$u,Ku,Ju,Xu,el,tl,nl,rl,il,ol,al,ul,ll,cl,sl,fl,dl,pl,hl,ml,yl,vl,bl,gl,wl,Ol,jl,Sl,El,_l,xl,Pl=new oa.pg(null,new oa.n(null,12,[ir,null,le,null,M,null,oa.oh,null,new oa.O(null,"day-of-week","day-of-week",1639326729),null,Re,null,new oa.O(null,"month-of-year","month-of-year",760756492),null,new oa.O(null,"day-of-month","day-of-month",-1096650288),null,Se,null,new oa.O(null,"day-of-year","day-of-year",478600113),null,new oa.O(null,"week-of-year","week-of-year",-910114435),null,new oa.O(null,"quarter-of-year","quarter-of-year",-472803491),null],null),null),Cl=new oa.pg(null,new oa.n(null,7,[wt,null,new oa.O(null,"second","second",-444702010),null,oa.oh,null,new oa.O(null,"hour-of-day","hour-of-day",2086777099),null,new oa.O(null,"millisecond","millisecond",-540123566),null,new oa.O(null,"minute-of-hour","minute-of-hour",1903220478),null,Kn,null],null),null),kl=oa.aj.a(Pl,Cl),Al=oa.Sm(oa.qe(y,Pl),"date-bucketing-unit"),Dl=oa.Sm(oa.qe(y,Cl),"time-bucketing-unit"),Rl=oa.Sm(oa.qe(y,kl),"datetime-bucketing-unit"),Il=oa.Sm(oa.qe(y,new oa.pg(null,new oa.n(null,8,[ir,null,le,null,wt,null,M,null,oa.oh,null,Re,null,Se,null,Kn,null],null),null)),"relative-datetime-unit"),Tl=oa.Um(oa.Jo,k,"valid ISO-8601 datetime string literal"),Nl=oa.Um(oa.Jo,k,"valid ISO-8601 datetime string literal"),ql=oa.Um(oa.Jo,k,"valid ISO-8601 time string literal"),Ml=oa.Sm(fa.j(oa.F([k,Nl,k,Tl,k,ql])),"valid ISO-8601 datetime, date, or time string literal"),Zl=E(oa.Fu,oa.F(["n",oa.Io(oa.F([oa.Om(oa.ss),oa.Do])),"unit",new oa.Q(null,2,5,oa.R,[mt,Il],null)])),Ll=E(oa.Eq,oa.F(["n",oa.Do,"unit",Il])),Bl=fa.j(oa.F([function(e){return oa.bb(_(L,e))},E(L,oa.F(["t",Date,"unit",Rl])),function(e){return oa.dd(e)instanceof Date},E(L,oa.F(["date",Date,"unit",Al])),oa.Yn,E(L,oa.F(["datetime",Date,"unit",Rl]))])),zl=E(oa.oi,oa.F(["time",Date,"unit",Dl])),Fl=fa.j(oa.F([oa.Qi(_,L),Bl,oa.Qi(_,oa.oi),zl,oa.Yn,oa.Io(oa.F([Ml,Date]))]));x(oa.F([new oa.Q(null,2,5,oa.R,[(xl=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Bl?new oa.Bc((function(){return Bl}),oa.I(ai,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,Xt,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),xn,"metabase/mbql/schema.cljc",69,L,1,!0,159,159,oa.Gc,"Schema for an `:absolute-datetime` clause.",oa.q(Bl)?Bl.D:null])):null)),oa.q(xl)?xl:xn),Bl],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Zl?new oa.Bc((function(){return Zl}),oa.I(no,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),jr,"metabase/mbql/schema.cljc",29,oa.Fu,1,141,141,new oa.Q(null,5,5,oa.R,[oa.Fu,ri,oa.W(oa.Jh,oa.W(oa.Yp,oa.W(ao,oa.ss),yn)),oa.Fx,oa.W(oa.Jh,oa.W(oa.un,si))],null),oa.Gc,"Schema for a valid relative-datetime clause.",oa.q(Zl)?Zl.D:null])):null));return oa.q(e)?e:jr}(),Zl],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==zl?new oa.Bc((function(){return zl}),oa.I(To,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,Xt,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),St,"metabase/mbql/schema.cljc",27,oa.oi,1,!0,192,192,new oa.Q(null,5,5,oa.R,[oa.oi,oa.oi,oa.W(oa.Jh,ur),oa.Fx,oa.W(oa.Jh,Rn)],null),oa.Gc,"Schema for a valid time clause.",oa.q(zl)?zl.D:null])):null));return oa.q(e)?e:St}(),zl],null)]));var Ql=oa.Cf([h(Vr),oa.pp(oa.Jo),h(oa.Ij),oa.pp(oa.Ko),h(oa.Px),oa.pp(oa.Lo),h(oa.Fx),oa.pp(Rl),h(oa.S),oa.pp(oa.Jo),oa.Eo,oa.zo]),Vl=E(oa.oo,oa.F(["value",oa.zo,"type-info",oa.pp(Ql)])),Ul=E(oa.Np,oa.F(["expression-name",oa.Jo,"options",new oa.Q(null,2,5,oa.R,[mt,oa.Qm(oa.od,"map")],null)])),Hl=y.j(oa.F([vn,br,oa.oh])),Yl=function(e){return oa.Um(e,(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;return e=oa.N.a(t,oa.Gr),t=oa.N.a(t,vn),!oa.Xc.a(e,vn)||t}),"You must specify :num-bins when using the :num-bins strategy.")}(function(e){return oa.Um(e,(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;return e=oa.N.a(t,oa.Gr),t=oa.N.a(t,br),!oa.Xc.a(e,br)||t}),"You must specify :bin-width when using the :bin-width strategy.")}(oa.Cf([oa.Gr,Hl,h(vn),oa.Mo,h(br),oa.Um(oa.Co,oa.Ie(oa.Go),"bin width must be >= 0."),oa.Eo,oa.zo]))),Gl=oa.Um(function(e){return oa.Um(e,(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;return e=oa.N.a(t,oa.tx),t=oa.N.a(t,oa.aw),!!oa.bb(t)||(e=oa.Ti(e,oa.Uk)?Pl:oa.Ti(e,oa.sj)?Cl:oa.Ti(e,oa.il)?kl:null,!oa.q(e)||oa.vd(e,t))}),"Invalid :temporal-unit for the specified :base-type.")}(oa.Cf([h(oa.tx),oa.pp(oa.Ko),h(oa.vu),oa.pp(oa.Io(oa.F([oa.Mo,oa.Jo]))),h(oa.aw),oa.pp(Rl),h(oa.Ds),oa.pp(oa.Jo),h(oa.qr),oa.pp(Yl),oa.Eo,oa.zo])),oa.Ie(oa.Gr),"Found :binning keys at the top level of :field options. binning-related options belong under the :binning key."),Wl=function(e){return oa.Um(e,(function(e){oa.G(e,0,null);var t=oa.G(e,1,null);return e=null!=(e=oa.G(e,2,null))&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e,e=oa.N.a(e,oa.tx),"string"!=typeof t||e}),":field clauses using a string field name must specify :base-type.")}(E(oa.vw,oa.F(["id-or-name",oa.Io(oa.F([oa.Mo,oa.Jo])),"options",oa.pp(w(new oa.Bc((function(){return Gl}),Yo,oa.hg([oa.vi,oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],[!0,oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),lt,"metabase/mbql/schema.cljc",28,1,319,319,oa.Gc,null,oa.q(Gl)?Gl.D:null]))))])));oa.Um(Wl,(function(e){return oa.G(e,0,null),e=oa.G(e,1,null),oa.Dm(e)}),"Must be a :field with an integer Field ID."),oa.Um(Wl,(function(e){return oa.G(e,0,null),"string"==typeof oa.G(e,1,null)}),"Must be a :field with a string Field name."),da=x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ul?new oa.Bc((function(){return Ul}),oa.I(wo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),mo,"metabase/mbql/schema.cljc",60,oa.Np,1,261,261,new oa.Q(null,5,5,oa.R,[oa.Np,oa.Cq,oa.W(oa.Jh,Oo),oa.gm,oa.W(oa.Jh,oa.W(oa.un,oa.W(oa.cr,oa.kn,"map")))],null),oa.Gc,"Schema for a valid expression clause.",oa.q(Ul)?Ul.D:null])):null));return oa.q(e)?e:mo}(),Ul],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Wl?new oa.Bc((function(){return Wl}),oa.I(Qe,new oa.n(null,1,[Ie,!0],null)),oa.hg([Mi,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],["0.39.0",oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),_t,"metabase/mbql/schema.cljc",51,oa.vw,1,365,365,oa.Gc,"Schema for a `:field` clause.",oa.q(Wl)?Wl.D:null])):null));return oa.q(e)?e:_t}(),Wl],null)])),pa=w(new oa.Bc((function(){return da}),Hn,oa.hg([oa.vi,oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],[!0,oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),me,"metabase/mbql/schema.cljc",22,1,389,389,oa.Gc,null,oa.q(da)?da.D:null]))),ha=E(oa.ts,oa.F(["aggregation-clause-index",oa.Do,"options",new oa.Q(null,2,5,oa.R,[mt,oa.Qm(oa.od,"map")],null)])),oa.ry=b(oa.Qi(_,oa.ts),ha,pa),ma=new oa.pg(null,new oa.n(null,11,[Dr,null,oi,null,Vi,null,Hi,null,Nn,null,ht,null,oa.Ov,null,he,null,_r,null,je,null,Qn,null],null),null),ya=fa.j(oa.F([oa.zm,oa.Ao,oa.Qi(_,ma),w(new oa.Bc((function(){return Ya}),ut,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),wr,"metabase/mbql/schema.cljc",26,1,432,!0,432,oa.Gc,null,oa.q(Ya)?Ya.D:null]))),oa.Qi(_,oa.oo),Vl,oa.Yn,pa])),va=new oa.pg(null,new oa.n(null,15,[Ao,null,oa.Ss,null,Yn,null,oa.Dv,null,hn,null,ht,null,oa.yv,null,gi,null,ho,null,oa.Gu,null,ii,null,oa.Ov,null,Oe,null,z,null,_n,null],null),null),ba=new oa.pg(null,new oa.n(null,9,[oa.Gq,null,oa.nu,null,oa.Hq,null,oa.Gt,null,oa.Fp,null,oa.jt,null,oa.Fs,null,oa.su,null,oa.yr,null],null),null),ga=new oa.pg(null,new oa.n(null,17,[oa.mx,null,oa.ox,null,oa.Ts,null,oa.bw,null,oa.er,null,oa.Iw,null,oa.Lt,null,oa.us,null,oa.Kv,null,oa.Yt,null,oa.fq,null,oa.Zt,null,oa.ow,null,oa.rw,null,oa.Ht,null,ue,null,oa.ix,null],null),null),wa=fa.j(oa.F([i,oa.Co,oa.Qi(_,va),w(new oa.Bc((function(){return Ha}),gt,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ln,"metabase/mbql/schema.cljc",30,1,458,!0,458,oa.Gc,null,oa.q(Ha)?Ha.D:null]))),oa.Qi(_,ga),w(new oa.Bc((function(){return oa.zy}),$,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),de,"metabase/mbql/schema.cljc",21,1,460,!0,460,oa.Gc,null,oa.q(oa.zy)?oa.zy.D:null]))),oa.Qi(_,oa.oo),Vl,oa.Yn,pa])),Oa=fa.j(oa.F([i,oa.Co,function(e){return!0===e||!1===e},oa.Bo,oa.Qi(_,ba),w(new oa.Bc((function(){return wu}),Ni,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Un,"metabase/mbql/schema.cljc",27,1,459,!0,459,oa.Gc,null,oa.q(wu)?wu.D:null]))),oa.Qi(_,va),w(new oa.Bc((function(){return Ha}),gt,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ln,"metabase/mbql/schema.cljc",30,1,458,!0,458,oa.Gc,null,oa.q(Ha)?Ha.D:null]))),oa.zm,oa.Ao,oa.Qi(_,ma),w(new oa.Bc((function(){return Ya}),ut,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),wr,"metabase/mbql/schema.cljc",26,1,432,!0,432,oa.Gc,null,oa.q(Ya)?Ya.D:null]))),oa.Qi(_,oa.oo),Vl,oa.Yn,pa])),ja=b(oa.Qi(_,oa.Eq),Ll,wa),Sa=E(ht,oa.F(["a",Oa,"b",Oa,"more",new oa.Q(null,2,5,oa.R,[or,Oa],null)])),Ea=E(Vi,oa.F(["s",ya,"start",wa,"length",new oa.Q(null,2,5,oa.R,[mt,wa],null)])),_a=E(Oe,oa.F(["s",ya])),xa=E(_r,oa.F(["s",ya])),Pa=E(Qn,oa.F(["s",ya])),Ca=E(oi,oa.F(["s",ya])),ka=E(Dr,oa.F(["s",ya])),Aa=E(he,oa.F(["s",ya])),Da=E(Hi,oa.F(["s",ya,"match",oa.Ao,"replacement",oa.Ao])),Ra=E(Nn,oa.F(["a",ya,"b",ya,"more",new oa.Q(null,2,5,oa.R,[or,ya],null)])),Ia=E(je,oa.F(["s",ya,"pattern",oa.Ao])),Ta=E(oa.Gu,oa.F(["x",wa,"y",ja,"more",new oa.Q(null,2,5,oa.R,[or,ja],null)])),Na=E(oa.Dv,oa.F(["x",wa,"y",ja,"more",new oa.Q(null,2,5,oa.R,[or,ja],null)])),qa=E(oa.yv,oa.F(["x",wa,"y",wa,"more",new oa.Q(null,2,5,oa.R,[or,wa],null)])),Ma=E(oa.Ss,oa.F(["x",wa,"y",wa,"more",new oa.Q(null,2,5,oa.R,[or,wa],null)])),Za=E(_n,oa.F(["x",wa])),La=E(Ao,oa.F(["x",wa])),Ba=E(gi,oa.F(["x",wa])),za=E(ii,oa.F(["x",wa])),Fa=E(ho,oa.F(["x",wa,"y",wa])),Qa=E(Yn,oa.F(["x",wa])),Va=E(hn,oa.F(["x",wa])),Ua=E(z,oa.F(["x",wa])),Ha=w(new oa.Bc((function(){return xu}),yr,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),pt,"metabase/mbql/schema.cljc",31,1,577,!0,577,oa.Gc,null,oa.q(xu)?xu.D:null]))),Ya=w(new oa.Bc((function(){return Pu}),Dn,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ee,"metabase/mbql/schema.cljc",27,1,583,!0,583,oa.Gc,null,oa.q(Pu)?Pu.D:null]))),Ga=E(oa.Fs,oa.F(["first-clause",w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null]))),"second-clause",w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null]))),"other-clauses",new oa.Q(null,2,5,oa.R,[or,w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null])))],null)])),Wa=E(oa.Hq,oa.F(["first-clause",w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null]))),"second-clause",w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null]))),"other-clauses",new oa.Q(null,2,5,oa.R,[or,w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null])))],null)])),$a=E(oa.Gt,oa.F(["clause",w(new oa.Bc((function(){return oa.cz}),Ot,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),On,"metabase/mbql/schema.cljc",16,1,592,!0,592,oa.Gc,null,oa.q(oa.cz)?oa.cz.D:null])))])),Ka=b(oa.Qi(_,oa.Fu),Zl,pa),Ja=oa.pp(oa.Io(oa.F([oa.Bo,oa.Co,oa.Ao,Fl,Ka,Oa,Vl]))),Xa=b(oa.Qi(_,oa.oo),Vl,oa.Io(oa.F([oa.Co,oa.Ao,Fl,Oa,Ka]))),eu=E(oa.su,oa.F(["field",Ja,"value-or-field",Ja,"more-values-or-fields",new oa.Q(null,2,5,oa.R,[or,Ja],null)])),tu=E(oa.jt,oa.F(["field",Ja,"value-or-field",Ja,"more-values-or-fields",new oa.Q(null,2,5,oa.R,[or,Ja],null)])),nu=E(oa.yr,oa.F(["field",Xa,"value-or-field",Xa])),ru=E(oa.nu,oa.F(["field",Xa,"value-or-field",Xa])),iu=E(oa.Gq,oa.F(["field",Xa,"value-or-field",Xa])),ou=E(oa.Fp,oa.F(["field",Xa,"value-or-field",Xa])),au=E(oa.Xq,oa.F(["field",Xa,"min",Xa,"max",Xa])),uu=E(oa.dx,oa.F(["lat-field",Xa,"lon-field",Xa,"lat-max",Xa,"lon-min",Xa,"lat-min",Xa,"lon-max",Xa])),lu=E(oa.$u,oa.F(["field",pa])),cu=E(oa.Us,oa.F(["field",pa])),su=E(oa.Pt,oa.F(["field",pa])),fu=E(oa.Nu,oa.F(["field",pa])),du=oa.Cf([h(Do),oa.Bo]),pu=E(oa.Mt,oa.F(["field",ya,"string-or-field",ya,"options",new oa.Q(null,2,5,oa.R,[mt,du],null)])),hu=E(oa.bu,oa.F(["field",ya,"string-or-field",ya,"options",new oa.Q(null,2,5,oa.R,[mt,du],null)])),mu=E(oa.fw,oa.F(["field",ya,"string-or-field",ya,"options",new oa.Q(null,2,5,oa.R,[mt,du],null)])),yu=E(oa.tu,oa.F(["field",ya,"string-or-field",ya,"options",new oa.Q(null,2,5,oa.R,[mt,du],null)])),vu=oa.Cf([h(oa.yx),oa.Bo]),bu=E(oa.Wv,oa.F(["field",pa,"n",oa.Io(oa.F([oa.Do,y.j(oa.F([oa.ss,oa.Uu,oa.Mu]))])),"unit",Il,"options",new oa.Q(null,2,5,oa.R,[mt,vu],null)])),gu=E(Bi,oa.F(["segment-id",oa.Io(oa.F([oa.Mo,oa.Jo]))])),wu=w(new oa.Bc((function(){return Ou}),It,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),G,"metabase/mbql/schema.cljc",28,1,719,!0,719,oa.Gc,null,oa.q(Ou)?Ou.D:null]))),Ou=x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ga?new oa.Bc((function(){return Ga}),oa.I(Ai,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Cr,"metabase/mbql/schema.cljc",15,oa.Fs,1,594,594,new oa.Q(null,7,5,oa.R,[oa.Fs,Ko,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),ui,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),Nt,oa.W(oa.Jh,oa.W(oa.Eh,oa.W(kn,oa.W(oa.Lh,On))))],null),oa.Gc,"Schema for a valid and clause.",oa.q(Ga)?Ga.D:null])):null));return oa.q(e)?e:Cr}(),Ga],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Wa?new oa.Bc((function(){return Wa}),oa.I(Vo,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ut,"metabase/mbql/schema.cljc",14,oa.Hq,1,599,599,new oa.Q(null,7,5,oa.R,[oa.Hq,Ko,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),ui,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),Nt,oa.W(oa.Jh,oa.W(oa.Eh,oa.W(kn,oa.W(oa.Lh,On))))],null),oa.Gc,"Schema for a valid or clause.",oa.q(Wa)?Wa.D:null])):null));return oa.q(e)?e:Ut}(),Wa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==$a?new oa.Bc((function(){return $a}),oa.I(fn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),oa.Bl,"metabase/mbql/schema.cljc",15,oa.Gt,1,604,604,new oa.Q(null,3,5,oa.R,[oa.Gt,oa.br,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On)))],null),oa.Gc,"Schema for a valid not clause.",oa.q($a)?$a.D:null])):null));return oa.q(e)?e:oa.Bl}(),$a],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==nu?new oa.Bc((function(){return nu}),oa.I(pn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),zi,"metabase/mbql/schema.cljc",13,oa.yr,1,650,650,new oa.Q(null,5,5,oa.R,[oa.yr,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid < clause.",oa.q(nu)?nu.D:null])):null));return oa.q(e)?e:zi}(),nu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==iu?new oa.Bc((function(){return iu}),oa.I(F,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Kt,"metabase/mbql/schema.cljc",14,oa.Gq,1,652,652,new oa.Q(null,5,5,oa.R,[oa.Gq,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid <= clause.",oa.q(iu)?iu.D:null])):null));return oa.q(e)?e:Kt}(),iu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ru?new oa.Bc((function(){return ru}),oa.I(Ei,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Or,"metabase/mbql/schema.cljc",13,oa.nu,1,651,651,new oa.Q(null,5,5,oa.R,[oa.nu,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid > clause.",oa.q(ru)?ru.D:null])):null));return oa.q(e)?e:Or}(),ru],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ou?new oa.Bc((function(){return ou}),oa.I(er,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Lt,"metabase/mbql/schema.cljc",14,oa.Fp,1,653,653,new oa.Q(null,5,5,oa.R,[oa.Fp,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid >= clause.",oa.q(ou)?ou.D:null])):null));return oa.q(e)?e:Lt}(),ou],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==eu?new oa.Bc((function(){return eu}),oa.I(Di,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),oa.go,"metabase/mbql/schema.cljc",13,oa.su,1,647,647,new oa.Q(null,7,5,oa.R,[oa.su,oa.vw,oa.W(oa.Jh,Pt),Uo,oa.W(oa.Jh,Pt),Fr,oa.W(oa.Jh,oa.W(oa.Eh,Pt))],null),oa.Gc,"Schema for a valid = clause.",oa.q(eu)?eu.D:null])):null));return oa.q(e)?e:oa.go}(),eu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==tu?new oa.Bc((function(){return tu}),oa.I(pr,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),q,"metabase/mbql/schema.cljc",14,oa.jt,1,648,648,new oa.Q(null,7,5,oa.R,[oa.jt,oa.vw,oa.W(oa.Jh,Pt),Uo,oa.W(oa.Jh,Pt),Fr,oa.W(oa.Jh,oa.W(oa.Eh,Pt))],null),oa.Gc,"Schema for a valid != clause.",oa.q(tu)?tu.D:null])):null));return oa.q(e)?e:q}(),tu],null)])),ju=fa.j(oa.F([oa.Qi(_,va),Ha,oa.Qi(_,ma),Ya,oa.Qi(_,ba),wu,oa.Yn,x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ga?new oa.Bc((function(){return Ga}),oa.I(Ai,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Cr,"metabase/mbql/schema.cljc",15,oa.Fs,1,594,594,new oa.Q(null,7,5,oa.R,[oa.Fs,Ko,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),ui,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),Nt,oa.W(oa.Jh,oa.W(oa.Eh,oa.W(kn,oa.W(oa.Lh,On))))],null),oa.Gc,"Schema for a valid and clause.",oa.q(Ga)?Ga.D:null])):null));return oa.q(e)?e:Cr}(),Ga],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Wa?new oa.Bc((function(){return Wa}),oa.I(Vo,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ut,"metabase/mbql/schema.cljc",14,oa.Hq,1,599,599,new oa.Q(null,7,5,oa.R,[oa.Hq,Ko,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),ui,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On))),Nt,oa.W(oa.Jh,oa.W(oa.Eh,oa.W(kn,oa.W(oa.Lh,On))))],null),oa.Gc,"Schema for a valid or clause.",oa.q(Wa)?Wa.D:null])):null));return oa.q(e)?e:Ut}(),Wa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==$a?new oa.Bc((function(){return $a}),oa.I(fn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),oa.Bl,"metabase/mbql/schema.cljc",15,oa.Gt,1,604,604,new oa.Q(null,3,5,oa.R,[oa.Gt,oa.br,oa.W(oa.Jh,oa.W(kn,oa.W(oa.Lh,On)))],null),oa.Gc,"Schema for a valid not clause.",oa.q($a)?$a.D:null])):null));return oa.q(e)?e:oa.Bl}(),$a],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==eu?new oa.Bc((function(){return eu}),oa.I(Di,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),oa.go,"metabase/mbql/schema.cljc",13,oa.su,1,647,647,new oa.Q(null,7,5,oa.R,[oa.su,oa.vw,oa.W(oa.Jh,Pt),Uo,oa.W(oa.Jh,Pt),Fr,oa.W(oa.Jh,oa.W(oa.Eh,Pt))],null),oa.Gc,"Schema for a valid = clause.",oa.q(eu)?eu.D:null])):null));return oa.q(e)?e:oa.go}(),eu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==tu?new oa.Bc((function(){return tu}),oa.I(pr,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),q,"metabase/mbql/schema.cljc",14,oa.jt,1,648,648,new oa.Q(null,7,5,oa.R,[oa.jt,oa.vw,oa.W(oa.Jh,Pt),Uo,oa.W(oa.Jh,Pt),Fr,oa.W(oa.Jh,oa.W(oa.Eh,Pt))],null),oa.Gc,"Schema for a valid != clause.",oa.q(tu)?tu.D:null])):null));return oa.q(e)?e:q}(),tu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==nu?new oa.Bc((function(){return nu}),oa.I(pn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),zi,"metabase/mbql/schema.cljc",13,oa.yr,1,650,650,new oa.Q(null,5,5,oa.R,[oa.yr,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid < clause.",oa.q(nu)?nu.D:null])):null));return oa.q(e)?e:zi}(),nu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ru?new oa.Bc((function(){return ru}),oa.I(Ei,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Or,"metabase/mbql/schema.cljc",13,oa.nu,1,651,651,new oa.Q(null,5,5,oa.R,[oa.nu,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid > clause.",oa.q(ru)?ru.D:null])):null));return oa.q(e)?e:Or}(),ru],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==iu?new oa.Bc((function(){return iu}),oa.I(F,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Kt,"metabase/mbql/schema.cljc",14,oa.Gq,1,652,652,new oa.Q(null,5,5,oa.R,[oa.Gq,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid <= clause.",oa.q(iu)?iu.D:null])):null));return oa.q(e)?e:Kt}(),iu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ou?new oa.Bc((function(){return ou}),oa.I(er,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Lt,"metabase/mbql/schema.cljc",14,oa.Fp,1,653,653,new oa.Q(null,5,5,oa.R,[oa.Fp,oa.vw,oa.W(oa.Jh,rr),Uo,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid >= clause.",oa.q(ou)?ou.D:null])):null));return oa.q(e)?e:Lt}(),ou],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==au?new oa.Bc((function(){return au}),oa.I(Rr,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),$i,"metabase/mbql/schema.cljc",19,oa.Xq,1,656,656,new oa.Q(null,7,5,oa.R,[oa.Xq,oa.vw,oa.W(oa.Jh,rr),oa.mx,oa.W(oa.Jh,rr),oa.ow,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid between clause.",oa.q(au)?au.D:null])):null));return oa.q(e)?e:$i}(),au],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==pu?new oa.Bc((function(){return pu}),oa.I(ft,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ti,"metabase/mbql/schema.cljc",23,oa.Mt,1,679,679,new oa.Q(null,7,5,oa.R,[oa.Mt,oa.vw,oa.W(oa.Jh,xo),Ir,oa.W(oa.Jh,xo),oa.gm,oa.W(oa.Jh,oa.W(oa.un,Ho))],null),oa.Gc,"Schema for a valid starts-with clause.",oa.q(pu)?pu.D:null])):null));return oa.q(e)?e:Ti}(),pu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==hu?new oa.Bc((function(){return hu}),oa.I(An,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),nn,"metabase/mbql/schema.cljc",21,oa.bu,1,680,680,new oa.Q(null,7,5,oa.R,[oa.bu,oa.vw,oa.W(oa.Jh,xo),Ir,oa.W(oa.Jh,xo),oa.gm,oa.W(oa.Jh,oa.W(oa.un,Ho))],null),oa.Gc,"Schema for a valid ends-with clause.",oa.q(hu)?hu.D:null])):null));return oa.q(e)?e:nn}(),hu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==mu?new oa.Bc((function(){return mu}),oa.I(Et,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),rt,"metabase/mbql/schema.cljc",20,oa.fw,1,681,681,new oa.Q(null,7,5,oa.R,[oa.fw,oa.vw,oa.W(oa.Jh,xo),Ir,oa.W(oa.Jh,xo),oa.gm,oa.W(oa.Jh,oa.W(oa.un,Ho))],null),oa.Gc,"Schema for a valid contains clause.",oa.q(mu)?mu.D:null])):null));return oa.q(e)?e:rt}(),mu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==yu?new oa.Bc((function(){return yu}),oa.I(oo,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),_o,"metabase/mbql/schema.cljc",36,oa.tu,1,684,684,!0,new oa.Q(null,7,5,oa.R,[oa.tu,oa.vw,oa.W(oa.Jh,xo),Ir,oa.W(oa.Jh,xo),oa.gm,oa.W(oa.Jh,oa.W(oa.un,Ho))],null),oa.Gc,"Schema for a valid does-not-contain clause.",oa.q(yu)?yu.D:null])):null));return oa.q(e)?e:_o}(),yu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==uu?new oa.Bc((function(){return uu}),oa.I(bo,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),po,"metabase/mbql/schema.cljc",26,oa.dx,1,659,659,!0,new oa.Q(null,13,5,oa.R,[oa.dx,Qo,oa.W(oa.Jh,rr),ea,oa.W(oa.Jh,rr),re,oa.W(oa.Jh,rr),Xn,oa.W(oa.Jh,rr),Ne,oa.W(oa.Jh,rr),ln,oa.W(oa.Jh,rr)],null),oa.Gc,"Schema for a valid inside clause.",oa.q(uu)?uu.D:null])):null));return oa.q(e)?e:po}(),uu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==su?new oa.Bc((function(){return su}),oa.I(Bt,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Sn,"metabase/mbql/schema.cljc",28,oa.Pt,1,673,673,!0,new oa.Q(null,3,5,oa.R,[oa.Pt,oa.vw,oa.W(oa.Jh,ce)],null),oa.Gc,"Schema for a valid is-empty clause.",oa.q(su)?su.D:null])):null));return oa.q(e)?e:Sn}(),su],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==fu?new oa.Bc((function(){return fu}),oa.I(li,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),xr,"metabase/mbql/schema.cljc",29,oa.Nu,1,674,674,!0,new oa.Q(null,3,5,oa.R,[oa.Nu,oa.vw,oa.W(oa.Jh,ce)],null),oa.Gc,"Schema for a valid not-empty clause.",oa.q(fu)?fu.D:null])):null));return oa.q(e)?e:xr}(),fu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==lu?new oa.Bc((function(){return lu}),oa.I(gn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),tn,"metabase/mbql/schema.cljc",27,oa.$u,1,668,668,!0,new oa.Q(null,3,5,oa.R,[oa.$u,oa.vw,oa.W(oa.Jh,ce)],null),oa.Gc,"Schema for a valid is-null clause.",oa.q(lu)?lu.D:null])):null));return oa.q(e)?e:tn}(),lu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==cu?new oa.Bc((function(){return cu}),oa.I(mi,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Vn,"metabase/mbql/schema.cljc",28,oa.Us,1,669,669,!0,new oa.Q(null,3,5,oa.R,[oa.Us,oa.vw,oa.W(oa.Jh,ce)],null),oa.Gc,"Schema for a valid not-null clause.",oa.q(cu)?cu.D:null])):null));return oa.q(e)?e:Vn}(),cu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==bu?new oa.Bc((function(){return bu}),oa.I(Ee,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),$e,"metabase/mbql/schema.cljc",33,oa.Wv,1,704,704,!0,new oa.Q(null,9,5,oa.R,[oa.Wv,oa.vw,oa.W(oa.Jh,ce),ri,oa.W(oa.Jh,oa.W(oa.Yp,yn,oa.W(qt,oa.ss,oa.Uu,oa.Mu))),oa.Fx,oa.W(oa.Jh,si),oa.gm,oa.W(oa.Jh,oa.W(oa.un,R))],null),oa.Gc,"Schema for a valid time-interval clause.",oa.q(bu)?bu.D:null])):null));return oa.q(e)?e:$e}(),bu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==gu?new oa.Bc((function(){return gu}),oa.I(Jt,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ct,"metabase/mbql/schema.cljc",27,Bi,1,717,717,!0,new oa.Q(null,3,5,oa.R,[Bi,H,oa.W(oa.Jh,oa.W(oa.Yp,kt,Oo))],null),oa.Gc,"Schema for a valid segment clause.",oa.q(gu)?gu.D:null])):null));return oa.q(e)?e:Ct}(),gu],null)]))])),oa.cz=w(new oa.Bc((function(){return ju}),Wt,oa.hg([oa.vi,oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],[!0,oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),At,"metabase/mbql/schema.cljc",23,1,728,728,oa.Gc,null,oa.q(ju)?ju.D:null]))),Su=new oa.Q(null,1,5,oa.R,[new oa.Q(null,2,5,oa.R,[oa.ep(oa.cz,"pred"),oa.ep(Oa,"expr")],null)],null),Eu=oa.Cf([h(oa.oh),Oa]),_u=E(oa.Ov,oa.F(["clauses",Su,"options",new oa.Q(null,2,5,oa.R,[mt,Eu],null)])),xu=x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ta?new oa.Bc((function(){return Ta}),oa.I(Tt,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),qo,"metabase/mbql/schema.cljc",51,oa.Gu,1,543,543,new oa.Q(null,7,5,oa.R,[oa.Gu,ti,oa.W(oa.Jh,dr),Xr,oa.W(oa.Jh,cn),fi,oa.W(oa.Jh,oa.W(oa.Eh,cn))],null),oa.Gc,"Schema for a valid + clause.",oa.q(Ta)?Ta.D:null])):null));return oa.q(e)?e:qo}(),Ta],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Na?new oa.Bc((function(){return Na}),oa.I(A,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),bn,"metabase/mbql/schema.cljc",51,oa.Dv,1,546,546,new oa.Q(null,7,5,oa.R,[oa.Dv,ti,oa.W(oa.Jh,dr),Xr,oa.W(oa.Jh,cn),fi,oa.W(oa.Jh,oa.W(oa.Eh,cn))],null),oa.Gc,"Schema for a valid - clause.",oa.q(Na)?Na.D:null])):null));return oa.q(e)?e:bn}(),Na],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la?new oa.Bc((function(){return qa}),oa.I(tt,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,sr,oa.Ci,oa.ti,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Pe,"metabase/mbql/schema.cljc",oa.yv,1,549,new oa.Q(null,7,5,oa.R,[oa.yv,ti,oa.W(oa.Jh,dr),Xr,oa.W(oa.Jh,dr),fi,oa.W(oa.Jh,oa.W(oa.Eh,dr))],null),oa.Gc,"Schema for a valid / clause.",oa.q(qa)?qa.D:null])):null));return oa.q(e)?e:Pe}(),qa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ma?new oa.Bc((function(){return Ma}),oa.I(Fn,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Si,"metabase/mbql/schema.cljc",51,oa.Ss,1,551,551,new oa.Q(null,7,5,oa.R,[oa.Ss,ti,oa.W(oa.Jh,dr),Xr,oa.W(oa.Jh,dr),fi,oa.W(oa.Jh,oa.W(oa.Eh,dr))],null),oa.Gc,"Schema for a valid * clause.",oa.q(Ma)?Ma.D:null])):null));return oa.q(e)?e:Si}(),Ma],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Sa?new oa.Bc((function(){return Sa}),oa.I(Zi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ve,"metabase/mbql/schema.cljc",58,ht,1,510,510,new oa.Q(null,7,5,oa.R,[ht,Wr,oa.W(oa.Jh,ot),$r,oa.W(oa.Jh,ot),fi,oa.W(oa.Jh,oa.W(oa.Eh,ot))],null),oa.Gc,"Schema for a valid coalesce clause.",oa.q(Sa)?Sa.D:null])):null));return oa.q(e)?e:ve}(),Sa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==_a?new oa.Bc((function(){return _a}),oa.I(Qr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),be,"metabase/mbql/schema.cljc",56,Oe,1,516,516,new oa.Q(null,3,5,oa.R,[Oe,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid length clause.",oa.q(_a)?_a.D:null])):null));return oa.q(e)?e:be}(),_a],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Za?new oa.Bc((function(){return Za}),oa.I(qi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Be,"metabase/mbql/schema.cljc",55,_n,1,553,553,new oa.Q(null,3,5,oa.R,[_n,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid floor clause.",oa.q(Za)?Za.D:null])):null));return oa.q(e)?e:Be}(),Za],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==La?new oa.Bc((function(){return La}),oa.I(Te,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),T,"metabase/mbql/schema.cljc",54,Ao,1,556,556,new oa.Q(null,3,5,oa.R,[Ao,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid ceil clause.",oa.q(La)?La.D:null])):null));return oa.q(e)?e:T}(),La],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ba?new oa.Bc((function(){return Ba}),oa.I(lo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Rt,"metabase/mbql/schema.cljc",55,gi,1,559,559,new oa.Q(null,3,5,oa.R,[gi,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid round clause.",oa.q(Ba)?Ba.D:null])):null));return oa.q(e)?e:Rt}(),Ba],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==za?new oa.Bc((function(){return za}),oa.I(No,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Io,"metabase/mbql/schema.cljc",53,ii,1,562,562,new oa.Q(null,3,5,oa.R,[ii,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid abs clause.",oa.q(za)?za.D:null])):null));return oa.q(e)?e:Io}(),za],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Fa?new oa.Bc((function(){return Fa}),oa.I(Fi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[en,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Bn,"metabase/mbql/schema.cljc",69,ho,1,565,565,new oa.Q(null,5,5,oa.R,[ho,ti,oa.W(oa.Jh,dr),Xr,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid power clause.",oa.q(Fa)?Fa.D:null])):null));return oa.q(e)?e:Bn}(),Fa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Qa?new oa.Bc((function(){return Qa}),oa.I(Mr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[en,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),mr,"metabase/mbql/schema.cljc",68,Yn,1,568,568,new oa.Q(null,3,5,oa.R,[Yn,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid sqrt clause.",oa.q(Qa)?Qa.D:null])):null));return oa.q(e)?e:mr}(),Qa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Va?new oa.Bc((function(){return Va}),oa.I(vi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[en,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Tr,"metabase/mbql/schema.cljc",67,hn,1,571,571,new oa.Q(null,3,5,oa.R,[hn,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid exp clause.",oa.q(Va)?Va.D:null])):null));return oa.q(e)?e:Tr}(),Va],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ua?new oa.Bc((function(){return Ua}),oa.I(zt,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[en,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Yt,"metabase/mbql/schema.cljc",67,z,1,574,574,new oa.Q(null,3,5,oa.R,[z,ti,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid log clause.",oa.q(Ua)?Ua.D:null])):null));return oa.q(e)?e:Yt}(),Ua],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==_u?new oa.Bc((function(){return _u}),oa.I(Eo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ft,"metabase/mbql/schema.cljc",61,oa.Ov,1,751,751,new oa.Q(null,5,5,oa.R,[oa.Ov,Wi,oa.W(oa.Jh,Zt),oa.gm,oa.W(oa.Jh,oa.W(oa.un,sn))],null),oa.Gc,"Schema for a valid case clause.",oa.q(_u)?_u.D:null])):null));return oa.q(e)?e:Ft}(),_u],null)])),Pu=x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ea?new oa.Bc((function(){return Ea}),oa.I($o,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),De,"metabase/mbql/schema.cljc",59,Vi,1,513,513,new oa.Q(null,7,5,oa.R,[Vi,ni,oa.W(oa.Jh,xo),se,oa.W(oa.Jh,dr),Oe,oa.W(oa.Jh,oa.W(oa.un,dr))],null),oa.Gc,"Schema for a valid substring clause.",oa.q(Ea)?Ea.D:null])):null));return oa.q(e)?e:De}(),Ea],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==xa?new oa.Bc((function(){return xa}),oa.I(lr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Pn,"metabase/mbql/schema.cljc",54,_r,1,519,519,new oa.Q(null,3,5,oa.R,[_r,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid trim clause.",oa.q(xa)?xa.D:null])):null));return oa.q(e)?e:Pn}(),xa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ca?new oa.Bc((function(){return Ca}),oa.I(tr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Nr,"metabase/mbql/schema.cljc",55,oi,1,525,525,new oa.Q(null,3,5,oa.R,[oi,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid ltrim clause.",oa.q(Ca)?Ca.D:null])):null));return oa.q(e)?e:Nr}(),Ca],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Pa?new oa.Bc((function(){return Pa}),oa.I(xe,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),U,"metabase/mbql/schema.cljc",55,Qn,1,522,522,new oa.Q(null,3,5,oa.R,[Qn,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid rtrim clause.",oa.q(Pa)?Pa.D:null])):null));return oa.q(e)?e:U}(),Pa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Da?new oa.Bc((function(){return Da}),oa.I(pi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),jt,"metabase/mbql/schema.cljc",57,Hi,1,534,534,new oa.Q(null,7,5,oa.R,[Hi,ni,oa.W(oa.Jh,xo),Ui,oa.W(oa.Jh,oa.lv),ji,oa.W(oa.Jh,oa.lv)],null),oa.Gc,"Schema for a valid replace clause.",oa.q(Da)?Da.D:null])):null));return oa.q(e)?e:jt}(),Da],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Aa?new oa.Bc((function(){return Aa}),oa.I(zo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Xe,"metabase/mbql/schema.cljc",55,he,1,531,531,new oa.Q(null,3,5,oa.R,[he,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid lower clause.",oa.q(Aa)?Aa.D:null])):null));return oa.q(e)?e:Xe}(),Aa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ka?new oa.Bc((function(){return ka}),oa.I(yi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Mn,"metabase/mbql/schema.cljc",55,Dr,1,528,528,new oa.Q(null,3,5,oa.R,[Dr,ni,oa.W(oa.Jh,xo)],null),oa.Gc,"Schema for a valid upper clause.",oa.q(ka)?ka.D:null])):null));return oa.q(e)?e:Mn}(),ka],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ra?new oa.Bc((function(){return Ra}),oa.I(Gn,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),xi,"metabase/mbql/schema.cljc",56,Nn,1,537,537,new oa.Q(null,7,5,oa.R,[Nn,Wr,oa.W(oa.Jh,xo),$r,oa.W(oa.Jh,xo),fi,oa.W(oa.Jh,oa.W(oa.Eh,xo))],null),oa.Gc,"Schema for a valid concat clause.",oa.q(Ra)?Ra.D:null])):null));return oa.q(e)?e:xi}(),Ra],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ia?new oa.Bc((function(){return Ia}),oa.I(Po,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,2,[oa.fu,"null",Zo,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Gt,"metabase/mbql/schema.cljc",74,je,1,540,540,new oa.Q(null,5,5,oa.R,[je,ni,oa.W(oa.Jh,xo),jo,oa.W(oa.Jh,oa.lv)],null),oa.Gc,"Schema for a valid regex-match-first clause.",oa.q(Ia)?Ia.D:null])):null));return oa.q(e)?e:Gt}(),Ia],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Sa?new oa.Bc((function(){return Sa}),oa.I(Zi,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[oa.fu,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ve,"metabase/mbql/schema.cljc",58,ht,1,510,510,new oa.Q(null,7,5,oa.R,[ht,Wr,oa.W(oa.Jh,ot),$r,oa.W(oa.Jh,ot),fi,oa.W(oa.Jh,oa.W(oa.Eh,ot))],null),oa.Gc,"Schema for a valid coalesce clause.",oa.q(Sa)?Sa.D:null])):null));return oa.q(e)?e:ve}(),Sa],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==_u?new oa.Bc((function(){return _u}),oa.I(Eo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ft,"metabase/mbql/schema.cljc",61,oa.Ov,1,751,751,new oa.Q(null,5,5,oa.R,[oa.Ov,Wi,oa.W(oa.Jh,Zt),oa.gm,oa.W(oa.Jh,oa.W(oa.un,sn))],null),oa.Gc,"Schema for a valid case clause.",oa.q(_u)?_u.D:null])):null));return oa.q(e)?e:Ft}(),_u],null)])),oa.Iz=fa.j(oa.F([oa.Qi(_,va),Ha,oa.Qi(_,ma),Ya,oa.Qi(_,ba),wu,oa.Qi(_,oa.Ov),_u,oa.Yn,pa])),Cu=E(oa.rw,oa.F(["field",new oa.Q(null,2,5,oa.R,[mt,pa],null)])),ku=E(oa.bw,oa.F(["field",new oa.Q(null,2,5,oa.R,[mt,pa],null)])),Au=E(oa.Ht,oa.F(["field-or-expression",oa.Iz])),Du=E(oa.Iw,oa.F(["field-or-expression",oa.Iz])),Ru=E(oa.Lt,oa.F(["field-or-expression",oa.Iz])),Iu=E(oa.ix,oa.F(["field-or-expression",oa.Iz])),Tu=E(oa.mx,oa.F(["field-or-expression",oa.Iz])),Nu=E(oa.ow,oa.F(["field-or-expression",oa.Iz])),qu=E(oa.er,oa.F(["field-or-expression",oa.Iz,"pred",oa.cz])),Mu=E(oa.Ts,oa.F(["pred",oa.cz])),Zu=E(oa.Zt,oa.F(["pred",oa.cz])),Lu=E(oa.ox,oa.F(["field-or-expression",oa.Iz])),Bu=E(oa.Yt,oa.F(["field-or-expression",oa.Iz])),zu=E(oa.fq,oa.F(["field-or-expression",oa.Iz])),Fu=E(oa.us,oa.F(["field-or-expression",oa.Iz,"percentile",wa])),Qu=E(ue,oa.F(["metric-id",oa.Io(oa.F([oa.Mo,oa.Jo]))])),Vu=b(oa.Qi(_,va),Ha,x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Cu?new oa.Bc((function(){return Cu}),oa.I(Ae,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),oa.Ch,"metabase/mbql/schema.cljc",70,oa.rw,1,778,778,!0,new oa.Q(null,3,5,oa.R,[oa.rw,oa.vw,oa.W(oa.Jh,oa.W(oa.un,ce))],null),oa.Gc,"Schema for a valid count clause.",oa.q(Cu)?Cu.D:null])):null));return oa.q(e)?e:oa.Ch}(),Cu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Au?new oa.Bc((function(){return Au}),oa.I(dn,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),_i,"metabase/mbql/schema.cljc",60,oa.Ht,1,789,789,new oa.Q(null,3,5,oa.R,[oa.Ht,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid avg clause.",oa.q(Au)?Au.D:null])):null));return oa.q(e)?e:_i}(),Au],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ku?new oa.Bc((function(){return ku}),oa.I(Fe,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),go,"metabase/mbql/schema.cljc",74,oa.bw,1,779,779,!0,new oa.Q(null,3,5,oa.R,[oa.bw,oa.vw,oa.W(oa.Jh,oa.W(oa.un,ce))],null),oa.Gc,"Schema for a valid cum-count clause.",oa.q(ku)?ku.D:null])):null));return oa.q(e)?e:go}(),ku],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Du?new oa.Bc((function(){return Du}),oa.I(_e,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ye,"metabase/mbql/schema.cljc",64,oa.Iw,1,790,790,new oa.Q(null,3,5,oa.R,[oa.Iw,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid cum-sum clause.",oa.q(Du)?Du.D:null])):null));return oa.q(e)?e:ye}(),Du],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Ru?new oa.Bc((function(){return Ru}),oa.I(Wo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),wi,"metabase/mbql/schema.cljc",65,oa.Lt,1,791,791,new oa.Q(null,3,5,oa.R,[oa.Lt,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid distinct clause.",oa.q(Ru)?Ru.D:null])):null));return oa.q(e)?e:wi}(),Ru],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Lu?new oa.Bc((function(){return Lu}),oa.I(vr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Zr,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ce,"metabase/mbql/schema.cljc",76,oa.ox,1,805,805,new oa.Q(null,3,5,oa.R,[oa.ox,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid stddev clause.",oa.q(Lu)?Lu.D:null])):null));return oa.q(e)?e:Ce}(),Lu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Iu?new oa.Bc((function(){return Iu}),oa.I(He,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ye,"metabase/mbql/schema.cljc",60,oa.ix,1,792,792,new oa.Q(null,3,5,oa.R,[oa.ix,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid sum clause.",oa.q(Iu)?Iu.D:null])):null));return oa.q(e)?e:Ye}(),Iu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Tu?new oa.Bc((function(){return Tu}),oa.I(Ke,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ge,"metabase/mbql/schema.cljc",60,oa.mx,1,793,793,new oa.Q(null,3,5,oa.R,[oa.mx,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid min clause.",oa.q(Tu)?Tu.D:null])):null));return oa.q(e)?e:Ge}(),Tu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Nu?new oa.Bc((function(){return Nu}),oa.I(V,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),J,"metabase/mbql/schema.cljc",60,oa.ow,1,794,794,new oa.Q(null,3,5,oa.R,[oa.ow,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid max clause.",oa.q(Nu)?Nu.D:null])):null));return oa.q(e)?e:J}(),Nu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Qu?new oa.Bc((function(){return Qu}),oa.I(rn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Je,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),we,"metabase/mbql/schema.cljc",26,ue,1,824,824,!0,new oa.Q(null,3,5,oa.R,[ue,jn,oa.W(oa.Jh,oa.W(oa.Yp,kt,Oo))],null),oa.Gc,"Schema for a valid metric clause.",oa.q(Qu)?Qu.D:null])):null));return oa.q(e)?e:we}(),Qu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Zu?new oa.Bc((function(){return Zu}),oa.I(qr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),nr,"metabase/mbql/schema.cljc",62,oa.Zt,1,802,802,new oa.Q(null,3,5,oa.R,[oa.Zt,uo,oa.W(oa.Jh,On)],null),oa.Gc,"Schema for a valid share clause.",oa.q(Zu)?Zu.D:null])):null));return oa.q(e)?e:nr}(),Zu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Mu?new oa.Bc((function(){return Mu}),oa.I(fo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ro,"metabase/mbql/schema.cljc",68,oa.Ts,1,799,799,new oa.Q(null,3,5,oa.R,[oa.Ts,uo,oa.W(oa.Jh,On)],null),oa.Gc,"Schema for a valid count-where clause.",oa.q(Mu)?Mu.D:null])):null));return oa.q(e)?e:Ro}(),Mu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==qu?new oa.Bc((function(){return qu}),oa.I(B,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ht,"metabase/mbql/schema.cljc",66,oa.er,1,796,796,new oa.Q(null,5,5,oa.R,[oa.er,Mt,oa.W(oa.Jh,Qt),uo,oa.W(oa.Jh,On)],null),oa.Gc,"Schema for a valid sum-where clause.",oa.q(qu)?qu.D:null])):null));return oa.q(e)?e:Ht}(),qu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==_u?new oa.Bc((function(){return _u}),oa.I(Eo,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[Ki,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ft,"metabase/mbql/schema.cljc",61,oa.Ov,1,751,751,new oa.Q(null,5,5,oa.R,[oa.Ov,Wi,oa.W(oa.Jh,Zt),oa.gm,oa.W(oa.Jh,oa.W(oa.un,sn))],null),oa.Gc,"Schema for a valid case clause.",oa.q(_u)?_u.D:null])):null));return oa.q(e)?e:Ft}(),_u],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==zu?new oa.Bc((function(){return zu}),oa.I(Gr,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[it,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ae,"metabase/mbql/schema.cljc",68,oa.fq,1,812,812,new oa.Q(null,3,5,oa.R,[oa.fq,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid median clause.",oa.q(zu)?zu.D:null])):null));return oa.q(e)?e:ae}(),zu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Fu?new oa.Bc((function(){return Fu}),oa.I(di,new oa.n(null,1,[Ie,!0],null)),oa.hg([ei,oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[new oa.pg(null,new oa.n(null,1,[it,"null"],null),null),oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ze,"metabase/mbql/schema.cljc",72,oa.us,1,815,815,new oa.Q(null,5,5,oa.R,[oa.us,Mt,oa.W(oa.Jh,Qt),oa.us,oa.W(oa.Jh,dr)],null),oa.Gc,"Schema for a valid percentile clause.",oa.q(Fu)?Fu.D:null])):null));return oa.q(e)?e:Ze}(),Fu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Bu?new oa.Bc((function(){return Bu}),oa.I(Co,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),nt,"metabase/mbql/schema.cljc",77,oa.Yt,1,809,809,new oa.Q(null,3,5,oa.R,[oa.Yt,Mt,oa.W(oa.Jh,Qt)],null),oa.Gc,"Schema for a valid var clause.",oa.q(Bu)?Bu.D:null])):null));return oa.q(e)?e:nt}(),Bu],null)]))),Uu=w(new oa.Bc((function(){return Vu}),Me,oa.hg([oa.vi,oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,oa.ui,oa.Ai,oa.Y,oa.Bi],[!0,oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),$t,"metabase/mbql/schema.cljc",35,1,830,830,oa.Gc,null,oa.q(Vu)?Vu.D:null]))),Hu=oa.Cf([h(oa.S),oa.Jo,h(oa.zv),oa.Jo,oa.Eo,oa.zo]),oa.bA=E(oa.Kv,oa.F(["aggregation",Uu,"options",Hu])),oa.zy=b(oa.Qi(_,oa.Kv),oa.bA,Uu),Yu=E(oa.it,oa.F(["field",oa.ry])),Gu=E(oa.Es,oa.F(["field",oa.ry])),oa.eA=x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Yu?new oa.Bc((function(){return Yu}),oa.I(Kr,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Br,"metabase/mbql/schema.cljc",15,oa.it,1,866,866,new oa.Q(null,3,5,oa.R,[oa.it,oa.vw,oa.W(oa.Jh,In)],null),oa.Gc,"Schema for a valid asc clause.",oa.q(Yu)?Yu.D:null])):null));return oa.q(e)?e:Br}(),Yu],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==Gu?new oa.Bc((function(){return Gu}),oa.I(Cn,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),so,"metabase/mbql/schema.cljc",16,oa.Es,1,867,867,new oa.Q(null,3,5,oa.R,[oa.Es,oa.vw,oa.W(oa.Jh,In)],null),oa.Gc,"Schema for a valid desc clause.",oa.q(Gu)?Gu.D:null])):null));return oa.q(e)?e:so}(),Gu],null)])),y.j(oa.F([Ar,Lr,oa.ww,gr,Wn,K])),Wu=oa.Cf([h(Go),oa.Jo,oa.S,oa.Jo,oa.zv,oa.Jo,oa.Eo,oa.zo]),$u=oa.ap(oa.F([Wu,oa.Cf([oa.Mn,oa.Om(Ar),Lo,oa.Jo,ar,oa.Mo,h(Jo),oa.Mo])])),Ku=oa.ap(oa.F([Wu,new oa.n(null,2,[oa.Mn,oa.Om(Lr),at,oa.Mo],null)])),Ju=oa.ap(oa.F([Wu,oa.Cf([h(oa.oh),oa.zo,h(So),oa.Bo])])),Xu=oa.ap(oa.F([Ju,new oa.n(null,3,[oa.Mn,oa.Om(oa.ww),oa.ww,Wl,oa.Lu,w(new oa.Bc((function(){return pl}),fr,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Xi,"metabase/mbql/schema.cljc",23,1,963,!0,963,oa.Gc,null,oa.q(pl)?pl.D:null])))],null)])),el=oa.qe(y,new oa.pg(null,new oa.n(null,4,[K,null,gr,null,fe,null,Wn,null],null),null)),tl=oa.ap(oa.F([Ju,new oa.n(null,1,[oa.Mn,el],null)])),nl=fa.j(oa.F([function(e){return oa.Xc.a(oa.Mn.b(e),oa.ww)},Xu,function(e){return oa.Xc.a(oa.Mn.b(e),Ar)},$u,function(e){return oa.Xc.a(oa.Mn.b(e),Lr)},Ku,oa.Yn,tl])),rl=oa.Um(oa.Cf([oa.Jo,nl]),(function(e){return oa.Fe((function(e){var t=oa.G(e,0,null);return e=oa.G(e,1,null),oa.Xc.a(t,oa.S.b(e))}),e)}),"keys in template tag map must match the :name of their values"),il=oa.Cf([oa.Vw,oa.zo,h(oa.wq),rl,h(ta),oa.pp(oa.Jo),oa.Eo,oa.zo]),ol=b(oa.Zh.a(oa.od,oa.Bw),oa.bp(il,new oa.n(null,1,[oa.Vw,oa.Bw],null)),w(new oa.Bc((function(){return oa.qA}),qe,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ge,"metabase/mbql/schema.cljc",25,1,1043,!0,1043,oa.Gc,null,oa.q(oa.qA)?oa.qA.D:null])))),al=oa.Cf([oa.S,oa.Jo,oa.Ij,oa.Ko,Qi,oa.Jo,h(oa.Px),oa.pp(oa.Lo),h(oa.Mq),oa.pp(oa.Oo),oa.zo,oa.zo]),oa.tA=/^card__[1-9]\d*$/,ul=oa.Io(oa.F([oa.Mo,oa.tA])),ll=oa.qe(y,new oa.pg(null,new oa.n(null,4,[bi,null,vo,null,N,null,ke,null],null),null)),cl=oa.Um(oa.hg([oa.Eo,h(oa.As),h(oa.ys),h(oa.wv),h(oa.sx),qn,h(oa.Yu),h(Jr),h(oa.Gr)],[oa.zo,oa.pp(new oa.Q(null,1,5,oa.R,[al],null)),ul,oa.Jo,oa.Sm(oa.Io(oa.F([y.j(oa.F([oa.mi,st])),w(new oa.Bc((function(){return fl}),Oi,oa.hg([oa.xh,oa.S,oa.yi,oa.wi,oa.Ci,oa.ti,ki,oa.ui,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),ia,"metabase/mbql/schema.cljc",16,1,1090,!0,1090,oa.Gc,null,oa.q(fl)?fl.D:null])))])),"Valid Join `:fields`: `:all`, `:none`, or a sequence of `:field` clauses that have `:join-alias`."),oa.cz,ol,oa.pp(oa.Mo),ll]),oa.Zh.a(oa.$h.a(oa.ys,oa.Yu),oa.Ie(oa.Zh.a(oa.ys,oa.Yu))),"Joins must have either a `source-table` or `source-query`, but not both."),sl=oa.Um(P(new oa.Q(null,1,5,oa.R,[cl],null)),(function(e){return C(oa.Pe(oa.So,oa.Ig.a(oa.wv,e)))}),"All join aliases must be unique."),fl=oa.Sm(oa.Um(P(new oa.Q(null,1,5,oa.R,[pa],null)),C,"distinct"),"Distinct, non-empty sequence of Field clauses"),oa.qA=oa.Um(oa.Um(oa.hg([oa.Eo,h(oa.Yr),h(oa.As),h(oa.ex),h(oa.ys),h(oa.$r),h(oa.sx),h(oa.ts),h(oa.qv),h(oa.Yu),h(Q),h(io),h(oa.fu)],[oa.zo,oa.Um(P(new oa.Q(null,1,5,oa.R,[oa.eA],null)),C,"distinct"),oa.pp(new oa.Q(null,1,5,oa.R,[al],null)),sl,ul,oa.cz,fl,P(new oa.Q(null,1,5,oa.R,[oa.zy],null)),P(new oa.Q(null,1,5,oa.R,[pa],null)),ol,oa.No,new oa.n(null,2,[io,oa.Mo,hr,oa.Mo],null),oa.Cf([oa.Jo,oa.Iz])]),(function(e){return oa.Xc.a(1,oa.D(oa.Oi(e,new oa.Q(null,2,5,oa.R,[oa.Yu,oa.ys],null))))}),"Query must specify either `:source-table` or `:source-query`, but not both."),(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;return e=oa.N.a(t,oa.qv),t=oa.N.a(t,oa.sx),oa.kd(sa.a(oa.tg(e),oa.tg(t)))}),"Fields specified in `:breakout` should not be specified in `:fields`; this is implied."),dl=oa.hg([oa.Nt,K,yt,to,Le,Er,on,kr,gr,ro,et,zn,D,te,$n,xt,Fo,Zn,Go,Tn,Z,pe,un,We,fe,Wn,dt],[new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,5,[oa.Nt,null,K,null,gr,null,fe,null,Wn,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,5,[oa.Nt,null,K,null,kr,null,Fo,null,Go,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,vt,W,new oa.pg(null,new oa.n(null,1,[yt,null],null),null)],null),new oa.n(null,3,[oa.Mn,eo,Sr,vt,W,new oa.pg(null,new oa.n(null,5,[oa.Nt,null,to,null,gr,null,Go,null,Z,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[Le,null],null),null)],null),new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,1,[Er,null],null),null)],null),new oa.n(null,3,[oa.Mn,eo,Sr,yo,W,new oa.pg(null,new oa.n(null,1,[on,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,1,[kr,null],null),null)],null),new oa.n(null,2,[oa.Mn,eo,W,new oa.pg(null,new oa.n(null,5,[oa.Nt,null,to,null,gr,null,Go,null,Z,null],null),null)],null),new oa.n(null,3,[oa.Mn,eo,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[ro,null],null),null)],null),new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,1,[et,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,vt,W,new oa.pg(null,new oa.n(null,8,[oa.Nt,null,Er,null,et,null,zn,null,Zn,null,Go,null,Z,null,Wn,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[D,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,2,[kr,null,te,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[$n,null],null),null)],null),new oa.n(null,3,[oa.Mn,Y,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[xt,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,5,[oa.Nt,null,K,null,kr,null,Fo,null,Go,null],null),null)],null),new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,1,[Zn,null],null),null)],null),new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,1,[Go,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,2,[kr,null,Tn,null],null),null)],null),new oa.n(null,1,[W,new oa.pg(null,new oa.n(null,1,[Z,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,2,[kr,null,pe,null],null),null)],null),new oa.n(null,2,[oa.Mn,K,W,new oa.pg(null,new oa.n(null,2,[kr,null,un,null],null),null)],null),new oa.n(null,3,[oa.Mn,eo,Sr,vt,W,new oa.pg(null,new oa.n(null,1,[We,null],null),null)],null),new oa.n(null,2,[oa.Mn,fe,W,new oa.pg(null,new oa.n(null,3,[oa.Nt,null,Go,null,fe,null],null),null)],null),new oa.n(null,2,[oa.Mn,Y,W,new oa.pg(null,new oa.n(null,8,[oa.Nt,null,Er,null,et,null,zn,null,Zn,null,Go,null,Z,null,Wn,null],null),null)],null),new oa.n(null,3,[oa.Mn,eo,Sr,Ur,W,new oa.pg(null,new oa.n(null,1,[dt,null],null),null)],null)]),pl=oa.qe(y,oa.lg(dl)),hl=E(ra,oa.F(["tag-name",oa.Jo])),ml=E(oa.ww,oa.F(["target",oa.Io(oa.F([pa,hl]))])),yl=E(Jn,oa.F(["target",hl])),vl=oa.Io(oa.F([pa,x(oa.F([new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==ml?new oa.Bc((function(){return ml}),oa.I(ct,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),mn,"metabase/mbql/schema.cljc",21,oa.ww,1,1386,1386,new oa.Q(null,3,5,oa.R,[oa.ww,oa.yq,oa.W(oa.Jh,oa.W(oa.Yp,ce,Yr))],null),oa.Gc,"Schema for a valid dimension clause.",oa.q(ml)?ml.D:null])):null));return oa.q(e)?e:mn}(),ml],null),new oa.Q(null,2,5,oa.R,[function(){var e=sr.b(oa.jd(void 0!==aa&&void 0!==ua&&void 0!==la&&void 0!==yl?new oa.Bc((function(){return yl}),oa.I(Mo,new oa.n(null,1,[Ie,!0],null)),oa.hg([oa.xh,oa.S,oa.yi,oa.wi,sr,oa.Ci,oa.ti,oa.ui,Ri,oa.Ai,oa.Y,oa.Bi],[oa.I(ko,new oa.n(null,1,[oa.Y,"Schema for validating a *normalized* MBQL query. This is also the definitive grammar for MBQL, wow!"],null)),Ci,"metabase/mbql/schema.cljc",20,Jn,1,1389,1389,new oa.Q(null,3,5,oa.R,[Jn,oa.yq,oa.W(oa.Jh,Yr)],null),oa.Gc,"Schema for a valid variable clause.",oa.q(yl)?yl.D:null])):null));return oa.q(e)?e:Ci}(),yl],null)]))])),bl=oa.Cf([oa.Mn,pl,h(Go),oa.Jo,h(oa.yq),vl,h(oa.oo),oa.zo,h(oa.S),oa.Jo,h(Hr),oa.Jo,h(oa.oh),oa.zo,oa.Eo,oa.zo]),gl=new oa.Q(null,1,5,oa.R,[bl],null),wl=oa.Cf([h(Xo),oa.Jo,oa.Eo,oa.zo]),Ol=oa.Um(oa.Cf([h(ze),oa.No,h(Yi),oa.No,oa.Eo,oa.zo]),(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;return e=oa.N.a(t,ze),t=oa.N.a(t,Yi),!!oa.bb(oa.q(e)?t:e)||e>=t}),"max-results-bare-rows must be less or equal to than max-results"),jl=oa.Cf([h(Dt),oa.Bo,h(Bo),oa.Bo,h(co),oa.Bo,h(Pi),oa.pp(oa.Bo),h(ie),oa.pp(oa.Bo),h(Ii),oa.pp(oa.Bo),oa.Eo,oa.zo]),Sl=y.j(oa.F([ne,ta,wn,oe,Pr,X,En,an,zr,Vt,I,Ue,Ji])),El=oa.Cf([h(oa.Ow),oa.pp(Sl),h(Li),oa.pp(oa.Mo),h(at),oa.pp(oa.Mo),h(Gi),oa.pp(oa.Jo),h(bt),oa.pp(oa.Mo),h(na),oa.pp(oa.Mo),h(oa.Vt),oa.pp(new oa.Q(null,1,5,oa.R,[oa.Cf([oa.zo,oa.zo])],null)),h(Ve),oa.pp(oa.zo)]),_l=oa.Io(oa.F([oa.Om(-1337),oa.Mo])),oa.MA=oa.Um(oa.Um(oa.Um(oa.hg([oa.Eo,h(oa.Bw),h(hi),h(oa.ni),h(cr),h(ci),oa.Mn,h(oa.Vw),Jo,h(oa.ir)],[oa.zo,il,oa.pp(wl),oa.pp(El),oa.pp(Ol),oa.pp(jl),y.j(oa.F([oa.Vw,oa.Bw])),oa.qA,_l,gl]),oa.Zh.a(oa.$h.a(oa.Bw,oa.Vw),oa.Ie(oa.Zh.a(oa.Bw,oa.Vw))),"Query must specify either `:native` or `:query`, but not both."),(function(e){var t=null!=e&&(64&e.o||oa.yc===e.Y)?oa.qe(oa.Yh,e):e;e=oa.N.a(t,oa.Bw);var n=oa.N.a(t,oa.Vw);switch(t=(t=oa.N.a(t,oa.Mn))instanceof oa.O?t.ga:null){case"native":return e;case"query":return n;default:throw Error(["No matching clause: ",oa.fb.b(t)].join(""))}}),"Native queries must specify `:native`; MBQL queries must specify `:query`."),oa.Ie(oa.As),"`:source-metadata` should be added in the same level as `:source-query` (i.e., the 'inner' MBQL query.)"),function(e){var t=j(e)}(oa.MA)},65167:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae=n(4923);n(70406),n(52340),n(82702),n(52192),n(30624),n(95375),n(98421),n(58367),ae.OA=function(e,t,n){ae.ih.N(e.oc,ae.Ng,t,n),ae.kh(e.nc,e.oc,e.ic,e.mc)},r=function(e){return e+1},i=function(e,t){e.schema$utils$schema=t},o=function(e){return ae.dc(ae.Gd((function(e,t){return ae.q(ae.So.b?ae.So.b(t):ae.So.call(null,t))?ae.af.a(e,t):e}),ae.bc(ae.ff),e))},a=function(){return function(){function e(e,t,n){return e=null==e?0:e,r.c?r.c(e,t,n):r.call(null,e,t,n)}function t(e,t){return e=null==e?0:e,r.a?r.a(e,t):r.call(null,e,t)}function n(e){return e=null==e?0:e,r.b?r.b(e):r.call(null,e)}var i,o=function(){function e(e,n,r,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new ae.Dc(a,0,null)}return t.call(this,e,n,r,o)}function t(e,t,n,i){return ae.te(r,null==e?0:e,t,n,i)}return e.I=3,e.H=function(e){var n=ae.u(e);e=ae.B(e);var r=ae.u(e);return e=ae.B(e),t(n,r,ae.u(e),e=ae.Hc(e))},e.j=t,e}();return i=function(r,i,a,u){switch(arguments.length){case 1:return n.call(this,r);case 2:return t.call(this,r,i);case 3:return e.call(this,r,i,a);default:var l=null;if(3<arguments.length){l=0;for(var c=Array(arguments.length-3);l<c.length;)c[l]=arguments[l+3],++l;l=new ae.Dc(c,0,null)}return o.j(r,i,a,l)}throw Error("Invalid arity: "+arguments.length)},i.I=3,i.H=o.H,i.b=n,i.a=t,i.c=e,i.j=o.j,i}()},ae.TA=function(e,t,n){return ae.nf(null,e,0|t,0|n,null)},ae.UA=function(e,t){return ae.TA(e,t,ae.D(e))},u=function(e){var t=/_/;if("string"==typeof t)return e.replace(new RegExp(String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),"-");if(t instanceof RegExp){var n=ae.q(t.ignoreCase)?"gi":"g";return n=ae.q(t.multiline)?[n,"m"].join(""):n,e.replace(new RegExp(t.source,ae.q(t.ce)?[n,"u"].join(""):n),"-")}throw["Invalid match arg: ",ae.fb.b(t)].join("")},l=function(){return null==E&&(E=ae.ah.b(0)),ae.Rg.b([ae.fb.b("G__"),ae.fb.b(ae.ih.a(E,r))].join(""))},c=function(e){var t=ae.xg((function(e){return e instanceof ae.nn}),e);return e=ae.G(t,0,null),t=ae.G(t,1,null),ae.Wh.a(ae.Ig.a((function(e){return ae.Jm(e.P)}),e),ae.t(t)?new ae.Q(null,2,5,ae.R,[ae.Dh,ae.ci.a(ae.Jm,t)],null):null)},s=function(e,t,n,r,i){this.kb=e,this.ab=t,this.C=n,this.g=r,this.v=i,this.o=2230716170,this.K=139264},f=function(e,t){return new s(e,t,null,null,null)},d=function(e){return ae.t(e)?ae.ed(e)instanceof ae.nn?ae.D(e):Number.MAX_VALUE:0},ae.bB=function(e){if(ae.Bm(e))return e;throw ae.Yo("Invalid pattern: don't know how to handle symbol.",new ae.n(null,1,[ae.Kh,e],null))},ae.cB=function(e,t,n){return ae.od(n)?ae.Kd(ae.Wh,function n(r){return new ae.ae(null,(function(){for(;;){var i=ae.t(r);if(i){if(ae.rd(i)){var o=ae.ic(i),a=ae.D(o),u=ae.de(a);return function(){for(var n=0;;){if(!(n<a))return!0;var r=ae.gd(o,n),i=ae.G(r,0,null),l=ae.G(r,1,null);r=u,i=ae.Vd.a(t,i),i=e.a?e.a(i,l):e.call(null,i,l),r.add(i),n+=1}}()?ae.ge(ae.ie(u),n(ae.jc(i))):ae.ge(ae.ie(u),null)}var l=ae.u(i),c=ae.G(l,0,null),s=ae.G(l,1,null);return ae.Yd((f=void 0,d=void 0,f=ae.Vd.a(t,c),d=s,e.a?e.a(f,d):e.call(null,f,d)),n(ae.Hc(i)))}return null}var f,d}),null)}(n)):ae.nd(n)?ae.Yi(ae.Qi(e,ae.u(n)instanceof ae.O?ae.Vd.a(t,ae.u(n)):t),ae.F([n])):null},ae.dB=function(e,t,n){return ae.od(n)?ae.bi.a(n,function n(r){return new ae.ae(null,(function(){for(;;){var i=ae.t(r);if(i){if(ae.rd(i)){var o=ae.ic(i),a=ae.D(o),u=ae.de(a);return function(){for(var n=0;;){if(!(n<a))return!0;var r=ae.gd(o,n),i=ae.G(r,0,null),l=ae.G(r,1,null);r=u;var c=ae.R,s=i;i=ae.Vd.a(t,i),i=e.a?e.a(i,l):e.call(null,i,l),r.add(new ae.Q(null,2,5,c,[s,i],null)),n+=1}}()?ae.ge(ae.ie(u),n(ae.jc(i))):ae.ge(ae.ie(u),null)}var l=ae.u(i),c=ae.G(l,0,null),s=ae.G(l,1,null);return ae.Yd(new ae.Q(null,2,5,ae.R,[c,(f=void 0,d=void 0,f=ae.Vd.a(t,c),d=s,e.a?e.a(f,d):e.call(null,f,d))],null),n(ae.Hc(i)))}return null}var f,d}),null)}(n)):ae.nd(n)?ae.ci.a(ae.Qi(e,ae.u(n)instanceof ae.O?ae.Vd.a(t,ae.u(n)):t),n):n},ae.eB=function(e,t){return ae.re(ae.NA.gettext,e,t)},ae.fB=function(e){for(var t=[],n=arguments.length,r=0;r<n;)t.push(arguments[r]),r+=1;return ae.eB(arguments[0],1<t.length?new ae.Dc(t.slice(1),0,null):null)},ae.gB=function(e){return ae.q(e instanceof ae.O&&ae.$d(e))?[ae.$d(e),"/",ae.vg(e)].join(""):ae.vg(e)},ae.hB=function(e,t){return!!(ae.nd(t)&&!ae.cf(t)&&ae.u(t)instanceof ae.O)&&(ae.ld(e)?(t=ae.u(t),(e=ae.tg(e)).b?e.b(t):e.call(null,t)):ae.Xc.a(e,ae.u(t)))},p=function(e,t){return ae.Yi((function(t){var n=ae.Pe;e:try{if(!(ae.qd(t)&&1<=ae.D(t)))throw ae.Z;try{var r=ae.TA(t,0,1);if(!ae.qd(r)||1!==ae.D(r))throw ae.Z;try{var i=ae.Yc(r,0);if(!ae.q(ae.Qi(ae.Xc,e)(i)))throw ae.Z;var o=ae.UA(t,1),a=new ae.Q(null,1,5,ae.R,[o],null)}catch(e){if(e instanceof Error){var u=e;if(u===ae.Z)throw ae.Z;throw u}throw e}}catch(e){if(e instanceof Error){if((u=e)===ae.Z)throw ae.Z;throw u}throw e}}catch(e){if(e instanceof Error){if((u=e)===ae.Z){a=new ae.Q(null,1,5,ae.R,[new ae.Q(null,1,5,ae.R,[t],null)],null);break e}throw u}throw e}return ae.u(ae.t(n(ae.So,a)))}),ae.F([t]))},ae.kB=function(e){return function t(n,r){try{if(ae.q((M=ae.bB(ae.ji)).b?M.b(r):M.call(null,r)))return t(n,ae.gf(r));throw ae.Z}catch(M){if(!(M instanceof Error))throw M;var i=M;if(i!==ae.Z)throw i;try{if(null===r)return null;throw ae.Z}catch(M){if(!(M instanceof Error))throw M;if((i=M)!==ae.Z)throw i;try{if(!(ae.qd(r)&&0<=ae.D(r)))throw ae.Z;try{var a=ae.TA(r,0,0);if(!ae.qd(a)||0!==ae.D(a))throw ae.Z;try{var u=ae.UA(r,0);if(ae.q(ae.Qi(ae.Fe,ae.Ji)(u)))return null;throw ae.Z}catch(e){if(e instanceof Error){var l=e;if(l===ae.Z)throw ae.Z;throw l}throw e}}catch(e){if(e instanceof Error){if((l=e)===ae.Z)throw ae.Z;throw l}throw e}}catch(i){if(!(i instanceof Error))throw i;if((l=i)!==ae.Z)throw l;try{if(ae.qd(r)&&0===ae.D(r))return null;throw ae.Z}catch(i){if(!(i instanceof Error))throw i;if((a=i)!==ae.Z)throw a;try{if(!ae.qd(r)||1!==ae.D(r))throw ae.Z;try{var c=ae.Yc(r,0);if(ae.Zd(c,ae.Fs))return null;throw ae.Z}catch(e){if(!(e instanceof Error))throw e;if((a=e)!==ae.Z)throw a;try{if(c=ae.Yc(r,0),ae.Zd(c,ae.Hq))return null;throw ae.Z}catch(q){if(q instanceof Error){var s=q;if(s===ae.Z)throw ae.Z;throw s}throw q}}}catch(i){if(!(i instanceof Error))throw i;if((a=i)!==ae.Z)throw a;try{if(!(ae.qd(r)&&1<=ae.D(r)))throw ae.Z;try{var f=ae.TA(r,0,1);if(!ae.qd(f)||1!==ae.D(f))throw ae.Z;try{var d=ae.Yc(f,0);if(!ae.q((q=new ae.pg(null,new ae.n(null,2,[ae.Hq,null,ae.Fs,null],null),null),q.b?q.b(d):q.call(null,d))))throw ae.Z;try{var h=ae.UA(r,1);if(ae.q(ae.Qi(ae.Ge,ae.Ji)(h))){var m=ae.UA(r,1),y=ae.Yc(f,0);return t(n,ae.re(le,y,o(m)))}throw ae.Z}catch(q){if(q instanceof Error){if(s=q,s===ae.Z)throw ae.Z;throw s}throw q}}catch(q){if(q instanceof Error){if(s=q,s===ae.Z)throw ae.Z;throw s}throw q}}catch(q){if(q instanceof Error){if(s=q,s===ae.Z)throw ae.Z;throw s}throw q}}catch(q){if(!(q instanceof Error))throw q;if(s=q,s!==ae.Z)throw s;try{if(!ae.qd(r)||2!==ae.D(r))throw ae.Z;try{var v=ae.Yc(r,0);if(!ae.Zd(v,ae.Gt))throw ae.Z;try{var b=ae.Yc(r,1);if(!(ae.qd(b)&&1<=ae.D(b)))throw ae.Z;try{var g=ae.TA(b,0,1);if(!ae.qd(g)||1!==ae.D(g))throw ae.Z;try{var w=ae.Yc(g,0);if(ae.Zd(w,ae.Fs))return m=ae.UA(b,1),t(n,ae.re(le,ae.Hq,ae.Ig.a((function(e){return new ae.Q(null,2,5,ae.R,[ae.Gt,e],null)}),m)));throw ae.Z}catch(e){if(!(e instanceof Error))throw e;var O=e;if(O!==ae.Z)throw O;try{if(w=ae.Yc(g,0),ae.Zd(w,ae.Hq))return m=ae.UA(b,1),t(n,ae.re(le,ae.Fs,ae.Ig.a((function(e){return new ae.Q(null,2,5,ae.R,[ae.Gt,e],null)}),m)));throw ae.Z}catch(e){if(e instanceof Error){var j=e;if(j===ae.Z)throw ae.Z;throw j}throw e}}}catch(e){if(e instanceof Error){if((O=e)===ae.Z)throw ae.Z;throw O}throw e}}catch(e){if(e instanceof Error){if((O=e)===ae.Z)throw ae.Z;throw O}throw e}}catch(e){if(!(e instanceof Error))throw e;if((O=e)!==ae.Z)throw O;try{if(v=ae.Yc(r,0),ae.Zd(v,ae.Fs)){var S=ae.Yc(r,1);return t(n,S)}throw ae.Z}catch(e){if(!(e instanceof Error))throw e;if((j=e)!==ae.Z)throw j;try{if(v=ae.Yc(r,0),ae.Zd(v,ae.Hq))return t(n,S=ae.Yc(r,1));throw ae.Z}catch(e){if(e instanceof Error){var E=e;if(E===ae.Z)throw ae.Z;throw E}throw e}}}}catch(i){if(!(i instanceof Error))throw i;if((O=i)!==ae.Z)throw O;try{if(!(ae.qd(r)&&1<=ae.D(r)))throw ae.Z;try{var _=ae.TA(r,0,1);if(!ae.qd(_)||1!==ae.D(_))throw ae.Z;try{var x=ae.Yc(_,0);if(!ae.Zd(x,ae.Fs))throw ae.Z;try{var P=ae.UA(r,1);if(ae.q(ae.Qi(ae.Ge,ae.Qi(ae.hB,ae.Fs))(P)))return m=ae.UA(r,1),t(n,ae.re(le,ae.Fs,p(ae.Fs,m)));throw ae.Z}catch(e){if(e instanceof Error){if((j=e)===ae.Z)throw ae.Z;throw j}throw e}}catch(e){if(!(e instanceof Error))throw e;if((j=e)!==ae.Z)throw j;try{if(x=ae.Yc(_,0),!ae.Zd(x,ae.Hq))throw ae.Z;try{if(P=ae.UA(r,1),ae.q(ae.Qi(ae.Ge,ae.Qi(ae.hB,ae.Hq))(P)))return m=ae.UA(r,1),t(n,ae.re(le,ae.Hq,p(ae.Hq,m)));throw ae.Z}catch(e){if(e instanceof Error){if((E=e)===ae.Z)throw ae.Z;throw E}throw e}}catch(e){if(!(e instanceof Error))throw e;if((E=e)!==ae.Z)throw E;try{if(x=ae.Yc(_,0),!ae.q((N=new ae.pg(null,new ae.n(null,2,[ae.Hq,null,ae.Fs,null],null),null),N.b?N.b(x):N.call(null,x))))throw ae.Z;try{if(P=ae.UA(r,1),ae.bb(ae.qe(ae.wp,P))){m=ae.UA(r,1);var C=ae.Yc(_,0);return t(n,ae.re(le,C,ae.ej.b(m)))}throw ae.Z}catch(N){if(N instanceof Error){var k=N;if(k===ae.Z)throw ae.Z;throw k}throw N}}catch(N){if(N instanceof Error){if(k=N,k===ae.Z)throw ae.Z;throw k}throw N}}}}catch(e){if(e instanceof Error){if((j=e)===ae.Z)throw ae.Z;throw j}throw e}}catch(i){if(!(i instanceof Error))throw i;if((j=i)!==ae.Z)throw j;try{if(!ae.qd(r)||2!==ae.D(r))throw ae.Z;try{var A=ae.Yc(r,0);if(!ae.Zd(A,ae.Gt))throw ae.Z;try{var D=ae.Yc(r,1);if(!ae.qd(D)||2!==ae.D(D))throw ae.Z;try{var R=ae.Yc(D,0);if(ae.Zd(R,ae.Gt))return t(n,S=ae.Yc(D,1));throw ae.Z}catch(e){if(e instanceof Error){if((E=e)===ae.Z)throw ae.Z;throw E}throw e}}catch(e){if(e instanceof Error){if((E=e)===ae.Z)throw ae.Z;throw E}throw e}}catch(e){if(e instanceof Error){if((E=e)===ae.Z)throw ae.Z;throw E}throw e}}catch(i){if(!(i instanceof Error))throw i;if((E=i)!==ae.Z)throw E;try{if(!(ae.qd(r)&&1<=ae.D(r)))throw ae.Z;try{var I=ae.TA(r,0,1);if(!ae.qd(I)||1!==ae.D(I))throw ae.Z;try{var T=ae.Yc(I,0);if(ae.Zd(T,ae.Yn))return e;throw ae.Z}catch(N){if(N instanceof Error){if(k=N,k===ae.Z)throw ae.Z;throw k}throw N}}catch(N){if(N instanceof Error){if(k=N,k===ae.Z)throw ae.Z;throw k}throw N}}catch(N){if(N instanceof Error){if(k=N,k===ae.Z)return ae.dB(t,n,r);throw k}throw N}}}}}}}}}}var N,q,M}(ae.ff,e)},h=function(e){return function e(t,n){try{if(!ae.qd(n)||7!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(ae.Zd(r,ae.dx)){var i=ae.Yc(n,1),o=ae.Yc(n,2),a=ae.Yc(n,3),u=ae.Yc(n,4),l=ae.Yc(n,5),c=ae.Yc(n,6);return new ae.Q(null,3,5,ae.R,[ae.Fs,new ae.Q(null,4,5,ae.R,[ae.Xq,i,l,a],null),new ae.Q(null,4,5,ae.R,[ae.Xq,o,u,c],null)],null)}throw ae.Z}catch(e){if(e instanceof Error){if((r=e)===ae.Z)throw ae.Z;throw r}throw e}}catch(i){if(i instanceof Error){if((r=i)===ae.Z)return ae.dB(e,t,n);throw r}throw i}}(ae.ff,e)},m=function(e){return function e(t,n){try{if(!ae.qd(n)||2!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(ae.Zd(r,ae.$u)){var i=ae.Yc(n,1);return new ae.Q(null,3,5,ae.R,[ae.su,i,null],null)}throw ae.Z}catch(e){if(!(e instanceof Error))throw e;var o=e;if(o!==ae.Z)throw o;try{if(r=ae.Yc(n,0),ae.Zd(r,ae.Us))return i=ae.Yc(n,1),new ae.Q(null,3,5,ae.R,[ae.jt,i,null],null);throw ae.Z}catch(e){if(e instanceof Error){if((r=e)===ae.Z)throw ae.Z;throw r}throw e}}}catch(r){if(r instanceof Error){if((o=r)===ae.Z)return ae.dB(e,t,n);throw o}throw r}}(ae.ff,e)},y=function(e){return function e(t,n){try{if(!ae.qd(n)||2!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(ae.Zd(r,ae.Pt)){var i=ae.Yc(n,1);return new ae.Q(null,3,5,ae.R,[ae.Hq,new ae.Q(null,3,5,ae.R,[ae.su,i,null],null),new ae.Q(null,3,5,ae.R,[ae.su,i,""],null)],null)}throw ae.Z}catch(e){if(!(e instanceof Error))throw e;var o=e;if(o!==ae.Z)throw o;try{if(r=ae.Yc(n,0),ae.Zd(r,ae.Nu))return i=ae.Yc(n,1),new ae.Q(null,3,5,ae.R,[ae.Fs,new ae.Q(null,3,5,ae.R,[ae.jt,i,null],null),new ae.Q(null,3,5,ae.R,[ae.jt,i,""],null)],null);throw ae.Z}catch(e){if(e instanceof Error){if((r=e)===ae.Z)throw ae.Z;throw r}throw e}}}catch(r){if(r instanceof Error){if((o=r)===ae.Z)return ae.dB(e,t,n);throw o}throw r}}(ae.ff,e)},v=function(e,t){return function e(n,r){try{if(!ae.qd(r)||3!==ae.D(r))throw ae.Z;try{var i=ae.Yc(r,0);if(ae.Zd(i,ae.vw)){var o=ae.Yc(r,1),a=ae.Yc(r,2);return new ae.Q(null,3,5,ae.R,[ae.vw,o,ae.Ng.c(a,ae.aw,t)],null)}throw ae.Z}catch(e){if(e instanceof Error){if((i=e)===ae.Z)throw ae.Z;throw i}throw e}}catch(t){if(!(t instanceof Error))throw t;if((i=t)!==ae.Z)throw i;try{if(!ae.qd(r)||2!==ae.D(r))throw ae.Z;try{var u=ae.Yc(r,0);if(ae.Zd(u,ae.Np)){var l=ae.Yc(r,1);return new ae.Q(null,2,5,ae.R,[ae.Np,l],null)}throw ae.Z}catch(e){if(e instanceof Error){if((u=e)===ae.Z)throw ae.Z;throw u}throw e}}catch(t){if(t instanceof Error){if((u=t)===ae.Z)return ae.dB(e,n,r);throw u}throw t}}}(ae.ff,e)},b=function(e){return function e(t,n){try{if(!ae.qd(n)||4!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(ae.Zd(r,ae.Wv)){var i=ae.Yc(n,1),o=ae.Yc(n,2),a=ae.Yc(n,3);return e(t,new ae.Q(null,5,5,ae.R,[ae.Wv,i,o,a,null],null))}throw ae.Z}catch(e){if(e instanceof Error){if((r=e)===ae.Z)throw ae.Z;throw r}throw e}}catch(b){if(!(b instanceof Error))throw b;if((r=b)!==ae.Z)throw r;try{if(!ae.qd(n)||5!==ae.D(n))throw ae.Z;try{var u=ae.Yc(n,0);if(!ae.Zd(u,ae.Wv))throw ae.Z;try{var l=ae.Yc(n,2);if(ae.Zd(l,ae.ss)){i=ae.Yc(n,1),a=ae.Yc(n,3);var c=ae.Yc(n,4);return e(t,new ae.Q(null,5,5,ae.R,[ae.Wv,i,0,a,c],null))}throw ae.Z}catch(r){if(!(r instanceof Error))throw r;var s=r;if(s!==ae.Z)throw s;try{if(l=ae.Yc(n,2),ae.Zd(l,ae.Uu))return i=ae.Yc(n,1),a=ae.Yc(n,3),c=ae.Yc(n,4),e(t,new ae.Q(null,5,5,ae.R,[ae.Wv,i,-1,a,c],null));throw ae.Z}catch(r){if(!(r instanceof Error))throw r;if((u=r)!==ae.Z)throw u;try{if(l=ae.Yc(n,2),ae.Zd(l,ae.Mu))return i=ae.Yc(n,1),a=ae.Yc(n,3),c=ae.Yc(n,4),e(t,new ae.Q(null,5,5,ae.R,[ae.Wv,i,1,a,c],null));throw ae.Z}catch(e){if(!(e instanceof Error))throw e;if((c=e)!==ae.Z)throw c;try{if(l=ae.Yc(n,2),!ae.q((y=new ae.pg(null,new ae.n(null,1,[-1,null],null),null),y.b?y.b(l):y.call(null,l))))throw ae.Z;try{var f=ae.Yc(n,4);if(ae.q(ae.yx.b(f)))return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,0,a],null)],null);throw ae.Z}catch(y){if(y instanceof Error){var d=y;if(d===ae.Z)throw ae.Z;throw d}throw y}}catch(y){if(!(y instanceof Error))throw y;if(d=y,d!==ae.Z)throw d;try{if(l=ae.Yc(n,2),!ae.q((m=new ae.pg(null,new ae.n(null,1,[1,null],null),null),m.b?m.b(l):m.call(null,l))))throw ae.Z;try{if(f=ae.Yc(n,4),ae.q(ae.yx.b(f)))return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,0,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null)],null);throw ae.Z}catch(m){if(m instanceof Error){var p=m;if(p===ae.Z)throw ae.Z;throw p}throw m}}catch(m){if(!(m instanceof Error))throw m;if(p=m,p!==ae.Z)throw p;try{if(l=ae.Yc(n,2),ae.q(function(){var e=new ae.pg(null,new ae.n(null,3,[0,null,1,null,-1,null],null),null);return e.b?e.b(l):e.call(null,l)}()))return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,3,5,ae.R,[ae.su,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null)],null);throw ae.Z}catch(e){if(!(e instanceof Error))throw e;if((d=e)!==ae.Z)throw d;try{if(!(0>(l=ae.Yc(n,2))))throw ae.Z;try{if(f=ae.Yc(n,4),ae.q(ae.yx.b(f)))return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,0,a],null)],null);throw ae.Z}catch(e){if(e instanceof Error){var h=e;if(h===ae.Z)return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,-1,a],null)],null);throw h}throw e}}catch(e){if(!(e instanceof Error))throw e;if((h=e)!==ae.Z)throw h;try{if(f=ae.Yc(n,4),ae.q(ae.yx.b(f)))return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,0,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null)],null);throw ae.Z}catch(e){if(e instanceof Error){if((f=e)===ae.Z)return o=ae.Yc(n,2),i=ae.Yc(n,1),a=ae.Yc(n,3),new ae.Q(null,4,5,ae.R,[ae.Xq,v(i,a),new ae.Q(null,3,5,ae.R,[ae.Fu,1,a],null),new ae.Q(null,3,5,ae.R,[ae.Fu,o,a],null)],null);throw f}throw e}}}}}}}}}catch(e){if(e instanceof Error){if((s=e)===ae.Z)throw ae.Z;throw s}throw e}}catch(r){if(r instanceof Error){if((s=r)===ae.Z)return ae.dB(e,t,n);throw s}throw r}}var m,y}(ae.ff,e)},g=function(e){return function e(t,n){try{if(!(ae.qd(n)&&1<=ae.D(n)))throw ae.Z;try{var r=ae.TA(n,0,1);if(!ae.qd(r)||1!==ae.D(r))throw ae.Z;try{var i=ae.Yc(r,0);if(ae.Zd(i,ae.tu)){var o=ae.UA(n,1);return new ae.Q(null,2,5,ae.R,[ae.Gt,ae.bi.a(new ae.Q(null,1,5,ae.R,[ae.fw],null),o)],null)}throw ae.Z}catch(e){if(e instanceof Error){var a=e;if(a===ae.Z)throw ae.Z;throw a}throw e}}catch(e){if(e instanceof Error){if((a=e)===ae.Z)throw ae.Z;throw a}throw e}}catch(r){if(r instanceof Error){if((a=r)===ae.Z)return ae.dB(e,t,n);throw a}throw r}}(ae.ff,e)},w=function(e){return function e(t,n){try{if(!(ae.qd(n)&&4<=ae.D(n)))throw ae.Z;try{var r=ae.TA(n,0,4);if(!ae.qd(r)||4!==ae.D(r))throw ae.Z;try{var i=ae.Yc(r,0);if(ae.Zd(i,ae.su)){var o=ae.Yc(r,1),a=ae.Yc(r,2),u=ae.Yc(r,3),l=ae.UA(n,4);return ae.re(le,ae.Hq,function e(t){return new ae.ae(null,(function(){for(;;){var n=ae.t(t);if(n){if(ae.rd(n)){var r=ae.ic(n),i=ae.D(r),a=ae.de(i);e:for(var u=0;;){if(!(u<i)){r=!0;break e}var l=ae.gd(r,u);a.add(new ae.Q(null,3,5,ae.R,[ae.su,o,l],null)),u+=1}return r?ae.ge(ae.ie(a),e(ae.jc(n))):ae.ge(ae.ie(a),null)}return a=ae.u(n),ae.Yd(new ae.Q(null,3,5,ae.R,[ae.su,o,a],null),e(ae.Hc(n)))}return null}}),null)}(ae.Wh.a(new ae.Q(null,2,5,ae.R,[a,u],null),l)))}throw ae.Z}catch(e){if(!(e instanceof Error))throw e;var c=e;if(c!==ae.Z)throw c;try{if(i=ae.Yc(r,0),ae.Zd(i,ae.jt))return o=ae.Yc(r,1),a=ae.Yc(r,2),u=ae.Yc(r,3),l=ae.UA(n,4),ae.re(le,ae.Fs,function e(t){return new ae.ae(null,(function(){for(;;){var n=ae.t(t);if(n){if(ae.rd(n)){var r=ae.ic(n),i=ae.D(r),a=ae.de(i);e:for(var u=0;;){if(!(u<i)){r=!0;break e}var l=ae.gd(r,u);a.add(new ae.Q(null,3,5,ae.R,[ae.jt,o,l],null)),u+=1}return r?ae.ge(ae.ie(a),e(ae.jc(n))):ae.ge(ae.ie(a),null)}return a=ae.u(n),ae.Yd(new ae.Q(null,3,5,ae.R,[ae.jt,o,a],null),e(ae.Hc(n)))}return null}}),null)}(ae.Wh.a(new ae.Q(null,2,5,ae.R,[a,u],null),l)));throw ae.Z}catch(e){if(e instanceof Error){if((r=e)===ae.Z)throw ae.Z;throw r}throw e}}}catch(e){if(e instanceof Error){if((c=e)===ae.Z)throw ae.Z;throw c}throw e}}catch(r){if(r instanceof Error){if((c=r)===ae.Z)return ae.dB(e,t,n);throw c}throw r}}(ae.ff,e)},O=function(e){return function e(t,n){try{if(!(ae.qd(n)&&2<=ae.D(n)))throw ae.Z;try{var r=ae.TA(n,0,2);if(!ae.qd(r)||2!==ae.D(r))throw ae.Z;try{var i=ae.UA(n,2);if(ae.q(ae.Qi(ae.Ge,ae.Qi(ae.Xc,new ae.Q(null,2,5,ae.R,[ae.Fu,ae.ss],null)))(i))){var o=ae.UA(n,2),a=ae.Yc(r,0),u=ae.Yc(r,1),l=(s=ae.u(ae.t(ae.Pe(ae.So,function e(t,n){try{if(!ae.qd(n)||3!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(!ae.Zd(r,ae.vw))throw ae.Z;try{var i=ae.Yc(n,2);if(!(null!=i?256&i.o||ae.yc===i.Ic||!i.o&&ae.cb(ae.wb,i):ae.cb(ae.wb,i)))throw ae.Z;try{var o=ae.N.c(i,ae.aw,W);if(!ae.Xc.a(o,W)){var a=ae.N.a(i,ae.aw);return new ae.Q(null,1,5,ae.R,[a],null)}throw ae.Z}catch(e){if(e instanceof Error){var u=e;if(u===ae.Z)throw ae.Z;throw u}throw e}}catch(e){if(e instanceof Error){if((u=e)===ae.Z)throw ae.Z;throw u}throw e}}catch(e){if(e instanceof Error){if((u=e)===ae.Z)throw ae.Z;throw u}throw e}}catch(r){if(r instanceof Error){if((u=r)===ae.Z)return ae.cB(e,t,n);throw u}throw r}}(ae.ff,u)))),ae.q(s)?s:ae.oh);return ae.bi.a(new ae.Q(null,2,5,ae.R,[a,u],null),function e(t,n){try{if(!ae.qd(n)||2!==ae.D(n))throw ae.Z;try{var r=ae.Yc(n,0);if(!ae.Zd(r,ae.Fu))throw ae.Z;try{var i=ae.Yc(n,1);if(ae.Zd(i,ae.ss))return new ae.Q(null,3,5,ae.R,[ae.Fu,0,l],null);throw ae.Z}catch(e){if(e instanceof Error){var o=e;if(o===ae.Z)throw ae.Z;throw o}throw e}}catch(e){if(e instanceof Error){if((o=e)===ae.Z)throw ae.Z;throw o}throw e}}catch(r){if(r instanceof Error){if((o=r)===ae.Z)return ae.dB(e,t,n);throw o}throw r}}(ae.ff,o))}throw ae.Z}catch(s){if(s instanceof Error){var c=s;if(c===ae.Z)throw ae.Z;throw c}throw s}}catch(s){if(s instanceof Error){if(c=s,c===ae.Z)throw ae.Z;throw c}throw s}}catch(s){if(s instanceof Error){if(c=s,c===ae.Z)return ae.dB(e,t,n);throw c}throw s}var s}(ae.ff,e)},j=function(e){for(var t=[],n=arguments.length,r=0;r<n;)t.push(arguments[r]),r+=1;return S(0<t.length?new ae.Dc(t.slice(0),0,null):null)},S=function(e){e=null!=e&&(64&e.o||ae.yc===e.Y)?ae.qe(ae.Yh,e):e;var t=ae.N.c(e,D,ae.Nd),n=ae.N.c(e,ie,(function(e,t){return[ae.fb.b(e),"_",ae.fb.b(t)].join("")})),r=ae.ah.b(ae.Be),i=ae.ah.b(ae.Be);return function(){function e(e,o){for(;;){var u=t.b?t.b(o):t.call(null,o),l=(s=void 0,f=void 0,s=new ae.Q(null,2,5,ae.R,[e,u],null),(f=ae.Ib(r)).b?f.b(s):f.call(null,s));if(ae.q(l))return l;var c=ae.N.a(ae.ih.N(i,ae.yB,u,a()),u);if(ae.Xc.a(c,1))return ae.ih.N(r,ae.Ng,new ae.Q(null,2,5,ae.R,[e,u],null),o),o;o=function(){var e=o,t=ae.fb.b(c);return n.a?n.a(e,t):n.call(null,e,t)}()}var s,f}function o(e){return u.a(l(),e)}var u=null;return u=function(t,n){switch(arguments.length){case 1:return o.call(this,t);case 2:return e.call(this,t,n)}throw Error("Invalid arity: "+arguments.length)},u.b=o,u.a=e,u}()},E=null,ae.yB=function e(t){switch(arguments.length){case 3:return e.c(arguments[0],arguments[1],arguments[2]);case 4:return e.N(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return e.V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return e.ia(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],new ae.Dc(n.slice(6),0,null))}},ae.yB.c=function(e,t,n){return ae.Ng.c(e,t,(r=ae.N.a(e,t),n.b?n.b(r):n.call(null,r)));var r},ae.yB.N=function(e,t,n,r){return ae.Ng.c(e,t,(i=ae.N.a(e,t),n.a?n.a(i,r):n.call(null,i,r)));var i},ae.yB.V=function(e,t,n,r,i){return ae.Ng.c(e,t,(o=ae.N.a(e,t),n.c?n.c(o,r,i):n.call(null,o,r,i)));var o},ae.yB.ia=function(e,t,n,r,i,o){return ae.Ng.c(e,t,(a=ae.N.a(e,t),n.N?n.N(a,r,i,o):n.call(null,a,r,i,o)));var a},ae.yB.j=function(e,t,n,r,i,o,a){return ae.Ng.c(e,t,ae.ue(n,ae.N.a(e,t),r,i,o,ae.F([a])))},ae.yB.H=function(e){var t=ae.u(e),n=ae.B(e);e=ae.u(n);var r=ae.B(n);n=ae.u(r);var i=ae.B(r);r=ae.u(i);var o=ae.B(i);i=ae.u(o);var a=ae.B(o);return o=ae.u(a),a=ae.B(a),this.j(t,e,n,r,i,o,a)},ae.yB.I=6;var ue,le=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(0<n.length?new ae.Dc(n.slice(0),0,null):null)};le.j=function(e){return e instanceof ae.Dc&&0===e.G?ae.bf(e.h,!ae.ab(e.h)):ae.gf(e)},le.I=0,le.H=function(e){return this.j(ae.t(e))},ae.h=s.prototype,ae.h.W=function(e,t){return this.J(null,t,null)},ae.h.J=function(e,t,n){switch(t instanceof ae.O?t.ga:null){case"output-schema":return this.kb;case"input-schemas":return this.ab;default:return ae.N.c(this.g,t,n)}},ae.h.Ba=function(e,t,n){return ae.Gd((function(e,n){var r=ae.G(n,0,null);return n=ae.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ae.h.O=function(e,t,n){return ae.Cg(t,(function(e){return ae.Cg(t,ae.Hg,""," ","",n,e)}),"#schema.core.FnSchema{",", ","}",n,ae.Wh.a(new ae.Q(null,2,5,ae.R,[new ae.Q(null,2,5,ae.R,[ae.Wn,this.kb],null),new ae.Q(null,2,5,ae.R,[ae.vn,this.ab],null)],null),this.g))},ae.h.ja=function(){return new ae.wf(this,2,new ae.Q(null,2,5,ae.R,[ae.Wn,ae.vn],null),ae.q(this.g)?ae.oc(this.g):ae.Ce())},ae.h.X=function(){return this.C},ae.h.aa=function(){return 2+ae.D(this.g)},ae.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-2054647546^ae.Mc(this)},ae.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ae.Xc.a(this.kb,t.kb)&&ae.Xc.a(this.ab,t.ab)&&ae.Xc.a(this.g,t.g)},ae.h.Ea=function(e,t){return ae.vd(new ae.pg(null,new ae.n(null,2,[ae.Wn,null,ae.vn,null],null),null),t)?ae.Vh.a(ae.Lb(ae.bi.a(ae.Be,this),this.C),t):new s(this.kb,this.ab,this.C,ae.xe(ae.Vh.a(this.g,t)),null)},ae.h.U=function(e,t,n){return ae.q(ae.Zd.a?ae.Zd.a(ae.Wn,t):ae.Zd.call(null,ae.Wn,t))?new s(n,this.ab,this.C,this.g,null):ae.q(ae.Zd.a?ae.Zd.a(ae.vn,t):ae.Zd.call(null,ae.vn,t))?new s(this.kb,n,this.C,this.g,null):new s(this.kb,this.ab,this.C,ae.Ng.c(this.g,t,n),null)},ae.h.Z=function(){return ae.t(ae.Wh.a(new ae.Q(null,2,5,ae.R,[new ae.wd(ae.Wn,this.kb),new ae.wd(ae.vn,this.ab)],null),this.g))},ae.h.$=function(e,t){return new s(this.kb,this.ab,t,this.g,this.v)},ae.h.ba=function(e,t){return ae.qd(t)?this.U(null,ae.gd(t,0),ae.gd(t,1)):ae.Gd(ae.qb,this,t)},ae.h.Ma=function(){return ae.Xl(ae.Ml(this,ae.Cm,(function(e){return new ae.Sd(null,ae.qo,new ae.Sd(null,e,null,1,null),2,null)})))},ae.h.La=function(){if(1<ae.D(this.ab)){var e=ae.Jm(this.kb),t=ae.Ig.a(c,this.ab);e=ae.Yd(ae.bo,ae.Yd(e,t))}else e=ae.Jm(this.kb),t=c(ae.u(this.ab)),e=ae.Yd(ae.yn,ae.Yd(e,t));return e},P=new ae.r("schema.helpers","NonBlankString","schema.helpers/NonBlankString",1984244415,null),C=new ae.r(null,"arg1","arg1",-1702536411,null),k=new ae.r(null,"arg0","arg0",-1024593414,null),A=new ae.r(null,"aggregation->name-fn","aggregation->name-fn",596978962,null),D=new ae.O(null,"name-key-fn","name-key-fn",-1634839199),R=new ae.O(null,"invalid-query","invalid-query",-1009703371),I=new ae.r(null,"named-aggregations","named-aggregations",-771029585,null),T=new ae.r("mbql.s","Filter","mbql.s/Filter",650308569,null),N=new ae.r(null,"new-clause","new-clause",-910348391,null),q=new ae.r(null,"index","index",108845612,null),M=new ae.r(null,"outer-query","outer-query",-395069361,null),Z=new ae.r("mbql.s","MBQLQuery","mbql.s/MBQLQuery",-332777720,null),L=new ae.r(null,"query","query",352022017,null),B=new ae.r(null,"nesting-level","nesting-level",-2057556677,null),z=new ae.r(null,"fn?","fn?",1820990818,null),F=new ae.r(null,"NamedAggregation","NamedAggregation",1856050571,null),Q=new ae.r(null,"filter-clause","filter-clause",-1237814159,null),V=new ae.r(null,"aggregations","aggregations",559417189,null),U=new ae.r(null,"join","join",881669637,null),H=new ae.r("schema.helpers","IntGreaterThanOrEqualToZero","schema.helpers/IntGreaterThanOrEqualToZero",-1218348852,null),Y=new ae.r(null,"inner-query","inner-query",-907556093,null),G=new ae.O(null,"found","found",-584700170),W=new ae.O("clojure.core.match","not-found","clojure.core.match/not-found",1553053780),ae.XB=new ae.O(null,"hierarchy","hierarchy",-1053470341),$=new ae.r("mbql.s","Query","mbql.s/Query",1061827921,null),K=new ae.r(null,"names","names",-302543131,null),J=new ae.r("s","maybe","s/maybe",1326133944,null),X=new ae.O(null,"index","index",-1531685915),ee=new ae.r("s","Keyword","s/Keyword",-850066400,null),te=new ae.r(ae.wm,"Any","schema.core/Any",-1891898271,null),ne=new ae.r("mbql.s","Aggregation","mbql.s/Aggregation",124504849,null),re=new ae.O(null,"tried","tried",-1728444308),ie=new ae.O(null,"unique-alias-fn","unique-alias-fn",32555420),oe=new ae.r(null,"expression-name","expression-name",-157919182,null),ue=new ae.Q(null,1,5,ae.R,[ae.ep(ae.Po,ae.I(new ae.r(null,"token","token",429068312,null),new ae.n(null,1,[ae.Pl,new ae.r("schema.helpers","KeywordOrString","schema.helpers/KeywordOrString",-360677001,null)],null)))],null),ae.hC=function(e){return ae.Jg.b(u(ae.gB(e).toLowerCase()))},i(ae.hC,f(ae.Eo,new ae.Q(null,1,5,ae.R,[ue],null)));var ce=new ae.Q(null,2,5,ae.R,[ae.ep(ae.zo,ae.I(Q,new ae.n(null,1,[ae.Pl,te],null))),ae.zo],null);_=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],1<n.length?new ae.Dc(n.slice(1),0,null):null)},_.j=function(e,t){return ae.kB(ae.Yd(ae.Fs,ae.Yd(e,t)))},_.I=1,_.H=function(e){var t=ae.u(e);return e=ae.B(e),this.j(t,e)},i(_,f(ae.cz,new ae.Q(null,1,5,ae.R,[ce],null)));var se,fe=new ae.Q(null,2,5,ae.R,[ae.ep(ae.qA,ae.I(Y,new ae.n(null,1,[ae.Pl,Z],null))),ae.ep(ae.pp(ae.cz),ae.I(N,new ae.n(null,1,[ae.Pl,ae.W(J,T)],null)))],null);se=function(e,t){return ae.bb(t)?e:ae.yB.N(e,ae.$r,_,t)},i(se,f(ae.qA,new ae.Q(null,1,5,ae.R,[fe],null)));var de=new ae.Q(null,2,5,ae.R,[ae.ep(ae.MA,ae.I(M,new ae.n(null,1,[ae.Pl,$],null))),ae.ep(ae.pp(ae.cz),ae.I(N,new ae.n(null,1,[ae.Pl,ae.W(J,T)],null)))],null);i((function(e,t){return ae.yB.N(e,ae.Vw,se,t)}),f(ae.MA,new ae.Q(null,1,5,ae.R,[de],null)));var pe,he=new ae.Q(null,1,5,ae.R,[ae.ep(ae.cz,ae.I(Q,new ae.n(null,1,[ae.Pl,T],null)))],null);pe=function(e){return ae.kB(h(y(m(b(g(w(O(e))))))))},i(pe,f(ae.cz,new ae.Q(null,1,5,ae.R,[he],null)));var me,ye=ae.ah.b(ae.Be),ve=ae.ah.b(ae.Be),be=ae.ah.b(ae.Be),ge=ae.ah.b(ae.Be),we=ae.N.c(ae.Be,ae.XB,ae.eh.l?ae.eh.l():ae.eh.call(null));me=new ae.ph(ae.Rg.a("metabase.mbql.util","negate*"),ae.u,we,ye,ve,be,ge),ae.OA(me,ae.Gt,(function(e){return ae.G(e,0,null),ae.G(e,1,null)})),ae.OA(me,ae.Fs,(function(e){return e=ae.t(e),ae.u(e),e=ae.B(e),ae.bi.a(new ae.Q(null,1,5,ae.R,[ae.Hq],null),ae.Ig.a(me,e))})),ae.OA(me,ae.Hq,(function(e){return e=ae.t(e),ae.u(e),e=ae.B(e),ae.bi.a(new ae.Q(null,1,5,ae.R,[ae.Fs],null),ae.Ig.a(me,e))})),ae.OA(me,ae.su,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.jt,t,e],null)})),ae.OA(me,ae.jt,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.su,t,e],null)})),ae.OA(me,ae.nu,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.Gq,t,e],null)})),ae.OA(me,ae.yr,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.Fp,t,e],null)})),ae.OA(me,ae.Fp,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.yr,t,e],null)})),ae.OA(me,ae.Gq,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.nu,t,e],null)})),ae.OA(me,ae.Xq,(function(e){ae.G(e,0,null);var t=ae.G(e,1,null),n=ae.G(e,2,null);return e=ae.G(e,3,null),new ae.Q(null,3,5,ae.R,[ae.Hq,new ae.Q(null,3,5,ae.R,[ae.yr,t,n],null),new ae.Q(null,3,5,ae.R,[ae.nu,t,e],null)],null)})),ae.OA(me,ae.fw,(function(e){return new ae.Q(null,2,5,ae.R,[ae.Gt,e],null)})),ae.OA(me,ae.Mt,(function(e){return new ae.Q(null,2,5,ae.R,[ae.Gt,e],null)})),ae.OA(me,ae.bu,(function(e){return new ae.Q(null,2,5,ae.R,[ae.Gt,e],null)}));var Oe=new ae.Q(null,1,5,ae.R,[ae.ep(ae.cz,ae.I(Q,new ae.n(null,1,[ae.Pl,T],null)))],null);i((function(e){return ae.kB(me.b(pe(e)))}),f(ae.cz,new ae.Q(null,1,5,ae.R,[Oe],null)));var je,Se=ae.pp(ae.Mo),Ee=new ae.Q(null,1,5,ae.R,[ae.ep(ae.zo,k)],null);je=function(e){for(;;){var t=null!=e&&(64&e.o||ae.yc===e.Y)?ae.qe(ae.Yh,e):e;e=t;var n=ae.N.a(t,ae.Vw),r=null!=n&&(64&n.o||ae.yc===n.Y)?ae.qe(ae.Yh,n):n;if(n=ae.N.a(r,ae.ys),r=ae.N.a(r,ae.Yu),t=ae.N.a(t,ae.Mn),(t=!ae.Xc.a(t,ae.Vw))||(null==n?(t=r,t=ae.q(t)?ae.Bw.b(r):t):t=!1,t=ae.q(t)),t)return null;if(!ae.q(null==n&&r)){if(ae.q(ae.Zh.a(ae.zm,ae.Qi(ae.yg,ae.tA))(n)))throw ae.Yo(ae.fB("Error: query''s source query has not been resolved. You probably need to `preprocess` the query first."),ae.Be);return n}e=ae.Ng.c(e,ae.Vw,r)}},i(je,f(Se,new ae.Q(null,1,5,ae.R,[Ee],null)));var _e=ae.pp(ae.Mo),xe=new ae.Q(null,1,5,ae.R,[ae.ep(ae.zo,ae.I(U,new ae.n(null,1,[ae.Pl,te],null)))],null);i((function(e){return je(new ae.n(null,2,[ae.Mn,ae.Vw,ae.Vw,e],null))}),f(_e,new ae.Q(null,1,5,ae.R,[xe],null)));var Pe=new ae.Q(null,2,5,ae.R,[ae.ep(ae.qA,ae.I(Y,new ae.n(null,1,[ae.Pl,Z],null))),ae.ep(ae.eA,C)],null);i((function(e,t){ae.G(t,0,null);var n=ae.G(t,1,null);ae.G(n,0,null),n=ae.G(n,1,null);var r=ae.tg(function e(t){return new ae.ae(null,(function(){for(;;){var n=ae.t(t);if(n){if(ae.rd(n)){var r=ae.ic(n),i=ae.D(r),o=ae.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ae.gd(r,a);ae.G(u,0,null),u=ae.G(u,1,null),ae.G(u,0,null),u=ae.G(u,1,null),o.add(u),a+=1}return r?ae.ge(ae.ie(o),e(ae.jc(n))):ae.ge(ae.ie(o),null)}return o=ae.u(n),ae.G(o,0,null),o=ae.G(o,1,null),ae.G(o,0,null),o=ae.G(o,1,null),ae.Yd(o,e(ae.Hc(n)))}return null}}),null)}(ae.Yr.b(e)));return ae.q(r.b?r.b(n):r.call(null,n))?e:ae.yB.N(e,ae.Yr,ae.fj.c(ae.gf,ae.ej,ae.Vd),t)}),f(ae.qA,new ae.Q(null,1,5,ae.R,[Pe],null)));var Ce=new ae.Q(null,2,5,ae.R,[ae.ep(ae.zo,ae.I(Y,new ae.n(null,1,[ae.Pl,te],null))),ae.ep(ae.Io(ae.F([ae.Eo,ae.Jo])),ae.I(oe,new ae.n(null,1,[ae.Pl,ae.W(ae.Yp,ee,P)],null)))],null);i((function(e,t){var n=new ae.Q(null,2,5,ae.R,[ae.gB(t),ae.Jg.b(t)],null),r=null!=e&&(64&e.o||ae.yc===e.Y)?ae.qe(ae.Yh,e):e;for(ae.N.a(r,ae.fu),ae.N.a(r,ae.Yu),r=ae.qg;;){e=null!=e&&(64&e.o||ae.yc===e.Y)?ae.qe(ae.Yh,e):e;var i=ae.N.a(e,ae.fu);e=ae.N.a(e,ae.Yu);var o=ae.Ge(ae.Qi(ae.N,i),n);if(ae.q(o))return o;if(r=ae.bi.a(r,ae.lg(i)),!ae.q(e))throw ae.Yo(ae.eB("No expression named ''{0}''",ae.F([ae.gB(t)])),new ae.n(null,4,[ae.Mn,R,ae.Cq,t,re,n,G,r],null))}}),f(ae.Iz,new ae.Q(null,1,5,ae.R,[Ce],null)));var ke=new ae.Q(null,2,5,ae.R,[ae.ep(ae.zo,ae.I(L,new ae.n(null,1,[ae.Pl,te],null))),ae.ep(ae.zo,ae.I(q,new ae.n(null,1,[ae.Pl,te],null)))],null),Ae=new ae.Q(null,3,5,ae.R,[ae.ep(ae.MA,ae.I(L,new ae.n(null,1,[ae.Pl,$],null))),ae.ep(ae.No,ae.I(q,new ae.n(null,1,[ae.Pl,H],null))),ae.ep(ae.No,ae.I(B,new ae.n(null,1,[ae.Pl,H],null)))],null);x=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",ae.fb.b(arguments.length)].join(""))}},x.a=function(e,t){return x.c(e,t,0)},x.c=function(e,t,n){for(;;){if(0===n){if(e=ae.Gd(ae.N,e,new ae.Q(null,2,5,ae.R,[ae.Vw,ae.ts],null)),e=ae.Yc(e,t),ae.q(e))return e;throw ae.Yo(ae.eB("No aggregation at index: {0}",ae.F([t])),new ae.n(null,1,[X,t],null))}e=ae.Gd(ae.N,e,new ae.Q(null,2,5,ae.R,[ae.Vw,ae.Yu],null)),--n,e=new ae.n(null,1,[ae.Vw,e],null)}},x.I=3;var De,Re,Ie=ae.zy,Te=new ae.Q(null,2,5,ae.R,[ke,Ae],null);if(!ae.t(Te))throw Error(ae.wl("Function must have at least one input schema"));if(!ae.Fe(ae.qd,Te))throw Error(ae.wl("Each arity must be a vector."));if(!ae.q(ae.qe(ae.wp,ae.Ig.a(d,Te))))throw Error(ae.wl("Arities must be distinct"));De=new s(Ie,(Re=Te,ae.Cd((function(e,t){e=d.b?d.b(e):d.call(null,e),t=d.b?d.b(t):d.call(null,t);var n=ae.Ad(ae.yd);return n.a?n.a(e,t):n.call(null,e,t)}),Re)),null,null,null),i(x,De);var Ne,qe=ae.Um(new ae.Q(null,1,5,ae.R,[ae.Ao],null),ae.wp,"sequence of unique strings"),Me=new ae.Q(null,1,5,ae.R,[ae.ep(new ae.Q(null,1,5,ae.R,[ae.Ao],null),ae.I(K,new ae.n(null,1,[ae.Pl,new ae.Q(null,1,5,ae.R,[ae.lv],null)],null)))],null);Ne=function(e){return ae.Ig.a(j(),e)},i(Ne,f(qe,new ae.Q(null,1,5,ae.R,[Me],null)));var Ze,Le=ae.Um(ae.bA,(function(e){return ae.S.b(ae.Yc(e,2))}),"`:aggregation-options` with a `:name`"),Be=ae.Um(new ae.Q(null,1,5,ae.R,[Le],null),(function(e){return ae.qe(ae.wp,function e(t){return new ae.ae(null,(function(){for(;;){var n=ae.t(t);if(n){if(ae.rd(n)){var r=ae.ic(n),i=ae.D(r),o=ae.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ae.gd(r,a);ae.G(u,0,null),ae.G(u,1,null),u=null!=(u=ae.G(u,2,null))&&(64&u.o||ae.yc===u.Y)?ae.qe(ae.Yh,u):u,u=ae.N.a(u,ae.S),o.add(u),a+=1}return r?ae.ge(ae.ie(o),e(ae.jc(n))):ae.ge(ae.ie(o),null)}return o=ae.u(n),ae.G(o,0,null),ae.G(o,1,null),o=null!=(o=ae.G(o,2,null))&&(64&o.o||ae.yc===o.Y)?ae.qe(ae.Yh,o):o,o=ae.N.a(o,ae.S),ae.Yd(o,e(ae.Hc(n)))}return null}}),null)}(e))}),"sequence of named aggregations with unique names"),ze=new ae.Q(null,1,5,ae.R,[ae.ep(new ae.Q(null,1,5,ae.R,[Le],null),ae.I(I,new ae.n(null,1,[ae.Pl,new ae.Q(null,1,5,ae.R,[F],null)],null)))],null);Ze=function(e){var t=Ne(function e(t){return new ae.ae(null,(function(){for(;;){var n=ae.t(t);if(n){if(ae.rd(n)){var r=ae.ic(n),i=ae.D(r),o=ae.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ae.gd(r,a);ae.G(u,0,null),ae.G(u,1,null),u=null!=(u=ae.G(u,2,null))&&(64&u.o||ae.yc===u.Y)?ae.qe(ae.Yh,u):u,u=ae.N.a(u,ae.S),o.add(u),a+=1}return r?ae.ge(ae.ie(o),e(ae.jc(n))):ae.ge(ae.ie(o),null)}return o=ae.u(n),ae.G(o,0,null),ae.G(o,1,null),o=null!=(o=ae.G(o,2,null))&&(64&o.o||ae.yc===o.Y)?ae.qe(ae.Yh,o):o,o=ae.N.a(o,ae.S),ae.Yd(o,e(ae.Hc(n)))}return null}}),null)}(e));return ae.Ig.c((function(e,t){ae.G(e,0,null);var n=ae.G(e,1,null);return e=ae.G(e,2,null),new ae.Q(null,3,5,ae.R,[ae.Kv,n,ae.Ng.c(e,ae.S,t)],null)}),e,t)},i(Ze,f(Be,new ae.Q(null,1,5,ae.R,[ze],null)));var Fe,Qe=new ae.Q(null,1,5,ae.R,[Le],null),Ve=new ae.Q(null,2,5,ae.R,[ae.ep(ae.Qm(ae.Bm,ae.Rg.b(ae.zl(ae.Bm))),ae.I(A,new ae.n(null,1,[ae.Pl,ae.W(ae.cr,z)],null))),ae.ep(new ae.Q(null,1,5,ae.R,[ae.zy],null),ae.I(V,new ae.n(null,1,[ae.Pl,new ae.Q(null,1,5,ae.R,[ne],null)],null)))],null);Fe=function(e,t){return function t(n,r){try{if(!ae.qd(r)||3!==ae.D(r))throw ae.Z;try{var i=ae.Yc(r,0);if(!ae.Zd(i,ae.Kv))throw ae.Z;try{var o=ae.Yc(r,2);if(ae.q(ae.S.b(o)))return r;throw ae.Z}catch(t){if(t instanceof Error){var a=t;if(a===ae.Z){var u=ae.Yc(r,2),l=ae.Yc(r,1);return new ae.Q(null,3,5,ae.R,[ae.Kv,l,ae.Ng.c(u,ae.S,e.b?e.b(l):e.call(null,l))],null)}throw a}throw t}}catch(e){if(e instanceof Error){if((a=e)===ae.Z)throw ae.Z;throw a}throw e}}catch(i){if(!(i instanceof Error))throw i;if((a=i)!==ae.Z)throw a;try{if(!(ae.qd(r)&&1<=ae.D(r)))throw ae.Z;try{var c=ae.TA(r,0,1);if(!ae.qd(c)||1!==ae.D(c))throw ae.Z;try{if(ae.Yc(c,0)instanceof ae.O)return new ae.Q(null,3,5,ae.R,[ae.Kv,r,new ae.n(null,1,[ae.S,e.b?e.b(r):e.call(null,r)],null)],null);throw ae.Z}catch(e){if(e instanceof Error){var s=e;if(s===ae.Z)throw ae.Z;throw s}throw e}}catch(e){if(e instanceof Error){if((s=e)===ae.Z)throw ae.Z;throw s}throw e}}catch(e){if(e instanceof Error){if((s=e)===ae.Z)return ae.dB(t,n,r);throw s}throw e}}}(ae.ff,t)},i(Fe,f(Qe,new ae.Q(null,1,5,ae.R,[Ve],null)));var Ue=new ae.Q(null,2,5,ae.R,[ae.ep(ae.Qm(ae.Bm,ae.Rg.b(ae.zl(ae.Bm))),ae.I(A,new ae.n(null,1,[ae.Pl,ae.W(ae.cr,z)],null))),ae.ep(new ae.Q(null,1,5,ae.R,[ae.zy],null),ae.I(V,new ae.n(null,1,[ae.Pl,new ae.Q(null,1,5,ae.R,[ne],null)],null)))],null);i((function(e,t){return Ze(Fe(e,t))}),f(Be,new ae.Q(null,1,5,ae.R,[Ue],null)));var He=function e(t){return ae.od(t)?ae.xe(ae.bi.a(ae.Be,function t(n){return new ae.ae(null,(function(){for(var r=n;;){if(!(r=ae.t(r)))return null;if(ae.rd(r)){var i=ae.ic(r),o=ae.D(i),a=ae.de(o);e:for(var u=0;;){if(!(u<o)){i=!0;break e}var l=ae.gd(i,u),c=ae.G(l,0,null);l=ae.G(l,1,null),null!=(l=e.b?e.b(l):e.call(null,l))&&a.add(new ae.Q(null,2,5,ae.R,[c,l],null)),u+=1}return i?ae.ge(ae.ie(a),t(ae.jc(r))):ae.ge(ae.ie(a),null)}if(i=ae.u(r),a=ae.G(i,0,null),i=ae.G(i,1,null),null!=(i=e.b?e.b(i):e.call(null,i)))return ae.Yd(new ae.Q(null,2,5,ae.R,[a,i],null),t(ae.Hc(r)));r=ae.Hc(r)}}),null)}(t))):ae.nd(t)?ae.xe(ae.bi.a(ae.fd(t),ae.Pe(ae.So,ae.Ig.a(e,t)))):t},Ye=new ae.Q(null,3,5,ae.R,[ae.ep(ae.ry,k),ae.ep(ae.zo,ae.I(ae.Bh,new ae.n(null,1,[ae.Pl,te],null))),ae.zo],null);ae.BB=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],2<n.length?new ae.Dc(n.slice(2),0,null):null)},ae.BB.j=function(e,t,n){var r=ae.G(e,0,null),i=ae.G(e,1,null);return e=ae.G(e,2,null),t=ae.xe(He(ae.re(t,e,n))),ae.q(t)?new ae.Q(null,3,5,ae.R,[r,i,t],null):ae.Xc.a(r,ae.vw)?new ae.Q(null,3,5,ae.R,[r,i,null],null):new ae.Q(null,2,5,ae.R,[r,i],null)},ae.BB.I=2,ae.BB.H=function(e){var t=ae.u(e),n=ae.B(e);return e=ae.u(n),n=ae.B(n),this.j(t,e,n)},i(ae.BB,f(ae.ry,new ae.Q(null,1,5,ae.R,[Ye],null)))},96588:function(e,t,n){n.g;var r=n(4923);n(70406),n(52340);var i=new r.O(null,"name_plural","name_plural",-1983037145),o=new r.O(null,"decimal_digits","decimal_digits",1175939265),a=new r.O(null,"code","code",1586293142),u=new r.O(null,"symbol_native","symbol_native",334443565),l=new r.O(null,"rounding","rounding",71472412),c=r.bf([new r.Q(null,2,5,r.R,[new r.O(null,"USD","USD",-801544589),new r.n(null,7,[r.Kh,"$",r.S,"US Dollar",u,"$",o,2,l,0,a,"USD",i,"US dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CAD","CAD",-1879751756),new r.n(null,7,[r.Kh,"CA$",r.S,"Canadian Dollar",u,"$",o,2,l,0,a,"CAD",i,"Canadian dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"EUR","EUR",-330196585),new r.n(null,7,[r.Kh,"",r.S,"Euro",u,"",o,2,l,0,a,"EUR",i,"euros"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"AED","AED",1787309712),new r.n(null,7,[r.Kh,"AED",r.S,"United Arab Emirates Dirham",u,"..",o,2,l,0,a,"AED",i,"UAE dirhams"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"AFN","AFN",1005980524),new r.n(null,7,[r.Kh,"Af",r.S,"Afghan Afghani",u,"",o,0,l,0,a,"AFN",i,"Afghan Afghanis"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ALL","ALL",-773694120),new r.n(null,7,[r.Kh,"ALL",r.S,"Albanian Lek",u,"Lek",o,0,l,0,a,"ALL",i,"Albanian lek"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"AMD","AMD",459330340),new r.n(null,7,[r.Kh,"AMD",r.S,"Armenian Dram",u,".",o,0,l,0,a,"AMD",i,"Armenian drams"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ARS","ARS",-421393009),new r.n(null,7,[r.Kh,"AR$",r.S,"Argentine Peso",u,"$",o,2,l,0,a,"ARS",i,"Argentine pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"AUD","AUD",-1941769220),new r.n(null,7,[r.Kh,"AU$",r.S,"Australian Dollar",u,"$",o,2,l,0,a,"AUD",i,"Australian dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"AZN","AZN",-741938308),new r.n(null,7,[r.Kh,"man.",r.S,"Azerbaijani Manat",u,".",o,2,l,0,a,"AZN",i,"Azerbaijani manats"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BAM","BAM",2094621244),new r.n(null,7,[r.Kh,"KM",r.S,"Bosnia-Herzegovina Convertible Mark",u,"KM",o,2,l,0,a,"BAM",i,"Bosnia-Herzegovina convertible marks"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BDT","BDT",-1610589897),new r.n(null,7,[r.Kh,"Tk",r.S,"Bangladeshi Taka",u,"",o,2,l,0,a,"BDT",i,"Bangladeshi takas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BGN","BGN",886161631),new r.n(null,7,[r.Kh,"BGN",r.S,"Bulgarian Lev",u,".",o,2,l,0,a,"BGN",i,"Bulgarian leva"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BHD","BHD",744969849),new r.n(null,7,[r.Kh,"BD",r.S,"Bahraini Dinar",u,"..",o,3,l,0,a,"BHD",i,"Bahraini dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BIF","BIF",786593422),new r.n(null,7,[r.Kh,"FBu",r.S,"Burundian Franc",u,"FBu",o,0,l,0,a,"BIF",i,"Burundian francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BND","BND",779952603),new r.n(null,7,[r.Kh,"BN$",r.S,"Brunei Dollar",u,"$",o,2,l,0,a,"BND",i,"Brunei dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BOB","BOB",-372311866),new r.n(null,7,[r.Kh,"Bs",r.S,"Bolivian Boliviano",u,"Bs",o,2,l,0,a,"BOB",i,"Bolivian bolivianos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BRL","BRL",-1528460931),new r.n(null,7,[r.Kh,"R$",r.S,"Brazilian Real",u,"R$",o,2,l,0,a,"BRL",i,"Brazilian reals"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BTC","BTC",578023304),new r.n(null,7,[r.Kh,"",r.S,"Bitcoin",u,"BTC",o,8,l,0,a,"BTC",i,"Bitcoins"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BWP","BWP",817349771),new r.n(null,7,[r.Kh,"BWP",r.S,"Botswanan Pula",u,"P",o,2,l,0,a,"BWP",i,"Botswanan pulas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BYR","BYR",-230947),new r.n(null,7,[r.Kh,"BYR",r.S,"Belarusian Ruble",u,"BYR",o,0,l,0,a,"BYR",i,"Belarusian rubles"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"BZD","BZD",629447885),new r.n(null,7,[r.Kh,"BZ$",r.S,"Belize Dollar",u,"$",o,2,l,0,a,"BZD",i,"Belize dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CDF","CDF",1395138389),new r.n(null,7,[r.Kh,"CDF",r.S,"Congolese Franc",u,"FrCD",o,2,l,0,a,"CDF",i,"Congolese francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CHF","CHF",1298988704),new r.n(null,7,[r.Kh,"CHF",r.S,"Swiss Franc",u,"CHF",o,2,l,.05,a,"CHF",i,"Swiss francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CLP","CLP",1534529931),new r.n(null,7,[r.Kh,"CL$",r.S,"Chilean Peso",u,"$",o,0,l,0,a,"CLP",i,"Chilean pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CNY","CNY",662886837),new r.n(null,7,[r.Kh,"CN",r.S,"Chinese Yuan",u,"CN",o,2,l,0,a,"CNY",i,"Chinese yuan"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"COP","COP",453948444),new r.n(null,7,[r.Kh,"CO$",r.S,"Colombian Peso",u,"$",o,0,l,0,a,"COP",i,"Colombian pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CRC","CRC",-2115215930),new r.n(null,7,[r.Kh,"",r.S,"Costa Rican Coln",u,"",o,0,l,0,a,"CRC",i,"Costa Rican colns"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CVE","CVE",-1749930436),new r.n(null,7,[r.Kh,"CV$",r.S,"Cape Verdean Escudo",u,"CV$",o,2,l,0,a,"CVE",i,"Cape Verdean escudos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"CZK","CZK",1866879719),new r.n(null,7,[r.Kh,"K",r.S,"Czech Republic Koruna",u,"K",o,2,l,0,a,"CZK",i,"Czech Republic korunas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"DJF","DJF",1511962473),new r.n(null,7,[r.Kh,"Fdj",r.S,"Djiboutian Franc",u,"Fdj",o,0,l,0,a,"DJF",i,"Djiboutian francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"DKK","DKK",81342782),new r.n(null,7,[r.Kh,"Dkr",r.S,"Danish Krone",u,"kr",o,2,l,0,a,"DKK",i,"Danish kroner"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"DOP","DOP",-1809573056),new r.n(null,7,[r.Kh,"RD$",r.S,"Dominican Peso",u,"RD$",o,2,l,0,a,"DOP",i,"Dominican pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"DZD","DZD",-1066542095),new r.n(null,7,[r.Kh,"DA",r.S,"Algerian Dinar",u,"..",o,2,l,0,a,"DZD",i,"Algerian dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"EGP","EGP",534114577),new r.n(null,7,[r.Kh,"EGP",r.S,"Egyptian Pound",u,"..",o,2,l,0,a,"EGP",i,"Egyptian pounds"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ERN","ERN",-431311385),new r.n(null,7,[r.Kh,"Nfk",r.S,"Eritrean Nakfa",u,"Nfk",o,2,l,0,a,"ERN",i,"Eritrean nakfas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ETB","ETB",1010493150),new r.n(null,7,[r.Kh,"Br",r.S,"Ethiopian Birr",u,"Br",o,2,l,0,a,"ETB",i,"Ethiopian birrs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ETH","ETH",-1240862103),new r.n(null,7,[r.Kh,"ETH",r.S,"Ethereum",u,"ETH",o,8,l,0,a,"ETH",i,"Ethereum"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"GBP","GBP",-2016775967),new r.n(null,7,[r.Kh,"",r.S,"British Pound Sterling",u,"",o,2,l,0,a,"GBP",i,"British pounds sterling"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"GEL","GEL",2050186009),new r.n(null,7,[r.Kh,"GEL",r.S,"Georgian Lari",u,"GEL",o,2,l,0,a,"GEL",i,"Georgian laris"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"GHS","GHS",-665979818),new r.n(null,7,[r.Kh,"GH",r.S,"Ghanaian Cedi",u,"GH",o,2,l,0,a,"GHS",i,"Ghanaian cedis"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"GNF","GNF",-803151136),new r.n(null,7,[r.Kh,"FG",r.S,"Guinean Franc",u,"FG",o,0,l,0,a,"GNF",i,"Guinean francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"GTQ","GTQ",1133977193),new r.n(null,7,[r.Kh,"GTQ",r.S,"Guatemalan Quetzal",u,"Q",o,2,l,0,a,"GTQ",i,"Guatemalan quetzals"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"HKD","HKD",-1968467001),new r.n(null,7,[r.Kh,"HK$",r.S,"Hong Kong Dollar",u,"$",o,2,l,0,a,"HKD",i,"Hong Kong dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"HNL","HNL",-1996057246),new r.n(null,7,[r.Kh,"HNL",r.S,"Honduran Lempira",u,"L",o,2,l,0,a,"HNL",i,"Honduran lempiras"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"HRK","HRK",-913474919),new r.n(null,7,[r.Kh,"kn",r.S,"Croatian Kuna",u,"kn",o,2,l,0,a,"HRK",i,"Croatian kunas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"HUF","HUF",381925851),new r.n(null,7,[r.Kh,"Ft",r.S,"Hungarian Forint",u,"Ft",o,0,l,0,a,"HUF",i,"Hungarian forints"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"IDR","IDR",-1243519282),new r.n(null,7,[r.Kh,"Rp",r.S,"Indonesian Rupiah",u,"Rp",o,0,l,0,a,"IDR",i,"Indonesian rupiahs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ILS","ILS",-490967116),new r.n(null,7,[r.Kh,"",r.S,"Israeli New Sheqel",u,"",o,2,l,0,a,"ILS",i,"Israeli new sheqels"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"INR","INR",-1632703795),new r.n(null,7,[r.Kh,"Rs",r.S,"Indian Rupee",u,"",o,2,l,0,a,"INR",i,"Indian rupees"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"IQD","IQD",1883771904),new r.n(null,7,[r.Kh,"IQD",r.S,"Iraqi Dinar",u,"..",o,0,l,0,a,"IQD",i,"Iraqi dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"IRR","IRR",-1617937675),new r.n(null,7,[r.Kh,"IRR",r.S,"Iranian Rial",u,"",o,0,l,0,a,"IRR",i,"Iranian rials"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ISK","ISK",162930105),new r.n(null,7,[r.Kh,"Ikr",r.S,"Icelandic Krna",u,"kr",o,0,l,0,a,"ISK",i,"Icelandic krnur"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"JMD","JMD",-1454971907),new r.n(null,7,[r.Kh,"J$",r.S,"Jamaican Dollar",u,"$",o,2,l,0,a,"JMD",i,"Jamaican dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"JOD","JOD",-1677059001),new r.n(null,7,[r.Kh,"JD",r.S,"Jordanian Dinar",u,"..",o,3,l,0,a,"JOD",i,"Jordanian dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"JPY","JPY",880196301),new r.n(null,7,[r.Kh,"",r.S,"Japanese Yen",u,"",o,0,l,0,a,"JPY",i,"Japanese yen"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KES","KES",1413204867),new r.n(null,7,[r.Kh,"Ksh",r.S,"Kenyan Shilling",u,"Ksh",o,2,l,0,a,"KES",i,"Kenyan shillings"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KGS","KGS",360160798),new r.n(null,7,[r.Kh,"KGS",r.S,"Kyrgyz Som",u,"",o,2,l,0,a,"KGS",i,"Kyrgyz soms"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KHR","KHR",-932688831),new r.n(null,7,[r.Kh,"KHR",r.S,"Cambodian Riel",u,"",o,2,l,0,a,"KHR",i,"Cambodian riels"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KMF","KMF",-1802784304),new r.n(null,7,[r.Kh,"CF",r.S,"Comorian Franc",u,"FC",o,0,l,0,a,"KMF",i,"Comorian francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KRW","KRW",-527501200),new r.n(null,7,[r.Kh,"",r.S,"South Korean Won",u,"",o,0,l,0,a,"KRW",i,"South Korean won"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KWD","KWD",-728234302),new r.n(null,7,[r.Kh,"KD",r.S,"Kuwaiti Dinar",u,"..",o,3,l,0,a,"KWD",i,"Kuwaiti dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"KZT","KZT",-654240059),new r.n(null,7,[r.Kh,"KZT",r.S,"Kazakhstani Tenge",u,".",o,2,l,0,a,"KZT",i,"Kazakhstani tenges"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"LBP","LBP",-508330855),new r.n(null,7,[r.Kh,"LB",r.S,"Lebanese Pound",u,"..",o,0,l,0,a,"LBP",i,"Lebanese pounds"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"LKR","LKR",-1077925358),new r.n(null,7,[r.Kh,"SLRs",r.S,"Sri Lankan Rupee",u,"SL Re",o,2,l,0,a,"LKR",i,"Sri Lankan rupees"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"LTL","LTL",34604699),new r.n(null,7,[r.Kh,"Lt",r.S,"Lithuanian Litas",u,"Lt",o,2,l,0,a,"LTL",i,"Lithuanian litai"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"LVL","LVL",-1043833049),new r.n(null,7,[r.Kh,"Ls",r.S,"Latvian Lats",u,"Ls",o,2,l,0,a,"LVL",i,"Latvian lati"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"LYD","LYD",1947931656),new r.n(null,7,[r.Kh,"LD",r.S,"Libyan Dinar",u,"..",o,3,l,0,a,"LYD",i,"Libyan dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MAD","MAD",1836560832),new r.n(null,7,[r.Kh,"MAD",r.S,"Moroccan Dirham",u,"..",o,2,l,0,a,"MAD",i,"Moroccan dirhams"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MDL","MDL",-1386447443),new r.n(null,7,[r.Kh,"MDL",r.S,"Moldovan Leu",u,"MDL",o,2,l,0,a,"MDL",i,"Moldovan lei"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MGA","MGA",-1135447920),new r.n(null,7,[r.Kh,"MGA",r.S,"Malagasy Ariary",u,"MGA",o,0,l,0,a,"MGA",i,"Malagasy Ariaries"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MKD","MKD",689460449),new r.n(null,7,[r.Kh,"MKD",r.S,"Macedonian Denar",u,"MKD",o,2,l,0,a,"MKD",i,"Macedonian denari"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MMK","MMK",-478472011),new r.n(null,7,[r.Kh,"MMK",r.S,"Myanma Kyat",u,"K",o,0,l,0,a,"MMK",i,"Myanma kyats"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MOP","MOP",2036768730),new r.n(null,7,[r.Kh,"MOP$",r.S,"Macanese Pataca",u,"MOP$",o,2,l,0,a,"MOP",i,"Macanese patacas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MUR","MUR",-1172272529),new r.n(null,7,[r.Kh,"MURs",r.S,"Mauritian Rupee",u,"MURs",o,0,l,0,a,"MUR",i,"Mauritian rupees"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MXN","MXN",289382997),new r.n(null,7,[r.Kh,"MX$",r.S,"Mexican Peso",u,"$",o,2,l,0,a,"MXN",i,"Mexican pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MYR","MYR",-1287024347),new r.n(null,7,[r.Kh,"RM",r.S,"Malaysian Ringgit",u,"RM",o,2,l,0,a,"MYR",i,"Malaysian ringgits"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"MZN","MZN",1190838924),new r.n(null,7,[r.Kh,"MTn",r.S,"Mozambican Metical",u,"MTn",o,2,l,0,a,"MZN",i,"Mozambican meticals"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NAD","NAD",-533386696),new r.n(null,7,[r.Kh,"N$",r.S,"Namibian Dollar",u,"N$",o,2,l,0,a,"NAD",i,"Namibian dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NGN","NGN",298122063),new r.n(null,7,[r.Kh,"",r.S,"Nigerian Naira",u,"",o,2,l,0,a,"NGN",i,"Nigerian nairas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NIO","NIO",-130732060),new r.n(null,7,[r.Kh,"C$",r.S,"Nicaraguan Crdoba",u,"C$",o,2,l,0,a,"NIO",i,"Nicaraguan crdobas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NOK","NOK",-32773480),new r.n(null,7,[r.Kh,"Nkr",r.S,"Norwegian Krone",u,"kr",o,2,l,0,a,"NOK",i,"Norwegian kroner"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NPR","NPR",-365082824),new r.n(null,7,[r.Kh,"NPRs",r.S,"Nepalese Rupee",u,"",o,2,l,0,a,"NPR",i,"Nepalese rupees"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"NZD","NZD",1586819347),new r.n(null,7,[r.Kh,"NZ$",r.S,"New Zealand Dollar",u,"$",o,2,l,0,a,"NZD",i,"New Zealand dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"OMR","OMR",-12885365),new r.n(null,7,[r.Kh,"OMR",r.S,"Omani Rial",u,"..",o,3,l,0,a,"OMR",i,"Omani rials"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PAB","PAB",-1743648189),new r.n(null,7,[r.Kh,"B/.",r.S,"Panamanian Balboa",u,"B/.",o,2,l,0,a,"PAB",i,"Panamanian balboas"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PEN","PEN",-1940412715),new r.n(null,7,[r.Kh,"S/.",r.S,"Peruvian Nuevo Sol",u,"S/.",o,2,l,0,a,"PEN",i,"Peruvian nuevos soles"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PGK","PGK",-1563171779),new r.n(null,7,[r.Kh,"K",r.S,"Papua New Guinean Kina",u,"K",o,2,l,0,a,"PGK",i,"Papua New Guinean kina"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PHP","PHP",1441898939),new r.n(null,7,[r.Kh,"",r.S,"Philippine Peso",u,"",o,2,l,0,a,"PHP",i,"Philippine pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PKR","PKR",536616101),new r.n(null,7,[r.Kh,"PKRs",r.S,"Pakistani Rupee",u,"",o,0,l,0,a,"PKR",i,"Pakistani rupees"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PLN","PLN",1250448299),new r.n(null,7,[r.Kh,"z",r.S,"Polish Zloty",u,"z",o,2,l,0,a,"PLN",i,"Polish zlotys"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"PYG","PYG",-1916209204),new r.n(null,7,[r.Kh,"",r.S,"Paraguayan Guarani",u,"",o,0,l,0,a,"PYG",i,"Paraguayan guaranis"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"QAR","QAR",-1241026850),new r.n(null,7,[r.Kh,"QR",r.S,"Qatari Rial",u,"..",o,2,l,0,a,"QAR",i,"Qatari rials"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"RON","RON",-1793834984),new r.n(null,7,[r.Kh,"RON",r.S,"Romanian Leu",u,"RON",o,2,l,0,a,"RON",i,"Romanian lei"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"RSD","RSD",966316334),new r.n(null,7,[r.Kh,"din.",r.S,"Serbian Dinar",u,".",o,0,l,0,a,"RSD",i,"Serbian dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"RUB","RUB",-1659809289),new r.n(null,7,[r.Kh,"",r.S,"Russian Ruble",u,"",o,2,l,0,a,"RUB",i,"Russian rubles"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"RWF","RWF",-915524695),new r.n(null,7,[r.Kh,"RWF",r.S,"Rwandan Franc",u,"FR",o,0,l,0,a,"RWF",i,"Rwandan francs"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SAR","SAR",159772507),new r.n(null,7,[r.Kh,"SR",r.S,"Saudi Riyal",u,"..",o,2,l,0,a,"SAR",i,"Saudi riyals"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SDG","SDG",-765998887),new r.n(null,7,[r.Kh,"SDG",r.S,"Sudanese Pound",u,"SDG",o,2,l,0,a,"SDG",i,"Sudanese pounds"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SEK","SEK",-252277042),new r.n(null,7,[r.Kh,"Skr",r.S,"Swedish Krona",u,"kr",o,2,l,0,a,"SEK",i,"Swedish kronor"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SGD","SGD",1523508192),new r.n(null,7,[r.Kh,"S$",r.S,"Singapore Dollar",u,"$",o,2,l,0,a,"SGD",i,"Singapore dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SOS","SOS",2134431031),new r.n(null,7,[r.Kh,"Ssh",r.S,"Somali Shilling",u,"Ssh",o,0,l,0,a,"SOS",i,"Somali shillings"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"SYP","SYP",947196534),new r.n(null,7,[r.Kh,"SY",r.S,"Syrian Pound",u,"..",o,0,l,0,a,"SYP",i,"Syrian pounds"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"THB","THB",-1804283215),new r.n(null,7,[r.Kh,"",r.S,"Thai Baht",u,"",o,2,l,0,a,"THB",i,"Thai baht"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TND","TND",608033371),new r.n(null,7,[r.Kh,"DT",r.S,"Tunisian Dinar",u,"..",o,3,l,0,a,"TND",i,"Tunisian dinars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TOP","TOP",1572578049),new r.n(null,7,[r.Kh,"T$",r.S,"Tongan Paanga",u,"T$",o,2,l,0,a,"TOP",i,"Tongan paanga"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TRY","TRY",-885019603),new r.n(null,7,[r.Kh,"TL",r.S,"Turkish Lira",u,"TL",o,2,l,0,a,"TRY",i,"Turkish Lira"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TTD","TTD",-1812390418),new r.n(null,7,[r.Kh,"TT$",r.S,"Trinidad and Tobago Dollar",u,"$",o,2,l,0,a,"TTD",i,"Trinidad and Tobago dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TWD","TWD",-636499180),new r.n(null,7,[r.Kh,"NT$",r.S,"New Taiwan Dollar",u,"NT$",o,2,l,0,a,"TWD",i,"New Taiwan dollars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"TZS","TZS",166140434),new r.n(null,7,[r.Kh,"TSh",r.S,"Tanzanian Shilling",u,"TSh",o,0,l,0,a,"TZS",i,"Tanzanian shillings"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"UAH","UAH",-191410295),new r.n(null,7,[r.Kh,"",r.S,"Ukrainian Hryvnia",u,"",o,2,l,0,a,"UAH",i,"Ukrainian hryvnias"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"UGX","UGX",-1253020108),new r.n(null,7,[r.Kh,"USh",r.S,"Ugandan Shilling",u,"USh",o,0,l,0,a,"UGX",i,"Ugandan shillings"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"UYU","UYU",-1098199588),new r.n(null,7,[r.Kh,"$U",r.S,"Uruguayan Peso",u,"$",o,2,l,0,a,"UYU",i,"Uruguayan pesos"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"UZS","UZS",-1121506665),new r.n(null,7,[r.Kh,"UZS",r.S,"Uzbekistan Som",u,"UZS",o,0,l,0,a,"UZS",i,"Uzbekistan som"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"VEF","VEF",159678238),new r.n(null,7,[r.Kh,"Bs.F.",r.S,"Venezuelan Bolvar",u,"Bs.F.",o,2,l,0,a,"VEF",i,"Venezuelan bolvars"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"VND","VND",-1035916913),new r.n(null,7,[r.Kh,"",r.S,"Vietnamese Dong",u,"",o,0,l,0,a,"VND",i,"Vietnamese dong"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"XAF","XAF",-2031047351),new r.n(null,7,[r.Kh,"FCFA",r.S,"CFA Franc BEAC",u,"FCFA",o,0,l,0,a,"XAF",i,"CFA francs BEAC"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"XOF","XOF",1823648671),new r.n(null,7,[r.Kh,"CFA",r.S,"CFA Franc BCEAO",u,"CFA",o,0,l,0,a,"XOF",i,"CFA francs BCEAO"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"YER","YER",1885700115),new r.n(null,7,[r.Kh,"YR",r.S,"Yemeni Rial",u,"..",o,0,l,0,a,"YER",i,"Yemeni rials"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ZAR","ZAR",1641437950),new r.n(null,7,[r.Kh,"R",r.S,"South African Rand",u,"R",o,2,l,0,a,"ZAR",i,"South African rand"],null)],null),new r.Q(null,2,5,r.R,[new r.O(null,"ZMK","ZMK",23738470),new r.n(null,7,[r.Kh,"ZK",r.S,"Zambian Kwacha",u,"ZK",o,0,l,0,a,"ZMK",i,"Zambian kwachas"],null)],null)],!0),s=r.hi(c);e.exports={currency:s}},48314:function(e,t,n){var r=n.g,i=n(4923);n(70406),n(52340),n(76877),n(72771),n(40656),n(70818),n(80570);var o=function(){},a=function(){return!1},u=function(e,t){function n(e){return e=new i.n(null,6,[i.kD,e.Pc,i.oi,e.zd,i.jD,i.Jg.b(e.Nc.name.toLowerCase()),i.pD,e.td,i.xD,e.qd,i.lD,e.yc],null),t.b?t.b(e):t.call(null,e)}if(e=i.bD(i.dD(e)),i.q(e)){var r=i.N.a(i.Ra(e,"__glogi_handlers__"),t);return i.q(r)&&(void 0!==i.aa&&void 0!==i.fD&&void 0!==a||e.be(r)),function(e,t){t=i.re(i.Ng,i.Ra(e,"__glogi_handlers__"),t),e.__glogi_handlers__=t}(e,i.F([t,n])),null==e?null:void 0!==i.aa&&void 0!==i.fD&&void 0!==o?void 0:e.Id(n)}return null},l=function(e){return u("",e)};i.q(null)&&null.setCapturing(!1);var c=i.q("undefined"!=typeof devtools&&void 0!==devtools.core&&void 0!==devtools.core.installed_QMARK_&&devtools.core.installed_QMARK_())?i.cE:void 0===r||void 0!==r&&void 0!==r&&void 0!==r.navigator&&void 0!==r&&void 0!==r.navigator&&void 0!==r.navigator.userAgent&&(-1<r.navigator.userAgent.indexOf("MSIE")||-1<r.navigator.userAgent.indexOf("Trident"))?i.eE:i.dE;l?l(c):function(e){switch(arguments.length){case 1:l(arguments[0]);break;case 2:u(arguments[0],arguments[1]);break;default:throw Error(["Invalid arity: ",i.fb.b(arguments.length)].join(""))}}.call(null,c),i.hD(new i.n(null,1,[i.cD,i.ni],null))},31178:function(e,t,n){n.g;var r=n(4923);n(70406),n(52340);var i,o,a,u=function(e){if(null!=e&&null!=e.Fa)e=e.Fa(e);else{var t=u[r.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=u._))throw r.eb("INext.-next",e);e=t.b?t.b(e):t.call(null,e)}}return e},l=function(e,t){var n=i;if(null!=e&&null!=e.wc)e.wc(e,n,t);else{var o=l[r.Ca(null==e?null:e)];if(null!=o)o.c?o.c(e,n,t):o.call(null,e,n,t);else{if(null==(o=l._))throw r.eb("IWatchable.-add-watch",e);o.c?o.c(e,n,t):o.call(null,e,n,t)}}};r.Ke.prototype.wc=r.Ia(5,(function(e,t,n){return this.pc=r.Ng.c(this.pc,t,n),this})),r.W=function e(t){for(var n=[],i=arguments.length,o=0;o<i;)n.push(arguments[o]),o+=1;return e.j(0<n.length?new r.Dc(n.slice(0),0,null):null)},r.W.j=function(e){if(e instanceof r.Dc&&0===e.G)var t=e.h;else e:for(t=[];null!=e;)t.push(r.tb(e)),e=u(e);e=t.length;for(var n=r.Gc;;){if(!(0<e))return n;var i=e-1;n=r.qb(n,t[e-1]),e=i}},r.W.I=0,r.W.H=function(e){return this.j(r.t(e))},r.si=new r.r(null,r.Fa,r.Fa,770546058,null),r.ti=new r.O(null,"line","line",212345235),r.ui=new r.O(null,"end-line","end-line",1837326455),r.vi=new r.O(null,"private","private",-558947994),r.wi=new r.O(null,"end-column","end-column",1425389514),r.xi=new r.r(null,"get-global-hierarchy","get-global-hierarchy",1780260380,null),i=new r.O("metabase.types.coercion-hierarchies","rebuild-hierarchies","metabase.types.coercion-hierarchies/rebuild-hierarchies",1454847607),r.yi=new r.O(null,"file","file",-1269645878),r.zi=new r.r(r.Fa,"get-global-hierarchy","cljs.core/get-global-hierarchy",48052871,null),r.Ai=new r.O(null,"arglists","arglists",1661989754),r.Bi=new r.O(null,"test","test",577538877),r.Y=new r.O(null,"doc","doc",1913296891),r.Ci=new r.O(null,"column","column",2078222095),r.Di=r.ah.b(r.Be),r.Ei=r.ah.b(r.Be),r.Fi=r.ah.b(r.Be),r.Gi=r.ah.b(null),r.Hi=r.ah.b(null),o=(a=new r.Bc((function(){return r.eh}),r.zi,r.hg([r.vi,r.xh,r.S,r.yi,r.wi,r.Ci,r.ti,r.ui,r.Ai,r.Y,r.Bi],[!0,r.si,r.xi,"cljs/core.cljs",28,1,10871,10871,r.W(r.ff),null,r.q(r.eh)?r.eh.D:null]))).l?a.l():a.call(null),l(o,(function(e,t,n,i){return r.Xc.a(n,i)?null:(r.Le(r.Gi,null),r.Le(r.Hi,null))})),l(r.Di,(function(e,t,n,i){return r.Xc.a(n,i)?null:r.Le(r.Gi,null)})),l(r.Ei,(function(e,t,n,i){return r.Xc.a(n,i)?null:r.Le(r.Hi,null)}))},6539:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut,lt,ct,st,ft,dt,pt,ht,mt=n(4923);n(70406),n(52340),n(31178),mt.Ji=function(e){return null==e},r=function(e){return function(t,n){return t=e.a?e.a(t,n):e.call(null,t,n),mt.Oc(t)?new mt.Nc(t):t}},mt.Li=function(e){if(null!=e){var t=e instanceof mt.O?mt.$d(e):null;return mt.q(t)?[t,"/",mt.vg(e)].join(""):mt.vg(e)}return null},i=function(e,t){return mt.xe(mt.N.a(mt.dh.b(e),t))},o=function(e){var t=r(e);return function(){function n(e,n){return mt.Gd(t,e,n)}function r(t){return e.b?e.b(t):e.call(null,t)}function i(){return e.l?e.l():e.call(null)}var o;return o=function(e,t){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,e);case 2:return n.call(this,e,t)}throw Error("Invalid arity: "+arguments.length)},o.l=i,o.b=r,o.a=n,o}()},mt.Oi=function(e,t){var n=mt.Be;for(t=mt.t(t);;){if(!t)return mt.Lb(n,mt.jd(e));var r=mt.u(t),i=mt.N.c(e,r,mt.zh);n=mt.Xc.a(i,mt.zh)?n:mt.Ng.c(n,r,i),t=mt.B(t)}},a=function(e){return mt.q(mt.$h.c(mt.nd,mt.md,mt.Ji)(e))?e:new mt.Q(null,1,5,mt.R,[e],null)},mt.Qi=function(e,t){return function(){function n(n,r,i){return e.N?e.N(t,n,r,i):e.call(null,t,n,r,i)}function r(n,r){return e.c?e.c(t,n,r):e.call(null,t,n,r)}function i(n){return e.a?e.a(t,n):e.call(null,t,n)}function o(){return e.b?e.b(t):e.call(null,t)}var a,u=function(){function n(e,t,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new mt.Dc(a,0,null)}return r.call(this,e,t,n,o)}function r(n,r,i,o){return mt.ue(e,t,n,r,i,mt.F([o]))}return n.I=3,n.H=function(e){var t=mt.u(e);e=mt.B(e);var n=mt.u(e);return e=mt.B(e),r(t,n,mt.u(e),e=mt.Hc(e))},n.j=r,n}();return a=function(e,t,a,l){switch(arguments.length){case 0:return o.call(this);case 1:return i.call(this,e);case 2:return r.call(this,e,t);case 3:return n.call(this,e,t,a);default:var c=null;if(3<arguments.length){c=0;for(var s=Array(arguments.length-3);c<s.length;)s[c]=arguments[c+3],++c;c=new mt.Dc(s,0,null)}return u.j(e,t,a,c)}throw Error("Invalid arity: "+arguments.length)},a.I=3,a.H=u.H,a.l=o,a.b=i,a.a=r,a.c=n,a.j=u.j,a}()},mt.Si=function(e,t){var n=mt.re(d,e,t);return mt.Yd(n,mt.ai.a((function(e){return n===e}),t))},mt.Ti=function(e,t){return mt.fh(mt.Ib(mt.eh()),e,t)},u=function(e){return mt.Gd((function(e,t){var n=mt.G(t,0,null);return t=mt.G(t,1,null),bt.c(e,n,t)}),mt.Ib((t=new mt.Bc((function(){return mt.eh}),mt.zi,mt.hg([mt.vi,mt.xh,mt.S,mt.yi,mt.wi,mt.Ci,mt.ti,mt.ui,mt.Ai,mt.Y,mt.Bi],[!0,mt.si,mt.xi,"cljs/core.cljs",28,1,10871,10871,mt.W(mt.ff),null,mt.q(mt.eh)?mt.eh.D:null]))).l?t.l():t.call(null)),e);var t},l=function(e,t,n){t=mt.tg(a(t)),mt.ih.N(mt.Di,mt.Ng,e,t),mt.ih.N(mt.Ei,mt.Ng,e,n)},c=function(){return mt.q(mt.Ib(mt.Gi))||mt.q(mt.Ib(mt.Gi))||mt.Le(mt.Gi,u(function e(t){return new mt.ae(null,(function(){for(var n=t;;){var r=mt.t(n);if(!r)return null;var i=r,o=mt.u(i),a=mt.G(o,0,null),u=mt.G(o,1,null);if(r=mt.t(function(e,t,n,r,i,o){return function e(t){return new mt.ae(null,(r=n,function(){for(;;){var n=mt.t(t);if(n){if(mt.rd(n)){var i=mt.ic(n),o=mt.D(i),a=mt.de(o);e:for(var u=0;;){if(!(u<o)){i=!0;break e}var l=mt.gd(i,u);a.add(new mt.Q(null,2,5,mt.R,[l,r],null)),u+=1}return i?mt.ge(mt.ie(a),e(mt.jc(n))):mt.ge(mt.ie(a),null)}return a=mt.u(n),mt.Yd(new mt.Q(null,2,5,mt.R,[a,r],null),e(mt.Hc(n)))}return null}}),null);var r}}(0,0,a)(u)))return mt.Wh.a(r,e(mt.Hc(n)));n=mt.Hc(n)}}),null)}(mt.Ib(mt.Di)))),mt.Ib(mt.Gi)},mt.Yi=function(e,t){return mt.qe(mt.Wh,mt.re(mt.Ig,e,t))},s=function(){this.state=mt.qg,this.o=32768,this.K=0},f=function(e){var t=c();mt.q(mt.Ib(mt.Hi))||mt.q(mt.Ib(mt.Hi))||mt.Le(mt.Hi,u(mt.t(mt.Ib(mt.Ei))));var n=mt.Ib(mt.Hi);return mt.xe(mt.Gd(mt.Qi(yt,mt.aj),mt.Oi(mt.Ib(mt.Fi),new mt.Q(null,1,5,mt.R,[e],null)),function e(t){return new mt.ae(null,(function(){for(var r=t;;){var i=mt.t(r);if(!i)return null;var o=i,a=mt.u(o);if(mt.Ti(a,at)){var u=mt.gh(n,a);if(i=mt.t(function(e,t,n,r,i,o,a){return function e(t){return new mt.ae(null,function(n,r,i){return function(){for(var n=t;;){if(!(n=mt.t(n)))return null;if(mt.rd(n)){var r=mt.ic(n),o=mt.D(r),a=mt.de(o);e:for(var u=0;;){if(!(u<o)){r=!0;break e}var l=mt.gd(r,u);mt.Ti(l,at)||(l=mt.Cf([l,mt.rg([i])]),a.add(l)),u+=1}return r?mt.ge(mt.ie(a),e(mt.jc(n))):mt.ge(mt.ie(a),null)}if(a=mt.u(n),!mt.Ti(a,at))return mt.Yd(mt.Cf([a,mt.rg([i])]),e(mt.Hc(n)));n=mt.Hc(n)}}}(0,0,n),null)}}(0,0,a)(u)))return mt.Wh.a(i,e(mt.Hc(r)))}r=mt.Hc(r)}}),null)}(i(t,e))))},d=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new mt.Dc(n.slice(3),0,null))}},d.a=function(e,t){return t},d.c=function(e,t,n){return(e.b?e.b(t):e.call(null,t))>(e.b?e.b(n):e.call(null,n))?t:n},d.j=function(e,t,n,r){return mt.Gd((function(t,n){return d.c(e,t,n)}),d.c(e,t,n),r)},d.H=function(e){var t=mt.u(e),n=mt.B(e);e=mt.u(n);var r=mt.B(n);return n=mt.u(r),r=mt.B(r),this.j(t,e,n,r)},d.I=3;var yt=function e(t){for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],1<n.length?new mt.Dc(n.slice(1),0,null):null)};yt.j=function(e,t){if(mt.q(mt.Ge(mt.Nd,t))){var n=function(t,n){var r,i=mt.Db(n),o=mt.Eb(n);return mt.vd(t,i)?mt.Ng.c(t,i,(r=mt.N.a(t,i),e.a?e.a(r,o):e.call(null,r,o))):mt.Ng.c(t,i,o)};return mt.Kd((function(e,t){return mt.Gd(n,mt.q(e)?e:mt.Be,mt.t(t))}),t)}return null},yt.I=1,yt.H=function(e){var t=mt.u(e);return e=mt.B(e),this.j(t,e)};var vt=function e(t){switch(arguments.length){case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",mt.fb.b(arguments.length)].join(""))}};vt.b=function(e){return vt.a(mt.Ib(mt.eh()),e)},vt.a=function(e,t){return mt.xe(mt.N.a(mt.ch.b(e),t))},vt.I=2,mt.aj=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],new mt.Dc(n.slice(2),0,null))}},mt.aj.l=function(){return mt.qg},mt.aj.b=function(e){return e},mt.aj.a=function(e,t){return mt.D(e)<mt.D(t)?mt.Gd(mt.Vd,t,e):mt.Gd(mt.Vd,e,t)},mt.aj.j=function(e,t,n){return e=mt.Si(mt.D,mt.Vd.j(n,t,mt.F([e]))),mt.Gd(mt.bi,mt.u(e),mt.Hc(e))},mt.aj.H=function(e){var t=mt.u(e),n=mt.B(e);return e=mt.u(n),n=mt.B(n),this.j(t,e,n)},mt.aj.I=2;var bt=function e(t){switch(arguments.length){case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",mt.fb.b(arguments.length)].join(""))}};bt.a=function(e,t){return e=mt.F([e,t]),mt.se(mt.ih,mt.eh(),bt,e),null},bt.c=function(e,t,n){function r(e,t,n,r,i){return mt.Gd((function(e,t){return mt.Ng.c(e,t,mt.Gd(mt.Vd,mt.N.c(i,t,mt.qg),mt.Yd(r,i.b?i.b(r):i.call(null,r))))}),e,mt.Yd(t,n.b?n.b(t):n.call(null,t)))}var i=mt.bh.b(e),o=mt.ch.b(e),a=mt.dh.b(e);if(mt.vd(i.b?i.b(t):i.call(null,t),n))t=null;else{if(mt.vd(a.b?a.b(t):a.call(null,t),n))throw Error([mt.fb.b(t),"already has",mt.fb.b(n),"as ancestor"].join(""));if(mt.vd(a.b?a.b(n):a.call(null,n),t))throw Error(["Cyclic derivation:",mt.fb.b(n),"has",mt.fb.b(t),"as ancestor"].join(""));t=new mt.n(null,3,[mt.bh,mt.Ng.c(mt.bh.b(e),t,mt.Vd.a(mt.N.c(i,t,mt.qg),n)),mt.dh,r(mt.dh.b(e),t,o,n,a),mt.ch,r(mt.ch.b(e),n,a,t,o)],null)}return mt.q(t)?t:e},bt.I=3,s.prototype.Bb=function(){return this.state},s.prototype.za=mt.yc,s.prototype.O=function(e,t,n){return mt.Zb(t,"#object[cljs.core.Volatile "),mt.Hg(new mt.n(null,1,[mt.Ih,this.state],null),t,n),mt.Zb(t,"]")},mt.ej=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);default:throw Error(["Invalid arity: ",mt.fb.b(arguments.length)].join(""))}},mt.ej.l=function(){return function(e){var t=new s;return function(){function n(n,r){if(mt.vd(mt.Ib(t),r))return n;var i=mt.Vd.a(t.Bb(null),r);return t.state=i,e.a?e.a(n,r):e.call(null,n,r)}function r(t){return e.b?e.b(t):e.call(null,t)}function i(){return e.l?e.l():e.call(null)}var o;return o=function(e,t){switch(arguments.length){case 0:return i.call(this);case 1:return r.call(this,e);case 2:return n.call(this,e,t)}throw Error("Invalid arity: "+arguments.length)},o.l=i,o.b=r,o.a=n,o}()}},mt.ej.b=function(e){return function e(t,n){return new mt.ae(null,(function(){var r;e:{var i=t;for(r=n;;){var o=i;if(i=mt.G(o,0,null),!(o=mt.t(o))){r=null;break e}if(!mt.vd(r,i)){r=mt.Yd(i,e(mt.Hc(o),mt.Vd.a(r,i)));break e}i=mt.Hc(o)}}return r}),null)}(e,mt.qg)},mt.ej.I=1,mt.fj=function e(t){switch(arguments.length){case 0:return e.l();case 1:return e.b(arguments[0]);case 2:return e.a(arguments[0],arguments[1]);case 3:return e.c(arguments[0],arguments[1],arguments[2]);default:for(var n=[],r=arguments.length,i=0;i<r;)n.push(arguments[i]),i+=1;return e.j(arguments[0],arguments[1],arguments[2],new mt.Dc(n.slice(3),0,null))}},mt.fj.l=function(){return mt.Nd},mt.fj.b=function(e){return e},mt.fj.a=function(e,t){return function(){function n(n,r,i){return n=t.c?t.c(n,r,i):t.call(null,n,r,i),e.b?e.b(n):e.call(null,n)}function r(n,r){return n=t.a?t.a(n,r):t.call(null,n,r),e.b?e.b(n):e.call(null,n)}function i(n){return n=t.b?t.b(n):t.call(null,n),e.b?e.b(n):e.call(null,n)}function o(){var n=t.l?t.l():t.call(null);return e.b?e.b(n):e.call(null,n)}var a,u=function(){function n(e,t,n,i){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new mt.Dc(a,0,null)}return r.call(this,e,t,n,o)}function r(n,r,i,o){return n=mt.te(t,n,r,i,o),e.b?e.b(n):e.call(null,n)}return n.I=3,n.H=function(e){var t=mt.u(e);e=mt.B(e);var n=mt.u(e);return e=mt.B(e),r(t,n,mt.u(e),e=mt.Hc(e))},n.j=r,n}();return a=function(e,t,a,l){switch(arguments.length){case 0:return o.call(this);case 1:return i.call(this,e);case 2:return r.call(this,e,t);case 3:return n.call(this,e,t,a);default:var c=null;if(3<arguments.length){c=0;for(var s=Array(arguments.length-3);c<s.length;)s[c]=arguments[c+3],++c;c=new mt.Dc(s,0,null)}return u.j(e,t,a,c)}throw Error("Invalid arity: "+arguments.length)},a.I=3,a.H=u.H,a.l=o,a.b=i,a.a=r,a.c=n,a.j=u.j,a}()},mt.fj.c=function(e,t,n){return function(){function r(r,i,o){return r=n.c?n.c(r,i,o):n.call(null,r,i,o),r=t.b?t.b(r):t.call(null,r),e.b?e.b(r):e.call(null,r)}function i(r,i){return r=n.a?n.a(r,i):n.call(null,r,i),r=t.b?t.b(r):t.call(null,r),e.b?e.b(r):e.call(null,r)}function o(r){return r=n.b?n.b(r):n.call(null,r),r=t.b?t.b(r):t.call(null,r),e.b?e.b(r):e.call(null,r)}function a(){var r=n.l?n.l():n.call(null);return r=t.b?t.b(r):t.call(null,r),e.b?e.b(r):e.call(null,r)}var u,l=function(){function r(e,t,n,r){var o=null;if(3<arguments.length){o=0;for(var a=Array(arguments.length-3);o<a.length;)a[o]=arguments[o+3],++o;o=new mt.Dc(a,0,null)}return i.call(this,e,t,n,o)}function i(r,i,o,a){return r=mt.te(n,r,i,o,a),r=t.b?t.b(r):t.call(null,r),e.b?e.b(r):e.call(null,r)}return r.I=3,r.H=function(e){var t=mt.u(e);e=mt.B(e);var n=mt.u(e);return e=mt.B(e),i(t,n,mt.u(e),e=mt.Hc(e))},r.j=i,r}();return u=function(e,t,n,u){switch(arguments.length){case 0:return a.call(this);case 1:return o.call(this,e);case 2:return i.call(this,e,t);case 3:return r.call(this,e,t,n);default:var c=null;if(3<arguments.length){c=0;for(var s=Array(arguments.length-3);c<s.length;)s[c]=arguments[c+3],++c;c=new mt.Dc(s,0,null)}return l.j(e,t,n,c)}throw Error("Invalid arity: "+arguments.length)},u.I=3,u.H=l.H,u.l=a,u.b=o,u.a=i,u.c=r,u.j=l.j,u}()},mt.fj.j=function(e,t,n,r){var i=mt.Wd(mt.Yd(e,mt.Yd(t,mt.Yd(n,r))));return function(){function e(e){var n=null;if(0<arguments.length){n=0;for(var r=Array(arguments.length-0);n<r.length;)r[n]=arguments[n+0],++n;n=new mt.Dc(r,0,null)}return t.call(this,n)}function t(e){e=mt.qe(mt.u(i),e);for(var t=mt.B(i);;){if(!t)return e;var n=mt.u(t);e=n.b?n.b(e):n.call(null,e),t=mt.B(t)}}return e.I=0,e.H=function(e){return t(e=mt.t(e))},e.j=t,e}()},mt.fj.H=function(e){var t=mt.u(e),n=mt.B(e);e=mt.u(n);var r=mt.B(n);return n=mt.u(r),r=mt.B(r),this.j(t,e,n,r)},mt.fj.I=3,p=new mt.O("type","Integer","type/Integer",-638928316),h=new mt.O("entity","ProductTable","entity/ProductTable",1692844366),m=new mt.O("type","IPAddress","type/IPAddress",-808425343),y=new mt.O("entity","GenericTable","entity/GenericTable",1152424804),v=new mt.O("type","Duration","type/Duration",1970868302),b=new mt.O("type","PK","type/PK",-1723274286),g=new mt.O("type","CreationTime","type/CreationTime",-1473681229),w=new mt.O("type","Name","type/Name",-134787639),O=new mt.O("type","BigInteger","type/BigInteger",1152965666),j=new mt.O("type","UpdatedTimestamp","type/UpdatedTimestamp",-754878742),S=new mt.O("type","URL","type/URL",-1433976351),E=new mt.O("type","TimeWithLocalTZ","type/TimeWithLocalTZ",-259094111),mt.sj=new mt.O("type","Time","type/Time",-814852413),_=new mt.O("entity","TransactionTable","entity/TransactionTable",-888813059),x=new mt.O("Coercion","String->Temporal","Coercion/String->Temporal",946586714),P=new mt.O("type","UpdatedTemporal","type/UpdatedTemporal",-596775941),mt.wj=new mt.O(null,"effective_type","effective_type",1699478099),C=new mt.O("type","Comment","type/Comment",-1406574403),k=new mt.O("type","UpdatedDate","type/UpdatedDate",-1756161562),A=new mt.O("entity","CompanyTable","entity/CompanyTable",-1166853089),D=new mt.O("type","CancelationDate","type/CancelationDate",561287015),R=new mt.O("Coercion","Number->Temporal","Coercion/Number->Temporal",-1061171580),I=new mt.O("type","DruidHyperUnique","type/DruidHyperUnique",-585863040),T=new mt.O("type","Share","type/Share",-1285033895),N=new mt.O("type","DeletionTime","type/DeletionTime",-1426373145),q=new mt.O("type","Source","type/Source",1060815848),M=new mt.O("type","JoinTime","type/JoinTime",1290040594),Z=new mt.O("Coercion","YYYYMMDDHHMMSSBytes->Temporal","Coercion/YYYYMMDDHHMMSSBytes->Temporal",-624663946),mt.Ij=new mt.O(null,"base_type","base_type",1908272670),L=new mt.O("type","Coordinate","type/Coordinate",1950913043),B=new mt.O("type","Country","type/Country",2058497652),mt.Lj=new mt.O("type","*","type/*",-1283496752),z=new mt.O("type","User","type/User",832931932),F=new mt.O("Coercion","ISO8601->Time","Coercion/ISO8601->Time",-1197754849),Q=new mt.O("Coercion","UNIXMicroSeconds->DateTime","Coercion/UNIXMicroSeconds->DateTime",1299502399),V=new mt.O("Coercion","Bytes->Temporal","Coercion/Bytes->Temporal",-2023274781),U=new mt.O("type","DateTimeWithZoneOffset","type/DateTimeWithZoneOffset",1768393068),H=new mt.O("type","Title","type/Title",1977060721),Y=new mt.O("type","Dictionary","type/Dictionary",1352048818),G=new mt.O("type","JoinTimestamp","type/JoinTimestamp",1554527110),W=new mt.O("type","TextLike","type/TextLike",-1295784190),$=new mt.O("Coercion","YYYYMMDDHHMMSSString->Temporal","Coercion/YYYYMMDDHHMMSSString->Temporal",41716060),K=new mt.O("type","CancelationTime","type/CancelationTime",1076177064),J=new mt.O("type","Owner","type/Owner",1745970850),X=new mt.O("type","Latitude","type/Latitude",-1080544141),ee=new mt.O("type","ZipCode","type/ZipCode",845484542),mt.ak=new mt.O("Semantic","*","Semantic/*",-546724996),te=new mt.O("type","Price","type/Price",286577051),ne=new mt.O("type","Array","type/Array",-2060534244),re=new mt.O("type","FK","type/FK",360937035),ie=new mt.O("type","Enum","type/Enum",-1132893505),oe=new mt.O("type","Birthdate","type/Birthdate",619594666),ae=new mt.O("type","Text","type/Text",603746827),ue=new mt.O("type","Discount","type/Discount",109235331),le=new mt.O("type","Float","type/Float",1261800143),ce=new mt.O("type","SerializedJSON","type/SerializedJSON",300065547),se=new mt.O("type","Email","type/Email",-1486863280),fe=new mt.O("type","Address","type/Address",-413689880),de=new mt.O("type","State","type/State",-154641657),pe=new mt.O("type","JoinDate","type/JoinDate",-793235819),he=new mt.O("type","Boolean","type/Boolean",26348630),me=new mt.O("type","GrossMargin","type/GrossMargin",1961535799),ye=new mt.O("type","Income","type/Income",-342566883),mt.rk=new mt.O("Relation","*","Relation/*",-706261522),ve=new mt.O("Coercion","UNIXMilliSeconds->DateTime","Coercion/UNIXMilliSeconds->DateTime",-1296453709),be=new mt.O("type","UpdatedTime","type/UpdatedTime",-1278858780),ge=new mt.O("Coercion","ISO8601->DateTime","Coercion/ISO8601->DateTime",-1255976090),we=new mt.O("type","AvatarURL","type/AvatarURL",-425042887),Oe=new mt.O("type","DeletionTimestamp","type/DeletionTimestamp",-935598691),je=new mt.O("type","DeletionTemporal","type/DeletionTemporal",2136289994),Se=new mt.O("type","Product","type/Product",1803490713),Ee=new mt.O("Coercion","ISO8601->Date","Coercion/ISO8601->Date",-103814729),_e=new mt.O("type","Description","type/Description",-680883950),xe=new mt.O("type","DateTimeWithLocalTZ","type/DateTimeWithLocalTZ",339704031),Pe=new mt.O("type","CancelationTemporal","type/CancelationTemporal",-532782161),Ce=new mt.O("type","XML","type/XML",-804526569),ke=new mt.O("type","Structured","type/Structured",-1651495863),Ae=new mt.O("type","Subscription","type/Subscription",-1076112474),De=new mt.O("type","Decimal","type/Decimal",-1657568790),Re=new mt.O("type","DeletionDate","type/DeletionDate",-2052285784),Ie=new mt.O("entity","UserTable","entity/UserTable",-1504290772),Te=new mt.O("type","Quantity","type/Quantity",-1936151227),Ne=new mt.O("type","Instant","type/Instant",1168385286),qe=new mt.O("type","PostgresEnum","type/PostgresEnum",-900722397),Me=new mt.O("type","UUID","type/UUID",1767712212),Ze=new mt.O("type","CreationDate","type/CreationDate",-1102411433),Le=new mt.O("type","JoinTemporal","type/JoinTemporal",-1465575331),Be=new mt.O("type","CreationTimestamp","type/CreationTimestamp",-687400081),ze=new mt.O("type","Cost","type/Cost",363698341),Fe=new mt.O("Coercion","UNIXTime->Temporal","Coercion/UNIXTime->Temporal",-968093468),Qe=new mt.O("type","Longitude","type/Longitude",-196788672),Ve=new mt.O("type","TimeWithTZ","type/TimeWithTZ",-442869120),mt.Uk=new mt.O("type","Date","type/Date",-690428629),Ue=new mt.O("type","Score","type/Score",188189565),He=new mt.O("type","Temporal","type/Temporal",-237169010),Ye=new mt.O("type","Currency","type/Currency",713609092),Ge=new mt.O("type","Category","type/Category",-264699550),We=new mt.O("entity","SubscriptionTable","entity/SubscriptionTable",1660366729),$e=new mt.O("type","CreationTemporal","type/CreationTemporal",-1324176405),Ke=new mt.O("entity","EventTable","entity/EventTable",-2132834802),Je=new mt.O("type","Author","type/Author",-836053084),Xe=new mt.O("type","ImageURL","type/ImageURL",2081541690),et=new mt.O("type","Number","type/Number",-2071693690),tt=new mt.O("type","DateTimeWithZoneID","type/DateTimeWithZoneID",-1588069560),nt=new mt.O("type","MongoBSONID","type/MongoBSONID",663302764),rt=new mt.O("type","JSON","type/JSON",-14729800),it=new mt.O("Coercion","UNIXSeconds->DateTime","Coercion/UNIXSeconds->DateTime",-1635093627),mt.il=new mt.O("type","DateTime","type/DateTime",352113310),ot=new mt.O("Coercion","ISO8601->Temporal","Coercion/ISO8601->Temporal",410003391),at=new mt.O("Coercion","*","Coercion/*",1713686116),ut=new mt.O("type","CancelationTimestamp","type/CancelationTimestamp",-741584330),lt=new mt.O("type","Location","type/Location",-1929284186),ct=new mt.O("type","Company","type/Company",-1114287726),st=new mt.O("type","TimeWithZoneOffset","type/TimeWithZoneOffset",959948573),ft=new mt.O("type","DateTimeWithTZ","type/DateTimeWithTZ",-1919106635),dt=new mt.O("entity","GoogleAnalyticsTable","entity/GoogleAnalyticsTable",910090965),pt=new mt.O("type","Collection","type/Collection",1447925820),ht=new mt.O("type","City","type/City",420361040),bt.a(y,new mt.O("entity","*","entity/*",-2043291259)),bt.a(Ie,y),bt.a(A,y),bt.a(_,y),bt.a(h,y),bt.a(We,y),bt.a(Ke,y),bt.a(dt,y),bt.a(et,mt.Lj),bt.a(p,et),bt.a(O,p),bt.a(Te,mt.ak),bt.a(Te,p),bt.a(le,et),bt.a(De,le),bt.a(T,mt.ak),bt.a(T,le),bt.a(Ye,De),bt.a(Ye,mt.ak),bt.a(ye,Ye),bt.a(ue,Ye),bt.a(te,Ye),bt.a(me,Ye),bt.a(ze,Ye),bt.a(lt,mt.ak),bt.a(L,lt),bt.a(L,le),bt.a(X,L),bt.a(Qe,L),bt.a(Ue,mt.ak),bt.a(Ue,et),bt.a(v,mt.ak),bt.a(v,et),bt.a(ae,mt.Lj),bt.a(Me,ae),bt.a(S,mt.ak),bt.a(S,ae),bt.a(Xe,S),bt.a(we,Xe),bt.a(se,mt.ak),bt.a(se,ae),bt.a(Ge,mt.ak),bt.a(ie,mt.ak),bt.a(fe,lt),bt.a(ht,fe),bt.a(ht,Ge),bt.a(ht,ae),bt.a(de,fe),bt.a(de,Ge),bt.a(de,ae),bt.a(B,fe),bt.a(B,Ge),bt.a(B,ae),bt.a(ee,fe),bt.a(ee,ae),bt.a(w,Ge),bt.a(w,ae),bt.a(H,Ge),bt.a(H,ae),bt.a(_e,mt.ak),bt.a(_e,ae),bt.a(C,mt.ak),bt.a(C,ae),bt.a(qe,ae),bt.a(He,mt.Lj),bt.a(mt.Uk,He),bt.a(mt.sj,He),bt.a(Ve,mt.sj),bt.a(E,Ve),bt.a(st,Ve),bt.a(mt.il,He),bt.a(ft,mt.il),bt.a(xe,ft),bt.a(U,ft),bt.a(tt,ft),bt.a(Ne,xe),bt.a($e,mt.ak),bt.a(Be,$e),bt.a(Be,mt.il),bt.a(g,$e),bt.a(g,mt.sj),bt.a(Ze,$e),bt.a(Ze,mt.Uk),bt.a(Le,mt.ak),bt.a(G,Le),bt.a(G,mt.il),bt.a(M,Le),bt.a(M,mt.sj),bt.a(pe,Le),bt.a(pe,mt.Uk),bt.a(Pe,mt.ak),bt.a(ut,Pe),bt.a(ut,mt.il),bt.a(K,Pe),bt.a(K,mt.Uk),bt.a(D,Pe),bt.a(D,mt.Uk),bt.a(je,mt.ak),bt.a(Oe,je),bt.a(Oe,mt.il),bt.a(N,je),bt.a(N,mt.sj),bt.a(Re,je),bt.a(Re,mt.Uk),bt.a(P,mt.ak),bt.a(j,P),bt.a(j,mt.il),bt.a(be,P),bt.a(be,mt.sj),bt.a(k,P),bt.a(k,mt.Uk),bt.a(oe,mt.ak),bt.a(oe,mt.Uk),bt.a(he,mt.Lj),bt.a(I,mt.Lj),bt.a(W,mt.Lj),bt.a(nt,W),bt.a(m,W),bt.a(m,mt.ak),bt.a(pt,mt.Lj),bt.a(ke,mt.Lj),bt.a(Y,pt),bt.a(ne,pt),bt.a(rt,ke),bt.a(rt,pt),bt.a(Ce,ke),bt.a(Ce,pt),bt.a(ke,mt.ak),bt.a(ke,ae),bt.a(ce,ke),bt.a(Ce,ke),bt.a(z,mt.ak),bt.a(Je,z),bt.a(J,z),bt.a(Se,Ge),bt.a(ct,Ge),bt.a(Ae,Ge),bt.a(q,Ge),bt.a(re,mt.rk),bt.a(b,mt.rk),bt.a(x,at),bt.a(ot,x),bt.a(ge,ot),bt.a(F,ot),bt.a(Ee,ot),bt.a($,x),bt.a(V,at),bt.a(Z,V),bt.a(R,at),bt.a(Fe,R),bt.a(it,Fe),bt.a(ve,Fe),bt.a(Q,Fe);var gt=mt.hi(mt.bi.a(mt.Be,function e(t){return new mt.ae(null,(function(){for(;;){var n=mt.t(t);if(n){if(mt.rd(n)){var r=mt.ic(n),i=mt.D(r),o=mt.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=mt.gd(r,a);u=new mt.Q(null,2,5,mt.R,[mt.vg(u),mt.Li(u)],null),o.add(u),a+=1}return r?mt.ge(mt.ie(o),e(mt.jc(n))):mt.ge(mt.ie(o),null)}return o=mt.u(n),mt.Yd(new mt.Q(null,2,5,mt.R,[mt.vg(o),mt.Li(o)],null),e(mt.Hc(n)))}return null}}),null)}(mt.ej.b(mt.Yi(vt,mt.F([new mt.Q(null,3,5,mt.R,[mt.Lj,mt.ak,mt.rk],null)]))))));l(Q,new mt.pg(null,new mt.n(null,2,[p,null,De,null],null),null),Ne),l(ve,new mt.pg(null,new mt.n(null,2,[p,null,De,null],null),null),Ne),l(it,new mt.pg(null,new mt.n(null,2,[p,null,De,null],null),null),Ne),l(Ee,ae,mt.Uk),l(ge,ae,mt.il),l(F,ae,mt.sj),l($,ae,mt.il),mt.ih.c(mt.Fi,mt.Qi(yt,mt.aj),function(e,t){var n=mt.bc(mt.Be);for(e=mt.t(e),t=mt.t(t);;){if(!e||!t)return mt.dc(n);n=mt.Ff.c(n,mt.u(e),mt.u(t)),e=mt.B(e),t=mt.B(t)}}(a(mt.Lj),new mt.Ne(null,-1,mt.rg([Z]),null))),mt.ih.N(mt.Ei,mt.Ng,Z,mt.il),e.exports={isa:function(e,t){return mt.Ti(mt.Jg.b(e),mt.Jg.b(t))},coercions_for_type:function(e){return e=mt.bi.c(mt.Gc,mt.fj.a(mt.ej.l(),o),mt.ng(f(mt.Jg.b(e)))),mt.hi(mt.Ig.a((function(e){return[mt.$d(e),"/",mt.vg(e)].join("")}),e))},is_coerceable:function(e){return mt.td(mt.xe(f(mt.Jg.b(e))))},TYPE:gt}},58367:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye=n(4923);n(70406),n(52340),n(82702),n(94711),n(30400),n(95948),n(9952),n(15685),ye.wm="schema.core",r=function(e,t){if(e.rb===t.rb)return 0;if(ye.q(!!ye.bb(e.Pa)&&t.Pa))return-1;if(ye.q(e.Pa)){if(ye.bb(t.Pa))return 1;var n=ye.Ma(e.Pa,t.Pa);return 0===n?ye.Ma(e.name,t.name):n}return ye.Ma(e.name,t.name)},i=function(e,t){if(e.ga===t.ga)return 0;if(ye.q(!!ye.bb(e.Pa)&&t.Pa))return-1;if(ye.q(e.Pa)){if(ye.bb(t.Pa))return 1;var n=ye.Ma(e.Pa,t.Pa);return 0===n?ye.Ma(e.name,t.name):n}return ye.Ma(e.name,t.name)},ye.zm=function(e){return"string"==typeof e},o=function(){},ye.Bm=function(e){var t="function"==ye.Ca(e);return t||(null!=e?ye.yc===e.Dc||!e.lc&&ye.cb(ye.kb,e):ye.cb(ye.kb,e))},ye.Cm=function(e){var t=ye.Bm(e);return t||(null!=e?!!(1&e.o||ye.yc===e.Od)||!e.o&&ye.cb(o,e):ye.cb(o,e))},ye.Dm=function(e){return"number"==typeof e&&!isNaN(e)&&1/0!==e&&parseFloat(e)===parseInt(e,10)},ye.Em=function(){return null},a=function(e,t){this.Jb=e,this.v=t,this.o=2153775104,this.K=2048},ye.Gm=function(e){return e instanceof ye.O},u=function(e){return e instanceof ye.r},ye.Im=function(e){if(null!=e&&null!=e.Ma)e=e.Ma(e);else{var t=ye.Im[ye.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=ye.Im._))throw ye.eb("Schema.spec",e);e=t.b?t.b(e):t.call(null,e)}}return e},ye.Jm=function(e){if(null!=e&&null!=e.La)e=e.La(e);else{var t=ye.Jm[ye.Ca(null==e?null:e)];if(null!=t)e=t.b?t.b(e):t.call(null,e);else{if(null==(t=ye.Jm._))throw ye.eb("Schema.explain",e);e=t.b?t.b(e):t.call(null,e)}}return e},l=function(e,t){return ye.Ml(e,(function(e){if(null!=e){var n=t===e.constructor;return n||e instanceof t}return!1}),(function(e){return new ye.Sd(null,G,new ye.Sd(null,t,new ye.Sd(null,e,null,1,null),2,null),3,null)}))},c=function(e,t,n,r){this.yb=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},s=function(e,t,n,r){this.fa=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},ye.Om=function(e){return new s(e,null,null,null)},f=function(e,t,n,r,i){this.Va=e,this.mb=t,this.C=n,this.g=r,this.v=i,this.o=2230716170,this.K=139264},ye.Qm=function(e,t){if(!ye.Cm(e))throw Error(ye.vl("Not a function: %s",ye.F([e])));return new f(e,t,null,null,null)},d=function(e,t,n,r,i){this.P=e,this.name=t,this.C=n,this.g=r,this.v=i,this.o=2230716170,this.K=139264},ye.Sm=function(e,t){return new d(e,t,null,null,null)},p=function(e,t,n,r,i,o){this.P=e,this.lb=t,this.bb=n,this.C=r,this.g=i,this.v=o,this.o=2230716170,this.K=139264},h=function(e,t){return ye.Um(e,t,ye.Rg.b(ye.zl(t)))},ye.Um=function(e,t,n){if(!ye.Cm(t))throw Error(ye.vl("Not a function: %s",ye.F([t])));return new p(e,t,n,null,null,null)},m=function(e){return e instanceof ye.O||!1},ye.Xm=function(e,t,n,r){this.k=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},y=function(e){if(e instanceof ye.O)return e;if(e instanceof ye.Xm)return e.k;throw Error(ye.vl("Bad explicit key: %s",ye.F([e])))},v=function(e){return m(e)||e instanceof ye.Xm},b=function(e){var t=ye.G(e,0,null);return e=ye.G(e,1,null),new ye.wd(t,e)},g=function(e,t,n,r,i){this.gb=e,this.nb=t,this.C=n,this.g=r,this.v=i,this.o=2230716170,this.K=139264},w=function(e){if(e=ye.ai.a(v,ye.lg(e)),!(2>ye.D(e)))throw Error(ye.vl("More than one non-optional/required key schemata: %s",ye.F([ye.gf(e)])));return ye.u(e)},O=function(e){return v(e)?e instanceof ye.O?e:new ye.Sd(null,m(e)?W:e instanceof ye.Xm?L:null,new ye.Sd(null,y(e),null,1,null),2,null):ye.Jm(e)},j=function(e){var t=w(e),n=ye.ci.a(O,ye.qe(ye.Wh,ye.Pe((function(e){return 1<ye.D(e)}),ye.ng(ye.Zg(y,ye.lg(ye.Vh.a(e,t)))))));if(!ye.kd(n))throw Error(ye.vl("Schema has multiple variants of the same explicit key: %s",ye.F([n])));var r,i,o,a=ye.Vh.a(e,t);return ye.Wh.a(function e(t){return new ye.ae(null,(function(){for(;;){var n=ye.t(t);if(n){var r=n;if(ye.rd(r)){var i=ye.ic(r),o=ye.D(i),a=ye.de(o);return function(){for(var e=0;;){if(!(e<o))return!0;var t=ye.gd(i,e),n=ye.G(t,0,null),r=ye.G(t,1,null);ye.he(a,(u=void 0,l=void 0,u=y(n),l=m(n),ye.rm(l,new g(ye.Om(u),r,null,null,null),function(e,t,n){return function(e,r){var i=ye.xd(r,t);if(ye.q(i))e.b?e.b(i):e.call(null,i);else if(n){var o=ye.Il(new ye.Q(null,2,5,ye.R,[t,he],null));e.b?e.b(o):e.call(null,o)}return ye.q(i)?ye.Vh.a(r,t):r}}(0,u,l)))),e+=1}var u,l}()?ye.ge(ye.ie(a),e(ye.jc(r))):ye.ge(ye.ie(a),null)}var u=ye.u(r),l=ye.G(u,0,null),c=ye.G(u,1,null);return ye.Yd(function(){var e,t,n=y(l),r=m(l);return ye.rm(r,new g(ye.Om(n),c,null,null,null),(e=n,t=r,function(n,r){var i=ye.xd(r,e);if(ye.q(i))n.b?n.b(i):n.call(null,i);else if(t){var o=ye.Il(new ye.Q(null,2,5,ye.R,[e,he],null));n.b?n.b(o):n.call(null,o)}return ye.q(i)?ye.Vh.a(r,e):r}))}(),e(ye.Hc(r)))}return null}}),null)}(a),ye.q(t)?(r=ye.tg(ye.Ig.a(y,ye.lg(a))),i=ye.xd(e,t),o=ye.G(i,0,null),i=ye.G(i,1,null),o=h(o,(function(e){return!ye.vd(r,e)})),new ye.Q(null,1,5,ye.R,[ye.pm(new g(o,i,null,null,null))],null)):null)},S=function(){return function(e,t,n){return ye.bi.a(ye.Be,ye.Wh.a(ye.Je(ye.Kl,t),function e(t){return new ye.ae(null,(function(){for(;;){var n=ye.t(t);if(n){if(ye.rd(n)){var r=ye.ic(n),i=ye.D(r),o=ye.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ye.gd(r,a),l=ye.G(u,0,null);ye.G(u,1,null),o.add(new ye.Q(null,2,5,ye.R,[l,D],null)),a+=1}return r?ye.ge(ye.ie(o),e(ye.jc(n))):ye.ge(ye.ie(o),null)}return o=ye.u(n),r=ye.G(o,0,null),ye.G(o,1,null),ye.Yd(new ye.Q(null,2,5,ye.R,[r,D],null),e(ye.Hc(n)))}return null}}),null)}(n)))}},E=function(e){return ye.om(ye.Ml(e,ye.od,(function(e){return new ye.Sd(null,ye.kn,new ye.Sd(null,e,null,1,null),2,null)})),(function(e){return ye.bi.a(ye.Be,e)}),j(e),S())},_=function(e){return ye.bi.a(ye.Be,function e(t){return new ye.ae(null,(function(){for(;;){var n=ye.t(t);if(n){if(ye.rd(n)){var r=ye.ic(n),i=ye.D(r),o=ye.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ye.gd(r,a),l=ye.G(u,0,null);u=ye.G(u,1,null),l=new ye.Q(null,2,5,ye.R,[O(l),ye.Jm(u)],null),o.add(l),a+=1}return r?ye.ge(ye.ie(o),e(ye.jc(n))):ye.ge(ye.ie(o),null)}return r=ye.u(n),o=ye.G(r,0,null),r=ye.G(r,1,null),ye.Yd(new ye.Q(null,2,5,ye.R,[O(o),ye.Jm(r)],null),e(ye.Hc(n)))}return null}}),null)}(e))},ye.nn=function(e,t,n,r,i,o){this.P=e,this.Ra=t,this.name=n,this.C=r,this.g=i,this.v=o,this.o=2230716170,this.K=139264},x=function(e){var t=ye.xg((function(e){return e instanceof ye.nn&&ye.bb(e.Ra)}),e),n=ye.G(t,0,null);t=ye.G(t,1,null);var r=ye.xg((function(e){return e instanceof ye.nn&&e.Ra}),t);if(t=ye.G(r,0,null),r=ye.G(r,1,null),!(1>=ye.D(r)&&ye.Fe((function(e){return!(e instanceof ye.nn)}),r)))throw Error(ye.vl("%s is not a valid sequence schema; %s%s%s",ye.F([e,"a valid sequence schema consists of zero or more `one` elements, ","followed by zero or more `optional` elements, followed by an optional ","schema that will match the remaining elements."])));return new ye.Q(null,2,5,ye.R,[ye.Wh.a(n,t),ye.u(r)],null)},ye.r.prototype.Xa=ye.Ia(4,(function(e,t){if(t instanceof ye.r)return r(this,t);throw Error(["Cannot compare ",ye.fb.b(this)," to ",ye.fb.b(t)].join(""))})),ye.O.prototype.Xa=ye.Ia(3,(function(e,t){if(t instanceof ye.O)return i(this,t);throw Error(["Cannot compare ",ye.fb.b(this)," to ",ye.fb.b(t)].join(""))})),ye.mf.prototype.Xa=ye.Ia(2,(function(e,t){if(ye.qd(t))return ye.zd(this,t);throw Error(["Cannot compare ",ye.fb.b(this)," to ",ye.fb.b(t)].join(""))})),ye.Q.prototype.Xa=ye.Ia(1,(function(e,t){if(ye.qd(t))return ye.zd(this,t);throw Error(["Cannot compare ",ye.fb.b(this)," to ",ye.fb.b(t)].join(""))})),ye.wd.prototype.Xa=ye.Ia(0,(function(e,t){if(ye.qd(t))return ye.zd(this,t);throw Error(["Cannot compare ",ye.fb.b(this)," to ",ye.fb.b(t)].join(""))})),ye.h=a.prototype,ye.h.ld=ye.yc,ye.h.toString=function(){return this.Jb},ye.h.S=function(e,t){return t instanceof a&&this.Jb===t.Jb},ye.h.O=function(e,t){return ye.Zb(t,['#uuid "',ye.fb.b(this.Jb),'"'].join(""))},ye.h.T=function(){return null==this.v&&(this.v=ye.zc(this.Jb)),this.v},ye.h.Xa=function(e,t){return ye.Ma(this.Jb,t.Jb)},P=new ye.r(null,"Symbol","Symbol",716452869,null),C=new ye.r(null,"string?","string?",-1129175764,null),k=new ye.r(null,"invalid-key","invalid-key",-1461682245,null),A=new ye.r(null,"has-extra-elts?","has-extra-elts?",-1376562869,null),D=new ye.r(null,"disallowed-key","disallowed-key",-1877785633,null),R=new ye.O(null,"p?","p?",-1172161701),ye.un=new ye.r(null,"optional","optional",-600484260,null),ye.vn=new ye.O(null,"input-schemas","input-schemas",-982154805),ye.wn=new ye.O(null,"preds-and-schemas","preds-and-schemas",-1306766355),ye.xn=new ye.r(null,"maybe","maybe",1326133967,null),ye.yn=new ye.r(null,"=>","=>",-813269641,null),I=new ye.O(null,"postcondition","postcondition",-737101222),ye.An=new ye.r(null,"recursive","recursive",-1935549897,null),T=new ye.O(null,"pred-name","pred-name",-3677451),ye.Cn=new ye.O(null,"vs","vs",-2022097090),N=new ye.r(null,"Str","Str",907970895,null),ye.En=new ye.O(ye.wm,"error","schema.core/error",1991454308),q=new ye.r(null,"sequential?","sequential?",1102351463,null),M=new ye.r(null,"pred","pred",-727012372,null),Z=new ye.r(null,"one","one",-1719427865,null),L=new ye.r(null,"optional-key","optional-key",988406145,null),B=new ye.r(null,"set?","set?",1636014792,null),z=new ye.r(null,"keyword?","keyword?",1917797069,null),ye.Kn=new ye.r(null,"matches-some-precondition?","matches-some-precondition?",2123072832,null),F=new ye.r(null,"symbol?","symbol?",1820680511,null),ye.Mn=new ye.O(null,"type","type",1174270348),ye.Nn=new ye.r(null,"cond-pre","cond-pre",-923707731,null),Q=new ye.r(null,"map-entry","map-entry",329617471,null),V=new ye.r(null,"integer?","integer?",1303791671,null),U=new ye.O(null,"post-name","post-name",491455269),ye.Rn=new ye.r(null,"conditional","conditional",-1212542970,null),H=new ye.r(null,"Num","Num",-2044934708,null),Y=new ye.r(null,"Inst","Inst",292408622,null),G=new ye.r(null,"instance?","instance?",1075939923,null),W=new ye.r(null,"required-key","required-key",1624616412,null),$=new ye.O(null,"optional?","optional?",1184638129),K=new ye.r(null,"constrained","constrained",-2057147788,null),ye.Wn=new ye.O(null,"output-schema","output-schema",272504137),ye.Xn=new ye.O(null,"schemas","schemas",575070579),ye.Yn=new ye.O(null,"else","else",-1508377146),J=new ye.r(null,"re-find","re-find",1143444147,null),ye.$n=new ye.r(null,"enum","enum",-975417337,null),X=new ye.r(null,"present?","present?",-1810613791,null),ye.bo=new ye.r(null,"=>*","=>*",1909690043,null),ye.co=new ye.r(null,"...","...",-1926939749,null),ee=new ye.r(null,"eq","eq",1021992460,null),ye.fo=new ye.r(null,"some-matching-condition?","some-matching-condition?",1512398506,null),ye.go=new ye.r(null,"=","=",-1501502141,null),te=new ye.r(null,"Any","Any",1277492269,null),ne=new ye.r("js","RegExp","js/RegExp",1778210562,null),re=new ye.O(null,"key-schema","key-schema",-1096660726),ie=new ye.O(null,"k","k",-2146297393),oe=new ye.O(ye.wm,"missing","schema.core/missing",1420181325),ae=new ye.O(null,"_","_",1453416199),ue=new ye.O(null,"v","v",21465059),ye.oo=new ye.O(null,"value","value",305978217),ye.po=new ye.O(null,"derefable","derefable",377265868),ye.qo=new ye.r(null,"ifn?","ifn?",-2106461064,null),le=new ye.r(null,"Regex","Regex",205914413,null),ce=new ye.r(null,"Bool","Bool",195910502,null),se=new ye.O(null,"val-schema","val-schema",-2014773619),fe=new ye.r(null,"Int","Int",-2116888740,null),de=new ye.r(null,"Uuid","Uuid",-1866694318,null),ye.kn=new ye.r(null,"map?","map?",-1780568534,null),ye.wo=new ye.O(null,"error-symbol","error-symbol",-823480428),pe=new ye.r(null,"Keyword","Keyword",-850065993,null),he=new ye.r(null,"missing-required-key","missing-required-key",709961446,null),ye.Im.function=function(e){var t=l(e,e);return e=ye.Ra(e,"schema$utils$schema"),ye.q(e)?ye.dm(t,new ye.Q(null,1,5,ye.R,[new ye.n(null,1,[ye.Pl,e],null)],null)):ye.Xl(t)},ye.Jm.function=function(e){var t=ye.Ra(e,"schema$utils$schema");return ye.q(t)?ye.Jm(t):ye.q(ye.Xc.a?ye.Xc.a(null,e):ye.Xc.call(null,null,e))?N:ye.q(ye.Xc.a?ye.Xc.a(Boolean,e):ye.Xc.call(null,Boolean,e))?ce:ye.q(ye.Xc.a?ye.Xc.a(Number,e):ye.Xc.call(null,Number,e))?H:ye.q(ye.Xc.a?ye.Xc.a(null,e):ye.Xc.call(null,null,e))?le:ye.q(ye.Xc.a?ye.Xc.a(Date,e):ye.Xc.call(null,Date,e))?Y:ye.q(ye.Xc.a?ye.Xc.a(a,e):ye.Xc.call(null,a,e))?de:e},ye.h=c.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){return"_"===(t instanceof ye.O?t.ga:null)?this.yb:ye.N.c(this.g,t,n)},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.AnythingSchema{",", ","}",n,ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.Q(null,2,5,ye.R,[ae,this.yb],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,1,new ye.Q(null,1,5,ye.R,[ae],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 1+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-1432036169^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.yb,t.yb)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,1,[ae,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new c(this.yb,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ae,t):ye.Zd.call(null,ae,t))?new c(n,this.C,this.g,null):new c(this.yb,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.wd(ae,this.yb)],null),this.g))},ye.h.$=function(e,t){return new c(this.yb,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){return ye.Xl(ye.Em)},ye.h.La=function(){return te},ye.zo=new c(null,null,null,null),ye.h=s.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){return"v"===(t instanceof ye.O?t.ga:null)?this.fa:ye.N.c(this.g,t,n)},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.EqSchema{",", ","}",n,ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.Q(null,2,5,ye.R,[ue,this.fa],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,1,new ye.Q(null,1,5,ye.R,[ue],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 1+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-907989292^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.fa,t.fa)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,1,[ue,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new s(this.fa,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ue,t):ye.Zd.call(null,ue,t))?new s(n,this.C,this.g,null):new s(this.fa,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.wd(ue,this.fa)],null),this.g))},ye.h.$=function(e,t){return new s(this.fa,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){var e=this;return ye.Xl(ye.Ml(this,(function(t){return ye.Xc.a(e.fa,t)}),(function(t){return new ye.Sd(null,ye.go,new ye.Sd(null,e.fa,new ye.Sd(null,t,null,1,null),2,null),3,null)})))},ye.h.La=function(){return new ye.Sd(null,ee,new ye.Sd(null,this.fa,null,1,null),2,null)},ye.h=f.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){switch(t instanceof ye.O?t.ga:null){case"p?":return this.Va;case"pred-name":return this.mb;default:return ye.N.c(this.g,t,n)}},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.Predicate{",", ","}",n,ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.Q(null,2,5,ye.R,[R,this.Va],null),new ye.Q(null,2,5,ye.R,[T,this.mb],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,2,new ye.Q(null,2,5,ye.R,[R,T],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 2+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=2041221968^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.Va,t.Va)&&ye.Xc.a(this.mb,t.mb)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,2,[T,null,R,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new f(this.Va,this.mb,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(R,t):ye.Zd.call(null,R,t))?new f(n,this.mb,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(T,t):ye.Zd.call(null,T,t))?new f(this.Va,n,this.C,this.g,null):new f(this.Va,this.mb,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.wd(R,this.Va),new ye.wd(T,this.mb)],null),this.g))},ye.h.$=function(e,t){return new f(this.Va,this.mb,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){var e=this;return ye.Xl(ye.Ml(this,e.Va,(function(t){return new ye.Sd(null,e.mb,new ye.Sd(null,t,null,1,null),2,null)})))},ye.h.La=function(){return ye.Xc.a(this.Va,ye.Dm)?fe:ye.Xc.a(this.Va,ye.Gm)?pe:ye.Xc.a(this.Va,u)?P:ye.Xc.a(this.Va,ye.zm)?N:new ye.Sd(null,M,new ye.Sd(null,this.mb,null,1,null),2,null)},RegExp.prototype.Ma=function(){var e=this;return ye.Xl(ye.$h.a(ye.Ml(e,ye.zm,(function(e){return new ye.Sd(null,C,new ye.Sd(null,e,null,1,null),2,null)})),ye.Ml(e,(function(t){return ye.zg(e,t)}),(function(t){return new ye.Sd(null,J,new ye.Sd(null,ye.Jm(e),new ye.Sd(null,t,null,1,null),2,null),3,null)}))))},RegExp.prototype.La=function(){return ye.Rg.b(['#"',ye.fb.b(ye.fb.b(this).slice(1,-1)),'"'].join(""))},ye.Ao=ye.Qm(ye.zm,C),ye.Bo=Boolean,ye.Co=Number,ye.Do=ye.Qm(ye.Dm,V),ye.Eo=ye.Qm(ye.Gm,z),ye.Qm(u,F),void 0===me&&((me=function(e){this.rd=e,this.o=393216,this.K=0}).prototype.$=function(e,t){return new me(t)},me.prototype.X=function(){return this.rd},me.prototype.Ma=function(){return ye.Xl(ye.Ml(this,(function(e){return e instanceof RegExp}),(function(e){return new ye.Sd(null,G,new ye.Sd(null,ne,new ye.Sd(null,e,null,1,null),2,null),3,null)})))},me.prototype.La=function(){return le},me.xc=!0,me.ac="schema.core/t_schema$core12129",me.Lc=function(e){return ye.Zb(e,"schema.core/t_schema$core12129")}),new me(ye.Be),ye.h=d.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){switch(t instanceof ye.O?t.ga:null){case"schema":return this.P;case"name":return this.name;default:return ye.N.c(this.g,t,n)}},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.NamedSchema{",", ","}",n,ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.Q(null,2,5,ye.R,[ye.Pl,this.P],null),new ye.Q(null,2,5,ye.R,[ye.S,this.name],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,2,new ye.Q(null,2,5,ye.R,[ye.Pl,ye.S],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 2+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=456601728^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.P,t.P)&&ye.Xc.a(this.name,t.name)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,2,[ye.Pl,null,ye.S,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new d(this.P,this.name,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ye.Pl,t):ye.Zd.call(null,ye.Pl,t))?new d(n,this.name,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(ye.S,t):ye.Zd.call(null,ye.S,t))?new d(this.P,n,this.C,this.g,null):new d(this.P,this.name,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.wd(ye.Pl,this.P),new ye.wd(ye.S,this.name)],null),this.g))},ye.h.$=function(e,t){return new d(this.P,this.name,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){var e=this;return ye.dm(ye.Em,new ye.Q(null,1,5,ye.R,[new ye.n(null,2,[ye.Pl,e.P,ye.$l,function(t){return new ye.El(e.name,t)}],null)],null))},ye.h.La=function(){return new ye.Sd(null,ye.Fl,new ye.Sd(null,ye.Jm(this.P),new ye.Sd(null,this.name,null,1,null),2,null),3,null)},ye.Wl.prototype.Gb=ye.Ha(12),ye.bm.prototype.Gb=ye.Ha(11),ye.nm.prototype.Gb=ye.Ha(10),ye.h=p.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){switch(t instanceof ye.O?t.ga:null){case"schema":return this.P;case"postcondition":return this.lb;case"post-name":return this.bb;default:return ye.N.c(this.g,t,n)}},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.Constrained{",", ","}",n,ye.Wh.a(new ye.Q(null,3,5,ye.R,[new ye.Q(null,2,5,ye.R,[ye.Pl,this.P],null),new ye.Q(null,2,5,ye.R,[I,this.lb],null),new ye.Q(null,2,5,ye.R,[U,this.bb],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,3,new ye.Q(null,3,5,ye.R,[ye.Pl,I,U],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 3+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=725895648^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.P,t.P)&&ye.Xc.a(this.lb,t.lb)&&ye.Xc.a(this.bb,t.bb)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,3,[ye.Pl,null,U,null,I,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new p(this.P,this.lb,this.bb,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ye.Pl,t):ye.Zd.call(null,ye.Pl,t))?new p(n,this.lb,this.bb,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(I,t):ye.Zd.call(null,I,t))?new p(this.P,n,this.bb,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(U,t):ye.Zd.call(null,U,t))?new p(this.P,this.lb,n,this.C,this.g,null):new p(this.P,this.lb,this.bb,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,3,5,ye.R,[new ye.wd(ye.Pl,this.P),new ye.wd(I,this.lb),new ye.wd(U,this.bb)],null),this.g))},ye.h.$=function(e,t){return new p(this.P,this.lb,this.bb,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){var e=this;return ye.em(ye.Em,new ye.Q(null,1,5,ye.R,[new ye.n(null,1,[ye.Pl,e.P],null)],null),null,ye.Ml(this,e.lb,(function(t){return new ye.Sd(null,e.bb,new ye.Sd(null,t,null,1,null),2,null)})))},ye.h.La=function(){return new ye.Sd(null,K,new ye.Sd(null,ye.Jm(this.P),new ye.Sd(null,this.bb,null,1,null),2,null),3,null)},ye.h=ye.Xm.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){return"k"===(t instanceof ye.O?t.ga:null)?this.k:ye.N.c(this.g,t,n)},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.OptionalKey{",", ","}",n,ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.Q(null,2,5,ye.R,[ie,this.k],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,1,new ye.Q(null,1,5,ye.R,[ie],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 1+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-1508333161^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.k,t.k)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,1,[ie,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new ye.Xm(this.k,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ie,t):ye.Zd.call(null,ie,t))?new ye.Xm(n,this.C,this.g,null):new ye.Xm(this.k,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,1,5,ye.R,[new ye.wd(ie,this.k)],null),this.g))},ye.h.$=function(e,t){return new ye.Xm(this.k,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h=g.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){switch(t instanceof ye.O?t.ga:null){case"key-schema":return this.gb;case"val-schema":return this.nb;default:return ye.N.c(this.g,t,n)}},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.MapEntry{",", ","}",n,ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.Q(null,2,5,ye.R,[re,this.gb],null),new ye.Q(null,2,5,ye.R,[se,this.nb],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,2,new ye.Q(null,2,5,ye.R,[re,se],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 2+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-804356212^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.gb,t.gb)&&ye.Xc.a(this.nb,t.nb)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,2,[re,null,se,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new g(this.gb,this.nb,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(re,t):ye.Zd.call(null,re,t))?new g(n,this.nb,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(se,t):ye.Zd.call(null,se,t))?new g(this.gb,n,this.C,this.g,null):new g(this.gb,this.nb,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,2,5,ye.R,[new ye.wd(re,this.gb),new ye.wd(se,this.nb)],null),this.g))},ye.h.$=function(e,t){return new g(this.gb,this.nb,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.h.Ma=function(){return ye.om(ye.Em,b,new ye.Q(null,2,5,ye.R,[ye.rm(!0,this.gb,(function(e,t){var n=ye.Db(t);return e.b?e.b(n):e.call(null,n),t})),ye.rm(!0,this.nb,(function(e,t){return t=ye.Eb(t),e.b?e.b(t):e.call(null,t),null}))],null),(function(e,t){e=ye.G(e,0,null);var n=ye.G(t,0,null);return t=ye.G(t,1,null),n=ye.Kl(n),ye.q(n)?new ye.Q(null,2,5,ye.R,[n,k],null):new ye.Q(null,2,5,ye.R,[e,ye.Kl(t)],null)}))},ye.h.La=function(){return new ye.Sd(null,Q,new ye.Sd(null,ye.Jm(this.gb),new ye.Sd(null,ye.Jm(this.nb),null,1,null),2,null),3,null)},ye.n.prototype.Ma=function(){return E(this)},ye.n.prototype.La=function(){return _(this)},ye.gg.prototype.Ma=function(){return E(this)},ye.gg.prototype.La=function(){return _(this)},ye.pg.prototype.Ma=function(){if(!ye.Xc.a(ye.D(this),1))throw Error(ye.wl("Set schema must have exactly one element"));return ye.om(ye.Ml(this,ye.md,(function(e){return new ye.Sd(null,B,new ye.Sd(null,e,null,1,null),2,null)})),ye.tg,new ye.Q(null,1,5,ye.R,[ye.pm(ye.u(this))],null),(function(e,t){return ye.tg(ye.Je(ye.Kl,t))}))},ye.pg.prototype.La=function(){return ye.tg(new ye.Q(null,1,5,ye.R,[ye.Jm(ye.u(this))],null))},ye.h=ye.nn.prototype,ye.h.W=function(e,t){return this.J(null,t,null)},ye.h.J=function(e,t,n){switch(t instanceof ye.O?t.ga:null){case"schema":return this.P;case"optional?":return this.Ra;case"name":return this.name;default:return ye.N.c(this.g,t,n)}},ye.h.Ba=function(e,t,n){return ye.Gd((function(e,n){var r=ye.G(n,0,null);return n=ye.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},ye.h.O=function(e,t,n){return ye.Cg(t,(function(e){return ye.Cg(t,ye.Hg,""," ","",n,e)}),"#schema.core.One{",", ","}",n,ye.Wh.a(new ye.Q(null,3,5,ye.R,[new ye.Q(null,2,5,ye.R,[ye.Pl,this.P],null),new ye.Q(null,2,5,ye.R,[$,this.Ra],null),new ye.Q(null,2,5,ye.R,[ye.S,this.name],null)],null),this.g))},ye.h.ja=function(){return new ye.wf(this,3,new ye.Q(null,3,5,ye.R,[ye.Pl,$,ye.S],null),ye.q(this.g)?ye.oc(this.g):ye.Ce())},ye.h.X=function(){return this.C},ye.h.aa=function(){return 3+ye.D(this.g)},ye.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-197981045^ye.Mc(this)},ye.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&ye.Xc.a(this.P,t.P)&&ye.Xc.a(this.Ra,t.Ra)&&ye.Xc.a(this.name,t.name)&&ye.Xc.a(this.g,t.g)},ye.h.Ea=function(e,t){return ye.vd(new ye.pg(null,new ye.n(null,3,[ye.Pl,null,ye.S,null,$,null],null),null),t)?ye.Vh.a(ye.Lb(ye.bi.a(ye.Be,this),this.C),t):new ye.nn(this.P,this.Ra,this.name,this.C,ye.xe(ye.Vh.a(this.g,t)),null)},ye.h.U=function(e,t,n){return ye.q(ye.Zd.a?ye.Zd.a(ye.Pl,t):ye.Zd.call(null,ye.Pl,t))?new ye.nn(n,this.Ra,this.name,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a($,t):ye.Zd.call(null,$,t))?new ye.nn(this.P,n,this.name,this.C,this.g,null):ye.q(ye.Zd.a?ye.Zd.a(ye.S,t):ye.Zd.call(null,ye.S,t))?new ye.nn(this.P,this.Ra,n,this.C,this.g,null):new ye.nn(this.P,this.Ra,this.name,this.C,ye.Ng.c(this.g,t,n),null)},ye.h.Z=function(){return ye.t(ye.Wh.a(new ye.Q(null,3,5,ye.R,[new ye.wd(ye.Pl,this.P),new ye.wd($,this.Ra),new ye.wd(ye.S,this.name)],null),this.g))},ye.h.$=function(e,t){return new ye.nn(this.P,this.Ra,this.name,t,this.g,this.v)},ye.h.ba=function(e,t){return ye.qd(t)?this.U(null,ye.gd(t,0),ye.gd(t,1)):ye.Gd(ye.qb,this,t)},ye.Q.prototype.Ma=function(){var e,t,n=this;return ye.om(ye.Ml(n,(function(e){return null==e||ye.nd(e)}),(function(e){return new ye.Sd(null,q,new ye.Sd(null,e,null,1,null),2,null)})),ye.gf,(e=x(n),t=ye.G(e,0,null),e=ye.G(e,1,null),ye.Gd((function(e,t){return ye.bb(t.Ra)?ye.Yd(ye.rm(!0,ye.Sm(t.P,t.name),(function(e,n){if(n=ye.t(n)){var r=ye.u(n);return e.b?e.b(r):e.call(null,r),ye.Hc(n)}return n=ye.Il(ye.Dl(t.P,oe,new ye.Vg((function(){return new ye.Sd(null,X,new ye.Sd(null,t.name,null,1,null),2,null)})),null)),e.b?e.b(n):e.call(null,n),null})),e):new ye.Q(null,1,5,ye.R,[ye.sm(ye.Sm(t.P,t.name),(function(e,t){if(t=ye.t(t)){var n=ye.u(t);return e.b?e.b(n):e.call(null,n),ye.Hc(t)}return null}),e)],null)}),ye.q(e)?new ye.Q(null,1,5,ye.R,[ye.pm(e)],null):null,ye.Wd(t))),(function(e,t,n){return e=ye.ci.a(ye.Kl,t),ye.t(n)?ye.Vd.a(e,ye.Kl(ye.Il(ye.Dl(null,n,new ye.Vg((function(){return new ye.Sd(null,A,new ye.Sd(null,ye.D(n),null,1,null),2,null)})),null)))):e}))},ye.Q.prototype.La=function(){var e=x(this),t=ye.G(e,0,null);return e=ye.G(e,1,null),ye.gf(ye.Wh.a(function e(t){return new ye.ae(null,(function(){for(;;){var n=ye.t(t);if(n){if(ye.rd(n)){var r=ye.ic(n),i=ye.D(r),o=ye.de(i);e:for(var a=0;;){if(!(a<i)){r=!0;break e}var u=ye.gd(r,a);u=new ye.Sd(null,ye.q(u.Ra)?ye.un:Z,new ye.Sd(null,ye.Jm(ye.Pl.b(u)),new ye.Sd(null,ye.S.b(u),null,1,null),2,null),3,null),o.add(u),a+=1}return r?ye.ge(ye.ie(o),e(ye.jc(n))):ye.ge(ye.ie(o),null)}return o=ye.u(n),ye.Yd(new ye.Sd(null,ye.q(o.Ra)?ye.un:Z,new ye.Sd(null,ye.Jm(ye.Pl.b(o)),new ye.Sd(null,ye.S.b(o),null,1,null),2,null),3,null),e(ye.Hc(n)))}return null}}),null)}(t),ye.q(e)?new ye.Q(null,1,5,ye.R,[ye.Jm(e)],null):null))}},15685:function(e,t,n){n.g;var r,i,o,a,u,l,c,s,f=n(4923);n(70406),n(52340),n(94711),n(30400),r="schema.spec.collection",i=function(e,t,n){if(!f.qd(e)){var r=s.b(e);return o=f.Tl(e,t),function(e,t){var i=function(){function n(t){return f.ih.c(e,f.Vd,f.Jl(t)?t:o.b?o.b(t):o.call(null,t))}return r.a?r.a(n,t):r.call(null,n,t)}();return n.a?n.a(e,i):n.call(null,e,i)}}var i=f.u(e);switch(i=i instanceof f.O?i.ga:null){case"schema.spec.collection/optional":return e=f.B(e),f.jm.c?f.jm.c(e,t,n):f.jm.call(null,e,t,n);case"schema.spec.collection/remaining":if(!f.Xc.a(2,f.D(e)))throw Error(f.wl("remaining can have only one schema."));var o=f.Tl(f.dd(e),t);return function(e,t){return f.ih.c(e,f.bi,f.Ig.a(o,t)),n.a?n.a(e,null):n.call(null,e,null)};default:throw Error(["No matching clause: ",f.fb.b(i)].join(""))}},f.jm=function(e,t,n){if(!f.He((function(e){return f.qd(e)&&f.Xc.a(f.u(e),a)}),f.ug(e)))throw Error(f.wl("Remaining schemas must be in tail position."));return f.Gd((function(e,n){return i(n,t,e)}),n,f.Wd(e))},f.nm=function(e,t,n,r,i,o,a){this.R=e,this.pb=t,this.elements=n,this.Ua=r,this.C=i,this.g=o,this.v=a,this.o=2230716170,this.K=139264},f.om=function(e,t,n,r){return new f.nm(e,t,n,r,null,null,null)},f.pm=function(e){return new f.Q(null,2,5,f.R,[a,new f.n(null,2,[f.Pl,e,s,function(){throw Error("should never be not called")}],null)],null)},f.rm=function(e,t,n){return t=new f.n(null,2,[f.Pl,t,s,n],null),f.q(e)?t:f.gf(f.Yd(c,f.F([t])))},f.sm=function(e,t,n){return f.bi.a(f.gf(f.Yd(c,f.F([new f.n(null,2,[f.Pl,e,s,t],null)]))),n)},o=new f.O(null,"elements","elements",657646735),a=new f.O(r,"remaining","schema.spec.collection/remaining",-421177821),u=new f.O(null,"constructor","constructor",-1953928811),l=new f.O(null,"on-error","on-error",1728533530),c=new f.O(r,"optional","schema.spec.collection/optional",-854614927),s=new f.O(null,"parser","parser",-1543495310),f.h=f.nm.prototype,f.h.W=function(e,t){return this.J(null,t,null)},f.h.J=function(e,t,n){switch(t instanceof f.O?t.ga:null){case"pre":return this.R;case"constructor":return this.pb;case"elements":return this.elements;case"on-error":return this.Ua;default:return f.N.c(this.g,t,n)}},f.h.Ba=function(e,t,n){return f.Gd((function(e,n){var r=f.G(n,0,null);return n=f.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},f.h.Hb=f.Ha(7),f.h.O=function(e,t,n){return f.Cg(t,(function(e){return f.Cg(t,f.Hg,""," ","",n,e)}),"#schema.spec.collection.CollectionSpec{",", ","}",n,f.Wh.a(new f.Q(null,4,5,f.R,[new f.Q(null,2,5,f.R,[f.Vl,this.R],null),new f.Q(null,2,5,f.R,[u,this.pb],null),new f.Q(null,2,5,f.R,[o,this.elements],null),new f.Q(null,2,5,f.R,[l,this.Ua],null)],null),this.g))},f.h.ja=function(){return new f.wf(this,4,new f.Q(null,4,5,f.R,[f.Vl,u,o,l],null),f.q(this.g)?f.oc(this.g):f.Ce())},f.h.X=function(){return this.C},f.h.aa=function(){return 4+f.D(this.g)},f.h.T=function(){var e=this.v;return null!=e?e:this.v=e=1800698765^f.Mc(this)},f.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&f.Xc.a(this.R,t.R)&&f.Xc.a(this.constructor,t.constructor)&&f.Xc.a(this.elements,t.elements)&&f.Xc.a(this.Ua,t.Ua)&&f.Xc.a(this.g,t.g)},f.h.Ea=function(e,t){return f.vd(new f.pg(null,new f.n(null,4,[f.Vl,null,o,null,u,null,l,null],null),null),t)?f.Vh.a(f.Lb(f.bi.a(f.Be,this),this.C),t):new f.nm(this.R,this.pb,this.elements,this.Ua,this.C,f.xe(f.Vh.a(this.g,t)),null)},f.h.U=function(e,t,n){return f.q(f.Zd.a?f.Zd.a(f.Vl,t):f.Zd.call(null,f.Vl,t))?new f.nm(n,this.pb,this.elements,this.Ua,this.C,this.g,null):f.q(f.Zd.a?f.Zd.a(u,t):f.Zd.call(null,u,t))?new f.nm(this.R,n,this.elements,this.Ua,this.C,this.g,null):f.q(f.Zd.a?f.Zd.a(o,t):f.Zd.call(null,o,t))?new f.nm(this.R,this.pb,n,this.Ua,this.C,this.g,null):f.q(f.Zd.a?f.Zd.a(l,t):f.Zd.call(null,l,t))?new f.nm(this.R,this.pb,this.elements,n,this.C,this.g,null):new f.nm(this.R,this.pb,this.elements,this.Ua,this.C,f.Ng.c(this.g,t,n),null)},f.h.Z=function(){return f.t(f.Wh.a(new f.Q(null,4,5,f.R,[new f.wd(f.Vl,this.R),new f.wd(u,this.pb),new f.wd(o,this.elements),new f.wd(l,this.Ua)],null),this.g))},f.h.$=function(e,t){return new f.nm(this.R,this.pb,this.elements,this.Ua,t,this.g,this.v)},f.h.ba=function(e,t){return f.qd(t)?this.U(null,f.gd(t,0),f.gd(t,1)):f.Gd(f.qb,this,t)}},30400:function(e,t,n){n.g;var r,i,o,a=n(4923);n(70406),n(52340),n(94711),a.Ml=function(e,t,n){return function(r){try{var i=a.q(t.b?t.b(r):t.call(null,r))?null:a.Bl}catch(e){if(!(e instanceof Object))throw e;i=a.Ll}return a.q(i)?a.Il(a.Dl(e,r,new a.Vg((function(){var e=a.yl(r);return n.b?n.b(e):n.call(null,e)})),i)):null}},r=function(e,t,n,r){var o,u=(o=a.Ib(e)).b?o.b(t):o.call(null,t);return a.q(u)?a.Xc.a(i,u)?(r=new a.Vg((function(){var n=a.Ib(e);return n.b?n.b(t):n.call(null,t)})),n.b?n.b(r):n.call(null,r)):u:(a.ih.N(e,a.Ng,t,i),n=r.l?r.l():r.call(null),a.ih.N(e,a.Ng,t,n),n)},a.Tl=function(e,t){e=null!=e&&(64&e.o||a.yc===e.Y)?a.qe(a.Yh,e):e;var n=a.N.a(e,a.Pl),i=a.N.a(e,o),u=null!=t&&(64&t.o||a.yc===t.Y)?a.qe(a.Yh,t):t,l=a.N.a(u,a.Rl);t=a.N.a(u,a.Sl);var c=r(t,n,(function(e){return function(t){var n=a.Ib(e);return n.b?n.b(t):n.call(null,t)}}),(function(){return l.a?l.a(n,u):l.call(null,n,u)}));return a.q(i)?function(e){return e=c.b?c.b(e):c.call(null,e),a.q(a.Kl(e))?a.Il(i.b?i.b(e):i.call(null,e)):e}:c},a.Ul=new a.O(null,"return-walked?","return-walked?",-1684646015),a.Rl=new a.O(null,"subschema-checker","subschema-checker",1137701360),i=new a.O("schema.spec.core","in-progress","schema.spec.core/in-progress",-1604867615),a.Ll=new a.r(null,"throws?","throws?",789734533,null),a.Pl=new a.O(null,"schema","schema",-1582001791),a.Vl=new a.O(null,"pre","pre",2118456869),a.Sl=new a.O(null,"cache","cache",-1237023054),o=new a.O(null,"error-wrap","error-wrap",-1295833514)},95948:function(e,t,n){n.g;var r=n(4923);n(70406),n(52340),n(30400),r.Wl=function(e,t,n,r){this.R=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},r.Xl=function(e){return new r.Wl(e,null,null,null)},r.h=r.Wl.prototype,r.h.W=function(e,t){return this.J(null,t,null)},r.h.J=function(e,t,n){return"pre"===(t instanceof r.O?t.ga:null)?this.R:r.N.c(this.g,t,n)},r.h.Ba=function(e,t,n){return r.Gd((function(e,n){var i=r.G(n,0,null);return n=r.G(n,1,null),t.c?t.c(e,i,n):t.call(null,e,i,n)}),n,this)},r.h.Hb=r.Ha(9),r.h.O=function(e,t,n){return r.Cg(t,(function(e){return r.Cg(t,r.Hg,""," ","",n,e)}),"#schema.spec.leaf.LeafSpec{",", ","}",n,r.Wh.a(new r.Q(null,1,5,r.R,[new r.Q(null,2,5,r.R,[r.Vl,this.R],null)],null),this.g))},r.h.ja=function(){return new r.wf(this,1,new r.Q(null,1,5,r.R,[r.Vl],null),r.q(this.g)?r.oc(this.g):r.Ce())},r.h.X=function(){return this.C},r.h.aa=function(){return 1+r.D(this.g)},r.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-1595767002^r.Mc(this)},r.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&r.Xc.a(this.R,t.R)&&r.Xc.a(this.g,t.g)},r.h.Ea=function(e,t){return r.vd(new r.pg(null,new r.n(null,1,[r.Vl,null],null),null),t)?r.Vh.a(r.Lb(r.bi.a(r.Be,this),this.C),t):new r.Wl(this.R,this.C,r.xe(r.Vh.a(this.g,t)),null)},r.h.U=function(e,t,n){return r.q(r.Zd.a?r.Zd.a(r.Vl,t):r.Zd.call(null,r.Vl,t))?new r.Wl(n,this.C,this.g,null):new r.Wl(this.R,this.C,r.Ng.c(this.g,t,n),null)},r.h.Z=function(){return r.t(r.Wh.a(new r.Q(null,1,5,r.R,[new r.wd(r.Vl,this.R)],null),this.g))},r.h.$=function(e,t){return new r.Wl(this.R,t,this.g,this.v)},r.h.ba=function(e,t){return r.qd(t)?this.U(null,r.gd(t,0),r.gd(t,1)):r.Gd(r.qb,this,t)}},9952:function(e,t,n){n.g;var r,i,o,a=n(4923);n(70406),n(52340),n(94711),n(30400),a.am=function(e,t,n){var r=a.Yl.b(e),o=a.Tl(e,t),u=a.q(r)?function(t){try{var u=r.b?r.b(t):r.call(null,t)}catch(e){if(!(e instanceof Object))throw e;u=i}return a.Xc.a(i,u)?a.Il(a.Dl(a.Pl.b(e),t,new a.Vg((function(){return new a.Sd(null,a.Rg.b(a.zl(r)),new a.Sd(null,a.yl(t),null,1,null),2,null)})),a.Ll)):a.q(u)?o.b?o.b(t):o.call(null,t):n.b?n.b(t):n.call(null,t)}:o,l=a.$l.b(e);return a.q(l)?function(e){e=u.b?u.b(e):u.call(null,e);var t=a.Kl(e);return a.q(t)?a.Il(l.b?l.b(t):l.call(null,t)):e}:u},a.bm=function(e,t,n,r,i,o,a){this.R=e,this.options=t,this.Ta=n,this.Sa=r,this.C=i,this.g=o,this.v=a,this.o=2230716170,this.K=139264},a.dm=function(e,t){return a.cm(e,t,null)},a.cm=function(e,t,n){return a.em(e,t,n,null)},a.em=function(e,t,n,r){if(!a.q(a.q(n)?n:null==a.Yl.b(a.ed(t))))throw Error(a.wl("when last option has a guard, err-f must be provided"));return new a.bm(e,t,n,r,null,null,null)},r=new a.O(null,"err-f","err-f",651620941),a.Yl=new a.O(null,"guard","guard",-873147811),i=new a.O("schema.spec.variant","exception","schema.spec.variant/exception",-253680523),a.gm=new a.O(null,"options","options",99638489),o=new a.O(null,"post","post",269697687),a.$l=new a.O(null,"wrap-error","wrap-error",536732809),a.h=a.bm.prototype,a.h.W=function(e,t){return this.J(null,t,null)},a.h.J=function(e,t,n){switch(t instanceof a.O?t.ga:null){case"pre":return this.R;case"options":return this.options;case"err-f":return this.Ta;case"post":return this.Sa;default:return a.N.c(this.g,t,n)}},a.h.Ba=function(e,t,n){return a.Gd((function(e,n){var r=a.G(n,0,null);return n=a.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},a.h.Hb=a.Ha(8),a.h.O=function(e,t,n){return a.Cg(t,(function(e){return a.Cg(t,a.Hg,""," ","",n,e)}),"#schema.spec.variant.VariantSpec{",", ","}",n,a.Wh.a(new a.Q(null,4,5,a.R,[new a.Q(null,2,5,a.R,[a.Vl,this.R],null),new a.Q(null,2,5,a.R,[a.gm,this.options],null),new a.Q(null,2,5,a.R,[r,this.Ta],null),new a.Q(null,2,5,a.R,[o,this.Sa],null)],null),this.g))},a.h.ja=function(){return new a.wf(this,4,new a.Q(null,4,5,a.R,[a.Vl,a.gm,r,o],null),a.q(this.g)?a.oc(this.g):a.Ce())},a.h.X=function(){return this.C},a.h.aa=function(){return 4+a.D(this.g)},a.h.T=function(){var e=this.v;return null!=e?e:this.v=e=-1524878868^a.Mc(this)},a.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&a.Xc.a(this.R,t.R)&&a.Xc.a(this.options,t.options)&&a.Xc.a(this.Ta,t.Ta)&&a.Xc.a(this.Sa,t.Sa)&&a.Xc.a(this.g,t.g)},a.h.Ea=function(e,t){return a.vd(new a.pg(null,new a.n(null,4,[a.Vl,null,r,null,o,null,a.gm,null],null),null),t)?a.Vh.a(a.Lb(a.bi.a(a.Be,this),this.C),t):new a.bm(this.R,this.options,this.Ta,this.Sa,this.C,a.xe(a.Vh.a(this.g,t)),null)},a.h.U=function(e,t,n){return a.q(a.Zd.a?a.Zd.a(a.Vl,t):a.Zd.call(null,a.Vl,t))?new a.bm(n,this.options,this.Ta,this.Sa,this.C,this.g,null):a.q(a.Zd.a?a.Zd.a(a.gm,t):a.Zd.call(null,a.gm,t))?new a.bm(this.R,n,this.Ta,this.Sa,this.C,this.g,null):a.q(a.Zd.a?a.Zd.a(r,t):a.Zd.call(null,r,t))?new a.bm(this.R,this.options,n,this.Sa,this.C,this.g,null):a.q(a.Zd.a?a.Zd.a(o,t):a.Zd.call(null,o,t))?new a.bm(this.R,this.options,this.Ta,n,this.C,this.g,null):new a.bm(this.R,this.options,this.Ta,this.Sa,this.C,a.Ng.c(this.g,t,n),null)},a.h.Z=function(){return a.t(a.Wh.a(new a.Q(null,4,5,a.R,[new a.wd(a.Vl,this.R),new a.wd(a.gm,this.options),new a.wd(r,this.Ta),new a.wd(o,this.Sa)],null),this.g))},a.h.$=function(e,t){return new a.bm(this.R,this.options,this.Ta,this.Sa,t,this.g,this.v)},a.h.ba=function(e,t){return a.qd(t)?this.U(null,a.gd(t,0),a.gd(t,1)):a.Gd(a.qb,this,t)}},94711:function(e,t,n){n.g;var r,i,o,a,u=n(4923);n(70406),n(52340),n(72771),n(76877),n(82702),u.wl=function(e){for(var t=[],n=arguments.length,r=0;r<n;)t.push(arguments[r]),r+=1;return u.vl(arguments[0],1<t.length?new u.Dc(t.slice(1),0,null):null)},u.vl=function(e,t){return u.re(u.ul,e,t)},u.yl=function(e){var t=typeof e;return u.fb.b(e).length<=u.Ib(l)?e:u.Rg.b(["a-",u.fb.b(t)].join(""))},u.zl=function(e){if(e=u.yg(/#object\[(.*)\]/,u.Qg(u.F([e]))),u.G(e,0,null),e=u.G(e,1,null),u.Xc.a("Function",e))e="function";else{var t=u.fb.b(e);if("_DOT__DOT_"===t)var n="..";else e:{n=new RegExp(u.vh(),"g");var r=t.length-1;r=0<=r&&t.indexOf("$",r)==r,t=u.q(r)?t.substring(0,t.length-1):t,r="";for(var i=0;;){var o=n.exec(t);if(!u.q(o)){n=[r,u.fb.b(t.substring(i,t.length))].join("");break e}o=u.G(o,0,null),r=[r,u.fb.b(t.substring(i,n.lastIndex-o.length)),u.fb.b("$"===o?"/":u.Ra(u.uh,o))].join(""),i=n.lastIndex}}e=(e=e instanceof u.r?u.Rg:u.fb).b?e.b(n):e.call(null,n),e=u.zg(/[^\/]+(?:$|(?=\/+$))/,e)}return e},r=function(e,t,n,r){this.P=e,this.value=t,this.nd=n,this.od=r,this.o=2147483648,this.K=0},i=function(e){var t=e.od;return new u.Sd(null,u.q(t)?t:u.Bl,new u.Sd(null,u.Ib(e.nd),null,1,null),2,null)},u.Dl=function(e,t,n,i){return new r(e,t,n,i)},u.El=function(e,t){this.name=e,this.error=t,this.o=2147483648,this.K=0},o=function(e){return new u.Sd(null,u.Fl,new u.Sd(null,e.error,new u.Sd(null,e.name,null,1,null),2,null),3,null)},a=function(e,t,n,r){this.error=e,this.C=t,this.g=n,this.v=r,this.o=2230716170,this.K=139264},u.Il=function(e){return new a(e,null,null,null)},u.Jl=function(e){return e instanceof a},u.Kl=function(e){return u.Jl(e)?e.error:null},u.Fl=new u.r(null,"named","named",1218138048,null),u.Bl=new u.r(null,"not","not",1044554643,null);var l=u.ah.b(19);r.prototype.O=function(e,t,n){return u.ac(i.b?i.b(this):i.call(null,this),t,n)},u.El.prototype.O=function(e,t,n){return u.ac(o.b?o.b(this):o.call(null,this),t,n)},u.h=a.prototype,u.h.W=function(e,t){return this.J(null,t,null)},u.h.J=function(e,t,n){return"error"===(t instanceof u.O?t.ga:null)?this.error:u.N.c(this.g,t,n)},u.h.Ba=function(e,t,n){return u.Gd((function(e,n){var r=u.G(n,0,null);return n=u.G(n,1,null),t.c?t.c(e,r,n):t.call(null,e,r,n)}),n,this)},u.h.O=function(e,t,n){return u.Cg(t,(function(e){return u.Cg(t,u.Hg,""," ","",n,e)}),"#schema.utils.ErrorContainer{",", ","}",n,u.Wh.a(new u.Q(null,1,5,u.R,[new u.Q(null,2,5,u.R,[u.li,this.error],null)],null),this.g))},u.h.ja=function(){return new u.wf(this,1,new u.Q(null,1,5,u.R,[u.li],null),u.q(this.g)?u.oc(this.g):u.Ce())},u.h.X=function(){return this.C},u.h.aa=function(){return 1+u.D(this.g)},u.h.T=function(){var e=this.v;return null!=e?e:this.v=e=1172277899^u.Mc(this)},u.h.S=function(e,t){return null!=t&&this.constructor===t.constructor&&u.Xc.a(this.error,t.error)&&u.Xc.a(this.g,t.g)},u.h.Ea=function(e,t){return u.vd(new u.pg(null,new u.n(null,1,[u.li,null],null),null),t)?u.Vh.a(u.Lb(u.bi.a(u.Be,this),this.C),t):new a(this.error,this.C,u.xe(u.Vh.a(this.g,t)),null)},u.h.U=function(e,t,n){return u.q(u.Zd.a?u.Zd.a(u.li,t):u.Zd.call(null,u.li,t))?new a(n,this.C,this.g,null):new a(this.error,this.C,u.Ng.c(this.g,t,n),null)},u.h.Z=function(){return u.t(u.Wh.a(new u.Q(null,1,5,u.R,[new u.wd(u.li,this.error)],null),this.g))},u.h.$=function(e,t){return new a(this.error,t,this.g,this.v)},u.h.ba=function(e,t){return u.qd(t)?this.U(null,u.gd(t,0),u.gd(t,1)):u.Gd(u.qb,this,t)},u.ah.b(!1)},98421:function(e,t,n){n.g;var r=n(4923);n(70406),r.NA=n(25312),e.exports=r.NA},35562:function(e,t,n){"use strict";n.d(t,{v0:function(){return r},sL:function(){return i},Lt:function(){return o}});var r="alert-type-rows",i="alert-type-timeseries-goal",o="alert-type-progress-bar-goal"},55799:function(e,t,n){"use strict";n.d(t,{FK:function(){return xe},gK:function(){return Se},T7:function(){return Oe},I0:function(){return Pe},ZP:function(){return we}});var r=n(25312),i=n(30558),o=n(55446),a=n(83360),u=n(91664),l=n(73306),c=n(89326),s=n(86986),f=n(1861),d=n(67478),p=n(4497),h=n(60827);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y="undefined",v="number",b="string",g="boolean";function w(e,t){if(!Array.isArray(e))return m(e);var n=e[0];switch(n){case h.Nv.Plus:case h.Nv.Minus:case h.Nv.Star:case h.Nv.Slash:return v;case h.Nv.Not:case h.Nv.And:case h.Nv.Or:case h.Nv.Equal:case h.Nv.NotEqual:case h.Nv.GreaterThan:case h.Nv.GreaterThanEqual:case h.Nv.LessThan:case h.Nv.LessThanEqual:return g}if("case"===n)return w(e[1][0][1],t);if("coalesce"===n)return w(e[1],t);var r=p.xC[n];if(r){var i=r.type;switch(i){case"object":return y;case"aggregation":return v;default:return i}}return"field"===n&&t?t(e):y}var O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J=n(6539),X=n(98399);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t,n){return te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},te(e,t,n||e)}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},re(e,t)}function ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var i=ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ce(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=me(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function he(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}var we=function(){function e(t,n,r,i,o){ve(this,e),this._parent=t,this._args=n,this._metadata=r||t&&t._metadata,this._query=i||t&&t._query,this._options=o}return ge(e,[{key:"parseMBQL",value:function(t){return e.parseMBQL(t,this._metadata,this._query)}},{key:Symbol.toStringTag,get:function(){return"mbql = "+JSON.stringify(this.mbql())}},{key:"dimensions",value:function(e){var t,n=this,r=this.field().dimension_options;return!e&&r?r.map((function(e){return n._dimensionForOption(e)})):(t=[]).concat.apply(t,he((e||[]).map((function(e){return e.dimensions(n)}))))}},{key:"defaultDimension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=this.field().default_dimension_option;if(t){var n=this._dimensionForOption(t);if(!je(n)||!n.temporalUnit())return n}var r,i=pe(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.defaultDimension(this);if(a)return a}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"_dimensionForOption",value:function(e){var t=this.baseDimension().mbql(),n=e.mbql;n=n?[n[0],t].concat(he(n.slice(2))):t;var r=this.parseMBQL(n);return r&&e.name&&(r._subDisplayName=e.name,r._subTriggerDisplayName=e.name),r}},{key:"isEqual",value:function(t){if(null==t)return!1;var n=t instanceof e?t:this.parseMBQL(t);return!!n&&i.ZP.isEqual(this.mbql(),n.mbql())}},{key:"isSameBaseDimension",value:function(t){if(null==t)return!1;var n=t instanceof e?t:this.parseMBQL(t),r=this.baseDimension(),i=n&&n.baseDimension();return!!r&&!!i&&r.isEqual(i)}},{key:"foreign",value:function(e){return null}},{key:"datetime",value:function(e){return null}},{key:"field",value:function(){return new c.Z}},{key:"columnName",value:function(){return this.field().name}},{key:"filterOperators",value:function(e){return this.field().filterOperators(e)}},{key:"filterOperator",value:function(e){return this.field().filterOperator(e)}},{key:"defaultFilterOperator",value:function(){return this.field().isDate()?null:this.filterOperators()[0]}},{key:"aggregationOperators",value:function(){return this.field().aggregationOperators()}},{key:"aggregationOperator",value:function(e){return this.field().aggregationOperator(e)}},{key:"defaultAggregationOperator",value:function(){return this.aggregationOperators()[0]}},{key:"defaultAggregation",value:function(){var e=this.defaultAggregationOperator();return e?[e.short,this.mbql()]:null}},{key:"defaultBreakout",value:function(){var e=this.defaultDimension();return e?e.mbql():this.mbql()}},{key:"displayName",value:function(){return""}},{key:"column",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.baseDimension().field();return fe({id:t.id,base_type:t.base_type,semantic_type:t.semantic_type,name:this.columnName(),display_name:this.displayName(),field_ref:this.mbql()},e)}},{key:"icon",value:function(){return null}},{key:"query",value:function(){return this._query}},{key:"sourceDimension",value:function(){return this._query&&this._query.dimensionForSourceQuery(this)}},{key:"getOption",value:function(e){return this._options&&this._options[e]}},{key:"temporalUnit",value:function(){return this.getOption("temporal-unit")}},{key:"isTemporalExtraction",value:function(){return this.temporalUnit()&&/-of-/.test(this.temporalUnit())}},{key:"isTemporalTruncation",value:function(){return this.temporalUnit()&&!this.isTemporalExtraction()}},{key:"binningOptions",value:function(){return this.getOption("binning")}},{key:"getBinningOption",value:function(e){return this.binningOptions()&&this.binningOptions()[e]}},{key:"binningStrategy",value:function(){return this.getBinningOption("strategy")}},{key:"describeBinning",value:function(){if(!this.binningOptions())return"";if("num-bins"===this.binningStrategy()){var e=this.getBinningOption("num-bins");return(0,r.ngettext)((0,r.msgid)(O||(O=ce([""," bin"])),e),"".concat(e," bins"),e)}if("bin-width"===this.binningStrategy()){var t=this.getBinningOption("bin-width"),n=this.field().isCoordinate()?"":"";return"".concat(t).concat(n)}return(0,r.t)(j||(j=ce(["Auto binned"])))}},{key:"joinAlias",value:function(){return this.getOption("join-alias")}},{key:"sourceField",value:function(){return this.getOption("source-field")}},{key:"withOptions",value:function(e){return this}},{key:"withOption",value:function(e,t){return this.withOptions(de({},e,t))}},{key:"withTemporalUnit",value:function(e){return this.withOptions({"temporal-unit":e})}},{key:"withBinningOptions",value:function(e){return this.withOptions({binning:e})}},{key:"withJoinAlias",value:function(e){return this.withOptions({"join-alias":e})}},{key:"withSourceField",value:function(e){return this.withOptions({"source-field":e})}},{key:"withoutOptions",value:function(){return this}},{key:"withoutTemporalBucketing",value:function(){return this.withoutOptions("temporal-unit")}},{key:"withoutBinning",value:function(){return this.withoutOptions("binning")}},{key:"baseDimension",value:function(){return this.withoutTemporalBucketing().withoutBinning()}},{key:"subDisplayName",value:function(){return this._subDisplayName?this._subDisplayName:this.temporalUnit()?(0,d.p9)(this.temporalUnit()):this.binningStrategy()?this.describeBinning():this.sourceField()?this.displayName():"Default"}},{key:"subTriggerDisplayName",value:function(){return this._subTriggerDisplayName?this._subTriggerDisplayName:this.binningOptions()?this.describeBinning():this.temporalUnit()?(0,r.t)(S||(S=ce(["by ",""])),(0,d.p9)(this.temporalUnit()).toLowerCase()):this.isBinnable()?(0,r.t)(E||(E=ce(["Unbinned"]))):""}},{key:"isBinnable",value:function(){var e=this.defaultDimension();return e&&je(e)&&e.binningOptions()}},{key:"render",value:function(){return this._parent?this._parent.render():this.displayName()}},{key:"mbql",value:function(){throw new Error("Abstract method `mbql` not implemented")}},{key:"key",value:function(){return JSON.stringify(this.mbql())}}],[{key:"normalizeOptions",value:function(e){var t=this;return e?(e=i.ZP.mapObject(e,(function(e){return"object"===le(e)?t.normalizeOptions(e):e})),e=i.ZP.omit(e,(function(e){return null==e})),i.ZP.isEmpty(e)?null:e):null}},{key:"parseMBQL",value:function(e,t,n){var r,i=pe(Ce);try{for(i.s();!(r=i.n()).done;){var o=r.value.parseMBQL(e,t,n);if(null!=o)return Object.freeze(o)}}catch(e){i.e(e)}finally{i.f()}return null}},{key:"isEqual",value:function(t,n){var r=t instanceof e?t:e.parseMBQL(t),i=n instanceof e?n:e.parseMBQL(n);return!!r&&!!i&&r.isEqual(i)}},{key:"dimensions",value:function(e){return[]}},{key:"defaultDimension",value:function(e){return null}}]),e}(),Oe=function(e){ne(n,e);var t=ie(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return ve(this,n),(r=t.call(this,null,[e,i],o,a,Object.freeze(we.normalizeOptions(i))))._fieldIdOrName=e,u&&Object.keys(u).forEach((function(e){r[e]=u[e]})),Object.freeze(ae(r)),r}return ge(n,[{key:"isEqual",value:function(e){if(je(e))return e._fieldIdOrName===this._fieldIdOrName&&i.ZP.isEqual(e._options,this._options);if(n.isFieldClause(e)){var t=n.parseMBQL(e,this._metadata,this._query);return!!t&&this.isEqual(t)}return!1}},{key:"mbql",value:function(){return["field",this._fieldIdOrName,this._options]}},{key:"fieldIdOrName",value:function(){return this._fieldIdOrName}},{key:"isIntegerFieldId",value:function(){return"number"==typeof this._fieldIdOrName}},{key:"isStringFieldName",value:function(){return"string"==typeof this._fieldIdOrName}},{key:"_createField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hydrate,r=void 0!==n&&n,o=new c.Z(fe(fe({},e),{},{metadata:this._metadata,query:this._query}));return r&&(o.table=this._metadata.table(o.table_id),o.isFK()&&(o.target=this._metadata.field(o.fk_target_field_id)),null!=o.name_field?o.field_name=meta.field(o.name_field):o.table&&o.isPK()&&(o.field_name=i.ZP.find(o.table.fields,(function(e){return e.isEntityName()}))),o.values=(0,f.W6)(o),o.remappings=new Map((0,f.LP)(o))),o}},{key:"field",value:function(){var e;if(this._fieldInstance&&!0===this._fieldInstance._comesFromEndpoint)return this._fieldInstance;var t=null===(e=this.query())||void 0===e?void 0:e.question(),n=this.isIntegerFieldId()?"id":"name",r=t?i.ZP.findWhere(t.getResultMetadata(),de({},n,this.fieldIdOrName())):null,a=null==t?void 0:t.isDataset();if(this.isIntegerFieldId()){var u,l=null===(u=this._metadata)||void 0===u?void 0:u.field(this.fieldIdOrName());if(l){if(!r||!a)return l;var s=(0,o.merge)(l instanceof c.Z?l.getPlainObject():l,r);return this._createField(s,{hydrate:!0})}return r?this._createField(r):this._createField({id:this._fieldIdOrName})}if(this.query()){var f=this.query().table();if(null!=f){var d=i.ZP.findWhere(f.fields,{name:this.fieldIdOrName()});if(d){if(!r||!a)return d;var p=(0,o.merge)(d instanceof c.Z?d.getPlainObject():d,r);return this._createField(p,{hydrate:!0})}}if(r)return this._createField(r)}return this._createField({id:this.mbql(),name:this._fieldIdOrName,display_name:this._fieldIdOrName,base_type:this.getOption("base-type")})}},{key:"tableId",value:function(){var e,t;return null===(e=this.field())||void 0===e||null===(t=e.table)||void 0===t?void 0:t.id}},{key:"withoutOptions",value:function(){if(!this._options)return this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(this._fieldIdOrName,i.ZP.omit.apply(i.ZP,[this._options].concat(t)),this._metadata,this._query)}},{key:"withOptions",value:function(e){return e&&Object.entries(e).length?new n(this._fieldIdOrName,fe(fe({},this._options),e),this._metadata,this._query,this._fieldInstance&&{_fieldInstance:this._fieldInstance}):this}},{key:"foreign",value:function(e){if(je(e))return e.withSourceField(this._fieldIdOrName)}},{key:"columnName",value:function(){return this.isIntegerFieldId()?te(ue(n.prototype),"columnName",this).call(this):this._fieldIdOrName}},{key:"displayName",value:function(){var e;return(e=this.field()).displayName.apply(e,arguments)}},{key:"icon",value:function(){return this.field().icon()}},{key:"dimensions",value:function(e){var t=this,r=te(ue(n.prototype),"dimensions",this).call(this,e),o=this.joinAlias();if(o)return r.map((function(e){return e.withJoinAlias(o)}));var a=this.sourceField();if(a)return r.map((function(e){return e.withSourceField(a)}));var u=this.field();if(u.target&&u.target.table&&u.target.table.fields){var l=u.target.table.fields.map((function(e){return new n(e.id,{"source-field":t._fieldIdOrName},t._metadata,t._query)}));r=[].concat(he(r),he(l))}if(u.isDate()&&!this.isIntegerFieldId()){var c=i.ZP.difference(d.$O,r.map((function(e){return e.temporalUnit()}))).map((function(e){return t.withTemporalUnit(e)}));r=[].concat(he(r),he(c))}var s=this.getOption("base-type");return s&&(r=r.map((function(e){return e.withOption("base-type",s)}))),r}},{key:"defaultDimension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.field();if(t&&t.isDate())return this.withTemporalUnit(t.getDefaultDateTimeUnit());var r=te(ue(n.prototype),"defaultDimension",this).call(this,e);if(!r)return null;var i=this.sourceField();i&&(r=r.withSourceField(i));var o=this.joinAlias();o&&(r=r.withJoinAlias(o));var a=this.getOption("base-type");return a&&(r=r.withOption("base-type",a)),r}},{key:"_dimensionForOption",value:function(e){var t=e.mbql?n.parseMBQLOrWarn(e.mbql,this._metadata,this._query):this;if(!t)return X.warn("Don't know how to create Dimension for option",this,e),null;this.getOption("base-type")&&!t.getOption("base-type")&&(t=t.withOption("base-type",this.getOption("base-type")));var r={_fieldIdOrName:this._fieldIdOrName};return e.name&&(r._subDisplayName=e.name,r._subTriggerDisplayName=e.name),new n(t._fieldIdOrName,t._options,this._metadata,this._query,r)}},{key:"render",value:function(){var e=this.displayName();if(this.fk()){var t=this.fk()&&(0,a.h4)(this.fk().field().displayName());e="".concat(t," ").concat(a.Co," ").concat(e)}else this.joinAlias()&&(e="".concat(this.joinAlias()," ").concat(a.Co," ").concat(e));return this.temporalUnit()&&(e="".concat(e,": ").concat((0,d.p9)(this.temporalUnit()))),this.binningOptions()&&(e="".concat(e,": ").concat(this.describeBinning())),e}},{key:"column",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return"number"==typeof this.sourceField()&&(t.fk_field_id=this.sourceField()),this.temporalUnit()&&(t.unit=this.temporalUnit()),fe(fe(fe({},te(ue(n.prototype),"column",this).call(this)),t),e)}},{key:"fk",value:function(){var e=this.sourceField();return e?new n(e,null,this._metadata,this._query):null}},{key:"join",value:function(){return this.joinAlias()?i.ZP.findWhere(this._query&&this._query.joins(),{alias:this.joinAlias()}):null}}],[{key:"isFieldClause",value:function(e){return Array.isArray(e)&&3===e.length&&"field"===e[0]}},{key:"parseMBQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.isFieldClause(e)?Object.freeze(new n(e[1],e[2],t,r)):null}},{key:"parseMBQLOrWarn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("number"==typeof e)return X.error("FieldDimension.parseMBQLOrWarn() called with a raw integer Field ID. This is an error. Fixme!",e),n.parseMBQLOrWarn(["field",e,null],t,r);var i=n.parseMBQL(e,t,r);return i||X.warn("Unknown MBQL Field clause",e),i}}]),n}(we),je=function(e){return e instanceof Oe},Se=function(e){ne(n,e);var t=ie(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return ve(this,n),(r=t.call(this,null,[e,i],o,a,Object.freeze(we.normalizeOptions(i))))._expressionName=e,u&&Object.keys(u).forEach((function(e){r[e]=u[e]})),Object.freeze(ae(r)),r}return ge(n,[{key:"isEqual",value:function(e){if(Ee(e))return e._expressionName===this._expressionName&&i.ZP.isEqual(e._options,this._options);if(n.isExpressionClause(e)){var t=n.parseMBQL(e,this._metadata,this._query);return!!t&&this.isEqual(t)}return!1}},{key:"mbql",value:function(){return["expression",this._expressionName,this._options]}},{key:"name",value:function(){return this._expressionName}},{key:"displayName",value:function(){return this._expressionName}},{key:"columnName",value:function(){return this._expressionName}},{key:"_createField",value:function(e){return new c.Z(fe(fe({},e),{},{metadata:this._metadata,query:this._query}))}},{key:"field",value:function(){var e,t,n=this,r=this._query,o=r?r.table():null,a=v,u=null;if(r){var l,s=r.query(),f=(null!==(l=null==s?void 0:s.expressions)&&void 0!==l?l:{})[this.name()],d=function(e){var t=we.parseMBQL(e,n._metadata,n._query);return null==t?void 0:t.field()};a=w(f,(function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.base_type})),u=w(f,(function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.semantic_type}))}else a=w(this._expressionName);var p=a;if(!a.startsWith("type/")){switch(a){case b:p="type/Text";break;case g:p="type/Boolean";break;default:p="type/Float"}u=p}var h=null==r||null===(e=r.question())||void 0===e||null===(t=e.getResultMetadata)||void 0===t?void 0:t.call(e);if(h){var m=i.ZP.findWhere(h,{name:this.name()});if(m)return this._createField(m)}var y=function(e){if((0,J.isa)(e,"type/Coordinate"))return De;if((0,J.isa)(e,"type/Number"))return ke;if((0,J.isa)(e,"type/DateTime"))return Ae;return null}(u||p),O=y&&Array.isArray(y)?y.map((function(e){var t=e.name,n=e.options;return{name:t,type:p,mbql:["expression",null,n]}})):null;return new c.Z({id:this.mbql(),name:this.name(),display_name:this.displayName(),base_type:p,semantic_type:u,query:r,table:o,dimension_options:O})}},{key:"icon",value:function(){var e=this.field();return e?e.icon():"unknown"}},{key:"_dimensionForOption",value:function(e){var t=e.mbql?n.parseMBQL(e.mbql,this._metadata,this._query):this,r={_expressionName:this._expressionName};return e.name&&(r._subDisplayName=e.name,r._subTriggerDisplayName=e.name),new n(t._expressionName,t._options,this._metadata,this._query,r)}},{key:"withoutOptions",value:function(){if(!this._options)return this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(this._expressionName,i.ZP.omit.apply(i.ZP,[this._options].concat(t)),this._metadata,this._query)}},{key:"withOptions",value:function(e){return e&&Object.entries(e).length?new n(this._expressionName,fe(fe({},this._options),e),this._metadata,this._query):this}},{key:"render",value:function(){var e=this.displayName();return this.temporalUnit()&&(e="".concat(e,": ").concat((0,d.p9)(this.temporalUnit()))),this.binningOptions()&&(e="".concat(e,": ").concat(this.describeBinning())),e}}],[{key:"isExpressionClause",value:function(e){return Array.isArray(e)&&e.length>=2&&"expression"===e[0]}},{key:"parseMBQL",value:function(e,t,r){if(n.isExpressionClause(e)){var i=ee(e.slice(1),2);return new n(i[0],i[1],t,r)}}}]),n}(we),Ee=function(e){return e instanceof Se},_e=new Set([u.wD.FK,u.wD.PK]),xe=function(e){ne(n,e);var t=ie(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return ve(this,n),(r=t.call(this,null,[e,i],o,a,Object.freeze(we.normalizeOptions(i))))._aggregationIndex=e,u&&Object.keys(u).forEach((function(e){r[e]=u[e]})),Object.freeze(ae(r)),r}return ge(n,[{key:"aggregationIndex",value:function(){return this._aggregationIndex}},{key:"column",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fe(fe({},te(ue(n.prototype),"column",this).call(this)),{},{source:"aggregation"},e)}},{key:"field",value:function(){var e=this.aggregation();if(!e)return te(ue(n.prototype),"field",this).call(this);var t=e.dimension(),r=t&&t.field(),i=(r||{}).semantic_type;return new c.Z(fe(fe({name:e.columnName(),display_name:e.displayName(),base_type:e.baseType()},!_e.has(i)&&{semantic_type:i}),{},{query:this._query,metadata:this._metadata}))}},{key:"_aggregation",value:function(){return this._query&&this._query.aggregations&&this._query.aggregations()[this.aggregationIndex()]}},{key:"aggregation",value:function(){var e=this._aggregation();return e?e.aggregation():null}},{key:"displayName",value:function(){var e=this._aggregation();return e?e.displayName():null}},{key:"columnName",value:function(){var e=this._aggregation();return e?e.columnName():null}},{key:"mbql",value:function(){return["aggregation",this._aggregationIndex,this._options]}},{key:"icon",value:function(){return"int"}}],[{key:"parseMBQL",value:function(e,t,r){if(Array.isArray(e)&&"aggregation"===e[0]){var i=ee(e.slice(1),2);return new n(i[0],i[1],t,r)}}}]),n}(we),Pe=function(e){ne(n,e);var t=ie(n);function n(e,r,i){return ve(this,n),t.call(this,null,null,r,i,{_tagName:e})}return ge(n,[{key:"validateTemplateTag",value:function(){var e=this.tag();return e?this.isDimensionType()&&null==e.dimension?new s.p((0,r.t)(x||(x=ce(['The variable "','" needs to be mapped to a field.'])),this.tagName()),s.W.MISSING_TAG_DIMENSION):null:new s.p((0,r.t)(_||(_=ce(['Invalid template tag "','"'])),this.tagName()))}},{key:"isValidDimensionType",value:function(){var e=this.validateTemplateTag();return this.isDimensionType()&&null===e}},{key:"isDimensionType",value:function(){var e=this.tag();return"dimension"===(null==e?void 0:e.type)}},{key:"isVariableType",value:function(){var e=this.tag();return["text","number","date"].includes(null==e?void 0:e.type)}},{key:"dimension",value:function(){if(this.isValidDimensionType()){var e=this.tag();return we.parseMBQL(e.dimension,this._metadata,this._query)}return null}},{key:"variable",value:function(){if(this.isVariableType()){var e=this.tag();return new l.d([e.name],this._metadata,this._query)}return null}},{key:"tag",value:function(){var e,t;return(null!==(e=null===(t=this._query)||void 0===t?void 0:t.templateTagsMap())&&void 0!==e?e:{})[this.tagName()]}},{key:"field",value:function(){return this.isValidDimensionType()?this.dimension().field():null}},{key:"name",value:function(){return this.isValidDimensionType()?this.field().name:this.tagName()}},{key:"tagName",value:function(){return this._tagName}},{key:"displayName",value:function(){var e=this.tag();return e&&e["display-name"]||te(ue(n.prototype),"displayName",this).call(this)}},{key:"mbql",value:function(){return["template-tag",this.tagName()]}},{key:"icon",value:function(){return this.isValidDimensionType()?this.dimension().icon():this.isVariableType()?this.variable().icon():"label"}}],[{key:"parseMBQL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.isTemplateTagClause(e)?Object.freeze(new n(e[1],t,r)):null}},{key:"isTemplateTagClause",value:function(e){return Array.isArray(e)&&"template-tag"===e[0]}}]),n}(Oe),Ce=[Oe,Se,xe,Pe],ke=[{name:(0,r.t)(P||(P=ce(["Auto bin"]))),options:{binning:{strategy:"default"}}},{name:(0,r.t)(C||(C=ce(["10 bins"]))),options:{binning:{strategy:"num-bins","num-bins":10}}},{name:(0,r.t)(k||(k=ce(["50 bins"]))),options:{binning:{strategy:"num-bins","num-bins":50}}},{name:(0,r.t)(A||(A=ce(["100 bins"]))),options:{binning:{strategy:"num-bins","num-bins":100}}},{name:(0,r.t)(D||(D=ce(["Don't bin"]))),options:null}],Ae=[{name:(0,r.t)(R||(R=ce(["Minute"]))),options:{"temporal-unit":"minute"}},{name:(0,r.t)(I||(I=ce(["Hour"]))),options:{"temporal-unit":"hour"}},{name:(0,r.t)(T||(T=ce(["Day"]))),options:{"temporal-unit":"day"}},{name:(0,r.t)(N||(N=ce(["Week"]))),options:{"temporal-unit":"week"}},{name:(0,r.t)(q||(q=ce(["Month"]))),options:{"temporal-unit":"month"}},{name:(0,r.t)(M||(M=ce(["Quarter"]))),options:{"temporal-unit":"quarter"}},{name:(0,r.t)(Z||(Z=ce(["Year"]))),options:{"temporal-unit":"year"}},{name:(0,r.t)(L||(L=ce(["Minute of Hour"]))),options:{"temporal-unit":"minute-of-hour"}},{name:(0,r.t)(B||(B=ce(["Hour of Day"]))),options:{"temporal-unit":"hour-of-day"}},{name:(0,r.t)(z||(z=ce(["Day of Week"]))),options:{"temporal-unit":"day-of-week"}},{name:(0,r.t)(F||(F=ce(["Day of Month"]))),options:{"temporal-unit":"day-of-month"}},{name:(0,r.t)(Q||(Q=ce(["Day of Year"]))),options:{"temporal-unit":"day-of-year"}},{name:(0,r.t)(V||(V=ce(["Week of Year"]))),options:{"temporal-unit":"week-of-year"}},{name:(0,r.t)(U||(U=ce(["Month of Year"]))),options:{"temporal-unit":"month-of-year"}},{name:(0,r.t)(H||(H=ce(["Quarter of Year"]))),options:{"temporal-unit":"quarter-of-year"}}],De=[{name:(0,r.t)(Y||(Y=ce(["Bin every 0.1 degrees"]))),options:{binning:{strategy:"bin-width","bin-width":.1}}},{name:(0,r.t)(G||(G=ce(["Bin every 1 degree"]))),options:{binning:{strategy:"bin-width","bin-width":1}}},{name:(0,r.t)(W||(W=ce(["Bin every 10 degrees"]))),options:{binning:{strategy:"bin-width","bin-width":10}}},{name:(0,r.t)($||($=ce(["Bin every 20 degrees"]))),options:{binning:{strategy:"bin-width","bin-width":20}}},{name:(0,r.t)(K||(K=ce(["Don't bin"]))),options:null}]},38771:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(98399);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"count",0),l(this,"dimensions",[]),l(this,"fks",[]),Object.assign(this,t)}var t,n,a;return t=e,n=[{key:"all",value:function(){var e;return(e=[]).concat.apply(e,[this.dimensions].concat(i(this.fks.map((function(e){return e.dimensions})))))}},{key:"hasDimension",value:function(e){if(!e)return r.error("attempted to call FieldDimension.hasDimension() with null dimension",e),!1;var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}(this.all());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.isSameBaseDimension(i))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"sections",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraItems,n=void 0===t?[]:t,r=this.dimensions[0]&&this.dimensions[0].field().table,o=r&&!r.isSavedQuestion()?r.objectName():null,a={name:this.name||o,icon:this.icon||"table2",items:[].concat(i(n),i(this.dimensions.map((function(e){return{dimension:e}}))))},u=this.fks.map((function(e){return{name:e.name||e.field&&e.field.targetObjectName(),icon:e.icon||"connections",items:e.dimensions.map((function(e){return{dimension:e}}))}})),l=[];return a.items.length>0&&l.push(a),l.push.apply(l,i(u)),l}}],n&&u(t.prototype,n),a&&u(t,a),e}()},93638:function(e,t,n){"use strict";n.d(t,{Z:function(){return Bt}});var r,i,o=n(68989),a=n(25312),u=n(55799);function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f,d=function(e){var t=e.question,n=e.clicked,o=t.query();if(!t.isStructured()||!o.isEditable())return[];if(!n||!n.column||void 0!==n.value||!n.column.source)return[];var s=n.column,f=o.fieldReferenceForColumn(s);if(!f)return[];var d=c(o.sorts()[0]||[],2),p=d[0],h=d[1],m=null!=h&&u.ZP.isEqual(f,h),y=[];return m&&"desc"!==p||y.push({name:"sort-ascending",section:"sort",buttonType:"sort",icon:"arrow_up",tooltip:(0,a.t)(r||(r=l(["Sort ascending"]))),question:function(){return o.replaceSort(["asc",f]).question()}}),m&&"asc"!==p||y.push({name:"sort-descending",section:"sort",buttonType:"sort",icon:"arrow_down",tooltip:(0,a.t)(i||(i=l(["Sort descending"]))),question:function(){return o.replaceSort(["desc",f]).question()}}),y},p=n(12293),h=n(32735),m=n(91664),y=n(68594),v=n(98958),b=n(83360);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t,n,r=e.question,i=e.query,o=e.column,u=e.value,l=(0,b.C5)((0,b.h4)(o.display_name)),c=(0,b._6)(i.table().display_name);return{name:"view-fks",section:"standalone_filter",buttonType:"horizontal",icon:"filter",title:h.createElement("span",null,(0,a.jt)(f||(t=["View this ","'s ",""],n||(n=t.slice(0)),f=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),l,c)),question:function(){return r.filter("=",o,u)}}}function S(e){return["field",e.name,{"base-type":e.base_type}]}function E(e){var t=e.question,n=e.clicked,r=t.query();if(!t.isStructured()||!r.isEditable()||null==n||!n.column||void 0===n.value)return[];var i=n.value,o=n.column;if((0,m.Vm)(o.semantic_type))return[];if((0,m.Rj)(o.semantic_type))return[j({question:t,query:r,column:o,value:i})];var a=function(e){return(0,v.kE)(e)||(0,v.J_)(e)?[{name:"<",operator:"<"},{name:">",operator:">"},{name:"=",operator:"="},{name:"",operator:"!="}]:[{name:"=",operator:"="},{name:"",operator:"!="}]}(o)||[];return a.map((function(e){var n=e.name,r=e.operator;return function(e){var t=e.question,n=e.name,r=e.operator,i=e.column,o=e.value;return{name:r,section:"filter",buttonType:"token-filter",title:h.createElement("span",{className:"h2"},n),question:function(){return(0,y.qJ)(i.field_ref)?t.filter(r,i,o):t.query().nest().question().filter(r,w(w({},i),{},{field_ref:S(i)}),o)}}}({question:t,name:n,operator:r,column:o,value:i})}))}var _,x,P,C=n(26548),k=n(81820);function A(e){var t=e.question,n=e.clicked,r=t.query();if(!(t.isStructured()&&r.isEditable()&&n&&n.column&&null!=n.column.field_ref&&void 0===n.value))return[];var i,o,u=n.column,l=new C.Z([],null,r).setDimension(u.field_ref,{useDefaultOperator:!0});return[{name:"filter-column",section:"summarize",title:(0,a.t)(_||(i=["Filter by this column"],o||(o=i.slice(0)),_=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}})))),buttonType:"horizontal",icon:"filter",popover:function(e){var t=e.onChangeCardAndRun,n=e.onClose;return h.createElement(k.Z,{query:r,filter:l,onClose:n,onChangeFilter:function(e){var i=r.filter(e).question().card();t({nextCard:i}),n()},showFieldPicker:!1,isNew:!0})}}]}function D(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var R,I=function(e){var t=e.question,n=e.clicked;n=n&&t.topLevelClicked(n);var r=(t=t.topLevelQuestion()).query();if(!t.isStructured()||!r.isEditable())return[];var i=n&&n.dimensions||[];if(!n||0===i.length)return[];var o="number"==typeof n.value?n.value:2,l=null,c=n.column&&r.parseFieldReference(n.column.field_ref);if(c instanceof u.FK){var s=c.aggregation();l="count-where"===s[0]||"share"===s[0]?s[1]:"sum-where"===s[0]?s[2]:null}var f=r.table()&&r.table().displayName(),d=f?(0,b.M9)(f,o):(0,a.ngettext)((0,a.msgid)(x||(x=D(["record"]))),"records",o);return[{name:"underlying-records",section:"records",buttonType:"horizontal",icon:"table_spaced",title:(0,a.ngettext)((0,a.msgid)(P||(P=D(["View this ",""])),d),"View these ".concat(d),o),question:function(){var e=t.drillUnderlyingRecords(i);return l?e.query().filter(l).question():e}}]},T=n(35463);var N,q=function(e){var t=e.question,n=e.clicked,r=t.query();if(!t.isStructured()||!r.isEditable())return[];var i,o,u=n&&n.dimensions||[],l=u.some((function(e){return(0,y.Rd)(e.column.field_ref)}));return!n||0===u.length||!T.Z.get("enable-xrays")||l?[]:[{name:"exploratory-dashboard",section:"auto",icon:"bolt",buttonType:"token",title:(0,a.t)(R||(i=["X-ray"],o||(o=i.slice(0)),R=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}})))),url:function(){var e=r.clearFilters().question().drillUnderlyingRecords(u).query().filters();return t.getAutomaticDashboardUrl(e)}}]};var M,Z=function(e){var t=e.question,n=e.clicked,r=t.query();if(!t.isStructured()||!r.isEditable())return[];var i,o,u=n&&n.dimensions||[],l=u.some((function(e){return(0,y.Rd)(e.column.field_ref)}));return!n||0===u.length||!T.Z.get("enable-xrays")||l?[]:[{name:"compare-dashboard",section:"auto",icon:"bolt",buttonType:"token",title:(0,a.t)(N||(i=["Compare to the rest"],o||(o=i.slice(0)),N=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}})))),url:function(){var e=r.clearFilters().question().drillUnderlyingRecords(u).query().filters();return t.getComparisonDashboardUrl(e)}}]},L=n(6498);var B,z=function(e){var t=e.question,n=e.clicked;if(!t.query().isEditable())return[];var r,i,o=n&&n.dimensions||[],u=(0,L.dm)(o,t.metadata());return u?[{name:"timeseries-zoom",section:"zoom",title:(0,a.t)(M||(r=["Zoom in"],i||(i=r.slice(0)),M=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),buttonType:"horizontal",icon:"zoom_in",question:function(){return t.pivot(u.breakouts,o)}}]:[]},F=n(55316);var Q,V,U,H=function(e){var t=e.question,r=e.clicked;if(!r||void 0!==r.value||!r.column||!t.query().isEditable())return[];var i,o,u=r.column;return[{name:"formatting",title:"Column formatting",section:"sort",buttonType:"formatting",icon:"gear",tooltip:(0,a.t)(B||(i=["Column formatting"],o||(o=i.slice(0)),B=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}})))),action:function(){return function(){var e;return(e=n(35123)).showChartSettings.apply(e,arguments)}({widget:{id:"column_settings",props:{initialKey:(0,F.$Q)(u)}}})}}]},Y=n(4356),G=function(){return[z,d,p.Z,E,A,I,q,Z,H,Y.Z]};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var te,ne={sum:{section:"sum",buttonType:"token",title:(0,a.t)(Q||(Q=ee(["Sum"])))},avg:{section:"sum",buttonType:"token",title:(0,a.t)(V||(V=ee(["Avg"])))},distinct:{section:"sum",buttonType:"token",title:(0,a.t)(U||(U=ee(["Distincts"])))}},re=function(e){var t=e.question,n=e.clicked,r=void 0===n?{}:n,i=r.column,o=r.value;if(!i||void 0!==o)return[];var a=t.query();return t.isStructured()&&a.isEditable()?Object.entries(ne).map((function(e){var t=J(e,2),n=t[0],r=t[1];return[(0,v.gu)(n),r]})).filter((function(e){var t=J(e,1)[0];return(0,v.T4)(t,i)})).map((function(e){var t=J(e,2),n=t[0],r=t[1];return $($({name:r.title.toLowerCase()},r),{},{question:function(){return a.aggregate([n.short,(0,F.ce)(i)]).question().setDefaultDisplay()},action:function(){return function(e){setTimeout((function(){e({type:"metabase/qb/EDIT_SUMMARY"})}))}}})})):[]};var ie,oe=function(e){var t=e.question,n=e.clicked,r=void 0===n?{}:n,i=r.column,o=r.value,u=t.query(),l=t.isStructured();if(!i||void 0!==o||!l||!u.isEditable())return[];var c=u.dimensionOptions((function(e){return e.field().isDate()})).all()[0];return c?["sum"].map(v.gu).filter((function(e){return(0,v.T4)(e,i)})).map((function(e){return{name:"summarize-by-time",buttonType:"horizontal",section:"summarize",icon:"line",title:h.createElement("span",null,(0,b.kC)(e.short)," ",(0,a.t)(te||(n=["over time"],r||(r=n.slice(0)),te=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))))),question:function(){return t.aggregate(e.requiresField?[e.short,(0,F.ce)(i)]:[e.short]).pivot([c.defaultBreakout()])}};var n,r})):[]},ae=n(30558);var ue=[m.wD.PK,m.wD.SerializedJSON,m.wD.Description,m.wD.Comment],le=function(e){var t=e.question,n=e.clicked;if(!n||!n.column||void 0!==n.value||ae.ZP.any(ue,(function(e){return(0,m.V2)(n.column.semantic_type,e)}))||!t.query().isEditable())return[];var r,i,o=n.column;return[{name:"distribution",title:(0,a.t)(ie||(r=["Distribution"],i||(i=r.slice(0)),ie=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),buttonType:"horizontal",section:"summarize",icon:"bar",question:function(){return t.distribution(o)}}]};function ce(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe,de={name:"segment",drills:function(){return[].concat(ce(G()),[re,oe,le])}},pe=n(17433);var he,me=function(e,t,n){return function(t){var r=t.question,i=t.clicked,o=r.query();if(!r.isStructured()||!o.isEditable())return[];if(i&&(void 0===i.value||"aggregation"!==i.column.source))return[];var u,l,c=i&&i.dimensions||[],s=o.breakoutOptions(null,n);return 0===s.count?[]:[{name:"pivot-by-"+e.toLowerCase(),section:"breakout",buttonType:"token",title:i?e:h.createElement("span",null,(0,a.jt)(fe||(u=["Break out by ",""],l||(l=u.slice(0)),fe=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(l)}}))),h.createElement("span",{className:"text-dark"},e.toLowerCase()))),popover:function(e){var t=e.onChangeCardAndRun,n=e.onClose;return h.createElement(pe.Z,{query:o,breakoutOptions:s,onChangeBreakout:function(e){var n=r.pivot([e],c).card();n&&t({nextCard:n})},onClose:n,alwaysExpanded:!0})}}]}};var ye,ve,be,ge=me((0,a.t)(he||(ye=["Category"],ve||(ve=ye.slice(0)),he=Object.freeze(Object.defineProperties(ye,{raw:{value:Object.freeze(ve)}})))),0,(function(e){return(0,v.U2)(e)&&!(0,v.UJ)(e)}));var we,Oe=me((0,a.t)(be||(be=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Location"]))),0,(function(e){return(0,v.UJ)(e)}));var je=me((0,a.t)(we||(we=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Time"]))),0,(function(e){return(0,v.J_)(e)}));function Se(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _e,xe,Pe,Ce,ke,Ae,De={name:"metric",drills:function(){return[].concat(Se(G()),[ge,Oe,je])}},Re=n(55625),Ie=n(4426),Te=n(23808),Ne=n(86147),qe=n(36574),Me=n(23445),Ze=n(14178),Le=n(67478),Be=n(40841),ze=n.n(Be);function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var i=Je(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et,tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(o,e);var t,n,r,i=We(o);function o(){var e;He(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xe(Ke(e=i.call.apply(i,[this].concat(n))),"state",{dimension:null,filter:null,filterIndex:-1,currentFilter:null}),e}return t=o,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.UNSAFE_componentWillReceiveProps(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.question,n=e.query,r=t.isStructured()&&n.breakouts();if(r&&r.length>0){var i,o,a=n.filters(),l=r.map((function(e){return e.dimension()}))[0],c=l instanceof u.T7?l.withoutTemporalBucketing():l,s=ae.ZP.findIndex(a,(function(e){return Me.dN(e)&&ae.ZP.isEqual(e[1],c.mbql())}));i=s>=0?o=a[s]:null,this.setState({dimension:c,filter:i,filterIndex:s,currentFilter:o})}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,i=n.card,o=n.setDatasetQuery,u=this.state,l=u.dimension,c=u.filter,s=u.filterIndex,f=u.currentFilter;return f?(e=(0,Le.mc)(f).join(" - "),">"===f[0]?e=(0,a.t)(_e||(_e=Ue(["After ",""])),e):"<"===f[0]?e=(0,a.t)(xe||(xe=Ue(["Before ",""])),e):"is-null"===f[0]?e=(0,a.t)(Pe||(Pe=Ue(["Is Empty"]))):"not-null"===f[0]&&(e=(0,a.t)(Ce||(Ce=Ue(["Not Empty"]))))):e=(0,a.t)(ke||(ke=Ue(["All Time"]))),h.createElement(Ie.Z,{triggerElement:h.createElement(Te.Z,{hasValue:!0},e),triggerClasses:ze()(r,"my2"),ref:function(e){return t._popover=e},sizeToFit:!0,autoWidth:!0},h.createElement(Re.ZP,{className:"m2",dimension:l,filter:c,onFilterChange:function(e){t.setState({filter:e})},includeAllTime:!0}),h.createElement("div",{className:"p1"},h.createElement(Ne.Z,{purple:!0,className:"full",onClick:function(){var e=Ze.pm(i);if(e){e=s>=0?qe.a8(e,s,c):qe.KJ(e,c);var n=Ve(Ve({},i.dataset_query),{},{query:e});o(n,{run:!0})}t._popover&&t._popover.close()}},(0,a.t)(Ae||(Ae=Ue(["Apply"]))))))}}])&&Ye(t.prototype,n),r&&Ye(t,r),o}(h.Component),nt=n(60216),rt=n.n(nt),it=n(34344);function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var i=st(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}var ft={title:rt().string,className:rt().string,dimension:rt().object.isRequired,onChangeDimension:rt().func.isRequired},dt={title:(0,a.t)(et||(et=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Group time by"])))},pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(o,e);var t,n,r,i=lt(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).state={},n}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.className,r=e.dimension,i=e.onChangeDimension,o=r.dimensions();return h.createElement("div",{className:ze()(n,"px2 py1"),style:{width:"250px"}},t&&h.createElement("h3",{className:"List-section-header pt1 mx2"},t),h.createElement("ul",{className:"py1"},o.map((function(e,t){var n=e.isEqual(r);return h.createElement("li",{"aria-selected":n,key:t,className:ze()("List-item",{"List-item--selected":n})},h.createElement("a",{className:"List-item-title full px2 py1 cursor-pointer",onClick:function(){return i(e)}},e.subDisplayName()))}))))}}])&&at(t.prototype,n),r&&at(t,r),o}(h.Component);function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vt(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var i=Ot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?wt(e):t}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e){e.question().setDefaultDisplay().update(null,{run:!0})}pt.propTypes=ft,pt.defaultProps=dt;var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(o,e);var t,n,r,i=bt(o);function o(){var e;mt(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jt(wt(e=i.call.apply(i,[this].concat(n))),"_popover",void 0),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props.query;if((0,it.eG)(t.datasetQuery())){var n=t.breakouts();if(!n||0===n.length)return null;var r=n.map((function(e){return e.dimension()})),i=r[0];return h.createElement(Ie.Z,{triggerElement:h.createElement(Te.Z,{hasValue:!0},i.subDisplayName()),triggerClasses:"my2",ref:function(t){return e._popover=t}},h.createElement(pt,{title:null,className:"text-brand",dimension:i,onChangeDimension:function(n){var i=ae.ZP.findIndex(r,(function(e){return e.isSameBaseDimension(n)}));St(i>=0?t.updateBreakout(i,n.mbql()):t.clearBreakouts().breakout(n.mbql())),e._popover&&e._popover.close()}}))}return null}}])&&yt(t.prototype,n),r&&yt(t,r),o}(h.Component);function _t(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(){return Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}jt(Et,"propTypes",{query:rt().object.isRequired});var Ct={name:"timeseries",drills:function(){return[ge,Oe].concat(_t(G()))},ModeFooter:function(e){return h.createElement("div",{className:"flex layout-centered"},h.createElement("span",{className:"mr1"},"View"),h.createElement(tt,Pt({},e,{card:e.lastRunCard})),h.createElement("span",{className:"mx1"},"by"),h.createElement(Et,Pt({},e,{card:e.lastRunCard})))}};function kt(e){return function(e){if(Array.isArray(e))return At(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dt={name:"geo",drills:function(){return[].concat(kt(G()),[ge,je])}};function Rt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt={name:"pivot",drills:function(){return[].concat(Rt(G()),[ge,Oe,je])}},Nt={name:"native",drills:G},qt={name:"default",drills:G},Mt=n(7679),Zt=n(13818);function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Bt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._question=t,this._queryMode=n}var t,n,r;return t=e,n=[{key:"queryMode",value:function(){return this._queryMode}},{key:"name",value:function(){return this._queryMode.name}},{key:"actionsForClick",value:function(e,t,n){var r=this;return this._queryMode.drills().flatMap((function(i){return i({question:r._question,settings:t,clicked:e,extraData:n})}))}}],r=[{key:"forQuestion",value:function(t){var n=function(e){if(!e)return null;var t=e.query();if(t instanceof Zt.Z)return Nt;if(t instanceof Mt.Z){var n=t.aggregations(),r=t.breakouts(),i=t.filters();if(0===n.length&&0===r.length)return function(e,t){var n,r=(null==t||null===(n=t.table())||void 0===n?void 0:n.fields.filter((function(e){return e.isPK()})))||[];return 0!==r.length&&r.every((function(t){var n=e.find((function(e){var n;return(null===(n=e.field())||void 0===n?void 0:n.id)===t.id}));return"="===(null==n?void 0:n.operatorName())&&1===(null==n?void 0:n.arguments().length)}))}(i,t)?o.Z:de;if(n.length>0&&0===r.length)return De;if(n.length>0&&r.length>0){var a=r.map((function(e){return e.field()}));if(1===a.length&&a[0].isDate()||2===a.length&&a[0].isDate()&&a[1].isCategory())return Ct;if(1===a.length&&a[0].isAddress())return Dt;if(1===a.length&&a[0].isCategory()||2===a.length&&a[0].isCategory()&&a[1].isCategory())return Tt}}return qt}(t);return n?new e(t,n):null}}],n&&Lt(t.prototype,n),r&&Lt(t,r),e}()},11217:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(30558),i=n(55446),o=n(7679),a=n(13818),u=n(11967);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var m,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,r,i=d(o);function o(){return c(this,o),i.apply(this,arguments)}return t=o,r=[{key:"isDatasetQueryType",value:function(e){return"internal"===e.type}}],(n=null)&&s(t.prototype,n),r&&s(t,r),o}(u.Z),v=n(24584),b=n(55799),g=n(93638),w=n(23445),O=n(98958),j=n(2818),S=n(5192),E=n(55316),_=n(14178),x=n(10209),P=n(82646),C=n(98007),k=n(6498),A=n(11093),D=n(92065),R=n(35562),I=n(92115);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,u,"next",e)}function u(e){N(o,r,i,a,u,"throw",e)}a(void 0)}))}}function M(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var U=(m=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._card=t,this._metadata=n||new v.Z({databases:{},tables:{},fields:{},metrics:{},segments:{}}),this._parameterValues=r||{},this._update=i}var t,n,l,c,s,f,d,p;return t=e,n=[{key:"clone",value:function(){return new e(this._card,this._metadata,this._parameterValues,this._update)}},{key:"metadata",value:function(){return this._metadata}},{key:"card",value:function(){return this._card}},{key:"setCard",value:function(e){var t=this.clone();return t._card=e,t}},{key:"update",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)e.apply(void 0,[this].concat(n));else{if(!this._update)throw new Error("Question update function not provided or bound");this._update.apply(this,[this].concat(n))}}},{key:"bindUpdate",value:function(e){var t=this.clone();return t._update=e,t}},{key:"withoutNameAndId",value:function(){return this.setCard((0,i.chain)(this.card()).dissoc("id").dissoc("name").dissoc("description").value())}},{key:"omitTransientCardIds",value:function(){var e=this,t=e.card(),n=t.id,i=t.original_card_id;return(0,_.g0)(n)&&(e=e.setCard(r.ZP.omit(e.card(),"id"))),(0,_.g0)(i)&&(e=e.setCard(r.ZP.omit(e.card(),"original_card_id"))),e}},{key:"query",value:function(){for(var e=this._card.dataset_query,t=0,n=[o.Z,a.Z,y];t<n.length;t++){var r=n[t];if(r.isDatasetQueryType(e))return new r(this,e)}throw new Error("Unknown query type: "+e.type)}},{key:"isNative",value:function(){return this.query()instanceof a.Z}},{key:"isStructured",value:function(){return this.query()instanceof o.Z}},{key:"setQuery",value:function(e){return this._card.dataset_query!==e.datasetQuery()?this.setCard((0,i.assoc)(this.card(),"dataset_query",e.datasetQuery())):this}},{key:"datasetQuery",value:function(){return this.card().dataset_query}},{key:"setDatasetQuery",value:function(e){return this.setCard((0,i.assoc)(this.card(),"dataset_query",e))}},{key:"atomicQueries",value:function(){var e=this.query();return e instanceof u.Z?[e]:[]}},{key:"display",value:function(){return this._card&&this._card.display}},{key:"setDisplay",value:function(e){return this.setCard((0,i.assoc)(this.card(),"display",e))}},{key:"isDataset",value:function(){return this._card&&this._card.dataset}},{key:"setDataset",value:function(e){return this.setCard((0,i.assoc)(this.card(),"dataset",e))}},{key:"lockDisplay",value:function(){return this.setDisplayIsLocked(!0)}},{key:"setDisplayIsLocked",value:function(e){return this.setCard((0,i.assoc)(this.card(),"displayIsLocked",e))}},{key:"displayIsLocked",value:function(){return this._card&&this._card.displayIsLocked}},{key:"maybeUnlockDisplay",value:function(e,t){var n=null==t||t.includes(this.display()),r=e.includes(this.display()),i=n&&!r,o=this.displayIsLocked()&&!i;return this.setDisplayIsLocked(o)}},{key:"switchTableScalar",value:function(e){var t=e.rows,n=void 0===t?[]:t,r=e.cols;if(this.displayIsLocked())return this;var i=this.display(),o=["scalar","progress","gauge"].includes(i),a=1===n.length&&1===r.length,u=!o&&a?"scalar":o&&!a?"table":i;return this.setDisplay(u)}},{key:"setDefaultDisplay",value:function(){if(this.displayIsLocked())return this;var e=this.query();if(e instanceof o.Z){var t=e.aggregations(),n=e.breakouts(),i=n.map((function(e){return e.dimension()})),a=i.map((function(e){return e.field()}));if(0===t.length&&0===n.length)return this.setDisplay("table");if(1===t.length&&0===n.length)return this.setDisplay("scalar");if(1===t.length&&1===n.length){if(a[0].isState())return this.setDisplay("map").updateSettings({"map.type":"region","map.region":"us_states"});if(a[0].isCountry())return this.setDisplay("map").updateSettings({"map.type":"region","map.region":"world_countries"})}if(t.length>=1&&1===n.length){if(a[0].isDate())return i[0]instanceof b.T7&&i[0].temporalUnit()&&i[0].isTemporalExtraction()?this.setDisplay("bar"):this.setDisplay("line");if(i[0]instanceof b.T7&&i[0].binningStrategy())return this.setDisplay("bar");if(a[0].isCategory())return this.setDisplay("bar")}if(1===t.length&&2===n.length){if(r.ZP.any(a,(function(e){return e.isDate()})))return this.setDisplay("line");if(a[0].isCoordinate()&&a[1].isCoordinate())return this.setDisplay("map").updateSettings({"map.type":"grid"});if(r.ZP.all(a,(function(e){return e.isCategory()})))return this.setDisplay("bar")}}return this.setDisplay("table")}},{key:"setDefaultQuery",value:function(){return this.query().setDefaultQuery().question()}},{key:"settings",value:function(){return this._card&&this._card.visualization_settings||{}}},{key:"setting",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.settings()[e];return void 0===n?t:n}},{key:"setSettings",value:function(e){return this.setCard((0,i.assoc)(this.card(),"visualization_settings",e))}},{key:"updateSettings",value:function(e){return this.setSettings(z(z({},this.settings()),e))}},{key:"type",value:function(){return this.datasetQuery().type}},{key:"creationType",value:function(){return this.card().creationType}},{key:"isEmpty",value:function(){return this.query().isEmpty()}},{key:"canRun",value:function(){return this.query().canRun()}},{key:"canWrite",value:function(){return this._card&&this._card.can_write}},{key:"canAutoRun",value:function(){var e=this.database();return e&&e.auto_run_queries||!1}},{key:"alertType",value:function(e){var t=this.display();if(!this.canRun())return null;var n="line"===t||"area"===t||"bar"===t;if("progress"===t)return R.Lt;if(n){var r=e||this.card().visualization_settings,i=r["graph.show_goal"],o=r["graph.metrics"]&&1===r["graph.metrics"].length;return i&&o?R.sL:R.v0}return R.v0}},{key:"aggregate",value:function(e){return(0,k.m_)(this,e)||this}},{key:"breakout",value:function(e){return(0,k.Di)(this,e)||this}},{key:"filter",value:function(e,t,n){return(0,k.hX)(this,e,t,n)||this}},{key:"pivot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,k.jz)(this,e,t)||this}},{key:"drillUnderlyingRecords",value:function(e){return(0,k.eh)(this,e)||this}},{key:"toUnderlyingRecords",value:function(){return(0,k.F0)(this)||this}},{key:"toUnderlyingData",value:function(){return this.setDisplay("table")}},{key:"distribution",value:function(e){return(0,k.tb)(this,e)||this}},{key:"composeThisQuery",value:function(){if(this.id()){var e={display:"table",dataset_query:{type:"query",database:this.databaseId(),query:{"source-table":"card__"+this.id()}}};return this.setCard(e)}}},{key:"composeDataset",value:function(){return this.isDataset()?this.setDatasetQuery({type:"query",database:this.databaseId(),query:{"source-table":"card__"+this.id()}}):this}},{key:"drillPK",value:function(t,n){var r,i=this.query();if(!(i instanceof o.Z))return this.isDataset()?e.create({type:"query",databaseId:this.databaseId(),tableId:t.table_id,metadata:this.metadata()}).query().addFilter(["=",t.reference(),n]).question():void 0;var a=null===(r=i.filters())||void 0===r?void 0:r.filter((function(e){var n=null==e?void 0:e.field();if(!n)return!1;var r=n.id!==t.id,i=n.isPK()&&"="===e.operatorName(),o=n.table.id===t.table.id;return i&&r&&o})).map((function(e){return e.raw()})),u=[["=",["field",t.id,null],n]].concat(M(a)).reduce((function(e,t){return e.addFilter(t)}),i.reset().setTable(t.table));return u.question()}},{key:"_syncStructuredQueryColumnsAndSettings",value:function(e,t){var n=this.query();if(!r.ZP.isEqual(e.setting("table.columns"),this.setting("table.columns")))return(0,E.Ko)(this);var i=r.ZP.difference(n.columnNames(),t.columnNames()),o=r.ZP.difference(t.columnNames(),n.columnNames());if(this.setting("graph.metrics")&&i.length>0&&0===o.length){var a=i.filter((function(e){return n.columnDimensionWithName(e)instanceof b.FK}));if(a.length>0)return this.updateSettings({"graph.metrics":[].concat(M(this.setting("graph.metrics")),M(a))})}return this.setting("table.columns")&&i.length>0&&0===o.length?this.updateSettings({"table.columns":[].concat(M(this.setting("table.columns")),M(i.map((function(e){return{name:e,field_ref:n.columnDimensionWithName(e).baseDimension().mbql(),enabled:!0}}))))}):this}},{key:"_syncNativeQuerySettings",value:function(e){var t=e.data,n=(t=void 0===t?{}:t).cols,r=void 0===n?[]:n,i=this.setting("table.columns")||[];if(0===i.length)return this;var o=r.filter((function(e){return!((0,E.xz)(i,e)>=0)})),a=i.filter((function(e){var t=(0,E.S0)(r,e)>=0,n=(0,E.S0)(o,e)>=0;return t&&!n}));return a.length===i.length&&0===o.length?this:(o=o.map((function(e){return{name:e.name,fieldRef:e.field_ref,enabled:!0}})),this.updateSettings({"table.columns":[].concat(M(a),M(o))}))}},{key:"syncColumnsAndSettings",value:function(e,t){var n=this.query(),r=t&&!t.error;if(n instanceof a.Z&&r)return this._syncNativeQuerySettings(t);var i=e&&e.query();return n instanceof o.Z&&i instanceof o.Z?this._syncStructuredQueryColumnsAndSettings(e,i):this}},{key:"topLevelQuestion",value:function(){var e=this.query();return e instanceof o.Z&&e!==e.topLevelQuery()?this.setQuery(e.topLevelQuery()):this}},{key:"topLevelClicked",value:function(e){var t=this.query();return t instanceof o.Z&&t!==t.topLevelQuery()?z(z({},e),{},{column:e.column&&t.topLevelColumn(e.column),dimensions:e.dimensions&&e.dimensions.map((function(e){return z(z({},e),{},{column:e.column&&t.topLevelColumn(e.column)})}))}):e}},{key:"mode",value:function(){return g.Z.forQuestion(this)}},{key:"isObjectDetail",value:function(){var e=this.mode();return!!e&&"object"===e.name()}},{key:"objectDetailPK",value:function(){var e=this.query();if(this.isObjectDetail()&&e instanceof o.Z){var t=e.filters();if(t[0]&&(0,w.Kg)(t[0]))return t[0][2]}}},{key:"displayName",value:function(){return this._card&&this._card.name}},{key:"setDisplayName",value:function(e){return this.setCard((0,i.assoc)(this.card(),"name",e))}},{key:"collectionId",value:function(){return this._card&&this._card.collection_id}},{key:"setCollectionId",value:function(e){return this.setCard((0,i.assoc)(this.card(),"collection_id",e))}},{key:"id",value:function(){return this._card&&this._card.id}},{key:"markDirty",value:function(){return this.setCard((0,i.dissoc)((0,i.assoc)(this.card(),"original_card_id",this.id()),"id"))}},{key:"setDashboardProps",value:function(e){var t=e.dashboardId,n=e.dashcardId,r=(0,i.chain)(this.card()).assoc("dashboardId",t).assoc("dashcardId",n).value();return this.setCard(r)}},{key:"description",value:function(){return this._card&&this._card.description}},{key:"lastEditInfo",value:function(){return this._card&&this._card["last-edit-info"]}},{key:"isSaved",value:function(){return!!this.id()}},{key:"publicUUID",value:function(){return this._card&&this._card.public_uuid}},{key:"database",value:function(){var e=this.query();return e&&"function"==typeof e.database?e.database():null}},{key:"databaseId",value:function(){var e=this.database();return e?e.id:null}},{key:"table",value:function(){var e=this.query();return e&&"function"==typeof e.table?e.table():null}},{key:"tableId",value:function(){var e=this.table();return e?e.id:null}},{key:"getUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.originalQuestion,n=e.clean,r=void 0===n||n,i=e.query,o=e.includeDisplayIsLocked,a=e.creationType,u=this.omitTransientCardIds();return!u.id()||t&&u.isDirtyComparedTo(t)?S.wv(null,{hash:u._serializeForUrl({clean:r,includeDisplayIsLocked:o,creationType:a}),query:i}):S.wv(u.card(),{query:i})}},{key:"getAutomaticDashboardUrl",value:function(e){var t="";if(e.length>0){var n=e.length>1?["and"].concat(M(e)):e[0];t="/cell/".concat((0,I.vX)(JSON.stringify(n)))}var r=this.id();if(null==r||(0,_.g0)(r)){var i=(0,I.vX)(JSON.stringify(this.card().dataset_query));return"/auto/dashboard/adhoc/".concat(i).concat(t)}return"/auto/dashboard/question/".concat(r).concat(t)}},{key:"getComparisonDashboardUrl",value:function(e){var t="";if(e.length>0){var n=e.length>1?["and"].concat(M(e)):e[0];t="/cell/".concat((0,I.vX)(JSON.stringify(n)))}var r=this.id(),i=this.query();if(i instanceof o.Z){var a=i.tableId();if(a){if(null==r||(0,_.g0)(r)){var u=(0,I.vX)(JSON.stringify(this.card().dataset_query));return"/auto/dashboard/adhoc/".concat(u).concat(t,"/compare/table/").concat(a)}return"/auto/dashboard/question/".concat(r).concat(t,"/compare/table/").concat(a)}}}},{key:"setResultsMetadata",value:function(e){var t=e&&e.columns;return this.setCard(z(z({},this.card()),{},{result_metadata:t}))}},{key:"getResultMetadata",value:function(){var e;return null!==(e=this.card().result_metadata)&&void 0!==e?e:[]}},{key:"dependentMetadata",value:function(){if(!this.isDataset())return[];var e=[];return this.getResultMetadata().forEach((function(t){(0,O.Rj)(t)&&t.fk_target_field_id&&e.push({type:"field",id:t.fk_target_field_id})})),e}},{key:"isEqual",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.compareResultsMetadata,i=void 0===n||n;if(!e)return!1;if(this.id()!==e.id())return!1;var o=this.card(),a=e.card(),u=i?r.ZP.isEqual(o,a):r.ZP.isEqual(r.ZP.omit(o,"result_metadata"),r.ZP.omit(a,"result_metadata"));return!!u&&!!r.ZP.isEqual(this.parameters(),e.parameters())}},{key:"apiGetResults",value:(p=q(regeneratorRuntime.mark((function e(){var t,n,i,o,a,u,l,c,s,f,d,p,h,m,y,v=this,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.length>0&&void 0!==b[0]?b[0]:{},n=t.cancelDeferred,i=t.isDirty,o=void 0!==i&&i,a=t.ignoreCache,u=void 0!==a&&a,l=t.collectionPreview,c=void 0!==l&&l,s=!o&&this.isSaved(),f=this.parameters().filter((function(e){return r.ZP.has(e,"value")})).map((function(e){return r.ZP.pick(e,"type","target","value","id")})).map((function(e){var t=e.type,n=e.value,r=e.target,i=e.id;return{type:t,value:(0,C._3)(t,n),target:r,id:i}})),!s){e.next=13;break}return d=this._card.dashboardId,p=this._card.dashcardId,h={cardId:this.id(),dashboardId:d,dashcardId:p,ignore_cache:u,collection_preview:c,parameters:f},e.next=9,(0,A.maybeUsePivotEndpoint)(d?A.DashboardApi.cardQuery:A.CardApi.query,this.card(),this.metadata())(h,{cancelled:n.promise});case 9:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 13:return m=function(e){var t=z(z({},e),{},{parameters:f});return(0,A.maybeUsePivotEndpoint)(A.MetabaseApi.dataset,v.card(),v.metadata())(t,n?{cancelled:n.promise}:{})},y=this.atomicQueries().map((function(e){return e.datasetQuery()})),e.abrupt("return",Promise.all(y.map(m)));case 16:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"apiCreate",value:(d=q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.api.create(this.card());case 2:return t=e.sent,e.abrupt("return",this.setCard(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"apiUpdate",value:(f=q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.Z.api.update(this.card());case 2:return t=e.sent,e.abrupt("return",this.setCard(t));case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"reduxCreate",value:(s=q(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(D.Z.actions.create(this.card()));case 2:return n=e.sent,e.abrupt("return",this.setCard(D.Z.HACK_getObjectFromAction(n)));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"reduxUpdate",value:(c=q(regeneratorRuntime.mark((function e(t){var n,i,o,a,u,l,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},i=n.excludeDatasetQuery,o=void 0!==i&&i,a=this.card(),u=o?r.ZP.omit(a,"dataset_query"):a,e.next=5,t(D.Z.actions.update({id:this.id()},u));case 5:return l=e.sent,e.abrupt("return",this.setCard(D.Z.HACK_getObjectFromAction(l)));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"setParameters",value:function(e){return this.setCard((0,i.assoc)(this.card(),"parameters",e))}},{key:"setParameterValues",value:function(e){var t=this.clone();return t._parameterValues=e,t}},{key:"parameters",value:function(){return(0,x.a5)(this.card(),this.metadata(),this._parameterValues)}},{key:"isDirtyComparedTo",value:function(e){if(!this.isSaved()&&this.canRun()&&null==e)return!0;var t=e&&e._serializeForUrl({includeOriginalCardId:!1});return this._serializeForUrl({includeOriginalCardId:!1})!==t}},{key:"isDirtyComparedToWithoutParameters",value:function(t){var n=this,r=T([this,t].map((function(t){return t&&new e(t.card(),n.metadata()).setParameters([]).setDashboardProps({dashboardId:void 0,dashcardId:void 0})})),2),i=r[0],o=r[1];return i.isDirtyComparedTo(o)}},{key:"_serializeForUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeOriginalCardId,n=void 0===t||t,i=e.clean,o=void 0===i||i,a=e.includeDisplayIsLocked,u=void 0!==a&&a,l=e.creationType,c=o?this.query().clean():this.query(),s=z(z(z(z(z({name:this._card.name,description:this._card.description,collection_id:this._card.collection_id,dataset_query:c.datasetQuery(),display:this._card.display,parameters:this._card.parameters},r.ZP.isEmpty(this._parameterValues)?void 0:{parameterValues:this._parameterValues}),{},{visualization_settings:this._card.visualization_settings},n?{original_card_id:this._card.original_card_id}:{}),u?{displayIsLocked:this._card.displayIsLocked}:{}),l?{creationType:l}:{}),{},{dashboardId:this._card.dashboardId,dashcardId:this._card.dashcardId});return(0,I.vX)(JSON.stringify((0,j.CV)(s)))}},{key:"convertParametersToFilters",value:function(){var e=this;if(!this.isStructured())return this;var t=this.parameters().reduce((function(t,n){var r=T(t,2),i=r[0],o=r[1],a=(0,P.Xv)(n,e.metadata());return a?[i.filter(a),!0]:[i,o]}),[this.query(),!1]),n=T(t,2),r=n[0],i=n[1],o=r.question().setParameters(void 0).setParameterValues(void 0);return i?o.markDirty():o}},{key:"getUrlWithParameters",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objectId,i=n.clean,o=!0;if(this.isStructured()){var a=this.setParameters(e);if(this.query().isEditable())return a.setParameterValues(t).convertParametersToFilters().getUrl({clean:i,originalQuestion:this,includeDisplayIsLocked:o,query:{objectId:r}});var u=(0,C.og)(e,t);return a.markDirty().getUrl({clean:i,query:u,includeDisplayIsLocked:o})}return this.getUrl({clean:i,query:(0,x.gQ)(this.query().templateTags(),e,t),includeDisplayIsLocked:o})}},{key:"getModerationReviews",value:function(){return(0,i.getIn)(this,["_card","moderation_reviews"])||[]}}],l=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.databaseId,r=t.tableId,u=t.collectionId,l=t.metadata,c=t.parameterValues,s=t.type,f=void 0===s?"query":s,d=t.name,p=t.display,h=void 0===p?"table":p,m=t.visualization_settings,y=void 0===m?{}:m,v=t.dataset_query,b=void 0===v?"native"===f?a.c:o.S:v,g={name:d,collection_id:u,display:h,visualization_settings:y,dataset_query:b};return null!=r&&(g=(0,i.assocIn)(g,["dataset_query","query","source-table"],r)),null!=n&&(g=(0,i.assocIn)(g,["dataset_query","database"],n)),new e(g,l,c)}}],n&&Q(t.prototype,n),l&&Q(t,l),e}(),V(m.prototype,"query",[j.HP],Object.getOwnPropertyDescriptor(m.prototype,"query"),m.prototype),V(m.prototype,"mode",[j.HP],Object.getOwnPropertyDescriptor(m.prototype,"mode"),m.prototype),m)},86986:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t="function"==typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},o(e)}function a(e,t,n){return a=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},a.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{W:function(){return s},p:function(){return f}});var s={MISSING_TAG_DIMENSION:"MISSING_TAG_DIMENSION"},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,n,r=(t=o,n=u(),function(){var e,r=c(t);if(n){var o=c(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)});function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e)).type=t,n}return o}(o(Error))},73306:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(13818);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f={text:"string",number:"int",date:"calendar",dimension:null},d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,i,l=u(c);function c(){return s(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"tag",value:function(){if(this._query instanceof r.Z)return this._query.templateTagsMap()[this._args[0]]}},{key:"displayName",value:function(){var e=this.tag();return e&&(e["display-name"]||e.name)}},{key:"icon",value:function(){var e=this.tag();return e&&f[e.type]}},{key:"mbql",value:function(){return["template-tag",this._args[0]]}}])&&o(t.prototype,n),i&&o(t,i),c}((function e(t,n,r){s(this,e),this._args=t,this._metadata=n||r&&r.metadata(),this._query=r}))},64583:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return a}});var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in r(this,e),o(this,"_plainObject",null),this._plainObject=t,t)this[n]=t[n]}var t,n,a;return t=e,(n=[{key:"getPlainObject",value:function(){return this._plainObject}}])&&i(t.prototype,n),a&&i(t,a),e}()},89326:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,i=n(30558),o=n(53806),a=n.n(o),u=n(2818),l=n(83360),c=n(1861),s=n(98958),f=n(55799);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function j(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var S=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(d,e);var t,n,r,o=g(d);function d(){return y(this,d),o.apply(this,arguments)}return t=d,n=[{key:"parent",value:function(){return this.metadata?this.metadata.field(this.parent_id):null}},{key:"path",value:function(){var e=[],t=this;do{e.unshift(t)}while(t=t.parent());return e}},{key:"displayName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeSchema,n=void 0!==t&&t,r=e.includeTable,i=e.includePath,o=void 0===i||i,a="";return r&&this.table&&(a+=this.table.displayName({includeSchema:n})+"  "),a+=o?this.path().map(l.Bq).join(": "):(0,l.Bq)(this),a}},{key:"targetObjectName",value:function(){return(0,l.h4)(this.displayName())}},{key:"isDate",value:function(){return(0,s.J_)(this)}},{key:"isTime",value:function(){return(0,s.og)(this)}},{key:"isNumber",value:function(){return(0,s.hj)(this)}},{key:"isNumeric",value:function(){return(0,s.kE)(this)}},{key:"isBoolean",value:function(){return(0,s.gy)(this)}},{key:"isString",value:function(){return(0,s.HD)(this)}},{key:"isAddress",value:function(){return(0,s.UJ)(this)}},{key:"isCity",value:function(){return(0,s.tu)(this)}},{key:"isZipCode",value:function(){return(0,s.OO)(this)}},{key:"isState",value:function(){return(0,s.LW)(this)}},{key:"isCountry",value:function(){return(0,s.be)(this)}},{key:"isCoordinate",value:function(){return(0,s.Mn)(this)}},{key:"isLocation",value:function(){return(0,s.nv)(this)}},{key:"isSummable",value:function(){return(0,s.DX)(this)}},{key:"isScope",value:function(){return(0,s.n0)(this)}},{key:"isCategory",value:function(){return(0,s.U2)(this)}},{key:"isMetric",value:function(){return(0,s.Zd)(this)}},{key:"isDimension",value:function(){return(0,s.vM)(this)}},{key:"isID",value:function(){return(0,s.Vm)(this)||(0,s.Rj)(this)}},{key:"isPK",value:function(){return(0,s.Vm)(this)}},{key:"isFK",value:function(){return(0,s.Rj)(this)}},{key:"isEntityName",value:function(){return(0,s.zF)(this)}},{key:"isCompatibleWith",value:function(e){return this.isDate()===e.isDate()||this.isNumeric()===e.isNumeric()||this.id===e.id}},{key:"fieldValues",value:function(){return(0,c.W6)(this._plainObject)}},{key:"hasFieldValues",value:function(){return!i.ZP.isEmpty(this.fieldValues())}},{key:"icon",value:function(){return(0,s.g3)(this)}},{key:"reference",value:function(){return Array.isArray(this.id)?this.id:["field",this.id,null]}},{key:"dimension",value:function(){var e=this.reference();return new f.T7(e[1],e[2],this.metadata,this.query,{_fieldInstance:this})}},{key:"sourceField",value:function(){var e=this.dimension().sourceDimension();return e&&e.field()}},{key:"filterOperators",value:function(e){return(0,s.xm)(this,this.table,e)}},{key:"filterOperatorsLookup",value:function(){return(0,u.uA)(this.filterOperators(),"name")}},{key:"filterOperator",value:function(e){return this.filterOperatorsLookup()[e]}},{key:"filter_operators",get:function(){return this.filterOperators()}},{key:"filter_operators_lookup",get:function(){return this.filterOperatorsLookup()}},{key:"aggregationOperators",value:function(){var e=this;return this.table?this.table.aggregationOperators().filter((function(t){return t.validFieldsFilters[0]&&1===t.validFieldsFilters[0]([e]).length})):null}},{key:"aggregationOperatorsLookup",value:function(){return(0,u.uA)(this.aggregationOperators(),"short")}},{key:"aggregationOperator",value:function(e){return this.aggregationOperatorsLookup()[e]}},{key:"aggregation_operators",get:function(){return this.aggregationOperators()}},{key:"aggregation_operators_lookup",get:function(){return this.aggregationOperatorsLookup()}},{key:"getDefaultBreakout",value:function(){return this.dimension().defaultBreakout()}},{key:"getDefaultDateTimeUnit",value:function(){try{var e=this.fingerprint.type["type/DateTime"],t=a()(e.latest).diff(a()(e.earliest),"day");return Number.isNaN(t)||this.isTime()?"hour":t<1?"minute":t<31?"day":t<365?"week":"month"}catch(e){return"day"}}},{key:"remappedField",value:function(){var e=this.dimensions&&this.dimensions.human_readable_field_id;return null!=e?this.metadata.field(e):this.name_field?this.name_field:null}},{key:"remappedValue",value:function(e){return this.isNumeric()&&"number"!=typeof e&&(e=parseFloat(e)),this.remapping&&this.remapping.get(e)}},{key:"hasRemappedValue",value:function(e){return this.isNumeric()&&"number"!=typeof e&&(e=parseFloat(e)),this.remapping&&this.remapping.has(e)}},{key:"isSearchable",value:function(){return this.isString()}},{key:"column",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.dimension().column(h({source:"fields"},e))}},{key:"foreign",value:function(e){return this.dimension().foreign(e.dimension())}},{key:"_constructor",value:function(e,t,n,r,i,o,a){this.id=e,this.name=t,this.display_name=n,this.description=r,this.table=i,this.name_field=o,this.metadata=a}}],n&&v(t.prototype,n),r&&v(t,r),d}(n(64583).Z),j(r.prototype,"filterOperators",[u.HP],Object.getOwnPropertyDescriptor(r.prototype,"filterOperators"),r.prototype),j(r.prototype,"filterOperatorsLookup",[u.HP],Object.getOwnPropertyDescriptor(r.prototype,"filterOperatorsLookup"),r.prototype),j(r.prototype,"aggregationOperators",[u.HP],Object.getOwnPropertyDescriptor(r.prototype,"aggregationOperators"),r.prototype),j(r.prototype,"aggregationOperatorsLookup",[u.HP],Object.getOwnPropertyDescriptor(r.prototype,"aggregationOperatorsLookup"),r.prototype),r)},24584:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(30558),i=n(64583),o=n(11217);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,i,a=s(f);function f(){return u(this,f),a.apply(this,arguments)}return t=f,n=[{key:"databasesList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.savedQuestions,n=void 0===t||t;return r.ZP.chain(this.databases).values().filter((function(e){return n||!e.is_saved_questions})).sortBy((function(e){return e.name})).value()}},{key:"tablesList",value:function(){return Object.values(this.tables)}},{key:"metricsList",value:function(){return Object.values(this.metrics)}},{key:"segmentsList",value:function(){return Object.values(this.segments)}},{key:"segment",value:function(e){return null!=e&&this.segments[e]||null}},{key:"metric",value:function(e){return null!=e&&this.metrics[e]||null}},{key:"database",value:function(e){return null!=e&&this.databases[e]||null}},{key:"schema",value:function(e){return null!=e&&this.schemas[e]||null}},{key:"table",value:function(e){return null!=e&&this.tables[e]||null}},{key:"field",value:function(e){return null!=e&&this.fields[e]||null}},{key:"question",value:function(e){return new o.Z(e,this)}},{key:"_constructor",value:function(e,t,n,r,i){this.databases=e,this.tables=t,this.fields=n,this.metrics=r,this.segments=i}}],n&&l(t.prototype,n),i&&l(t,i),f}(i.Z)},66320:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,i=n(11217),o=n(64583),a=n(83360),u=n(98958),l=n(2818);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var w=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,o=y(c);function c(){return p(this,c),o.apply(this,arguments)}return t=c,n=[{key:"hasSchema",value:function(){return this.schema_name&&this.db&&this.db.schemas.length>1||!1}},{key:"database",get:function(){return this.db}},{key:"newQuestion",value:function(){return this.question().setDefaultQuery().setDefaultDisplay()}},{key:"question",value:function(){return i.Z.create({databaseId:this.db&&this.db.id,tableId:this.id,metadata:this.metadata})}},{key:"isSavedQuestion",value:function(){return null!==this.savedQuestionId()}},{key:"savedQuestionId",value:function(){var e=String(this.id).match(/card__(\d+)/);return e?parseInt(e[1]):null}},{key:"query",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.question().query().updateQuery((function(t){return f(f({},t),e)}))}},{key:"dimensions",value:function(){return this.fields.map((function(e){return e.dimension()}))}},{key:"displayName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.includeSchema;return(t&&this.schema?this.schema.displayName()+".":"")+this.display_name}},{key:"objectName",value:function(){return(0,a.C5)(this.displayName())}},{key:"dateFields",value:function(){return this.fields.filter((function(e){return e.isDate()}))}},{key:"aggregationOperators",value:function(){return(0,u.ml)(this)}},{key:"aggregationOperatorsLookup",value:function(){return(0,l.uA)(this.aggregationOperators(),"short")}},{key:"aggregationOperator",value:function(e){return this.aggregation_operators_lookup[e]}},{key:"aggregation_operators",get:function(){return this.aggregationOperators()}},{key:"aggregation_operators_lookup",get:function(){return this.aggregationOperatorsLookup()}},{key:"fieldsLookup",value:function(){return(0,l.uA)(this.fields,"id")}},{key:"fields_lookup",get:function(){return this.fieldsLookup()}},{key:"numFields",value:function(){var e;return(null===(e=this.fields)||void 0===e?void 0:e.length)||0}},{key:"connectedTables",value:function(){return(this.fks||[]).map((function(e){return new c(e.origin.table)}))}},{key:"_constructor",value:function(e,t,n,r,i,o){this.description=e,this.db=t,this.schema=n,this.schema_name=r,this.fields=i,this.entity_type=o}}],n&&h(t.prototype,n),r&&h(t,r),c}(o.Z),g(r.prototype,"aggregationOperators",[l.HP],Object.getOwnPropertyDescriptor(r.prototype,"aggregationOperators"),r.prototype),g(r.prototype,"aggregationOperatorsLookup",[l.HP],Object.getOwnPropertyDescriptor(r.prototype,"aggregationOperatorsLookup"),r.prototype),g(r.prototype,"fieldsLookup",[l.HP],Object.getOwnPropertyDescriptor(r.prototype,"fieldsLookup"),r.prototype),r)},11967:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r,i=n(2818),o=n(38771);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,l,c,s,f,d,p=(r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._metadata=t._metadata,this._datasetQuery=n,this._originalQuestion=t}var t,n,r;return t=e,n=[{key:"question",value:function(){return this._originalQuestion.setQuery(this)}},{key:"clean",value:function(){return this}},{key:"metadata",value:function(){return this._metadata}},{key:"isEditable",value:function(){return!0}},{key:"datasetQuery",value:function(){return this._datasetQuery}},{key:"setDatasetQuery",value:function(e){return this}},{key:"isEmpty",value:function(){return!1}},{key:"canRun",value:function(){return!1}},{key:"readOnly",value:function(){return!0}},{key:"dimensionOptions",value:function(e){return new o.Z}},{key:"variables",value:function(e){return[]}},{key:"dependentMetadata",value:function(){return[]}},{key:"setDefaultQuery",value:function(){return this}},{key:"update",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?e.apply(void 0,[this.datasetQuery()].concat(n)):(i=this.question()).update.apply(i,[void 0].concat(n));var i}}],n&&a(t.prototype,n),r&&a(t,r),e}(),u=r.prototype,l="question",c=[i.HP],s=Object.getOwnPropertyDescriptor(r.prototype,"question"),f=r.prototype,d={},Object.keys(s).forEach((function(e){d[e]=s[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=c.slice().reverse().reduce((function(e,t){return t(u,l,e)||e}),d),f&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(f):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(u,l,d),d=null),r);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(o,e);var t,n,r,i=b(o);function o(){return m(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"tables",value:function(){return null}},{key:"databaseId",value:function(){return null}},{key:"database",value:function(){return null}},{key:"engine",value:function(){return null}}])&&y(t.prototype,n),r&&y(t,r),o}(p)},13818:function(e,t,n){"use strict";n.d(t,{c:function(){return C},Z:function(){return T}});var r,i=n(25312),o=n(8840),a=n(83360),u=n(38908),l=n(99584),c=n(55446),s=n(30558),f=n(11967),d=n(55799),p=n(73306),h=n(38771),m=n(86986);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var C={database:null,type:"native",native:{query:"","template-tags":{}}},k=/^#([0-9]*)$/;function A(e){var t=e.match(k);return t&&t[1].length>0?parseInt(t[1]):null}function D(e){return k.test(e)}function R(e){return e.slice("snippet:".length).trim()}function I(e){return e.startsWith("snippet:")}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(v,e);var t,n,f,y=_(v);function v(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return j(this,v),(t=y.call(this,e,n))._nativeDatasetQuery=n,t}return t=v,n=[{key:"hasData",value:function(){return null!=this.databaseId()&&(!this.requiresTable()||this.collection())}},{key:"canRun",value:function(){return Boolean(this.hasData()&&this.queryText().length>0&&this.allTemplateTagsAreValid())}},{key:"isEmpty",value:function(){return null==this.databaseId()||0===this.queryText().length}},{key:"clean",value:function(){return this.setDatasetQuery((0,c.updateIn)(this.datasetQuery(),["native","template-tags"],(function(e){return e||{}})))}},{key:"tables",value:function(){var e=this.database();return e&&e.tables||null}},{key:"databaseId",value:function(){return this._nativeDatasetQuery.database}},{key:"database",value:function(){var e=this.databaseId();return null!=e?this._metadata.database(e):null}},{key:"engine",value:function(){var e=this.database();return e&&e.engine}},{key:"readOnly",value:function(){var e=this.database();return!e||"write"!==e.native_permissions}},{key:"isEditable",value:function(){return!this.readOnly()}},{key:"setDatabase",value:function(e){return this.setDatabaseId(e.id)}},{key:"setDatabaseId",value:function(e){return e!==this.databaseId()?new v(this._originalQuestion,(0,c.assoc)(this.datasetQuery(),"database",e)):this}},{key:"setDefaultCollection",value:function(){if(this.requiresTable()){var e=this.tables();if(e&&e.length>0)return this.setCollectionName(e[0].name)}return this}},{key:"hasWritePermission",value:function(){var e=this.database();return null!=e&&"write"===e.native_permissions}},{key:"supportsNativeParameters",value:function(){var e=this.database();return null!=e&&s.ZP.contains(e.features,"native-parameters")}},{key:"table",value:function(){var e=this.database(),t=this.collection();return e&&t&&s.ZP.findWhere(e.tables,{name:t})||null}},{key:"queryText",value:function(){return(0,c.getIn)(this.datasetQuery(),["native","query"])||""}},{key:"setQueryText",value:function(e){return new v(this._originalQuestion,(0,c.chain)(this._datasetQuery).assocIn(["native","query"],e).assocIn(["native","template-tags"],this._getUpdatedTemplateTags(e)).value())}},{key:"collection",value:function(){return(0,c.getIn)(this.datasetQuery(),["native","collection"])}},{key:"setCollectionName",value:function(e){return new v(this._originalQuestion,(0,c.assocIn)(this._datasetQuery,["native","collection"],e))}},{key:"setParameterIndex",value:function(e,t){return new v(this._originalQuestion,(0,c.updateIn)(this._datasetQuery,["native","template-tags"],(function(n){var r=Array.from(Object.entries(n)),i=s.ZP.findIndex(r,(function(t){return t[1].id===e}));return r.splice(t,0,r.splice(i,1)[0]),s.ZP.object(r)})))}},{key:"lineCount",value:function(){var e=this.queryText();return e?(0,o.Ek)(e):0}},{key:"aceMode",value:function(){return(0,l.oQ)(this.engine())}},{key:"nativeQueryLanguage",value:function(){return(0,l.cl)(this.engine()).toUpperCase()}},{key:"requiresTable",value:function(){return(0,l.op)(this.engine())}},{key:"templateTags",value:function(){return Object.values(this.templateTagsMap())}},{key:"templateTagsWithoutSnippets",value:function(){return this.templateTags().filter((function(e){return"snippet"!==e.type}))}},{key:"templateTagsMap",value:function(){return(0,c.getIn)(this.datasetQuery(),["native","template-tags"])||{}}},{key:"validate",value:function(){return this.validateTemplateTags()}},{key:"validateTemplateTags",value:function(){var e=this;return this.templateTags().map((function(t){var n,o,a=new d.I0(t.name,e.metadata(),e);return a?a.validateTemplateTag():new m.p((0,i.t)(r||(n=["Invalid template tag: ",""],o||(o=n.slice(0)),r=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))),t.name))})).filter((function(e){return null!=e}))}},{key:"allTemplateTagsAreValid",value:function(){return 0===this.validateTemplateTags().length}},{key:"setTemplateTag",value:function(e,t){return this.setDatasetQuery((0,c.assocIn)(this.datasetQuery(),["native","template-tags",e],t))}},{key:"setDatasetQuery",value:function(e){return new v(this._originalQuestion,e)}},{key:"replaceCardId",value:function(e,t){var n=new RegExp("{{\\s*#".concat(e,"\\s*}}"),"g"),r=this.queryText().replace(n,(function(){return"{{#".concat(t,"}}")}));return this.setQueryText(r)}},{key:"dimensionOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.ZP.identity,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.ZP.identity,r=this.templateTags().filter((function(e){return"dimension"===e.type&&n(e)})).map((function(t){return new d.I0(t.name,e.metadata(),e)})).filter((function(e){return t(e)}));return new h.Z({dimensions:r,count:r.length})}},{key:"variables",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0};return this.templateTags().filter((function(e){return"dimension"!==e.type})).map((function(t){return new p.d([t.name],e.metadata(),e)})).filter(t)}},{key:"updateSnippetsWithIds",value:function(e){var t=s.ZP.chain(this.templateTags()).filter((function(e){return"snippet"===e.type&&null==e["snippet-id"]})).groupBy((function(e){return e["snippet-name"]})).value();if(0===Object.keys(t).length)return this;var n,r=this,i=w(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=w(t[a.name]||[]);try{for(u.s();!(o=u.n()).done;){var l=o.value;r=r.setTemplateTag(l.name,b(b({},l),{},{"snippet-id":a.id}))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){i.e(e)}finally{i.f()}return r}},{key:"updateQueryTextWithNewSnippetNames",value:function(e){var t=s.ZP.chain(this.templateTags()).filter((function(e){return"snippet"===e.type})).groupBy((function(e){return e["snippet-id"]})).value();if(0===Object.keys(t).length)return this;var n,r=this.queryText(),i=w(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=w(t[a.id]||[]);try{for(u.s();!(o=u.n()).done;){var l=o.value;l["snippet-name"]!==a.name&&(r=r.replace(new RegExp("{{\\s*".concat(l.name,"\\s*}}"),"g"),"{{snippet: ".concat(a.name,"}}")))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){i.e(e)}finally{i.f()}return r!==this.queryText()?this.setQueryText(r).updateSnippetsWithIds(e):this}},{key:"_getUpdatedTemplateTags",value:function(e){if(e&&this.supportsNativeParameters()){for(var t,n=[],r=/\{\{\s*((snippet:\s*[^}]+)|[A-Za-z0-9_\.]+?|#[0-9]*)\s*\}\}/g;null!=(t=r.exec(e));)n.push(t[1]);n=s.ZP.uniq(n);var i=this.templateTagsMap(),o=Object.keys(i);if(n.length>0||o.length>0){var l=s.ZP.difference(n,o),c=s.ZP.difference(o,n),f=b({},i);if(1===c.length&&1===l.length){var d=b({},f[c[0]]);d["display-name"]===(0,a.OI)(c[0])&&(d["display-name"]=(0,a.OI)(l[0])),d.name=l[0],D(d.name)?(d.type="card",d["card-id"]=A(d.name)):I(d.name)&&(d.type="snippet",d["snippet-name"]=R(d.name)),f[d.name]=d,delete f[c[0]]}else{var p,h=w(c);try{for(h.s();!(p=h.n()).done;)delete f[p.value]}catch(e){h.e(e)}finally{h.f()}var m,y=w(l);try{for(y.s();!(m=y.n()).done;){var v=m.value;f[v]={id:u.Z.uuid(),name:v,"display-name":(0,a.OI)(v),type:"text"},D(v)?f[v]=Object.assign(f[v],{type:"card","card-id":A(v)}):I(v)&&(f[v]=Object.assign(f[v],{type:"snippet","snippet-name":R(v)}))}}catch(e){y.e(e)}finally{y.f()}}for(var g=0,O=Object.values(f);g<O.length;g++){var j=O[g];null==j.id&&(j.id=u.Z.uuid())}return f}}return{}}},{key:"dependentMetadata",value:function(){var e=this;return this.templateTags().filter((function(e){return"dimension"===e.type&&d.T7.isFieldClause(e.dimension)})).map((function(t){return{type:"field",id:d.T7.parseMBQL(t.dimension,e.metadata()).field().id}}))}}],f=[{key:"isDatasetQueryType",value:function(e){return e&&e.type===C.type}}],n&&S(t.prototype,n),f&&S(t,f),v}(f.Z)},7679:function(e,t,n){"use strict";n.d(t,{S:function(){return le},Z:function(){return ce}});var r=n(36574),i=n(66343),o=n(76288),a=n(98958),u=n(30558),l=n(55446),c=n(25312),s=n(2818),f=n(55799),d=n(38771),p=n(11967),h=n(55144),m=n(72461);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,r,i=w(o);function o(){return v(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"replace",value:function(e){return null!=e?this._query.updateBreakout(this._index,e):this._query.updateBreakout(this._index,this)}},{key:"add",value:function(){return this._query.breakout(this)}},{key:"remove",value:function(){return this._query.removeBreakout(this._index)}},{key:"displayName",value:function(){var e=this.dimension();return e&&e.render()}},{key:"isValid",value:function(){var e=this.query();return!e||e.breakoutOptions(this).hasDimension(this.dimension())}},{key:"dimension",value:function(){return this._query.parseFieldReference(this)}},{key:"field",value:function(){return this.dimension().field()}}])&&b(t.prototype,n),r&&b(t,r),o}(m.Z),E=n(26548),_=n(88816);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,e);var t,n,r,i=A(o);function o(){return P(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"replace",value:function(e){return null!=e?this._query.updateSort(this._index,e):this._query.updateSort(this._index,this)}},{key:"add",value:function(){return this._query.addSort(this)}},{key:"remove",value:function(){return this._query.removeSort(this._index)}},{key:"displayName",value:function(){var e=this.dimension();return e&&e.render()}},{key:"isValid",value:function(){var e=this.query();return!e||e.sortOptions(this).hasDimension(this.dimension())}},{key:"dimension",value:function(){return this._query.parseFieldReference(this[1])}},{key:"field",value:function(){return this.dimension().field()}}])&&C(t.prototype,n),r&&C(t,r),o}(m.Z),T=n(66320),N=n(89326),q=n(91664),M=n(55316),Z=n(98399);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var B,z,F=["quotes"];function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function U(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=G(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function G(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var i=ue(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}var le={database:null,type:"query",query:{"source-table":null}},ce=(B=function(e){re(n,e);var t=oe(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;return ee(this,n),(r=t.call(this,e,i))._structuredDatasetQuery=i,r}return ne(n,[{key:"isEmpty",value:function(){return!this.databaseId()}},{key:"canRun",value:function(){return!(!this.sourceTableId()&&!this.sourceQuery())}},{key:"hasMetadata",value:function(){return this.metadata()&&!!this.rootTable()}},{key:"isEditable",value:function(){return!this.readOnly()&&this.hasMetadata()}},{key:"tables",value:function(){var e=this.database();return e&&e.tables||null}},{key:"databaseId",value:function(){return this._structuredDatasetQuery.database}},{key:"database",value:function(){var e=this.databaseId();return null!=e?this._metadata.database(e):null}},{key:"engine",value:function(){var e=this.database();return e&&e.engine}},{key:"readOnly",value:function(){return!this.database()}},{key:"reset",value:function(){return new n(this._originalQuestion)}},{key:"query",value:function(){return this._structuredDatasetQuery.query}},{key:"setQuery",value:function(e){return this._updateQuery((function(){return e}),[])}},{key:"clearQuery",value:function(){return this._updateQuery((function(){return{}}))}},{key:"updateQuery",value:function(e){return this._updateQuery(e,[])}},{key:"setDatabase",value:function(e){return this.setDatabaseId(e.id)}},{key:"setDatabaseId",value:function(e){return e!==this.databaseId()?new n(this._originalQuestion,(0,l.chain)(this.datasetQuery()).assoc("database",e).assoc("query",{}).value()):this}},{key:"sourceTableId",value:function(){var e;return null===(e=this.query())||void 0===e?void 0:e["source-table"]}},{key:"setSourceTableId",value:function(e){return e!==this.sourceTableId()?new n(this._originalQuestion,(0,l.chain)(this.datasetQuery()).assoc("database",this.metadata().table(e).database.id).assoc("query",{"source-table":e}).value()):this}},{key:"tableId",value:function(){return this.sourceTableId()}},{key:"setTableId",value:function(e){return this.setSourceTableId(e)}},{key:"setTable",value:function(e){return this.setSourceTableId(e.id)}},{key:"setDefaultQuery",value:function(){var e=this.table();if(e&&"entity/GoogleAnalyticsTable"===e.entity_type&&!this.isEmpty()&&!this.hasAnyClauses()){var t=u.ZP.findWhere(e.fields,{name:"ga:date"});if(t)return this.filter(["time-interval",["field",t.id,null],-365,"day"]).aggregate(["metric","ga:users"]).aggregate(["metric","ga:pageviews"]).breakout(["field",t.id,{"temporal-unit":"week"}])}return this}},{key:"table",value:function(){var e=this,t=this.sourceQuery();return t?new T.Z({name:"",display_name:"",db:t.database(),fields:t.columns().map((function(t){return new N.Z(K(K({},t),{},{id:["field",t.name,{"base-type":t.base_type}],source:"fields",query:e}))})),segments:[],metrics:[]}):this.metadata().table(this.sourceTableId())}},{key:"clean",value:function(){if(!this.hasMetadata())return Z.warn("Warning: can't clean query without metadata!"),this;var e=this,t=e.sourceQuery();return t&&(e=e.setSourceQuery(t.clean())),e.cleanJoins().cleanExpressions().cleanFilters().cleanAggregations().cleanBreakouts().cleanSorts().cleanLimit().cleanFields().cleanEmpty()}},{key:"cleanNesting",value:function(){var e=this.sourceQuery();return e?this.setSourceQuery(e.cleanNesting()).cleanEmpty():this}},{key:"cleanJoins",value:function(){var e=this;return this.joins().forEach((function(t,n){e=e.updateJoin(n,t.clean())})),e._cleanClauseList("joins")}},{key:"cleanExpressions",value:function(){return this}},{key:"cleanFilters",value:function(){return this._cleanClauseList("filters")}},{key:"cleanAggregations",value:function(){return this._cleanClauseList("aggregations")}},{key:"cleanBreakouts",value:function(){return this._cleanClauseList("breakouts")}},{key:"cleanSorts",value:function(){return this._cleanClauseList("sorts")}},{key:"cleanLimit",value:function(){return this}},{key:"cleanFields",value:function(){return this}},{key:"cleanEmpty",value:function(){var e=this.sourceQuery();return e&&!this.hasAnyClauses()?e:this}},{key:"isValid",value:function(){if(!this.hasData())return!1;var e=this.sourceQuery();return!(e&&!e.isValid())&&(!!(this._isValidClauseList("joins")&&this._isValidClauseList("filters")&&this._isValidClauseList("aggregations")&&this._isValidClauseList("breakouts"))&&!("entity/GoogleAnalyticsTable"===this.table().entity_type&&!this.hasAggregations()))}},{key:"_cleanClauseList",value:function(e){for(var t=this,n=0;n<t[e]().length;n++){var r=t[e]()[n];this._validateClause(r)||(Z.warn("Removing invalid MBQL clause",r),t=r.remove(),n-=1)}return t}},{key:"_isValidClauseList",value:function(e){var t,n=Y(this[e]());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this._validateClause(r))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"_validateClause",value:function(e){try{return e.isValid()}catch(t){return Z.warn("Error thrown while validating clause",e,t),!1}}},{key:"hasData",value:function(){return!!this.table()}},{key:"hasAnyClauses",value:function(){return this.hasJoins()||this.hasExpressions()||this.hasFilters()||this.hasAggregations()||this.hasBreakouts()||this.hasSorts()||this.hasLimit()||this.hasFields()}},{key:"hasJoins",value:function(){return this.joins().length>0}},{key:"hasExpressions",value:function(){return Object.keys(this.expressions()).length>0}},{key:"hasFilters",value:function(){return this.filters().length>0}},{key:"hasAggregations",value:function(){return this.aggregations().length>0}},{key:"hasBreakouts",value:function(){return this.breakouts().length>0}},{key:"hasSorts",value:function(){return this.sorts().length>0}},{key:"hasLimit",value:function(){var e=this.limit();return null!=e&&e>0}},{key:"hasFields",value:function(){return this.fields().length>0}},{key:"aggregate",value:function(e){return this.addAggregation(e)}},{key:"breakout",value:function(e){return e instanceof N.Z&&(e=e.dimension()),e instanceof f.ZP&&(e=e.mbql()),this.addBreakout(e)}},{key:"filter",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return this.addFilter(e)}))},{key:"sort",value:function(e){return this.addSort(e)}},{key:"join",value:function(e){return this.addJoin(e)}},{key:"joins",value:function(){var e=this;return r.kb(this.query()).map((function(t,n){return new _.Z(t,n,e)}))}},{key:"addJoin",value:function(e){return this._updateQuery(r.gD,arguments)}},{key:"updateJoin",value:function(e,t){return this._updateQuery(r.ib,arguments)}},{key:"removeJoin",value:function(e){return this._updateQuery(r.QM,arguments)}},{key:"clearJoins",value:function(){return this._updateQuery(r.DG,arguments)}},{key:"aggregations",value:function(){var e=this;return r.tm(this.query()).map((function(t,n){return new h.Z(t,n,e)}))}},{key:"aggregationOperators",value:function(){return this.table()&&this.table().aggregationOperators()||[]}},{key:"aggregationOperatorsWithoutRows",value:function(){return this.aggregationOperators().filter((function(e){return"rows"!==e.short}))}},{key:"aggregationFieldOptions",value:function(e){var t="string"==typeof e?this.table().aggregationOperator(e):e;if(t){var n=this.fieldOptions((function(e){return t.validFieldsFilters.length>0&&1===t.validFieldsFilters[0]([e]).length})),r=this.expressionDimensions().filter((function(e){return(0,a.T4)(t,e.field())}));return new d.Z(K(K({},n),{},{dimensions:u.ZP.uniq([].concat(H(r),H(n.dimensions.filter((function(e){return!(e instanceof f.gK)})))))}))}return new d.Z({count:0,fks:[],dimensions:[]})}},{key:"canRemoveAggregation",value:function(){return this.aggregations().length>1}},{key:"isBareRows",value:function(){return!this.hasAggregations()}},{key:"isRaw",value:function(){return!this.hasAggregations()&&!this.hasBreakouts()}},{key:"formatExpression",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.quotes,r=void 0===n?o.mT:n,i=U(t,F);return(0,o.WU)(e,K(K({quotes:r},i),{},{query:this}))}},{key:"addAggregation",value:function(e){return this._updateQuery(r.U$,arguments)}},{key:"updateAggregation",value:function(e,t){return this._updateQuery(r.Le,arguments)}},{key:"removeAggregation",value:function(e){return this._updateQuery(r.XZ,arguments)}},{key:"clearAggregations",value:function(){return this._updateQuery(r.W9,arguments)}},{key:"breakouts",value:function(){var e=this;return null==this.query()?[]:r.pl(this.query()).map((function(t,n){return new S(t,n,e)}))}},{key:"breakoutOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new Set(!0===e?[]:this.breakouts().filter((function(t){return!u.ZP.isEqual(t,e)})).map((function(e){return e.field().id})));return this.fieldOptions((function(e){return t(e)&&!n.has(e.id)}))}},{key:"canAddBreakout",value:function(){return this.breakoutOptions().count>0}},{key:"hasValidBreakout",value:function(){var e=this.breakouts();return e.length>0&&e[0].isValid()}},{key:"addBreakout",value:function(e){return this._updateQuery(r.mV,arguments)}},{key:"updateBreakout",value:function(e,t){return this._updateQuery(r.vS,arguments)}},{key:"removeBreakout",value:function(e){return this._updateQuery(r.Qo,arguments)}},{key:"clearBreakouts",value:function(){return this._updateQuery(r.R4,arguments)}},{key:"filters",value:function(){var e=this;return r.Zj(this.query()).map((function(t,n){return new E.Z(t,n,e)}))}},{key:"topLevelFilters",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=this.queries().slice(-t);return(e=[]).concat.apply(e,H(n.map((function(e){return e.filters()}))))}},{key:"filterFieldOptionSections",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.includeSegments,i=void 0===r||r,o=this.filterDimensionOptions(),a=i?this.filterSegmentOptions(e):[];return o.sections({extraItems:a.map((function(e){return{name:e.name,icon:"star_outline",filter:["segment",e.id],query:t}}))})}},{key:"topLevelFilterFieldOptionSections",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=this.queries().slice(-n);r.length<n&&this.canNest()&&this.hasBreakouts()&&r.push(r[r.length-1].nest()),r.reverse();var i=(e=[]).concat.apply(e,H(r.map((function(e){return e.filterFieldOptionSections(t)}))));return r.length>1&&(i[0].name=(0,c.t)(z||(z=V(["Metrics"]))),i[0].items=i[0].items.filter((function(e){if(e.dimension){var t=r[0].dimensionForSourceQuery(e.dimension);if(t)return t instanceof f.FK}return!0}))),i}},{key:"filterDimensionOptions",value:function(){return this.dimensionOptions()}},{key:"filterSegmentOptions",value:function(e){var t=this;!e||e instanceof E.Z||(e=new E.Z(e,null,this));var n=e&&e.isSegment()&&e.segmentId();return this.table().segments.filter((function(e){return null!=n&&n===e.id||!e.archived&&!t.segments().includes(e)}))}},{key:"segments",value:function(){return this.filters().filter((function(e){return e.isSegment()})).map((function(e){return e.segment()}))}},{key:"canAddFilter",value:function(){return r.GL(this.query())&&(this.filterDimensionOptions().count>0||this.filterSegmentOptions().length>0)}},{key:"addFilter",value:function(e){return this._updateQuery(r.KJ,arguments)}},{key:"updateFilter",value:function(e,t){return this._updateQuery(r.a8,arguments)}},{key:"removeFilter",value:function(e){return this._updateQuery(r.ku,arguments)}},{key:"clearFilters",value:function(){return this._updateQuery(r.K5,arguments)}},{key:"sorts",value:function(){var e=this;return r.H9(this.query()).map((function(t,n){return new I(t,n,e)}))}},{key:"sortOptions",value:function(e){if(this.isBareRows()){var t=new Set(this.sorts().filter((function(t){return!u.ZP.isEqual(t,e)})).map((function(e){return e.field().id})));return this.fieldOptions((function(e){return!t.has(e.id)}))}if(this.hasValidBreakout()){var n,r={count:0,dimensions:[],fks:[]},i=Y(this.breakouts());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.dimensions.push(o.dimension()),r.count++}}catch(e){i.e(e)}finally{i.f()}if(this.hasBreakouts()){var a,l=Y(this.aggregations());try{for(l.s();!(a=l.n()).done;){var c=a.value;r.dimensions.push(c.aggregationDimension()),r.count++}}catch(e){l.e(e)}finally{l.f()}}return new d.Z(r)}}},{key:"canAddSort",value:function(){var e=this.sorts();return this.sortOptions().count>0&&(0===e.length||null!=e[e.length-1][0])}},{key:"addSort",value:function(e){return this._updateQuery(r.ay,arguments)}},{key:"updateSort",value:function(e,t){return this._updateQuery(r.W8,arguments)}},{key:"removeSort",value:function(e){return this._updateQuery(r.nX,arguments)}},{key:"clearSort",value:function(){return this._updateQuery(r.Th,arguments)}},{key:"replaceSort",value:function(e){return this.clearSort().addSort(e)}},{key:"limit",value:function(){return r.iX(this.query())}},{key:"updateLimit",value:function(e){return this._updateQuery(r.L_,arguments)}},{key:"clearLimit",value:function(){return this._updateQuery(r.ZM,arguments)}},{key:"expressions",value:function(){return r.FY(this.query())}},{key:"addExpression",value:function(e,t){var n=(0,i.q2)(this.expressions(),e),o=this._updateQuery(r.fM,[n,t]);return o.hasFields()&&o.isRaw()&&(o=o.addField(["expression",n])),o}},{key:"updateExpression",value:function(e,t,n){var o=n&&n!==e,a=o?(0,i.q2)(this.expressions(),e):e,u=this._updateQuery(r.wY,[a,t,n]);if(o){var l=u._indexOfField(["expression",n]);l>=0&&(u=u.updateField(l,["expression",a]))}return u}},{key:"removeExpression",value:function(e){var t=this._updateQuery(r.Cv,arguments),n=t._indexOfField(["expression",e]);return n>=0&&(t=t.removeField(n)),t}},{key:"clearExpressions",value:function(){for(var e=this._updateQuery(r.g9,arguments),t=0,n=Object.keys(this.expressions());t<n.length;t++){var i=n[t],o=e._indexOfField(["expression",i]);o>=0&&(e=e.removeField(o))}return e}},{key:"_indexOfField",value:function(e){return this.fields().findIndex((function(t){return u.ZP.isEqual(t,e)}))}},{key:"fields",value:function(){return this.query().fields||[]}},{key:"addField",value:function(e,t){return this._updateQuery(r.xS,arguments)}},{key:"updateField",value:function(e,t){return this._updateQuery(r.L4,arguments)}},{key:"removeField",value:function(e){return this._updateQuery(r.QZ,arguments)}},{key:"clearFields",value:function(){return this._updateQuery(r.Ee,arguments)}},{key:"setFields",value:function(e){return this._updateQuery((function(t){return K(K({},t),{},{fields:e})}))}},{key:"fieldsOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0};return this.isBareRows()&&!this.hasBreakouts()?this.dimensionOptions(e):new d.Z({count:0,dimensions:[],fks:[]})}},{key:"_keyForFK",value:function(e,t){return e&&t?"".concat(e.id,",").concat(t.id):null}},{key:"_getExplicitJoinsSet",value:function(e){var t=this,n=e.map((function(e){return e.getDimensions().map((function(e){var n=Q(e,2),r=n[0],i=n[1];return t._keyForFK(r&&r.field(),i&&i.field())}))})),r=u.ZP.flatten(n),i=new Set(r);return i.delete(null),i}},{key:"dimensionOptions",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},n={count:0,fks:[],dimensions:[]},r=this.joins(),i=Y(r);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.joinedDimensionOptions(t);n.count+=a.count,n.fks.push(a)}}catch(e){i.e(e)}finally{i.f()}var u=this.table();if(u){var l,c=function(e){return e.field&&e.field()&&e.field().isFK()},s=this.dimensions().filter(t),p=Y(s);try{for(p.s();!(l=p.n()).done;){var h=l.value;n.count++,n.dimensions.push(h)}}catch(e){p.e(e)}finally{p.f()}var m,y=this._getExplicitJoinsSet(r),v=this.dimensions().filter(c),b=Y(v);try{for(b.s();!(m=b.n()).done;){var g=m.value,w=g.field();if(!w||!y.has(this._keyForFK(w,w.target))){var O=g.dimensions([f.T7]).filter(t);O.length>0&&(n.count+=O.length,n.fks.push({field:w,dimension:g,dimensions:O}))}}}catch(e){b.e(e)}finally{b.f()}}return new d.Z(n)}},{key:"fieldOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return!0},t=function(t){var n=t.field&&t.field();return!n||n.isDimension()&&e(n)};return this.dimensionOptions(t)}},{key:"dimensions",value:function(){return[].concat(H(this.expressionDimensions()),H(this.tableDimensions()))}},{key:"tableDimensions",value:function(){var e=this,t=this.table();return t?t.dimensions().map((function(t){return t._query?t:e.parseFieldReference(t.mbql())})):[]}},{key:"expressionDimensions",value:function(){var e=this;return Object.entries(this.expressions()).map((function(t){var n=Q(t,2),r=n[0];n[1];return new f.gK(r,null,e._metadata,e)}))}},{key:"joinedDimensions",value:function(){var e;return(e=[]).concat.apply(e,H(this.joins().map((function(e){return e.fieldsDimensions()}))))}},{key:"breakoutDimensions",value:function(){var e=this;return this.breakouts().map((function(t){return e.parseFieldReference(t)}))}},{key:"aggregationDimensions",value:function(){return this.aggregations().map((function(e){return e.aggregationDimension()}))}},{key:"fieldDimensions",value:function(){var e=this;return this.fields().map((function(t,n){return e.parseFieldReference(t)}))}},{key:"columnDimensions",value:function(){if(this.hasAggregations()||this.hasBreakouts()){var e=this.aggregationDimensions(),t=this.breakoutDimensions();return[].concat(H(t),H(e))}if(this.hasFields()){var n=this.fieldDimensions(),r=this.joinedDimensions();return[].concat(H(n),H(r))}var i=this.expressionDimensions(),o=this.joinedDimensions(),a=this.tableDimensions(),l=u.ZP.chain(a).filter((function(e){var t=e.field();return!1!==t.active&&"sensitive"!==t.visibility_type&&"retired"!==t.visibility_type&&null==t.parent_id})).sortBy((function(e){return e.displayName().toLowerCase()})).sortBy((function(e){var t=e.field().semantic_type;return t===q.wD.PK?0:t===q.wD.Name?1:2})).sortBy((function(e){return e.field().position})).value();return[].concat(H(l),H(i),H(o))}},{key:"columnNames",value:function(){var e=new Map;return this.columnDimensions().map((function(t){var n=t.columnName();if(e.has(n)){var r=e.get(n)+1;return e.set(n,r),"".concat(n,"_").concat(r)}return e.set(n,1),n}))}},{key:"columns",value:function(){var e=this.columnNames();return this.columnDimensions().map((function(t,n){return K(K({},t.column()),{},{name:e[n]})}))}},{key:"columnDimensionWithName",value:function(e){var t=this.columnNames().findIndex((function(t){return t===e}));if(t>=0)return this.columnDimensions()[t]}},{key:"fieldReferenceForColumn",value:function(e){return(0,M.ce)(e)}},{key:"parseFieldReference",value:function(e){return f.ZP.parseMBQL(e,this._metadata,this)}},{key:"dimensionForColumn",value:function(e){if(e){var t=this.fieldReferenceForColumn(e);if(t)return this.parseFieldReference(t)}return null}},{key:"setDatasetQuery",value:function(e){return new n(this._originalQuestion,e)}},{key:"nest",value:function(){return this._updateQuery((function(e){return{"source-query":e}}))}},{key:"canNest",value:function(){var e=this.database();return e&&e.hasFeature("nested-queries")}},{key:"sourceQuery",value:function(){var e,t=null===(e=this.query())||void 0===e?void 0:e["source-query"];return t?new se(this._originalQuestion,K(K({},this.datasetQuery()),{},{query:t}),this):null}},{key:"rootQuery",value:function(){var e=this.sourceQuery();return e?e.rootQuery():this}},{key:"lastSummarizedQuery",value:function(){if(this.hasAggregations()||!this.canNest())return this;var e=this.sourceQuery();return e?e.lastSummarizedQuery():null}},{key:"topLevelQuery",value:function(){return this.canNest()&&this.lastSummarizedQuery()||this}},{key:"topLevelDimension",value:function(e){for(var t=this.topLevelQuery(),n=this;n;){if(n===t)return e;e=n.dimensionForSourceQuery(e),n=n.sourceQuery()}return null}},{key:"topLevelColumn",value:function(e){var t=this.dimensionForColumn(e);if(t){var n=this.topLevelDimension(t);if(n)return n.column()}return null}},{key:"dimensionForSourceQuery",value:function(e){if(e instanceof f.T7&&e.isStringFieldName()){var t=this.sourceQuery();if(t){var n=t.columnNames().indexOf(e.fieldIdOrName());if(n>=0)return t.columnDimensions()[n]}}return null}},{key:"rootTable",value:function(){return this.rootQuery().table()}},{key:"rootTableId",value:function(){return this.rootQuery().sourceTableId()}},{key:"setSourceQuery",value:function(e){if(e instanceof n){if(this.sourceQuery()===e)return this;e=e.query()}return this._updateQuery((function(t){return(0,l.chain)(t).dissoc("source-table").assoc("source-query",e).value()}))}},{key:"queries",value:function(){for(var e=[],t=this;t;t=t.sourceQuery())e.unshift(t);return e}},{key:"dependentMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.foreignTables,n=void 0===t||t,r=[];function i(e){var t=u.ZP.findWhere(r,u.ZP.pick(e,"type","id"));t?Object.assign(t,e):r.push(e)}var o=this.databaseId();o&&i({type:"schema",id:o});var a=this.sourceTableId();a&&i({type:"table",id:a,foreignTables:n});var l,c=Y(this.joins());try{for(c.s();!(l=c.n()).done;){var s=l.value;s.dependentMetadata().forEach(i)}}catch(e){c.e(e)}finally{c.f()}var f=this.sourceQuery();return f&&f.dependentMetadata({foreignTables:n}).forEach(i),r}},{key:"_updateQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.setDatasetQuery((0,l.updateIn)(this._datasetQuery,["query"],(function(n){return e.apply(void 0,[n].concat(H(t)))})))}}],[{key:"isDatasetQueryType",value:function(e){return e&&e.type===le.type}}]),n}(p.Z),X(B.prototype,"table",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"table"),B.prototype),X(B.prototype,"filters",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"filters"),B.prototype),X(B.prototype,"sorts",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"sorts"),B.prototype),X(B.prototype,"tableDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"tableDimensions"),B.prototype),X(B.prototype,"expressionDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"expressionDimensions"),B.prototype),X(B.prototype,"joinedDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"joinedDimensions"),B.prototype),X(B.prototype,"breakoutDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"breakoutDimensions"),B.prototype),X(B.prototype,"aggregationDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"aggregationDimensions"),B.prototype),X(B.prototype,"fieldDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"fieldDimensions"),B.prototype),X(B.prototype,"columnDimensions",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"columnDimensions"),B.prototype),X(B.prototype,"columnNames",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"columnNames"),B.prototype),X(B.prototype,"sourceQuery",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"sourceQuery"),B.prototype),X(B.prototype,"rootQuery",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"rootQuery"),B.prototype),X(B.prototype,"lastSummarizedQuery",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"lastSummarizedQuery"),B.prototype),X(B.prototype,"topLevelQuery",[s.HP],Object.getOwnPropertyDescriptor(B.prototype,"topLevelQuery"),B.prototype),B),se=function(e){re(n,e);var t=oe(n);function n(e,r,i){var o;return ee(this,n),(o=t.call(this,e,r))._parent=i,o}return ne(n,[{key:"setDatasetQuery",value:function(e){return new n(this._originalQuestion,e,this._parent)}},{key:"parentQuery",value:function(){return this._parent.setSourceQuery(this.query())}}]),n}(ce)},55144:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(72461),o=n(25312),a=n(91664),u=n(74601),l=n(55799);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var y=new Set(["count","cum-count","distinct"]),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(h,e);var t,n,i,c=p(h);function h(){return s(this,h),c.apply(this,arguments)}return t=h,(n=[{key:"replace",value:function(e){return null!=e?this._query.updateAggregation(this._index,e):this._query.updateAggregation(this._index,this)}},{key:"add",value:function(){return this._query.aggregate(this)}},{key:"remove",value:function(){return this._query.removeAggregation(this._index)}},{key:"canRemove",value:function(){return this.remove().clean().isValid()}},{key:"displayName",value:function(){var e=this.options()["display-name"];if(e)return e;var t,n,i=this.aggregation();if(i.isCustom())return i._query.formatExpression(i);if(i.isMetric()){var a=i.metric();if(a)return a.displayName()}else if(i.isStandard()){var u=i.option();if(u){var l=u.columnName||u.name.replace(" of ...",""),c=i.dimension();return c?(0,o.t)(r||(t=[""," of ",""],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),l,c.render()):l}}return null}},{key:"columnName",value:function(){var e=this.options()["display-name"];if(e)return e;var t=this.aggregation();if(t.isCustom())return"expression";if(t.isMetric()){var n=t.metric();if(n)return n.columnName()}else if(t.isStandard()){var r=this.short();if(r)return"distinct"===r?"count":r}return null}},{key:"short",value:function(){var e=this.aggregation();if(e.isMetric()){var t=e.metric();if(t)return t.aggregation().short()}else if(e.isStandard())return e[0]}},{key:"baseType",value:function(){var e=this.short();return y.has(e)?a.wD.Integer:a.wD.Float}},{key:"isValid",value:function(){if(this.hasOptions())return this.aggregation().isValid();if(this.isStandard()&&this.dimension()){var e=this.dimension(),t=this.query().table().aggregationOperator(this[0]);return t&&(!t.requiresField||this.query().aggregationFieldOptions(t).hasDimension(e))}return!this.isMetric()||!!this.metric()}},{key:"isStandard",value:function(){return u.Kg(this)}},{key:"isMetric",value:function(){return u.Zd(this)}},{key:"isCustom",value:function(){return u.UK(this)}},{key:"option",value:function(){var e=this.operatorName();return null!=this._query&&e?this._query.aggregationOperators().find((function(t){return t.short===e})):null}},{key:"operatorName",value:function(){if(this.isStandard())return this[0]}},{key:"getFieldReference",value:function(){if(this.isStandard())return this[1]}},{key:"dimension",value:function(){if(this.isStandard()&&this.length>1)return this._query.parseFieldReference(this.getFieldReference())}},{key:"metricId",value:function(){if(this.isMetric())return this[1]}},{key:"metric",value:function(){if(this.isMetric())return this.metadata().metric(this.metricId())}},{key:"hasOptions",value:function(){return"aggregation-options"===this[0]}},{key:"options",value:function(){return this.hasOptions()&&this[2]||{}}},{key:"aggregation",value:function(){return this.hasOptions()?new h(this[1],this._index,this._query):this}},{key:"aggregationDimension",value:function(){return new l.FK(this._index,null,this._query.metadata(),this._query)}}])&&f(t.prototype,n),i&&f(t,i),h}(i.Z)},26548:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,i,o,a=n(72461),u=n(67478),l=n(23445),c=n(37519),s=n(98958),f=n(25312),d=n(30558);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(y,e);var t,n,a,p=j(y);function y(){return g(this,y),p.apply(this,arguments)}return t=y,n=[{key:"replace",value:function(e){return null!=e?this._query.updateFilter(this._index,e):this._query.updateFilter(this._index,this)}},{key:"add",value:function(){return this._query.filter(this)}},{key:"remove",value:function(){return this._query.removeFilter(this._index)}},{key:"displayName",value:function(){if(this.isSegment()){var e=this.segment();return e?e.displayName():(0,f.t)(r||(r=b(["Unknown Segment"])))}if(this.isStandard()){var t=this.dimension(),n=this.operator(),o=t&&t.displayName(),a=n&&!(0,u.U8)(this)&&n.moreVerboseName,l=this.formattedArguments().join(" ");return"".concat(o||""," ").concat(a||""," ").concat(l)}return this.isCustom()?this._query.formatExpression(this):(0,f.t)(i||(i=b(["Unknown Filter"])))}},{key:"isValid",value:function(){if(this.isStandard()){var e=this.dimension();if(!e&&(0,c.UT)(this[1]))return!0;var t=this.query();if(!e||!t||!t.filterDimensionOptions().hasDimension(e))return!1;var n=this.operator();if(n){var r=this.arguments();if(r.length<n.fields.length)return!1;if(!d.ZP.all(r,(function(e){return null!=e})))return!1}return!0}return this.isSegment()?!!this.segment():!!this.isCustom()}},{key:"isStandard",value:function(){return(0,l.Kg)(this)}},{key:"isSegment",value:function(){return(0,l.A8)(this)}},{key:"isCustom",value:function(){return(0,l.UK)(this)}},{key:"isFieldFilter",value:function(){return(0,l.dN)(this)}},{key:"segmentId",value:function(){if(this.isSegment())return this[1]}},{key:"segment",value:function(){if(this.isSegment())return this.metadata().segment(this.segmentId())}},{key:"dimension",value:function(){if(this.isFieldFilter())return this._query.parseFieldReference(this[1]);var e=(0,u.pe)(this);return e?this._query.parseFieldReference(e):void 0}},{key:"field",value:function(){var e=this.dimension();return e&&e.field()}},{key:"operatorName",value:function(){return this[0]}},{key:"operator",value:function(){var e=this.dimension();return e?e.filterOperator(this.operatorName()):null}},{key:"setOperator",value:function(e){var t=this.dimension(),n=t&&t.filterOperator(e),r=[e,t&&t.mbql()];if(n){for(var i=0;i<n.fields.length;i++)void 0!==n.fields[i].default?r.push(n.fields[i].default):r.push(void 0);n.optionsDefaults&&r.push(n.optionsDefaults);var o=this.operator(),a=this;if(o)for(var u=0;u<a.length-2;u++){var l=n.multi?n.fields[0]:n.fields[u],c=o.multi?o.fields[0]:o.fields[u];l&&c&&l.type===c.type&&void 0!==a[u+2]&&(r[u+2]=a[u+2])}}return this.set(r)}},{key:"setDimension",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useDefaultOperator,r=void 0!==n&&n;if(!e)return this.set([]);var i=this._query.parseFieldReference(e);if(i&&(!this.isFieldFilter()||!i.isEqual(this.dimension()))){var o=i.filterOperator(this.operatorName())||r&&i.defaultFilterOperator(),a=o&&o.name,u=this.set(this.isFieldFilter()?[this[0],i.mbql()].concat(m(this.slice(2))):[null,i.mbql()]);return a&&u.operatorName()!==a?u.setOperator(a):u}return this}},{key:"setArgument",value:function(e,t){return this.set([].concat(m(this.slice(0,e+2)),[t],m(this.slice(e+3))))}},{key:"setArguments",value:function(e){return this.set([].concat(m(this.slice(0,2)),m(e)))}},{key:"filterOperators",value:function(e){var t=this.dimension();return t?t.filterOperators(e):null}},{key:"arguments",value:function(){return(0,l.Gp)(this)?this.slice(2,-1):this.slice(2)}},{key:"formattedArguments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.dimension(),n=this.operator(),r=this.arguments();if(n&&n.multi&&r.length>e){var i=r.length;return[(0,f.ngettext)((0,f.msgid)(o||(o=b([""," selection"])),i),"".concat(i," selections"),i)]}return t&&t.field().isDate()&&!t.field().isTime()?(0,u.mc)(this):r.map((function(e,t){return[e,(0,s.hp)(n,t)]})).filter((function(e){var t=h(e,2),n=t[0],r=t[1];return void 0!==n&&!r.hide})).map((function(e,t){var n=h(e,2),r=n[0];return n[1],r}))}},{key:"isDimension",value:function(e){var t=this.dimension();return!!t&&t.isEqual(e)}},{key:"isOperator",value:function(e){var t=this.operator(),n="string"==typeof e?e:e&&e.name;return t&&t.name===n}}],n&&w(t.prototype,n),a&&w(t,a),y}(a.Z)},88816:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r,i,o,a,u=n(72461),l=n(25312),c=n(7679),s=n(55799),f=n(38771),d=n(83360),p=n(68594),h=n(30558),m=n(98399);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||j(e,t)||g()}function b(e){return w(e)||S(e)||j(e)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e){if(Array.isArray(e))return e}function O(e){return function(e){if(Array.isArray(e))return E(e)}(e)||S(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function S(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},A(e,t,n||e)}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var q=[{value:"left-join",name:(0,l.t)(r||(r=N(["Left outer join"]))),icon:"join_left_outer"},{value:"right-join",name:(0,l.t)(i||(i=N(["Right outer join"]))),icon:"join_right_outer"},{value:"inner-join",name:(0,l.t)(o||(o=N(["Inner join"]))),icon:"join_inner"},{value:"full-join",name:(0,l.t)(a||(a=N(["Full outer join"]))),icon:"join_full_outer"}],M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=R(o);function o(){return C(this,o),i.apply(this,arguments)}return t=o,n=[{key:"set",value:function(e){return A(T(o.prototype),"set",this).call(this,e)}},{key:"displayName",value:function(){return this.alias}},{key:"replace",value:function(e){return this._query.updateJoin(this._index,e)}},{key:"joinSourceTableId",value:function(){return this["source-table"]}},{key:"setJoinSourceTableId",value:function(e){if(e!==this["source-table"]){var t=this.set(x(x({},this),{},{"source-query":void 0,"source-table":e,condition:null}));return t.alias?t:t.setDefaultAlias()}return this}},{key:"joinSourceQuery",value:function(){return this["source-query"]}},{key:"setJoinSourceQuery",value:function(e){return this.set(x(x({},this),{},{"source-table":void 0,"source-query":e,condition:null}))}},{key:"_uniqueAlias",value:function(e){var t=this,n=new Set(this.query().joins().map((function(e){return e.alias})).filter((function(e){return e!==t.alias}))),r=this.parentTable();r&&n.add(r.name);for(var i=1;;i++){var o=1===i?e:"".concat(e,"_").concat(i);if(!n.has(o))return o}}},{key:"setFields",value:function(e){return this.set(x(x({},this),{},{fields:e}))}},{key:"addField",value:function(e){return Array.isArray(this.fields)?this.setFields([].concat(O(this.fields),[e])):"none"===this.fields?this.setFields([e]):this}},{key:"clearFields",value:function(){return this.setFields("none")}},{key:"setAlias",value:function(e){var t=this;if((e=this._uniqueAlias(e))!==this.alias){var n=this.set(x(x({},this),{},{alias:e}));return n.joinDimensions().forEach((function(r,i){if(r instanceof s.T7&&r.joinAlias()&&r.joinAlias()===t.alias){var o=r.withJoinAlias(e);n=n.setJoinDimension({index:i,dimension:o})}})),n}return this}},{key:"_getParentDimensionForAlias",value:function(){return this.parentDimensions().find((function(e){return e&&e.field().isFK()}))}},{key:"setDefaultAlias",value:function(){var e=this.joinedTable();if(e&&e.isSavedQuestion())return this.setAlias("Question ".concat(e.savedQuestionId()));var t=e&&e.display_name,n=this._getParentDimensionForAlias(),r=n&&n.field().targetObjectName(),i=t&&r&&(t===r||(0,d._6)(t)===r||t===(0,d._6)(r)||(0,d._6)(t)===(0,d._6)(r)),o=t&&r&&!i&&t+" - "+r||t||r||"source";return this.setAlias(o)}},{key:"getConditions",value:function(){return this.condition?this.isSingleConditionJoin()?[this.condition]:b(this.condition).slice(1):[]}},{key:"setStrategy",value:function(e){return this.set(x(x({},this),{},{strategy:e}))}},{key:"strategyOption",value:function(){return this.strategy?h.ZP.findWhere(this.strategyOptions(),{value:this.strategy}):q[0]}},{key:"strategyOptions",value:function(){var e=this.query().database();return e?q.filter((function(t){var n=t.value;return e.hasFeature(n)})):[]}},{key:"isSingleConditionJoin",value:function(){var e=this.condition;return Array.isArray(e)&&"="===e[0]}},{key:"isMultipleConditionsJoin",value:function(){var e=this.condition;return Array.isArray(e)&&"and"===e[0]}},{key:"getConditionByIndex",value:function(e){return this.condition?this.isSingleConditionJoin()&&!e?this.condition:this.isMultipleConditionsJoin()?b(this.condition).slice(1)[e]:null:null}},{key:"setCondition",value:function(e){return this.set(x(x({},this),{},{condition:e}))}},{key:"setConditionByIndex",value:function(e){var t=e.index,n=void 0===t?0:t,r=e.condition;if(!this.condition)return this.setCondition(r);if(this.isSingleConditionJoin())return 0===n?this.setCondition(r):this.setCondition(["and",this.condition,r]);var i=O(this.condition);return i[n+1]=r,this.setCondition(i)}},{key:"removeCondition",value:function(e){if(null==e||!this.getConditionByIndex(e))return this;if(this.isSingleConditionJoin())return this.setCondition(null);var t=this.condition.filter((function(t,n){return n!==e+1})),n=b(t).slice(1);return 1===n.length?this.setCondition(n[0]):this.setCondition(t)}},{key:"setDefaultCondition",value:function(){var e=this.parentDimensionOptions().dimensions,t=this.joinedTable();if(t&&null!=t.id){var n=h.ZP.find(e,(function(e){var n=e.field().target;return n&&n.table&&n.table.id===t.id}));if(n)return this.setParentDimension({index:0,dimension:n}).setJoinDimension({index:0,dimension:this.joinedDimension(n.field().target.dimension())})}return this}},{key:"_convertDimensionIntoMBQL",value:function(e){return e instanceof s.ZP?e.mbql():e}},{key:"_getJoinDimensionFromCondition",value:function(e){var t=v(e,3)[2],n=this.joinedQuery();return n&&t&&n.parseFieldReference(t)}},{key:"_getJoinDimensionsFromMultipleConditions",value:function(){var e=this;return b(this.condition).slice(1).map((function(t){return e._getJoinDimensionFromCondition(t)}))}},{key:"_getParentDimensionFromCondition",value:function(e){var t=v(e,2)[1];return t&&this.query().parseFieldReference(t)}},{key:"_getParentDimensionsFromMultipleConditions",value:function(){var e=this;return b(this.condition).slice(1).map((function(t){return e._getParentDimensionFromCondition(t)}))}},{key:"parentDimensions",value:function(){return this.condition?this.isSingleConditionJoin()?[this._getParentDimensionFromCondition(this.condition)]:this._getParentDimensionsFromMultipleConditions():[]}},{key:"parentDimensionOptions",value:function(){for(var e=this.query(),t=e.dimensions(),n={count:t.length,dimensions:t,fks:[],preventNumberSubDimensions:!0},r=e.joins(),i=0;i<this.index();i++){var o=r[i].joinedDimensionOptions();n.count+=o.count,n.fks.push(o)}return new f.Z(n)}},{key:"joinDimensions",value:function(){return this.condition?this.isSingleConditionJoin()?[this._getJoinDimensionFromCondition(this.condition)]:this._getJoinDimensionsFromMultipleConditions():[]}},{key:"addEmptyDimensionsPair",value:function(){return this.condition?this.isSingleConditionJoin()?this.setCondition(["and",this.condition,[]]):this.setCondition([].concat(O(this.condition),[[]])):this.setCondition([])}},{key:"_isDateTimeDimensionsJoin",value:function(e,t){return e&&t&&(0,p.K)(e)&&(0,p.K)(t)}},{key:"_getDateTimeFieldCondition",value:function(e,t,n){var r=(0,p.Ky)("parent"===n?e:t);return["=",Z(e,r),Z(t,r)]}},{key:"setJoinDimension",value:function(e){var t=e.index,n=void 0===t?0:t,r=e.dimension,i=e.overwriteTemporalUnit,o=void 0!==i&&i,a=this.getConditionByIndex(n),u=this._convertDimensionIntoMBQL(r),l=a?a[1]:null,c=this._isDateTimeDimensionsJoin(l,u)?this._getDateTimeFieldCondition(l,u,o?"join":"parent"):["=",l,u];return this.setConditionByIndex({index:n,condition:c})}},{key:"setParentDimension",value:function(e){var t=e.index,n=void 0===t?0:t,r=e.dimension,i=e.overwriteTemporalUnit,o=void 0!==i&&i,a=this.getConditionByIndex(n),u=this._convertDimensionIntoMBQL(r),l=a?a[2]:null,c=this._isDateTimeDimensionsJoin(u,l)?this._getDateTimeFieldCondition(u,l,o?"parent":"join"):["=",u,l];return this.setConditionByIndex({index:n,condition:c})}},{key:"joinDimensionOptions",value:function(){var e=this.joinedDimensions();return new f.Z({count:e.length,dimensions:e,fks:[],preventNumberSubDimensions:!0})}},{key:"getDimensions",value:function(){var e=this;return this.getConditions().map((function(t){var n=v(t,3),r=n[1],i=n[2];return[r?e.query().parseFieldReference(r):null,i?e.query().parseFieldReference(i):null]}))}},{key:"joinedQuery",value:function(){var e=this.joinSourceTableId(),t=this.joinSourceQuery();return e?new c.Z(this.query().question(),{type:"query",query:{"source-table":e}}):t?new c.Z(this.query().question(),{type:"query",query:t}):null}},{key:"joinedTable",value:function(){var e=this.joinedQuery();return e&&e.table()}},{key:"parentQuery",value:function(){return this.query()}},{key:"parentTable",value:function(){var e=this.parentQuery();return e&&e.table()}},{key:"joinedDimensions",value:function(){var e=this,t=this.joinedTable();return t?t.dimensions().map((function(t){return e.joinedDimension(t)})):[]}},{key:"fieldsDimensions",value:function(){var e=this;return"all"===this.fields?this.joinedDimensions():Array.isArray(this.fields)?this.fields.map((function(t){return e.query().parseFieldReference(t)})):[]}},{key:"joinedDimensionOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=this.joinedDimensions().filter(e);return new f.Z({name:this.displayName(),icon:"join_left_outer",dimensions:t,fks:[],count:t.length})}},{key:"joinedDimension",value:function(e){return e instanceof s.T7?e.withJoinAlias(this.alias):(m.warn("Don't know how to create joined dimension with:",e),e)}},{key:"dependentMetadata",value:function(){var e=this.joinedQuery();return e?e.dependentMetadata({foreignTables:!1}):[]}},{key:"remove",value:function(){return this._query.removeJoin(this._index)}},{key:"hasGaps",value:function(){var e=this.parentDimensions(),t=this.joinDimensions();return 0===e.length||0===t.length||e.length!==t.length||e.some((function(e){return null==e}))||t.some((function(e){return null==e}))}},{key:"isValid",value:function(){if(!this.condition||!this.joinedTable()||this.hasGaps())return!1;var e=this.parent().dimensionOptions();return[].concat(O(this.parentDimensions()),O(this.joinDimensions())).every((function(t){return e.hasDimension(t)||(0,p.S4)(t.mbql())}))}},{key:"clean",value:function(){if(!this.condition||!this.hasGaps())return this;var e=this,t=this.parentDimensions().findIndex((function(e){return null==e}));return t>=0&&(e=this.removeCondition(t)),(t=this.joinDimensions().findIndex((function(e){return null==e})))>=0&&(e=this.removeCondition(t)),e.clean()}}],n&&k(t.prototype,n),r&&k(t,r),o}(u.k);function Z(e,t){var n=v(e,3);return[n[0],n[1],x(x({},n[2]),{},{"temporal-unit":t})]}},72461:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},p(e)}function h(e,t,n){return h=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},h.apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}n.d(t,{Z:function(){return b},k:function(){return g}});var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r=(t=i,n=m(),function(){var e,r=v(t);if(n){var i=v(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return f(this,e)});function i(e,t,n){var a;return l(this,i),w(d(a=r.call.apply(r,[this].concat(o(e)))),"_index",t),w(d(a),"_query",n),a}return s(i,[{key:"set",value:function(e){return new this.constructor(e,this._index,this._query)}},{key:"replace",value:function(e){throw new Error("Abstract method `replace` not implemented")}},{key:"query",value:function(){return this._query}},{key:"setQuery",value:function(e){return new this.constructor(this,this._index,e)}},{key:"index",value:function(){return this._index}},{key:"update",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.replace(this)).update.apply(e,[void 0].concat(n))}},{key:"parent",value:function(){return this.replace(this)}},{key:"metadata",value:function(){return this._query.metadata()}},{key:"raw",value:function(){return o(this)}}],[{key:Symbol.species,get:function(){return Object.assign((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i(h(Array,t),this._index,this._query)}),i)}}]),i}(p(Array)),g=function(){function e(t,n,r){l(this,e),Object.assign(this,t),w(this,"_index",n),w(this,"_query",r)}return s(e,[{key:"set",value:function(e){return new this.constructor(e,this._index,this._query)}},{key:"replace",value:function(e){throw new Error("Abstract method `replace` not implemented")}},{key:"query",value:function(){return this._query}},{key:"setQuery",value:function(e){return new this.constructor(this,this._index,e)}},{key:"index",value:function(){return this._index}},{key:"update",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.replace(this)).update.apply(e,[void 0].concat(n))}},{key:"parent",value:function(){return this.replace(this)}},{key:"metadata",value:function(){return this._query.metadata()}},{key:"raw",value:function(){var e=Object.entries(this).filter((function(e){return void 0!==i(e,2)[1]}));return Object.fromEntries(e)}}]),e}();function w(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1})}},2818:function(e,t,n){"use strict";n.d(t,{HP:function(){return s},CV:function(){return d},uA:function(){return p}});n(98399);function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t,n){if(e.has(t))return e.get(t);var r=n();return e.set(t,r),r}var c=new WeakMap;function s(e,t,n){var r=e[t];n.value=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=[this,r,n.length].concat(n),a=o.pop(),u=o.reduce((function(e,t){return l(e,t,f)}),c);return l(u,a,(function(){return r.apply(e,n)}))}}var f=function(){return new Map};function d(e){if(null===e||"object"!==u(e))return e;if(Array.isArray(e))return e.map(d);var t,n={},o=r(Object.entries(e).sort((function(e,t){var n=i(e,1)[0],r=i(t,1)[0];return n.localeCompare(r)})));try{for(o.s();!(t=o.n()).done;){var a=i(t.value,2),l=a[0],c=a[1];n[l]=d(c)}}catch(e){o.e(e)}finally{o.f()}return n}function p(e,t){var n,i={},o=r(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i[a[t]]=a}}catch(e){o.e(e)}finally{o.f()}return i}},90839:function(e,t,n){"use strict";var r,i,o,a,u,l=n(32735),c=n(25312),s=n(37582);function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.Z=function(e){var t,n=e.groups,d=e.selectedGroupIds,p=n.find(s.YO),h=n.filter((function(e){return d.includes(e.id)&&!(0,s.YO)(e)&&!(0,s.vK)(e)}));return p&&d.includes(p.id)?l.createElement("span",null,l.createElement("span",{className:"text-purple"},(0,c.t)(r||(r=f(["Admin"])))),h.length>0&&" "+(0,c.t)(i||(i=f(["and"])))+" ",h.length>0&&l.createElement("span",{className:"text-brand"},(t=h.length,(0,c.ngettext)((0,c.msgid)(o||(o=f([""," other group"])),t),"".concat(t," other groups"),t)))):1===h.length?l.createElement("span",{className:"text-brand"},h[0].name):h.length>1?l.createElement("span",{className:"text-brand"},function(e){return(0,c.ngettext)((0,c.msgid)(a||(a=f([""," other group"])),e),"".concat(e," other groups"),e)}(h.length)):l.createElement("span",null,(0,c.t)(u||(u=f(["Default"]))))}},79001:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(32735),i=n(25312),o=n(65844),a=n(4426),u=n(40930),l=n(37582),c=n(90839),s=n(47679),f=n(75246),d=n(6336);var p,h,m=(0,s.Z)("ul",{target:"e1fz7gxd3"})({name:"gdx1zr",styles:"padding:0.5rem 0;width:300px;max-height:600px"}),y=(0,s.Z)("li",{target:"e1fz7gxd2"})("display:flex;align-items:center;justify-content:space-between;cursor:",(function(e){return e.isDisabled?"unset":"pointer"}),";padding:0.5rem 1.5rem;background-color:",(0,d.$_)("white"),";color:",(0,d.$_)("text-medium"),";font-weight:700;",(function(e){return!e.isDisabled&&(0,f.iv)("&:hover{color:",(0,d.$_)("white"),";background-color:",(0,d.$_)("accent7"),";",o.ZP.Root,"{color:",(0,d.$_)("white"),"!important;}}","")}),";"),v=(0,s.Z)("li",{target:"e1fz7gxd1"})("padding:0.75rem 1.5rem 0.5rem 1.5rem;font-size:12px;font-weight:800;color:",(0,d.$_)("accent7"),";"),b=(0,s.Z)("div",{target:"e1fz7gxd0"})({name:"kwokf2",styles:"padding-left:1rem;display:flex;align-items:center;justify-content:flex-end"});function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=function(e){var t=e.groups,n=e.memberships,s=void 0===n?new Map:n,f=e.onAdd,d=e.onRemove,w=e.onChange,O=e.isCurrentUser,j=void 0!==O&&O,S=e.isUserAdmin,E=void 0!==S&&S,_=e.emptyListMessage,x=void 0===_?(0,i.t)(h||(h=g(["No groups"]))):_,P=Array.from(s.keys()),C=r.createElement("div",{className:"flex align-center"},r.createElement("span",{className:"mr1 text-medium"},r.createElement(c.Z,{groups:t,selectedGroupIds:P})),r.createElement(o.ZP,{className:"text-light",name:"chevrondown",size:10}));if(0===t.length)return r.createElement(a.Z,{triggerElement:C},r.createElement("span",{className:"p1"},x));var k=function(e){var t=[e.find(l.vK),e.find(l.YO)].filter(Boolean),n=e.filter((function(e){return!(0,l.YO)(e)&&!(0,l.vK)(e)}));return t.length>0?[{groups:t},{groups:n,header:(0,i.t)(p||(p=g(["Groups"])))}]:[{groups:n}]}(t),A=function(e,t){w(e,t)};return r.createElement(a.Z,{triggerElement:C},r.createElement(m,null,k.map((function(e,t){return r.createElement(r.Fragment,{key:t},e.header&&r.createElement(v,null,e.header),e.groups.map((function(e){var t,n=(0,l.YO)(e)&&j||(0,l.vK)(e),i=s.has(e.id),a=i&&!E&&!n&&!(0,l.YO)(e);return r.createElement(y,{isDisabled:n,key:e.id,onClick:function(){return n?void 0:(t=e.id,void(s.has(t)?d(t):f(t,{is_group_manager:!1})));var t}},r.createElement("span",null,(0,l.tb)(e)),r.createElement(b,null,a&&r.createElement(u.bb.UserTypeToggle,{tooltipPlacement:"bottom",isManager:null===(t=s.get(e.id))||void 0===t?void 0:t.is_group_manager,onChange:function(t){return A(e.id,{is_group_manager:t})}}),r.createElement("span",{style:{visibility:i?"visible":"hidden"}},r.createElement(o.ZP,{name:"check"}))))})))}))))}},64849:function(e,t,n){"use strict";n.d(t,{wh:function(){return O}});var r,i,o=n(24432),a=n(97249),u=n(11093),l=n(30558),c=n(55446),s=n(92528),f="metabase/admin/people/LOAD_MEMBERSHIPS",d="metabase/admin/people/CREATE_MEMBERSHIP",p="metabase/admin/people/DELETE_MEMBERSHIP",h="metabase/admin/people/UPDATE_MEMBERSHIP",m="metabase/admin/people/CLEAR_TEMPORARY_PASSWORD";function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,u,"next",e)}function u(e){g(o,r,i,a,u,"throw",e)}a(void 0)}))}}var O=(0,o.PH)(f,w(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.ZP,e.next=3,u.PermissionsApi.memberships();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.chain.call(e.t0,e.t1).values().flatten().map((function(e){return[e.membership_id,e]})).object().value());case 5:case"end":return e.stop()}}),e)})))),j=((0,o.PH)(d,function(){var e=w(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.groupId,e.next=3,u.PermissionsApi.createMembership({user_id:n,group_id:r});case 3:return i=e.sent,a.vF("People Groups","Membership Added"),e.abrupt("return",{user_id:n,group_id:r,membership:l.ZP.findWhere(i,{user_id:n})});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.PH)(p,function(){var e=w(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.PermissionsApi.deleteMembership({id:t});case 2:return a.vF("People Groups","Membership Deleted"),e.abrupt("return",{membershipId:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.PH)(h,function(){var e=w(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.PermissionsApi.updateMembership(v(v({},t),{},{id:t.membership_id}));case 2:return a.vF("People Groups","Membership Updated"),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.PH)(m),(0,o.jZ)((b(r={},f,{next:function(e,t){return t.payload}}),b(r,d,{next:function(e,t){var n=t.payload,r=n.group_id,i=n.user_id,o=n.membership;return(0,c.assoc)(e,o.membership_id,{group_id:r,user_id:i,membership_id:o.membership_id})}}),b(r,h,{next:function(e,t){var n=t.payload;return(0,c.assoc)(e,n.membership_id,n)}}),b(r,p,{next:function(e,t){var n=t.payload;return(0,c.dissoc)(e,n.membershipId)}}),r),{})),S=(0,o.jZ)((b(i={},s.ZP.actionTypes.CREATE,{next:function(e,t){var n=t.payload;return v(v({},e),{},b({},n.id,n.password))}}),b(i,s.ZP.actionTypes.PASSWORD_RESET_MANUAL,{next:function(e,t){var n=t.payload;return v(v({},e),{},b({},n.id,n.password))}}),b(i,m,{next:function(e,t){var n=t.payload;return v(v({},e),{},b({},n,null))}}),i),{});(0,o.UY)({memberships:j,temporaryPasswords:S})},12527:function(e,t,n){"use strict";n.d(t,{CG:function(){return _}});n(32735);var r=n(30558),i=n(77407),o=n(34159),a=(n(73319),n(25312),n(11093));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,u,"next",e)}function u(e){c(o,r,i,a,u,"throw",e)}a(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p,h=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.endpoint,o=n.actionPrefix,a=n.resultPropName,u=n.storeAsDictionary;f(this,e),d(this,"endpoint",null),d(this,"actionPrefix",null),d(this,"resultPropName","result"),d(this,"storeAsDictionary",!1),d(this,"trigger",(function(e){return function(){var n=s(regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.action(t.actions.requestStarted),n.prev=1,n.next=4,t.endpoint(e);case 4:i=n.sent,r.action(t.actions.requestSuccessful,{result:i}),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(1),r.action(t.actions.requestFailed,{error:n.t0}),n.t0;case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()})),d(this,"reset",(function(){return function(e){return e(t.actions.reset)}})),d(this,"mergeToDictionary",(function(e,t){return e=e||{},t=r.ZP.isArray(t)?r.ZP.indexBy(t,"id"):d({},t.id,t),l(l({},e),t)})),d(this,"getReducers",(function(){var e;return d(e={},t.actions.requestStarted,(function(e){return l(l({},e),{},{loading:!0,error:null})})),d(e,t.actions.requestSuccessful,(function(e,n){var r,i=n.payload.result;return l(l({},e),{},(d(r={},t.resultPropName,t.storeAsDictionary?t.mergeToDictionary(e[t.resultPropName],i):i),d(r,"loading",!1),d(r,"fetched",!0),d(r,"error",null),r))})),d(e,t.actions.requestFailed,(function(e,t){var n=t.payload.error;return l(l({},e),{},{loading:!1,error:n})})),d(e,t.actions.resetRequest,(function(e){return l(l({},e),t.getDefaultState())})),e})),d(this,"getDefaultState",(function(){var e;return d(e={},t.resultPropName,null),d(e,"loading",!1),d(e,"fetched",!1),d(e,"error",null),e})),this.endpoint=i,this.actionPrefix=o,this.resultPropName=a||this.resultPropName,this.storeAsDictionary=u,this.actions={requestStarted:"".concat(this.actionPrefix,"/REQUEST_STARTED"),requestSuccessful:"".concat(this.actionPrefix,"/REQUEST_SUCCESSFUL"),requestFailed:"".concat(this.actionPrefix,"/REQUEST_FAILED"),resetRequest:"".concat(this.actionPrefix,"/REQUEST_RESET")}};n(65844);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,u,"next",e)}function u(e){b(o,r,i,a,u,"throw",e)}a(void 0)}))}}var w="metabase/alerts/FETCH_ALL_ALERTS",O=new h({endpoint:a.AlertApi.list,actionPrefix:w,storeAsDictionary:!0}),j="metabase/alerts/FETCH_ALERTS_FOR_QUESTION_CLEAR_OLD_ALERTS",S="metabase/alerts/FETCH_ALERTS_FOR_QUESTION",E=new h({endpoint:a.AlertApi.list_for_question,actionPrefix:S,storeAsDictionary:!0}),_=function(e){return function(){var t=g(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.action(j,e),t.next=3,n(E.trigger({questionId:e}));case 3:n.action(S);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},x="metabase/alerts/CREATE_ALERT",P=new h({endpoint:a.AlertApi.create,actionPrefix:x,storeAsDictionary:!0});var C="metabase/alerts/UPDATE_ALERT",k=new h({endpoint:a.AlertApi.update,actionPrefix:C,storeAsDictionary:!0}),A="metabase/alerts/UNSUBSCRIBE_FROM_ALERT",D="metabase/alerts/UNSUBSCRIBE_FROM_ALERT_CLEANUP",R=(new h({endpoint:a.AlertApi.unsubscribe,actionPrefix:A,storeAsDictionary:!0}),"metabase/alerts/DELETE_ALERT"),I=(new h({endpoint:a.AlertApi.update,actionPrefix:R,storeAsDictionary:!0}),function(e,t){var n=t.payload;return y(y({},e),{},{result:r.ZP.omit(e.result||{},n)})}),T=(0,i.Z)(y(y(y(y(y({},O.getReducers()),{},v({},j,(function(e,t){var n=t.payload;return y(y({},e),{},{result:r.ZP.omit(e.result||{},(function(e){return e.card.id===n}))})})),E.getReducers()),P.getReducers()),k.getReducers()),{},(v(p={},R,I),v(p,D,I),p)),[]);(0,o.combineReducers)({alerts:T})},20925:function(e,t,n){"use strict";n(1352),n(11602),n(72634),n(79598);var r,i,o,a,u=n(32735),l=n(29502),c=new Set(["Count","CumulativeCount","Sum","CumulativeSum","Distinct","StandardDeviation","Average","Min","Max"]),s=function(e,t){return c.has(e)?t.toUpperCase():new Array(Math.ceil(t.length/2)+1).join("")};l.p_&&window.localStorage["metabase-i18n-debug"]&&(r=n(25312),i=r.t,o=r.jt,a=r.ngettext,r.t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(t[0][0],i.apply(void 0,t))},r.ngettext=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(t[0][0],a.apply(void 0,t))},r.jt=function(){var e=o.apply(void 0,arguments);return u.createElement("span",{style:{backgroundColor:"currentcolor"}},e)});n(11319);var f=n(6336),d=n(40930);function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}d.kF.push((function(e){var t={name:"password",Button:n(56673).Z,Panel:n(56793).Z};return[].concat(p(e),[t])}));var m,y,v=n(25312),b=n(55446),g=n(35463),w=n(42881);function O(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=function(e){var t=e.setting,n=e.settingValues;return u.createElement("div",{className:"bordered rounded shadowed bg-white p4",style:{width:500}},u.createElement("div",{className:"flex align-center"},u.createElement("h2",null,t.authName),t.authEnabled&&t.authEnabled(n)&&u.createElement("div",{className:"ml-auto flex align-center text-uppercase text-success"},u.createElement("div",{className:"bg-success circular mr1",style:{width:10,height:10}}),(0,v.t)(m||(m=O(["Active"]))))),u.createElement("p",null,t.authDescription),u.createElement(w.rU,{className:"Button",to:"/admin/settings/authentication/".concat(t.authType)},(0,v.t)(y||(y=O(["Configure"])))))},S=n(60216),E=n.n(S),_=n(49155),x=n(30558),P=n(70093),C=n(24432),k=n(11093),A=n(31595),D=n(98399);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,u,"next",e)}function u(e){N(o,r,i,a,u,"throw",e)}a(void 0)}))}}var M,Z=function(){return function(){var e=q(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(B()),t((0,A.GC)())]);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L="metabase/admin/settings/REFRESH_SETTINGS_LIST",B=(0,C.PH)(L,q(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.SettingsApi.list();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return I(I({},e),{},{originalValue:e.value})})));case 4:case"end":return e.stop()}}),e)})))),z=((0,C.RU)("metabase/admin/settings/INITIALIZE_SETTINGS",(function(){return function(){var e=q(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Z());case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),D.log("error fetching settings",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()})),(0,C.RU)("metabase/admin/settings/UPDATE_SETTING",(function(e){return function(){var t=q(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.SettingsApi.put(e);case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),D.log("error updating setting",e,t.t0),t.t0;case 9:return t.prev=9,t.next=12,n(Z());case 12:return t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[0,5,9,13]])})));return function(e,n){return t.apply(this,arguments)}}()})),(0,C.RU)("metabase/admin/settings/UPDATE_SETTINGS",(function(e){return function(){var t=q(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.SettingsApi.putAll(e);case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),D.log("error updating settings",e,t.t0),t.t0;case 9:return t.prev=9,t.next=12,n(Z());case 12:return t.finish(9);case 13:case"end":return t.stop()}}),t,null,[[0,5,9,13]])})));return function(e,n){return t.apply(this,arguments)}}()}))),F="metabase/admin/settings/UPDATE_EMAIL_SETTINGS",Q=((0,C.RU)(F,(function(e){return function(){var t=q(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.EmailApi.updateSettings(e);case 3:return i=t.sent,t.next=6,n(Z());case 6:return t.abrupt("return",i);case 9:throw t.prev=9,t.t0=t.catch(0),D.log("error updating email settings",e,t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()})),(0,C.RU)("metabase/admin/settings/SEND_TEST_EMAIL",(function(){return function(){var e=q(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.EmailApi.sendTest();case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),D.log("error sending test email",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()})),(0,C.PH)("metabase/admin/settings/CLEAR_EMAIL_SETTINGS",(function(){return k.EmailApi.clear()})),(0,C.RU)("metabase/admin/settings/UPDATE_SLACK_SETTINGS",(function(e){return function(){var t=q(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.SlackApi.updateSettings(e);case 3:return i=t.sent,t.next=6,n(Z());case 6:return t.abrupt("return",i);case 9:throw t.prev=9,t.t0=t.catch(0),D.log("error updating slack settings",e,t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}),{}),(0,C.RU)("metabase/admin/settings/UPDATE_LDAP_SETTINGS",(function(e){return function(){var t=q(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.LdapApi.updateSettings(e);case 3:return i=t.sent,t.next=6,n(Z());case 6:return t.abrupt("return",i);case 9:throw t.prev=9,t.t0=t.catch(0),D.log("error updating LDAP settings",e,t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}))),V=(0,C.jZ)(T({},F,{next:function(e,t){return t.payload["with-corrections"]}}),{}),U=(0,C.jZ)(T({},L,{next:function(e,t){return t.payload}}),[]);(0,C.UY)({settings:U,warnings:V});var H,Y,G,W,$,K,J,X,ee,te,ne,re=n(39618),ie=n(98111);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var i=me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}var ye,ve,be={elements:E().array,settingValues:E().object,updateSettings:E().func},ge=(0,_.connect)(null,{updateSettings:z})(H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(o,e);var t,n,r,i=pe(o);function o(){return se(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.elements,n=e.settingValues,r=e.updateSettings,i=function(e){return function(e){return{name:e.key,description:e.description,placeholder:e.is_env_setting?(0,v.t)(M||(t=["Using ",""],n||(n=t.slice(0)),M=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),e.env_name):e.placeholder||e.default,validate:e.required?function(e){return!e&&"required"}:null};var t,n}(function(e){return x.ZP.findWhere(t,{key:e})||{key:e}}(e))},o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return u.createElement(P.ZP,{className:"mx2",style:{maxWidth:520},initialValues:o,onSubmit:r},u.createElement(re.default,{crumbs:[[(0,v.t)(Y||(Y=ue(["Authentication"]))),"/admin/settings/authentication"],[(0,v.t)(G||(G=ue(["Google Sign-In"])))]],className:"mb2"}),u.createElement("h2",null,(0,v.t)(W||(W=ue(["Sign in with Google"])))),u.createElement("p",{className:"text-medium"},(0,v.t)($||($=ue(["Allows users with existing Metabase accounts to login with a Google account that matches their email address in addition to their Metabase username and password."])))),u.createElement("p",{className:"text-medium"},(0,v.jt)(K||(K=ue(["To allow users to sign in with Google you'll need to give Metabase a Google Developers console application client ID. It only takes a few steps and instructions on how to create a key can be found ","."])),u.createElement(ie.Z,{href:g.Z.docsUrl("administration-guide/10-single-sign-on","enabling-google-sign-in"),target:"_blank"},(0,v.t)(J||(J=ue(["here"])))))),u.createElement(P.Wi,ae({},i("google-auth-client-id"),{title:(0,v.t)(X||(X=ue(["Client ID"]))),description:"",placeholder:(0,v.t)(ee||(ee=ue(["{your-client-id}.apps.googleusercontent.com"]))),required:!0,autoFocus:!0})),u.createElement(P.Wi,ae({},i("google-auth-auto-create-accounts-domain"),{title:(0,v.t)(te||(te=ue(["Domain"])))})),u.createElement("div",null,u.createElement(P.zG,null)),u.createElement("div",null,u.createElement(P.Ow,null,(0,v.t)(ne||(ne=ue(["Save changes"]))))))}}],n&&fe(t.prototype,n),r&&fe(t,r),o}(u.Component))||H;function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ee(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ge.propTypes=be,d.kF.push((function(e){var t={name:"google",Button:n(21475).Z};return g.Z.googleAuthEnabled()?[t].concat(Ee(e)):e})),d.jm.push((function(e){return(0,b.updateIn)(e,["authentication","settings"],(function(e){return[].concat(Ee(e),[{authName:(0,v.t)(ye||(ye=Se(["Sign in with Google"]))),authDescription:(0,v.t)(ve||(ve=Se(["Allows users with existing Metabase accounts to login with a Google account that matches their email address in addition to their Metabase username and password."]))),authType:"google",authEnabled:function(e){return!!e["google-auth-client-id"]},widget:j}])}))})),d.jm.push((function(e){return Oe(Oe({},e),{},{"authentication/google":{component:ge,sidebar:!1,settings:[{key:"google-auth-client-id"},{key:"google-auth-auto-create-accounts-domain",description:"Allow users to sign up on their own if their Google account email address is from:",placeholder:"mycompany.com"}]}})})),d.Xl.push((function(e){return!e.google_auth}));var xe=n(17831),Pe=n.n(xe),Ce=n(86147),ke=n(39516),Ae=n(38908),De=n(47679),Re=n(7500),Ie=(0,De.Z)("label",{target:"e1904prv1"})("display:block;color:",(0,f.$_)("text-medium"),";font-weight:bold;text-transform:uppercase;"),Te=(0,De.Z)("div",{target:"e1904prv0"})("color:",(0,f.$_)("text-medium"),";margin:",(0,Re.D)(1)," 0;max-width:38.75rem;"),Ne=function(e){var t=e.id,n=e.setting;return u.createElement("div",null,u.createElement(Ie,{htmlFor:t},n.display_name),u.createElement(Te,null,n.warningMessage&&u.createElement(u.Fragment,null,u.createElement("strong",null,n.warningMessage)," "),n.description,n.note&&u.createElement("div",null,n.note)))},qe=n(27468),Me=n(40841),Ze=n.n(Me),Le=function(e){var t=e.setting,n=e.onChange,r=(e.disabled,e.autoFocus),i=e.errorMessage,o=e.fireOnChange,a=e.id,l=e.type,c=void 0===l?"text":l;return u.createElement(qe.default,{className:Ze()("Form-input",{SettingsInput:"password"!==c,SettingsPassword:"password"===c,"border-error bg-error-input":i}),id:a,type:c,value:t.value||"",placeholder:t.placeholder,onChange:o?function(e){return n(e.target.value)}:null,onBlurChange:o?null:function(e){return n(e.target.value)},autoFocus:r})},Be=["type"];function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Qe=function(e){e.type;var t=Fe(e,Be);return u.createElement(Le,ze({},t,{type:"number"}))};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}var Ue=function(e){return u.createElement(Le,Ve({},e,{type:"password"}))},He=n(98912);function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We,$e,Ke=function(e){var t=e.setting,n=e.onChange,r=e.disabled;return u.createElement(He.Z,{className:Ze()({disabled:r}),value:t.value,onChange:function(e){return n(e)},options:Object.entries(t.options).map((function(e){var t=Ye(e,2),n=t[0];return{name:t[1],value:n}}))})},Je=n(65629);function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var et=function(e){var t=e.setting,n=e.onChange,r=e.disabled,i=null==t.value?t.default:t.value,o=!0===i||"true"===i;return u.createElement("div",{className:"flex align-center pt1"},u.createElement(Je.Z,{value:o,onChange:r?null:function(){return n(!o)}}),u.createElement("span",{className:"text-bold mx1"},o?(0,v.t)(We||(We=Xe(["Enabled"]))):(0,v.t)($e||($e=Xe(["Disabled"])))))},tt=n(50942);function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}var rt,it=function(e){var t=e.setting,n=t.placeholder,r=t.value,i=t.options,o=t.defaultValue,a=t.searchProp,l=e.onChange;e.disabled;return u.createElement(tt.ZP,{className:"full-width",placeholder:n,value:r,defaultValue:o,searchProp:a,onChange:function(e){return l(e.target.value)}},i.map((function(e){var t="object"===nt(e)?e.name:e,n="object"===nt(e)?e.value:e;return u.createElement(tt.Wx,{key:n,name:t,value:n},t)})))},ot=function(e){var t=e.setting,n=e.onChange,r=(e.disabled,e.autoFocus),i=e.errorMessage,o=e.fireOnChange;return u.createElement("textarea",{className:Ze()("AdminInput bordered rounded h3 SettingsInput",{"border-error bg-error-input":i}),defaultValue:t.value||"",placeholder:t.placeholder,onChange:o?function(e){return n(e.target.value)}:null,onBlur:o?null:function(e){return n(e.target.value)},autoFocus:r})},at=n(50262),ut=function(e){var t=e.setting,n=e.onChange;return u.createElement(at.default,{value:t.value||t.default,onChange:n})},lt=n(98399);function ct(e){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(e)}function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yt(e);if(t){var i=yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}var vt,bt,gt,wt={string:Le,number:Qe,password:Ue,select:it,radio:Ke,boolean:et,text:ot,color:ut},Ot=function(e){return e&&e.setting&&e.setting.is_env_setting?(0,b.assocIn)(e,["setting","placeholder"],(0,v.t)(rt||(t=["Using "],n||(n=t.slice(0)),rt=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))+e.setting.env_name):e;var t,n},jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(o,e);var t,n,r,i=ht(o);function o(){return ft(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.setting,n=e.errorMessage,r=function(e){return"setting-".concat(e.key)}(t),i=t.widget||wt[t.type];return i||(lt.warn("No render method for setting type "+t.type+", defaulting to string input."),i=Le),u.createElement("li",{className:"m2 mb4"},!t.noHeader&&u.createElement(Ne,{id:r,setting:t}),u.createElement("div",{className:"flex"},u.createElement(i,st({id:r},t.props||{},Ot(this.props)))),n&&u.createElement("div",{className:"text-error text-bold pt1"},n),t.warning&&u.createElement("div",{className:"text-gold text-bold pt1"},t.warning))}}],n&&dt(t.prototype,n),r&&dt(t,r),o}(u.Component);vt=jt,bt="propTypes",gt={setting:E().object.isRequired,onChange:E().func.isRequired,onChangeSetting:E().func,autoFocus:E().bool,disabled:E().bool},bt in vt?Object.defineProperty(vt,bt,{value:gt,enumerable:!0,configurable:!0,writable:!0}):vt[bt]=gt;var St,Et,_t,xt,Pt,Ct,kt,At,Dt,Rt,It=n(98399);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t&&zt(e.prototype,t),n&&zt(e,n),e}function Qt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}function Vt(e,t){return Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vt(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){return!t||"object"!==Tt(t)&&"function"!=typeof t?Yt(e):t}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gt(e)}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Kt,Jt,Xt,en,tn,nn,rn,on={email:{validate:function(e){return Ae.Z.isEmail(e)},message:(0,v.t)(St||(St=$t(["That's not a valid email address"])))},integer:{validate:function(e){return!isNaN(parseInt(e))},message:(0,v.t)(Et||(Et=$t(["That's not a valid integer"])))}},an={default:(0,v.t)(_t||(_t=$t(["Save changes"]))),working:(0,v.t)(xt||(xt=$t(["Saving..."]))),success:(0,v.t)(Pt||(Pt=$t(["Changes saved!"])))},un=(Ct=(0,_.connect)(null,(function(e,t){return{updateSettings:t.updateSettings||function(t){return e(z(t))}}}),null,{withRef:!0}),Ct((Dt=At=function(e){Qt(n,e);var t=Ut(n);function n(e,r){var i;return Bt(this,n),Wt(Yt(i=t.call(this,e,r)),"handleChangeEvent",(function(e,t){i.setState((function(n){var r=Lt(Lt({},n.formData),{},Wt({},e,t)),o=x.ZP.findWhere(i.props.elements,{key:e});o&&o.onChanged&&o.onChanged(n.formData[e],r[e],r,i.handleChangeEvent);var a=i.props.elements.every((function(e){var t=e.key,n=e.value;return r[t]===n}));return{pristine:a,formData:r}}))})),Wt(Yt(i),"updateSettings",(function(e){e.preventDefault();var t=i.state,n=t.formData;t.valid&&(i.setState({formErrors:null,submitting:"working"}),i.props.updateSettings(n).then((function(){i.setState({pristine:!0,submitting:"success"}),setTimeout((function(){return i.setState({submitting:"default"})}),3e3)}),(function(e){i.setState({submitting:"default",formErrors:i.handleFormErrors(e)})})))})),i.state={pristine:!0,formData:{},submitting:"default",valid:!1,validationErrors:{}},i}return Ft(n,[{key:"componentDidMount",value:function(){this.updateFormData(),this.validateForm()}},{key:"componentDidUpdate",value:function(e){this.props.elements!==e.elements&&this.updateFormData(),this.validateForm()}},{key:"updateFormData",value:function(){var e,t={},n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(this.props.elements);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.key]=r.value}}catch(e){n.e(e)}finally{n.f()}this.setState({formData:t,pristine:!0})}},{key:"setSubmitting",value:function(e){this.setState({submitting:e})}},{key:"setFormErrors",value:function(e){this.setState({formErrors:e})}},{key:"validateElement",value:function(e,t,n){if(!Ae.Z.isEmpty(t)){if("function"==typeof e)return e(t);var r=Nt(e,2),i=r[0],o=r[1];return on[i]||It.warn("Unknown validation "+i),on[i].validate(t)?void 0:o||on[i].message}}},{key:"validateForm",value:function(){var e=this.props,t=e.elements,n=e.enabledKey,r=this.state.formData,i=!0,o={};n&&!r[n]||t.forEach((function(e){e.required&&Ae.Z.isEmpty(r[e.key])&&(i=!1),e.validations&&e.validations.forEach((function(t){o[e.key]=this.validateElement(t,r[e.key],e),o[e.key]&&(i=!1)}),this)}),this),this.state.valid===i&&x.ZP.isEqual(this.state.validationErrors,o)||this.setState({valid:i,validationErrors:o})}},{key:"handleFormErrors",value:function(e){var t={};return e.data&&e.data.message?t.message=e.data.message:t.message=(0,v.t)(Rt||(Rt=$t(["Looks like we ran into some problems"]))),e.data&&e.data.errors&&(t.elements=e.data.errors),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.elements,r=t.settingValues,i=this.state,o=i.formData,a=i.formErrors,l=i.submitting,c=i.pristine,s=i.valid,f=i.validationErrors,d=this.props.layout||[{settings:n.map((function(e){return e.key}))}],p=x.ZP.indexBy(n,"key"),h=function(t){var n=p[t];if(!n)return It.warn("Missing setting",n),null;var i=a&&a.elements?a.elements[n.key]:f[n.key],l=null==o[n.key]?n.defaultValue:o[n.key];return u.createElement(jt,{key:n.key,setting:Lt(Lt({},n),{},{value:l}),onChange:function(t){return e.handleChangeEvent(n.key,t)},settingValues:r,onChangeSetting:function(t,n){return e.handleChangeEvent(t,n)},errorMessage:i,fireOnChange:!0})},m=!s||"default"!==l;return u.createElement("div",null,this.props.breadcrumbs&&u.createElement(re.default,{crumbs:this.props.breadcrumbs,className:"ml2 mb3"}),d.map((function(e,t){return e.collapse?u.createElement(cn,{title:e.title,key:t},e.settings.map((function(e){return h(e)}))):u.createElement(ln,{title:e.title,key:t},e.settings.map((function(e){return h(e)})))})),a&&a.message&&u.createElement("div",{className:"m2 text-error text-bold"},a.message),u.createElement("div",{className:"m2 mb4"},u.createElement(Ce.Z,{mr:1,primary:!m,success:"success"===l,disabled:m||c,onClick:this.updateSettings},an[l]),this.props.renderExtraButtons&&this.props.renderExtraButtons({valid:s,submitting:l,disabled:m,pristine:c})))}}]),n}(u.Component),Wt(At,"propTypes",{elements:E().array.isRequired,formErrors:E().object,updateSettings:E().func.isRequired}),kt=Dt))||kt),ln=function(e){var t=e.title,n=e.children;return u.createElement("div",null,t&&u.createElement("h2",{className:"mx2"},t),u.createElement("ul",null,n))},cn=function(e){Qt(n,e);var t=Ut(n);function n(){var e;Bt(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wt(Yt(e=t.call.apply(t,[this].concat(i))),"state",{show:!1}),e}return Ft(n,[{key:"handleToggle",value:function(){this.setState((function(e){return{show:!e.show}}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.children,r=this.state.show;return u.createElement("section",{className:"mb4"},u.createElement("div",{className:"inline-block ml1 cursor-pointer text-brand-hover",onClick:this.handleToggle.bind(this)},u.createElement("div",{className:"flex align-center"},u.createElement(ke.default,{className:"mx1",open:r}),u.createElement("h3",null,t))),u.createElement(Pe(),{isOpened:r,keepCollapsedContent:!0},u.createElement("ul",null,n)))}}]),n}(u.Component);function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function fn(){return fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}function dn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mn(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bn(e);if(t){var i=bn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vn(this,n)}}function vn(e,t){return!t||"object"!==sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bn(e){return bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bn(e)}var gn,wn,On=(0,_.connect)(null,{updateSettings:Q})(Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(o,e);var t,n,r,i=yn(o);function o(){return pn(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return u.createElement(un,fn({},this.props,{breadcrumbs:[[(0,v.t)(Jt||(Jt=dn(["Authentication"]))),"/admin/settings/authentication"],[(0,v.t)(Xt||(Xt=dn(["LDAP"])))]],enabledKey:"ldap-enabled",layout:[{title:(0,v.t)(en||(en=dn(["Server Settings"]))),settings:["ldap-enabled","ldap-host","ldap-port","ldap-security","ldap-bind-dn","ldap-password"]},{title:(0,v.t)(tn||(tn=dn(["User Schema"]))),settings:["ldap-user-base","ldap-user-filter"]},{title:(0,v.t)(nn||(nn=dn(["Attributes"]))),collapse:!0,settings:["ldap-attribute-email","ldap-attribute-firstname","ldap-attribute-lastname"]},{title:(0,v.t)(rn||(rn=dn(["Group Schema"]))),settings:["ldap-group-sync","ldap-group-base","ldap-group-membership-filter"in this.props.settingValues?"ldap-group-membership-filter":null,"ldap-sync-admin-group"in this.props.settingValues?"ldap-sync-admin-group":null].filter(Boolean)}]}))}}])&&hn(t.prototype,n),r&&hn(t,r),o}(u.Component))||Kt,jn=n(29995),Sn=function(e){var t=e.columnTitles,n=e.children;return u.createElement("table",{className:"ContentTable"},u.createElement("thead",null,u.createElement("tr",null,t&&t.map((function(e,t){return u.createElement("th",{key:t},e)})))),u.createElement("tbody",null,n))},En=n(65844),_n=n(4426),xn=n(90839),Pn=n(37582);function Cn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kn=function(e){var t=e.groups,n=e.selectedGroupIds,r=void 0===n?new Set:n,i=e.onGroupChange,o=e.isCurrentUser,a=void 0!==o&&o,l=e.emptyListMessage,c=void 0===l?(0,v.t)(gn||(gn=Cn(["No groups"]))):l,s=u.createElement("div",{className:"flex align-center"},u.createElement("span",{className:"mr1 text-medium"},u.createElement(xn.Z,{groups:t,selectedGroupIds:r})),u.createElement(En.ZP,{className:"text-light",name:"chevrondown",size:10}));if(0===t.length)return u.createElement(_n.Z,{triggerElement:s},u.createElement("span",{className:"p1"},c));var f=t.filter((function(e){return!(0,Pn.YO)(e)&&!(0,Pn.vK)(e)})),d=t.find(Pn.YO),p=[t.find(Pn.vK),d].filter((function(e){return null!=e}));return u.createElement(tt.ZP,{triggerElement:s,onChange:function(e){var n=e.target.value;t.filter((function(e){return r.includes(e.id)^n.includes(e.id)})).forEach((function(e){return i(e,n.includes(e.id))}))},optionDisabledFn:function(e){return(0,Pn.YO)(e)&&a||!(0,Pn.dy)(e)},optionValueFn:function(e){return e.id},optionNameFn:Pn.tb,optionClassNameFn:Pn.nI,value:r,sections:p.length>0?[{items:p},{items:f,name:(0,v.t)(wn||(wn=Cn(["Groups"])))}]:[{items:f}],multiple:!0})},An=n(70069),Dn=n(47580),Rn=n(9304),In=n(12788),Tn=n(14383);var Nn=function(e){var t=e.children,n=e.container,r=e.enableMouseEvents,i=void 0!==r&&r;return In.createPortal(u.createElement(Tn.Z,{enableMouseEvents:i},t),n)},qn=n(56337),Mn=n(95390);function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zn(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var i=Vn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qn(this,n)}}function Qn(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}var Un=function(e,t){return{_routeless_location:e.routing.locationBeforeTransitions}},Hn={_routeless_push:Mn.VF,_routeless_goBack:Mn.Hm};function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}var Gn=["full"];function Wn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t,n){return t&&tr(e.prototype,t),n&&tr(e,n),e}function rr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}function ir(e,t){return ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ir(e,t)}function or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var i=lr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ar(this,n)}}function ar(e,t){return!t||"object"!==Yn(t)&&"function"!=typeof t?ur(e):t}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lr(e){return lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(e)}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e){return u.Children.count(e.children)>1||null!=e.title||null!=e.footer?u.createElement(jn.default,x.ZP.omit(e,"className","style")):u.Children.only(e.children)}var fr=function(e){rr(n,e);var t=or(n);function n(e){var r;return er(this,n),cr(ur(r=t.call(this,e)),"handleDismissal",(function(){r.props.onClose&&r.props.onClose()})),r._modalElement=document.createElement("div"),r._modalElement.className="ModalContainer",document.body.appendChild(r._modalElement),r}return nr(n,[{key:"componentWillUnmount",value:function(){this._modalElement.parentNode.removeChild(this._modalElement)}},{key:"_modalComponent",value:function(){var e=this,t=Ze().apply(void 0,[this.props.className].concat(Jn(["small","medium","wide","tall"].filter((function(t){return e.props[t]})).map((function(e){return"Modal--".concat(e)})))));return u.createElement(qn.default,{backdropElement:this._modalElement,handleDismissal:this.handleDismissal},u.createElement("div",{className:Ze()(t,"relative bg-white rounded")},sr(Kn(Kn({},this.props),{},{fullPageModal:!1,formModal:!!this.props.form||this.props.formModal}))))}},{key:"render",value:function(){var e=this.props,t=e.enableMouseEvents,n=e.backdropClassName,r=e.isOpen,i=e.style,o=e.enableTransition;return u.createElement(Nn,{container:this._modalElement,enableMouseEvents:t},u.createElement(Dn.CSSTransitionGroup,{component:"div",transitionName:"Modal",transitionAppear:o,transitionAppearTimeout:250,transitionEnter:o,transitionEnterTimeout:250,transitionLeave:o,transitionLeaveTimeout:250},r&&u.createElement("div",{key:"modal",className:Ze()(n,"flex justify-center align-center fixed top left bottom right"),style:i},this._modalComponent())))}}]),n}(u.Component);cr(fr,"propTypes",{isOpen:E().bool,enableMouseEvents:E().bool,enableTransition:E().bool}),cr(fr,"defaultProps",{className:"Modal",backdropClassName:"Modal-backdrop",enableTransition:!0});var dr=function(e){var t,n;return(0,_.connect)(Un,Hn)((n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(a,t);var n,r,i,o=Fn(a);function a(){return Ln(this,a),o.apply(this,arguments)}return n=a,r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props._routeless_push,t=this.props._routeless_location,n=t.pathname,r=t.query,i=t.search,o=t.hash,a=t.state;this._state="object"===Zn(a)?Object.create(a):{},e({pathname:n,query:r,search:i,hash:o,state:this._state})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props._routeless_location,r=e._routeless_location;n.state===this._state&&r.state!==this._state&&(this._timeout=setTimeout((function(){t.props.onClose()}),100))}},{key:"componentWillUnmount",value:function(){var e=this.props._routeless_location,t=this.props._routeless_goBack;null!=this._timeout&&clearTimeout(this._timeout),e.state===this._state&&t()}},{key:"render",value:function(){var t=x.ZP.omit(this.props,"_routeless_location","_routeless_goBack","_routeless_push");return u.createElement(e,t)}}],r&&Bn(n.prototype,r),i&&Bn(n,i),a}(u.Component),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(t,"displayName","Routeless["+(e.displayName||e.name)+"]"),n))}(function(e){rr(n,e);var t=or(n);function n(e){var r;return er(this,n),cr(ur(r=t.call(this,e)),"handleDismissal",(function(){r.setState({isOpen:!1}),setTimeout((function(){return r.props.onClose&&r.props.onClose()}),300)})),r.state={isOpen:!0},r._modalElement=document.createElement("div"),r._modalElement.className="ModalContainer",document.body.appendChild(r._modalElement),r._scrollX=(0,l.$1)(),r._scrollY=(0,l.X_)(),window.scrollTo(0,0),document.body.style.overflow="hidden",r}return nr(n,[{key:"setTopOfModalToBottomOfNav",value:function(){var e=document.body.querySelector(".Nav");e&&(this._modalElement.style.top=e.getBoundingClientRect().bottom+"px")}},{key:"componentDidMount",value:function(){this.setTopOfModalToBottomOfNav()}},{key:"componentDidUpdate",value:function(){this.state.isOpen||(document.body.style.overflow=""),this.setTopOfModalToBottomOfNav()}},{key:"componentWillUnmount",value:function(){this._modalElement.parentNode.removeChild(this._modalElement),document.body.style.overflow=""}},{key:"render",value:function(){var e=this,t=this.state.isOpen;return u.createElement(Rn.Motion,{defaultStyle:{opacity:0,top:20},style:t?{opacity:(0,Rn.spring)(1),top:(0,Rn.spring)(0)}:{opacity:(0,Rn.spring)(0),top:(0,Rn.spring)(20)}},(function(t){return u.createElement(Nn,{container:e._modalElement},u.createElement("div",{className:"Modal--full"},u.createElement(qn.default,{handleDismissal:e.handleDismissal},u.createElement("div",{className:"full-height relative scroll-y",style:t},sr(Kn(Kn({},e.props),{},{fullPageModal:!0,formModal:!!e.props.form,onClose:e.handleDismissal}))))))}))}}]),n}(u.Component)),pr=function(e){var t=e.full,n=void 0!==t&&t,r=Wn(e,Gn);return n?r.isOpen?u.createElement(dr,r):null:u.createElement(fr,r)};pr.defaultProps={isOpen:!0};var hr,mr,yr,vr,br,gr,wr,Or,jr,Sr,Er,_r=pr;function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function kr(e){return function(e){if(Array.isArray(e))return Dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ar(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){Vr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t&&qr(e.prototype,t),n&&qr(e,n),e}function Zr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}function Lr(e,t){return Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lr(e,t)}function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qr(e);if(t){var i=Qr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zr(this,n)}}function zr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qr(e)}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ur,Hr,Yr,Gr,Wr,$r,Kr,Jr,Xr,ei,ti,ni,ri,ii,oi,ai,ui,li,ci=function(e){return!(0,Pn.xY)(e)},si=function(e){Zr(n,e);var t=Br(n);function n(e,r){var i;return Nr(this,n),Vr(Fr(i=t.call(this,e,r)),"_showEditModal",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.t0=x.ZP,e.next=4,k.SettingsApi.list();case 4:e.t1=e.sent,e.t2={key:i.props.mappingSetting},n=e.t0.findWhere.call(e.t0,e.t1,e.t2),i.setState({mappings:n&&n.value||{},showEditModal:!0}),k.PermissionsApi.groups().then((function(e){return i.setState({groups:e.filter(ci)})}));case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Tr(o,r,i,a,u,"next",e)}function u(e){Tr(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),Vr(Fr(i),"_showAddRow",(function(e){e.preventDefault(),i.setState({showAddRow:!0})})),Vr(Fr(i),"_hideAddRow",(function(){i.setState({showAddRow:!1})})),Vr(Fr(i),"_addMapping",(function(e){i.setState((function(t){return{mappings:Ir(Ir({},t.mappings),{},Vr({},e,[])),showAddRow:!1}}))})),Vr(Fr(i),"_changeMapping",(function(e){return function(t,n){n?i.setState((function(n){return{mappings:Ir(Ir({},n.mappings),{},Vr({},e,[].concat(kr(n.mappings[e]),[t.id])))}})):i.setState((function(n){return{mappings:Ir(Ir({},n.mappings),{},Vr({},e,n.mappings[e].filter((function(e){return e!==t.id}))))}}))}})),Vr(Fr(i),"_deleteMapping",(function(e){return function(t){t.preventDefault(),i.setState((function(t){return{mappings:x.ZP.omit(t.mappings,e)}}))}})),Vr(Fr(i),"_cancelClick",(function(e){e.preventDefault(),i.setState({showEditModal:!1,showAddRow:!1})})),Vr(Fr(i),"_saveClick",(function(e){e.preventDefault();var t=Fr(i),n=t.state.mappings,r=t.props.onChangeSetting;k.SettingsApi.put({key:i.props.mappingSetting,value:n}).then((function(){r(i.props.mappingSetting,n),i.setState({showEditModal:!1,showAddRow:!1,saveError:null})}),(function(e){return i.setState({saveError:e})}))})),i.state={showEditModal:!1,showAddRow:!1,groups:null,mappings:{},saveError:null},i}return Mr(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.showEditModal,r=t.showAddRow,i=t.groups,o=t.mappings,a=t.saveError;return u.createElement("div",{className:"flex align-center"},u.createElement(et,this.props),u.createElement("div",{className:"flex align-center pt1"},u.createElement(Ce.Z,{type:"button",className:"ml1",medium:!0,onClick:this._showEditModal},(0,v.t)(hr||(hr=Cr(["Edit Mappings"]))))),n?u.createElement(_r,{wide:!0},u.createElement("div",null,u.createElement("div",{className:"pt4 px4"},u.createElement("h2",null,(0,v.t)(mr||(mr=Cr(["Group Mappings"]))))),u.createElement("div",{className:"px4"},u.createElement(Ce.Z,{className:"float-right",primary:!0,onClick:this._showAddRow},(0,v.t)(yr||(yr=Cr(["Create a mapping"])))),u.createElement("p",{className:"text-measure"},(0,v.t)(vr||(vr=Cr(["Mappings allow Metabase to automatically add and remove users from groups based on the membership information provided by the\n                     directory server. Users are only ever added to or removed from mapped groups."])))),u.createElement(Sn,{columnTitles:[this.props.groupHeading,(0,v.t)(br||(br=Cr(["Groups"]))),""]},r?u.createElement(fi,{mappings:o,onCancel:this._hideAddRow,onAdd:this._addMapping,placeholder:this.props.groupPlaceholder}):null,Object.entries(o).map((function(t){var n=Pr(t,2),r=n[0],o=n[1];return u.createElement(pi,{key:r,dn:r,groups:i||[],selectedGroups:o,onChange:e._changeMapping(r),onDelete:e._deleteMapping(r)})})))),u.createElement(jn.ModalFooter,null,a&&a.data&&a.data.message?u.createElement("span",{className:"text-error text-bold"},a.data.message):null,u.createElement(Ce.Z,{type:"button",onClick:this._cancelClick},(0,v.t)(gr||(gr=Cr(["Cancel"])))),u.createElement(Ce.Z,{primary:!0,onClick:this._saveClick},(0,v.t)(wr||(wr=Cr(["Save"]))))))):null)}}]),n}(u.Component),fi=function(e){Zr(n,e);var t=Br(n);function n(e,r){var i;return Nr(this,n),Vr(Fr(i=t.call(this,e,r)),"_handleSubmit",(function(e){e.preventDefault();var t=i.props.onAdd;t&&t(i.state.value),i.setState({value:""})})),Vr(Fr(i),"_handleCancelClick",(function(e){e.preventDefault();var t=i.props.onCancel;t&&t(),i.setState({value:""})})),i.state={value:""},i}return Mr(n,[{key:"render",value:function(){var e=this,t=this.state.value,n=t&&void 0===this.props.mappings[t];return u.createElement("tr",null,u.createElement("td",{colSpan:"3",style:{padding:0}},u.createElement("form",{className:"my2 pl1 p1 bordered border-brand rounded relative flex align-center",onSubmit:n?this._handleSubmit:void 0},u.createElement("input",{className:"input--borderless h3 ml1 flex-full",type:"text",value:t,placeholder:this.props.placeholder,autoFocus:!0,onChange:function(t){return e.setState({value:t.target.value})}}),u.createElement("span",{className:"link no-decoration cursor-pointer",onClick:this._handleCancelClick},(0,v.t)(Or||(Or=Cr(["Cancel"])))),u.createElement(Ce.Z,{className:"ml2",type:"submit",primary:!!n,disabled:!n},(0,v.t)(jr||(jr=Cr(["Add"])))))))}}]),n}(u.Component),di=function(e){Zr(n,e);var t=Br(n);function n(){return Nr(this,n),t.apply(this,arguments)}return Mr(n,[{key:"render",value:function(){var e=this.props,t=e.groups,n=e.selectedGroups,r=e.onGroupChange;return t?u.createElement(kn,{groups:t,selectedGroupIds:n,onGroupChange:r,emptyListMessage:(0,v.t)(Sr||(Sr=Cr(["No mappable groups"])))}):u.createElement(An.Z,null)}}]),n}(u.Component),pi=function(e){Zr(n,e);var t=Br(n);function n(){return Nr(this,n),t.apply(this,arguments)}return Mr(n,[{key:"render",value:function(){var e=this.props,t=e.dn,n=e.groups,r=e.selectedGroups,i=e.onChange,o=e.onDelete;return u.createElement("tr",null,u.createElement("td",null,t),u.createElement("td",null,u.createElement(di,{groups:n,selectedGroups:r,onGroupChange:i})),u.createElement("td",{className:"Table-actions"},u.createElement(Ce.Z,{warning:!0,onClick:o},(0,v.t)(Er||(Er=Cr(["Remove"]))))))}}]),n}(u.Component);function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function bi(e){return function(e){if(Array.isArray(e))return gi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}d.jm.push((function(e){return(0,b.updateIn)(e,["authentication","settings"],(function(e){return[].concat(bi(e),[{authName:(0,v.t)(Ur||(Ur=vi(["LDAP"]))),authDescription:(0,v.t)(Hr||(Hr=vi(["Allows users within your LDAP directory to log in to Metabase with their LDAP credentials, and allows automatic mapping of LDAP groups to Metabase groups."]))),authType:"ldap",authEnabled:function(e){return e["ldap-enabled"]},widget:j}])}))}),(function(e){return mi(mi({},e),{},{"authentication/ldap":{sidebar:!1,component:On,settings:[{key:"ldap-enabled",display_name:(0,v.t)(Yr||(Yr=vi(["LDAP Authentication"]))),description:null,type:"boolean"},{key:"ldap-host",display_name:(0,v.t)(Gr||(Gr=vi(["LDAP Host"]))),placeholder:"ldap.yourdomain.org",type:"string",required:!0,autoFocus:!0},{key:"ldap-port",display_name:(0,v.t)(Wr||(Wr=vi(["LDAP Port"]))),placeholder:"389",type:"string",validations:[["integer",(0,v.t)($r||($r=vi(["That's not a valid port number"])))]]},{key:"ldap-security",display_name:(0,v.t)(Kr||(Kr=vi(["LDAP Security"]))),description:null,type:"radio",options:{none:"None",ssl:"SSL",starttls:"StartTLS"},defaultValue:"none"},{key:"ldap-bind-dn",display_name:(0,v.t)(Jr||(Jr=vi(["Username or DN"]))),type:"string"},{key:"ldap-password",display_name:(0,v.t)(Xr||(Xr=vi(["Password"]))),type:"password"},{key:"ldap-user-base",display_name:(0,v.t)(ei||(ei=vi(["User search base"]))),type:"string",required:!0},{key:"ldap-user-filter",display_name:(0,v.t)(ti||(ti=vi(["User filter"]))),type:"string",validations:[function(e){return(e.match(/\(/g)||[]).length!==(e.match(/\)/g)||[]).length?(0,v.t)(ni||(ni=vi(["Check your parentheses"]))):null}]},{key:"ldap-attribute-email",display_name:(0,v.t)(ri||(ri=vi(["Email attribute"]))),type:"string"},{key:"ldap-attribute-firstname",display_name:(0,v.t)(ii||(ii=vi(["First name attribute"]))),type:"string"},{key:"ldap-attribute-lastname",display_name:(0,v.t)(oi||(oi=vi(["Last name attribute"]))),type:"string"},{key:"ldap-group-sync",display_name:(0,v.t)(ai||(ai=vi(["Synchronize group memberships"]))),description:null,widget:si,props:{mappingSetting:"ldap-group-mappings",groupHeading:(0,v.t)(ui||(ui=vi(["Distinguished Name"]))),groupPlaceholder:"cn=People,ou=Groups,dc=metabase,dc=com"}},{key:"ldap-group-base",display_name:(0,v.t)(li||(li=vi(["Group search base"]))),type:"string"},{key:"ldap-group-mappings"}]}})})),d.Xl.push((function(e){return!e.ldap_auth}));var wi,Oi,ji,Si,Ei=(0,De.Z)("p",{target:"eiuo11e2"})("color:",(0,f.$_)("text-dark"),";max-width:360px;"),_i=(0,De.Z)(ie.Z,{target:"eiuo11e1"})("display:inline-flex;align-items:center;color:",(0,f.$_)("text-white"),";font-weight:bold;background-color:",(0,f.$_)("brand"),";padding:12px 18px;border-radius:6px;&:hover{opacity:0.88;transition:all 200ms linear;}"),xi=(0,De.Z)(En.ZP,{target:"eiuo11e0"})("color:",(0,f.$_)("text-white"),";opacity:0.6;margin-left:8px;");function Pi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ci(){var e=g.Z.storeUrl();return u.createElement("div",null,u.createElement(Ei,null,(0,v.t)(wi||(wi=Pi(["Manage your Cloud account, including billing preferences and technical settings about this instance in your Metabase Store account."])))),u.createElement(_i,{href:e},(0,v.t)(Oi||(Oi=Pi(["Go to the Metabase Store"]))),u.createElement(xi,{name:"external"})))}function ki(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.Z.isHosted()&&(d.jm.push((function(e){return x.ZP.omit(e,["email","updates"])})),d.jm.push((function(e){return(0,b.updateIn)(e,["general","settings"],(function(e){return x.ZP.reject(e,(function(e){return["site-url","redirect-all-requests-to-https"].includes(e.key)}))}))})),d.jm.push((function(e){return Di(Di({},e),{},{cloud:{name:(0,v.t)(ji||(ji=ki(["Cloud"]))),settings:[{key:"store-link",display_name:(0,v.t)(Si||(Si=ki(["Cloud Settings"]))),widget:Ci}]}})})));var Ii=n(26864),Ti=n(95002),Ni=n(83360),qi=n(91664),Mi=n(98958),Zi=n(63614),Li=["fieldFilter","showColumnSetting"];function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e){return{name:(0,Zi.RY)(e),value:e.name}}function Yi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $i(e,Vi({fieldFilter:Mi.Zd,getDefault:function(e){return(0,Zi.yv)(e).metric}},t))}function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $i(e,Vi({fieldFilter:Mi.vM,getDefault:function(e){return(0,Zi.yv)(e).dimension}},t))}var Wi=function(){return!0};function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldFilter,r=void 0===n?Wi:n,i=t.showColumnSetting,o=Fi(t,Li);return Ui({},e,Vi({widget:"field",isValid:function(t,n){var i=Bi(t,1)[0],o=i.card,a=i.data;return(0,Zi.IW)(o.visualization_settings[e],a,r)},getDefault:function(e){var t=Bi(e,1)[0].data;return(x.ZP.find(t.cols,r)||{}).name},getProps:function(e,t){var n=Bi(e,1)[0],o=(n.card,n.data);return{options:o.cols.filter(r).map(Hi),columns:o.cols,showColumnSetting:i}}},o))}var Ki=n(53806),Ji=n.n(Ki),Xi=n(39322),eo=n(75246);var to={name:"1bullme",styles:"pointer-events:none;opacity:0.4"},no={name:"p799cx",styles:"margin-bottom:1.5em"},ro={name:"eivff4",styles:"display:none"},io={name:"19sxmyn",styles:"margin-left:2em;margin-right:2em"},oo=(0,De.Z)("div",{target:"e9htjoz4"})((function(e){return!e.noPadding&&io})," ",(function(e){return e.hidden&&ro})," ",(function(e){return!e.hidden&&no})," ",(function(e){return e.disabled&&to})," input,.AdminSelect{transition:border 0.3s;&:hover{transition:border 0.3s;border-color:",(0,f.$_)("brand"),";}}"),ao={name:"1j389vi",styles:"font-weight:700"},uo=(0,De.Z)("label",{target:"e9htjoz3"})("display:flex;align-items:center;margin-bottom:0.5em;",(function(e){return"default"===e.variant&&ao}),";"),lo=(0,De.Z)("span",{target:"e9htjoz2"})({name:"1dtw8lo",styles:"margin-bottom:0.5em"}),co=(0,De.Z)("div",{target:"e9htjoz1"})({name:"6dn33z",styles:"display:flex;margin-left:0.5em"}),so=(0,De.Z)(En.ZP,{target:"e9htjoz0"})((function(e){return"form-field"===e.variant&&(0,eo.iv)("color:",(0,f.$_)("bg-dark"),";&:hover{color:",(0,f.$_)("brand"),";}","")}),";"),fo=["title","description","hint","hidden","disabled","variant","widget","props","noPadding"];function po(){return po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(this,arguments)}function ho(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mo=function(e){var t=e.title,n=e.description,r=e.hint,i=e.hidden,o=e.disabled,a=e.variant,l=void 0===a?"default":a,c=e.widget,s=e.props,f=e.noPadding,d=ho(e,fo),p="form-field"===l;return u.createElement(oo,{hidden:i,noPadding:f,disabled:o,className:Ze()({"Form-field":p})},t&&u.createElement(uo,{variant:l,className:Ze()({"Form-label":p})},t,r&&u.createElement(co,null,u.createElement(so,{name:"info",variant:l,size:p?12:14,tooltip:r}))),n&&u.createElement(lo,null,n),c&&u.createElement(c,po({},d,s)))};function yo(e){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(e)}function vo(){return vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oo(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_o(e);if(t){var i=_o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return So(this,n)}}function So(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?Eo(e):t}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_o(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po,Co=function(e){var t=e.getObjectKey,n=e.getSettingsWidgetsForObject;return function(e){return function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(c,r);var i,o,a,l=jo(c);function c(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),xo(Eo(n=l.call(this,e)),"getEditingObjectKey",(function(){return n.state.objectKeyOverride||n.props.initialKey||(1===n.props.objects.length?t(n.props.objects[0]):null)})),xo(Eo(n),"handleChangeEditingObject",(function(e){n.setState({objectKeyOverride:e?t(e):null}),!e&&n.props.onEndShowWidget&&n.props.onEndShowWidget()})),xo(Eo(n),"handleChangeSettingsForEditingObject",(function(e){var t=n.getEditingObjectKey();t&&n.handleChangeSettingsForObjectKey(t,e)})),xo(Eo(n),"handleChangeSettingsForObject",(function(e,r){var i=t(e);null!=i&&n.handleChangeSettingsForObjectKey(i,r)})),xo(Eo(n),"handleChangeSettingsForObjectKey",(function(e,t){var r=n.props.onChange,i=n.props.value||{},o=i[e]||{},a=(0,Xi.VP)(o,t);r(go(go({},i),{},xo({},e,a)))})),n.state={},n}return i=c,(o=[{key:"render",value:function(){var r=this.props,i=r.series,o=r.objects,a=r.extra,l=this.getEditingObjectKey();if(l){var c=x.ZP.find(o,(function(e){return t(e)===l}));if(c){var s=(this.props.value||{})[l]||{},f=n(i,c,s,this.handleChangeSettingsForEditingObject,a);return u.createElement(e,vo({},this.props,{getObjectKey:t,onChangeEditingObject:this.handleChangeEditingObject,onChangeObjectSettings:this.handleChangeSettingsForObject,object:c,objectSettingsWidgets:f.map((function(e){return u.createElement(mo,vo({key:e.id},e))}))}))}}return u.createElement(e,vo({},this.props,{getObjectKey:t,onChangeEditingObject:this.handleChangeEditingObject,onChangeObjectSettings:this.handleChangeSettingsForObject}))}}])&&wo(i.prototype,o),a&&wo(i,a),c}(u.Component)}},ko=["objectName","getObjects","getObjectKey","getSettingDefintionsForObject","getInheritedSettingsForObject","component"];function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Do(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ro(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.objectName,i=void 0===r?"object":r,o=n.getObjects,a=n.getObjectKey,u=n.getSettingDefintionsForObject,l=n.getInheritedSettingsForObject,c=void 0===l?function(){return{}}:l,s=n.component,f=qo(n,ko);function d(e,t,n,r){var i=u(e,t),o=c(t),a=(0,Xi.ST)(i,t,To(To({},o),n),r);return x.ZP.pick(a,(function(e){return void 0!==e}))}function p(e,t,n,r){var i,o={},u=Do(t);try{for(u.s();!(i=u.n()).done;){var l=i.value,c=a(l);o[c]=d(e,l,n[c]||{},r)}}catch(e){u.e(e)}finally{u.f()}return o}function h(e,t,n,r,i){var o=u(e,t),a=d(e,t,n,i);return(0,Xi.xB)(o,n,a,t,r,i).map((function(e){return To(To({},e),{},{noPadding:!0})}))}var m=Co({getObjectKey:a,getSettingsWidgetsForObject:h})(s);return No(t={},e,To({section:(0,v.t)(Po||(Po=Ao(["Display"]))),default:{},getProps:function(t,n){var r=o(t,n);return{series:t,settings:n,objects:r,allComputedSettings:p(t,r,n[e],{series:t,settings:n}),extra:{series:t,settings:n}}},widget:m},f)),No(t,i,{getDefault:function(t,n){var r=new Map;return function(i){var o=a(i);if(!r.has(o)){var u=c(i),l=n[e][o]||{};r.set(o,To({},d(t,i,To(To({},u),l),{series:t,settings:n})))}return r.get(o)}},readDependencies:[e]}),t}var Zo=function(e){var t=e.icon,n=e.onClick;return u.createElement(En.ZP,{name:t,className:"cursor-pointer text-light text-medium-hover ml1",onClick:function(e){e.stopPropagation(),n()}})},Lo=function(e){var t=e.title,n=e.onAdd,r=e.onRemove,i=e.onClick,o=e.onEdit,a=e.draggable;return u.createElement("div",{className:Ze()("my1 bordered rounded overflow-hidden bg-white",{"cursor-grab shadowed":a,"cursor-pointer":i}),onClick:i},u.createElement("div",{className:"p1 border-bottom relative"},u.createElement("div",{className:"px1 flex align-center relative"},u.createElement("span",{className:"h4 flex-auto text-dark text-wrap"},t),o&&u.createElement(Zo,{icon:"gear",onClick:o}),n&&u.createElement(Zo,{icon:"add",onClick:n}),r&&u.createElement(Zo,{icon:"close",onClick:r}))))};function Bo(e){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(e)}function zo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,t,n){return t&&Fo(e.prototype,t),n&&Fo(e,n),e}function Vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}function Uo(e,t){return Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uo(e,t)}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Go(e);if(t){var i=Go(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yo(this,n)}}function Yo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Go(e)}var Wo,$o,Ko,Jo,Xo,ea,ta,na,ra,ia,oa,aa,ua,la,ca,sa,fa,da,pa,ha,ma,ya,va,ba,ga,wa,Oa,ja=function(e){return e?e.display_name||e.name:"[Unknown]"},Sa=function(e){Vo(n,e);var t=Ho(n);function n(){return zo(this,n),t.apply(this,arguments)}return Qo(n,[{key:"render",value:function(){var e=this.props,t=e.object,n=e.objects,r=e.onChangeEditingObject;return t?u.createElement(Ea,this.props):u.createElement("div",null,n.map((function(e,t){return u.createElement(Lo,{key:t,title:ja(e),onEdit:function(){return r(e)},onClick:function(){return r(e)}})})))}}]),n}(u.Component),Ea=function(e){Vo(n,e);var t=Ho(n);function n(){return zo(this,n),t.apply(this,arguments)}return Qo(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.setSidebarPropsOverride,n=e.object,r=e.onEndShowWidget,i=e.currentSectionHasColumnSettings;t&&!i&&t({title:ja(n),onBack:r})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setSidebarPropsOverride,r=t.object,i=t.onEndShowWidget,o=t.currentSectionHasColumnSettings;ja(r)===ja(e.object)&&i===e.onEndShowWidget||n&&!o&&n({title:ja(r),onBack:i})}},{key:"componentWillUnmount",value:function(){var e=this.props.setSidebarPropsOverride;e&&e(null)}},{key:"render",value:function(){return u.createElement("div",null,this.props.objectSettingsWidgets)}}]),n}(u.Component),_a=n(55316),xa=n(80198),Pa=n(96588),Ca=["getColumns"];function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||qa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Ia(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Na(e){return function(e){if(Array.isArray(e))return Ma(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){if(e){if("string"==typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Za=function(e,t){var n;return(n=[]).concat.apply(n,Na(e.map((function(e){return e.data&&e.data.cols||[]}))))};function La(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getColumns,n=void 0===t?Za:t,r=Ta(e,Ca);return Mo("column_settings",Ra({section:(0,v.t)(Wo||(Wo=Aa(["Formatting"]))),objectName:"column",getObjects:n,getObjectKey:_a.$Q,getSettingDefintionsForObject:Wa,component:Sa,getInheritedSettingsForObject:Ba,useRawSeries:!0},r))}function Ba(e){return Ra(Ra({},function(e){for(var t={},n=g.Z.get("custom-formatting")||{},r=0,i=Object.entries(n);r<i.length;r++){var o=ka(i[r],2)[1];Object.assign(t,o)}return t}()),function(e){return e.settings||{}}(e))}var za=Ji()("2018-01-07 17:24");function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;if("hour-of-day"===e)return[];var r=[Qa("MMMM D, YYYY",e,null,t,n),Qa("D MMMM, YYYY",e,null,t,n),Qa("dddd, MMMM D, YYYY",e,null,t,n),Qa("M/D/YYYY",e,(0,xa.yp)(e)?"month, day, year":null,t,n),Qa("D/M/YYYY",e,(0,xa.yp)(e)?"day, month, year":null,t,n),Qa("YYYY/M/D",e,(0,xa.yp)(e)?"year, month, day":null,t,n)],i=new Set;return r.filter((function(t){var n=(0,xa.OD)(t.value,e);return!i.has(n)&&(i.add(n),!0)}))}function Qa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=(0,xa.OD)(e,t,i);return r&&(o=o.replace(/MMMM/,"MMM").replace(/dddd/,"ddd")),{name:za.format(o)+(n?" (".concat(n,")"):""),value:e}}function Va(e,t){var n=e;return{name:za.format(n)+(t?" (".concat(t,")"):""),value:e}}var Ua={date_style:{title:(0,v.t)($o||($o=Aa(["Date style"]))),widget:"select",getDefault:function(e){var t=ka(Fa(e.unit),1)[0],n=(t=void 0===t?{}:t).value;return void 0===n?"":n},isValid:function(e,t){var n=Fa(e.unit);return!!x.ZP.findWhere(n,{value:t.date_style})},getProps:function(e,t){return{options:Fa(e.unit,t.date_abbreviate,t.date_separator)}},getHidden:function(e){return Fa(e.unit).length<2}},date_separator:{title:(0,v.t)(Ko||(Ko=Aa(["Date separators"]))),widget:"radio",default:"/",getProps:function(e,t){var n=/\//.test(t.date_style)?t.date_style:"M/D/YYYY";return{options:[{name:n,value:"/"},{name:n.replace(/\//g,"-"),value:"-"},{name:n.replace(/\//g,"."),value:"."}]}},getHidden:function(e,t){e.unit;return!/\//.test(t.date_style||"")}},date_abbreviate:{title:(0,v.t)(Jo||(Jo=Aa(["Abbreviate names of days and months"]))),widget:"toggle",default:!1,getHidden:function(e,t){var n=e.unit;return!(0,xa.OD)(t.date_style,n).match(/MMMM|dddd/)},readDependencies:["date_style"]},time_enabled:{title:(0,v.t)(Xo||(Xo=Aa(["Show the time"]))),widget:"radio",isValid:function(e,t){var n=e.unit;return!t.time_enabled||(0,xa.C)(n)},getProps:function(e,t){var n=e.unit,r=[{name:(0,v.t)(ea||(ea=Aa(["Off"]))),value:null},{name:(0,v.t)(ta||(ta=Aa(["HH:MM"]))),value:"minutes"}];return n&&"default"!==n&&"second"!==n&&"millisecond"!==n||r.push({name:(0,v.t)(na||(na=Aa(["HH:MM:SS"]))),value:"seconds"}),n&&"default"!==n&&"millisecond"!==n||r.push({name:(0,v.t)(ra||(ra=Aa(["HH:MM:SS.MS"]))),value:"milliseconds"}),2===r.length&&(r[1].name=(0,v.t)(ia||(ia=Aa(["On"])))),{options:r}},getHidden:function(e,t){return!(0,xa.C)(e.unit)||(0,Mi.O0)(e)},getDefault:function(e){var t=e.unit;return(0,xa.C)(t)?"minutes":null}},time_style:{title:(0,v.t)(oa||(oa=Aa(["Time style"]))),widget:"radio",default:"h:mm A",getProps:function(e,t){return{options:[Va("h:mm A",(0,v.t)(aa||(aa=Aa(["12-hour clock"]))))].concat(Na("hour-of-day"===e.unit?[Va("h A","12-hour clock without minutes")]:[]),[Va("HH:mm",(0,v.t)(ua||(ua=Aa(["24-hour clock"]))))])}},getHidden:function(e,t){return!t.time_enabled||(0,Mi.O0)(e)},readDependencies:["time_enabled"]}};function Ha(e,t){return(0).toLocaleString("en",{style:"currency",currency:e,currencyDisplay:t}).replace(/0([.,]0+)?/,"").trim()}var Ya={number_style:{title:(0,v.t)(la||(la=Aa(["Style"]))),widget:"select",props:{options:[{name:"Normal",value:"decimal"},{name:"Percent",value:"percent"},{name:"Scientific",value:"scientific"},{name:"Currency",value:"currency"}]},getDefault:function(e,t){return(0,Mi.DB)(e)&&t.currency?"currency":"decimal"},getHidden:function(e,t){return(0,Mi.DB)(e)&&"currency"===t.number_style},readDependencies:["currency"]},currency:{title:(0,v.t)(ca||(ca=Aa(["Unit of currency"]))),widget:"select",props:{options:Pa.currency.map((function(e){var t=ka(e,2),n=(t[0],t[1]);return{name:n.name,value:n.code}})),searchProp:"name",searchCaseSensitive:!1},default:"USD",getHidden:function(e,t){return"currency"!==t.number_style}},currency_style:{title:(0,v.t)(sa||(sa=Aa(["Currency label style"]))),widget:"radio",getProps:function(e,t){var n=t.currency||"USD",r=(0,Ni.jK)(n),i=Ha(n,"code"),o=Ha(n,"name");return{options:[].concat(Na(r!==i?[{name:(0,v.t)(fa||(fa=Aa(["Symbol"])))+" "+"(".concat(r,")"),value:"symbol"}]:[]),[{name:(0,v.t)(da||(da=Aa(["Code"])))+" "+"(".concat(i,")"),value:"code"},{name:(0,v.t)(pa||(pa=Aa(["Name"])))+" "+"(".concat(o,")"),value:"name"}])}},getDefault:function(e,t){var n=t.currency||"USD";return(0,Ni.jK)(n)!==Ha(n,"code")?"symbol":"code"},getHidden:function(e,t){return"currency"!==t.number_style},readDependencies:["number_style"]},currency_in_header:{title:(0,v.t)(ha||(ha=Aa(["Where to display the unit of currency"]))),widget:"radio",props:{options:[{name:(0,v.t)(ma||(ma=Aa(["In the column heading"]))),value:!0},{name:(0,v.t)(ya||(ya=Aa(["In every table cell"]))),value:!1}]},default:!0,getHidden:function(e,t,n){var r=n.series;return"currency"!==t.number_style||"table"!==r[0].card.display},readDependencies:["number_style"]},number_separators:{title:(0,v.t)(va||(va=Aa(["Separator style"]))),widget:"select",props:{options:[{name:"100,000.00",value:".,"},{name:"100 000,00",value:", "},{name:"100.000,00",value:",."},{name:"100000.00",value:"."},{name:"100000.00",value:"."}]},default:".,"},decimals:{title:(0,v.t)(ba||(ba=Aa(["Minimum number of decimal places"]))),widget:"number"},scale:{title:(0,v.t)(ga||(ga=Aa(["Multiply by a number"]))),widget:"number",props:{placeholder:"1"}},prefix:{title:(0,v.t)(wa||(wa=Aa(["Add a prefix"]))),widget:"input"},suffix:{title:(0,v.t)(Oa||(Oa=Aa(["Add a suffix"]))),widget:"input"},_numberFormatter:{getValue:function(e,t){return(0,Ni.Nu)(t)},readDependencies:["number_style","currency_style","currency","decimals"]},_header_unit:{getValue:function(e,t){return"currency"===t.number_style&&t.currency_in_header?"symbol"===t.currency_style?(0,Ni.jK)(t.currency):Ha(t.currency,t.currency_style):null},readDependencies:["number_style","currency","currency_style","currency_header_only"]}},Ga={column:{getValue:function(e){return e}},_column_title_full:{getValue:function(e,t){var n=t.column_title||(0,Ni.jL)(e),r=t._header_unit;return r&&(n+=" (".concat(r,")")),n},readDependencies:["column_title","_header_unit"]}};function Wa(e,t){var r=function(){var e;return(e=n(26864)).getVisualizationRaw.apply(e,arguments)}(e),i=r.visualization,o="function"==typeof i.columnSettings?i.columnSettings(t):i.columnSettings||{};return(0,Mi.J_)(t)||t.unit&&"default"!==t.unit?Ra(Ra(Ra({},o),Ua),Ga):(0,Mi.hj)(t)&&!(0,Mi.Mn)(t)?Ra(Ra(Ra({},o),Ya),Ga):Ra(Ra({},o),Ga)}var $a=n(69312);var Ka,Ja,Xa,eu=(0,De.Z)("div",{target:"ezakuv31"})({name:"cxr2yc",styles:"position:relative;display:flex;flex:1;flex-direction:column;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;height:100%"}),tu=(0,De.Z)("h1",{target:"ezakuv30"})("cursor:pointer;&:hover{color:",(0,f.$_)("brand"),";}font-size:",(function(e){var t=function(e){var t=e.isDashboard,n=e.gridSize,r=e.minGridSize,i=e.width,o=e.height,a=e.totalNumGridCols;if(!(t&&n&&r&&i&&o&&a))return 0;var u=n.height,l=n.width,c=r.height,s=r.width;if(!(u&&l&&c&&s))return 0;var f=Math.min(a,l),d=i/f,p=a*d,h=s*d,m=4*Math.max(0,(i-h)/(p-h)),y=o/Math.min(f,u),v=10*y,b=c*y;return m+4*Math.max(0,(o-b)/(v-b))}(e),n=Math.min(Math.max(2.2+t,2.2),12)||2.2;return"".concat(n,"rem")}),";"),nu=function(e){var t=e.children;return u.createElement(eu,null,t)},ru=function(e){var t=e.title,n=e.description,r=e.onClick;return u.createElement("div",{className:"flex align-center full justify-center px2"},n&&n.length>0&&u.createElement("div",{style:{width:24}}),u.createElement("h3",{onClick:r,className:Ze()("Scalar-title overflow-hidden fullscreen-normal-text fullscreen-night-text text-brand-hover",{"cursor-pointer":!!r})},u.createElement(Ti.default,{tooltip:t},t)),n&&n.length>0&&u.createElement("div",{className:"hover-child cursor-pointer pl1 text-brand-hover",style:{marginTop:5,width:24}},u.createElement($a.Z,{tooltip:n,maxWidth:"22em"},u.createElement(En.ZP,{name:"info_outline"}))))},iu=function(e){var t=e.value,n=e.isDashboard,r=e.gridSize,i=e.minGridSize,o=e.width,a=e.height,l=e.totalNumGridCols;return u.createElement(tu,{className:"ScalarValue",isDashboard:n,gridSize:r,minGridSize:i,width:o,height:a,totalNumGridCols:l},t)};function ou(e){return ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(e)}function au(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function uu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uu(Object(n),!0).forEach((function(t){mu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t){return fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fu(e,t)}function du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hu(e);if(t){var i=hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pu(this,n)}}function pu(e,t){return!t||"object"!==ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hu(e)}function mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fu(e,t)}(o,e);var t,n,r,i=du(o);function o(){return cu(this,o),i.apply(this,arguments)}return t=o,n=[{key:"_getColumnIndex",value:function(e,t){var n=x.ZP.findIndex(e,(function(e){return e.name===t["scalar.field"]}));return n<0?0:n}},{key:"render",value:function(){var e=this,t=this.props,n=t.actionButtons,r=yu(t.series,1)[0],i=r.card,a=r.data,l=a.cols,c=a.rows,s=t.isDashboard,f=t.onChangeCardAndRun,d=t.settings,p=t.visualizationIsClickable,h=t.onVisualizationClick,m=t.width,y=t.height,v=t.gridSize,b=t.totalNumGridCols,g=this._getColumnIndex(l,d),w=c[0]&&c[0][g],O=l[g],j=lu(lu(lu({},function(e){return x.ZP.chain(e).pairs().filter((function(e){var t=yu(e,2),n=t[0],r=t[1];return n.startsWith("scalar.")&&void 0!==r})).map((function(e){var t=yu(e,2),n=t[0],r=t[1];return[n.replace(/^scalar\./,""),r]})).object().value()}(d)),d.column(O)),{},{jsx:!0}),S=(0,Ni.Bw)(w,j),E=(0,Ni.Bw)(w,lu(lu({},j),{},{compact:!0})),_=null!==S&&S.length>6&&(m<250||m<25*S.length)?E:S,P={value:w,column:O,data:c[0].map((function(e,t){return{value:e,col:l[t]}})),settings:d},C=p(P);return u.createElement(nu,null,u.createElement("div",{className:"Card-title absolute top right p1 px2"},n),u.createElement(Ti.default,{className:Ze()("fullscreen-normal-text fullscreen-night-text",{"text-brand-hover cursor-pointer":C}),tooltip:S,alwaysShowTooltip:S!==_,style:{maxWidth:"100%"}},u.createElement("span",{onClick:C&&function(){return e._scalar&&h(lu(lu({},P),{},{element:e._scalar}))},ref:function(t){return e._scalar=t}},u.createElement(iu,{isDashboard:s,gridSize:v,minGridSize:o.minSize,width:m,height:y,value:_,totalNumGridCols:b}))),s&&u.createElement(ru,{title:d["card.title"],description:d["card.description"],onClick:f&&function(){return f({nextCard:i})}}))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return 1===e.rows.length&&1===t.length}},{key:"checkRenderable",value:function(e){var t=yu(e,1)[0].data;t.cols,t.rows}},{key:"seriesAreCompatible",value:function(e,t){return!(!t.data.cols||1!==t.data.cols.length)}},{key:"transformSeries",value:function(e){return e.length>1?e.map((function(e,t){return{card:lu(lu({},e.card),{},{display:"funnel",visualization_settings:lu(lu({},e.card.visualization_settings),{},{"graph.x_axis.labels_enabled":!1}),_seriesIndex:t}),data:{cols:[{base_type:qi.wD.Text,display_name:(0,v.t)(Ka||(Ka=au(["Name"]))),name:"name",source:"query-transform"},lu({},e.data.cols[0])],rows:[[e.card.name,e.data.rows[0][0]]]}}})):e}}],n&&su(t.prototype,n),r&&su(t,r),o}(u.Component);mu(bu,"uiName",(0,v.t)(Ja||(Ja=au(["Number"])))),mu(bu,"identifier","scalar"),mu(bu,"iconName","number"),mu(bu,"noHeader",!0),mu(bu,"supportsSeries",!0),mu(bu,"minSize",{width:3,height:3}),mu(bu,"settings",lu(lu(lu({},$i("scalar.field",{title:(0,v.t)(Xa||(Xa=au(["Field to show"]))),getDefault:function(e){return yu(e,1)[0].data.cols[0].name},getHidden:function(e){return yu(e,1)[0].data.cols.length<2}})),La({getColumns:function(e,t){var n=yu(e,1)[0].data.cols;return[x.ZP.find(n,(function(e){return e.name===t["scalar.field"]}))||n[0]]},readDependencies:["scalar.field"]})),{},{"scalar.locale":{},"scalar.decimals":{},"scalar.prefix":{},"scalar.suffix":{},"scalar.scale":{},click_behavior:{}}));var gu,wu,Ou,ju,Su,Eu,_u,xu,Pu=n(67478);function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Au(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Du(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lu(e,t)}function Iu(e){var t=Zu();return function(){var n,r=Bu(e);if(t){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tu(this,n)}}function Tu(e,t){return!t||"object"!==Cu(t)&&"function"!=typeof t?Nu(e):t}function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e){var t="function"==typeof Map?new Map:void 0;return qu=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Mu(e,arguments,Bu(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Lu(r,e)},qu(e)}function Mu(e,t,n){return Mu=Zu()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Lu(i,n.prototype),i},Mu.apply(null,arguments)}function Zu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Lu(e,t){return Lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lu(e,t)}function Bu(e){return Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bu(e)}var zu,Fu,Qu,Vu,Uu,Hu,Yu,Gu=function(e){Ru(n,e);var t=Iu(n);function n(e,r){return Du(this,n),t.call(this,(0,v.t)(gu||(gu=Au(["Doh! The data from your query doesn't fit the chosen display choice. This visualization requires at least "," "," of data."])),r,(0,v.ngettext)((0,v.msgid)(wu||(wu=Au(["column"]))),"columns",r)))}return n}(qu(Error)),Wu=function(e){Ru(n,e);var t=Iu(n);function n(e,r){return Du(this,n),t.call(this,(0,v.t)(Ou||(Ou=Au(["No dice. We have "," data "," to show and that's not enough for this visualization."])),r,(0,v.ngettext)((0,v.msgid)(ju||(ju=Au(["point"]))),"points",r)))}return n}(qu(Error)),$u=function(e){Ru(n,e);var t=Iu(n);function n(){return Du(this,n),t.call(this,(0,v.t)(Su||(Su=Au(["Bummer. We can't actually do a pin map for this data because we require both a latitude and longitude column."]))))}return n}(qu(Error)),Ku=function(e){Ru(n,e);var t=Iu(n);function n(e){return Du(this,n),t.call(this,e||(0,v.t)(Eu||(Eu=Au(["This visualization requires you to group by a field."]))))}return n}(qu(Error)),Ju=function(e){Ru(n,e);var t=Iu(n);function n(e,r,i){var o;return Du(this,n),ku(Nu(o=t.call(this,e||(0,v.t)(_u||(_u=Au(["Please configure this chart in the chart settings"]))))),"initial",void 0),ku(Nu(o),"buttonText",void 0),o.initial=r,o.buttonText=i||(0,v.t)(xu||(xu=Au(["Edit Settings"]))),o}return n}(qu(Error)),Xu=n(47707),el=(0,De.Z)("div",{target:"e1u9f0e83"})("color:",(function(e){return e.color}),";display:flex;align-items:center;",Xu.y4,"{margin:",(0,Re.D)(1)," 0;}"),tl=(0,De.Z)("div",{target:"e1u9f0e82"})("align-items:center;display:flex;flex-wrap:wrap;margin-top:",(0,Re.D)(0),";",Xu.y4,"{flex-direction:column;}"),nl=(0,De.Z)("h4",{target:"e1u9f0e81"})("align-items:center;color:",(0,f.$_)("text-light"),";display:flex;",Xu.y4,"{text-transform:capitalize;}"),rl=(0,De.Z)("span",{target:"e1u9f0e80"})("color:",(0,f.$_)("text-light"),";font-size:0.7rem;margin:0 ",(0,Re.D)(0),";",Xu.y4,"{display:none;}");function il(e){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(e)}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ul(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(e,t){return dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dl(e,t)}function pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ml(e);if(t){var i=ml(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hl(this,n)}}function hl(e,t){return!t||"object"!==il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ml(e){return ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ml(e)}function yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(o,e);var t,n,r,i=pl(o);function o(){return sl(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.actionButtons,r=t.onChangeCardAndRun,i=t.onVisualizationClick,a=t.isDashboard,l=t.settings,c=t.visualizationIsClickable,s=ll(t.series,1)[0],d=s.card,p=s.data,h=p.rows,m=p.cols,y=t.rawSeries,b=t.gridSize,g=t.width,w=t.height,O=t.totalNumGridCols,j=m.findIndex((function(e){return!(0,Mi.J_)(e)})),S=m.findIndex((function(e){return(0,Mi.J_)(e)})),E=h[h.length-1],_=E&&E[j],P=m[j],C=y&&y[0].data&&y[0].data.insights,k=x.ZP.findWhere(C,{col:P.name});if(!k)return null;var A=(0,Pu.p9)(k.unit).toLowerCase(),D=k["last-change"],R=k["previous-value"],I=D<0,T=(l["scalar.switch_positive_negative"]?!I:I)?(0,f.$_)("error"):(0,f.$_)("success"),N=u.createElement("span",{style:{fontWeight:900}},(0,Ni.uf)(Math.abs(D),{number_style:"percent"})),q=u.createElement(rl,null,""),M=u.createElement("span",{style:{marginLeft:5}},(0,v.jt)(zu||(zu=ul(["last ",""])),A)),Z={value:_,column:P,dimensions:[{value:h[h.length-1][S],column:m[S]}],data:h[h.length-1].map((function(e,t){return{value:e,col:m[t]}})),settings:l},L=c(Z);return u.createElement(nu,null,u.createElement("div",{className:"Card-title absolute top right p1 px2"},n),u.createElement("span",{onClick:L&&function(){return e._scalar&&i(al(al({},Z),{},{element:e._scalar}))},ref:function(t){return e._scalar=t}},u.createElement(iu,{isDashboard:a,gridSize:b,minGridSize:o.minSize,width:g,height:w,totalNumGridCols:O,value:(0,Ni.Bw)(k["last-value"],l.column(P))})),a&&u.createElement(ru,{title:l["card.title"],description:l["card.description"],onClick:r&&function(){return r({nextCard:d})}}),u.createElement("div",{className:"SmartWrapper"},null==D||null==R?u.createElement("div",{className:"text-centered text-bold mt1",style:{color:(0,f.$_)("text-medium")}},(0,v.jt)(Fu||(Fu=ul(["Nothing to compare for the previous ","."])),A)):0===D?(0,v.t)(Qu||(Qu=ul(["No change from last ",""])),A):u.createElement(tl,null,u.createElement(el,{color:T},u.createElement(En.ZP,{size:13,pr:1,name:I?"arrow_down":"arrow_up"}),N),u.createElement(nl,{id:"SmartScalar-PreviousValue"},(0,v.jt)(Vu||(Vu=ul([""," was "," ",""])),q,(0,Ni.Bw)(R,l.column(P)),M)))))}}],r=[{key:"isSensible",value:function(e){var t=e.insights;return t&&t.length>0}},{key:"checkRenderable",value:function(e,t){var n=ll(e,1)[0].data.insights;if(!n||0===n.length)throw new Ku((0,v.t)(Uu||(Uu=ul(["Group by a time field to see how this has changed over time"]))))}}],n&&fl(t.prototype,n),r&&fl(t,r),o}(u.Component);function bl(e){return bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(e)}function gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(e,t){return jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jl(e,t)}function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_l(e);if(t){var i=_l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return El(this,n)}}function El(e,t){return!t||"object"!==bl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _l(e){return _l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_l(e)}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}yl(vl,"uiName",(0,v.t)(Hu||(Hu=ul(["Trend"])))),yl(vl,"identifier","smartscalar"),yl(vl,"iconName","smartscalar"),yl(vl,"minSize",{width:3,height:3}),yl(vl,"noHeader",!0),yl(vl,"settings",al(al({},La({getColumns:function(e,t){var n=ll(e,1)[0].data.cols;return[n.find((function(e){return e.name===t["scalar.field"]}))||n[1]||n[0]]}})),{},{"scalar.switch_positive_negative":{title:(0,v.t)(Yu||(Yu=ul(["Switch positive / negative colors?"]))),widget:"toggle"},click_behavior:{}}));var Pl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jl(e,t)}(o,e);var t,n,r,i=Sl(o);function o(){return wl(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.borderWidth,n=e.borderStyle,r=e.borderColor,i=e.borderRadius,o=e.className,a=e.style,l=e.children,c=2*parseInt(l.props.size||l.props.width,10),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:c,height:c,borderWidth:t,borderStyle:n,borderColor:r,borderRadius:i},a);return u.createElement("div",{className:Ze()("flex layout-centered",o),style:s},l)}}],n&&Ol(t.prototype,n),r&&Ol(t,r),o}(u.Component);xl(Pl,"propTypes",{borderWidth:E().string,borderStyle:E().string,borderColor:E().string,borderRadius:E().string,style:E().object,children:E().any.isRequired}),xl(Pl,"defaultProps",{borderWidth:"1px",borderStyle:"solid",borderColor:"currentcolor",borderRadius:"99px",style:{}});var Cl,kl,Al,Dl,Rl,Il,Tl,Nl,ql,Ml=n(99025),Zl=n.n(Ml);function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}function Bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(n),!0).forEach((function(t){$l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hl(e,t){return Hl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hl(e,t)}function Yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wl(e);if(t){var i=Wl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gl(this,n)}}function Gl(e,t){return!t||"object"!==Ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(e)}function $l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hl(e,t)}(o,e);var t,n,r,i=Yl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).containerRef=u.createRef(),t.labelRef=u.createRef(),t.pointerRef=u.createRef(),t.barRef=u.createRef(),t}return t=o,n=[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=In.findDOMNode(this),t=this.pointerRef.current,n=this.labelRef.current,r=this.containerRef.current;if(this.barRef.current.style.height=Math.min(65,e.offsetHeight)+"px",this.props.gridSize&&this.props.gridSize.height<4)return t.parentNode.style.display="none",void(n.parentNode.style.display="none");t.parentNode.style.display=null,n.parentNode.style.display=null,t.style.transform=null;var i=r.offsetWidth,o=n.offsetWidth,a=t.offsetWidth,u=t.offsetLeft+a/2,l=-a/2+5;u-o/2<l?(n.style.left=l+"px",n.style.right=null):u+o/2>i-l?(n.style.left=null,n.style.right=l+"px"):(n.style.left=u-o/2+"px",n.style.right=null),u<5?t.style.transform="translate(5px,0)":u>i-5&&(t.style.transform="translate(-5px,0)")}},{key:"render",value:function(){var e,t=this.props,n=Ql(t.series,1)[0].data,r=n.rows,i=n.cols,o=t.settings,a=t.onVisualizationClick,l=t.visualizationIsClickable,c=r[0]&&"number"==typeof r[0][0]?r[0][0]:0,s=i[0],f=o["progress.goal"]||0,d=o["progress.color"],p=Zl()(d).lighten(.25).rgb().string(),h=Zl()(d).darken(.3).rgb().string(),m=d,y=c>f?h:p,b=c>f?h:d,g=Math.max(0,c<f?c/f:f/c),w=Math.max(0,c<f?c/f:1);c===f?e=(0,v.t)(Cl||(Cl=Fl(["Goal met"]))):c>f&&(e=(0,v.t)(kl||(kl=Fl(["Goal exceeded"]))));var O={value:c,column:s},j=l(O);return u.createElement("div",{className:Ze()(this.props.className,"flex layout-centered")},u.createElement("div",{className:"flex-full full-height flex flex-column justify-center",style:{padding:10,paddingTop:0}},u.createElement("div",{ref:this.containerRef,className:"relative text-bold text-medium",style:{height:20}},u.createElement("div",{ref:this.labelRef,style:{position:"absolute"}},(0,Ni.Bw)(c,o.column(s)))),u.createElement("div",{className:"relative",style:{height:10,marginBottom:5}},u.createElement("div",{ref:this.pointerRef,style:{width:0,height:0,position:"absolute",left:100*w+"%",marginLeft:-10,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid "+b}})),u.createElement("div",{ref:this.barRef,className:Ze()("relative",{"cursor-pointer":j}),style:{backgroundColor:y,borderRadius:5,overflow:"hidden"},onClick:j&&function(e){return a(zl(zl({},O),{},{event:e.nativeEvent}))}},u.createElement("div",{style:{backgroundColor:m,width:100*g+"%",height:"100%"}}),e&&u.createElement("div",{className:"flex align-center absolute spread text-white text-bold px2"},u.createElement(Pl,{borderWidth:2},u.createElement(En.ZP,{name:"check",size:14})),u.createElement("div",{className:"pl2"},e))),u.createElement("div",{className:"mt1"},u.createElement("span",{className:"float-left"},"0"),u.createElement("span",{className:"float-right"},(0,v.t)(Al||(Al=Fl(["Goal ",""])),(0,Ni.Bw)(f,o.column(s)))))))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return 1===e.rows.length&&1===t.length}},{key:"checkRenderable",value:function(e){var t=Ql(e,1)[0].data,n=t.cols;if(t.rows,!(0,Mi.kE)(n[0]))throw new Error((0,v.t)(Dl||(Dl=Fl(["Progress visualization requires a number."]))))}}],n&&Ul(t.prototype,n),r&&Ul(t,r),o}(u.Component);$l(Kl,"uiName",(0,v.t)(Rl||(Rl=Fl(["Progress"])))),$l(Kl,"identifier","progress"),$l(Kl,"iconName","progress"),$l(Kl,"minSize",{width:3,height:3}),$l(Kl,"settings",zl(zl({},La({getColumns:function(e,t){var n=Ql(e,1)[0].data.cols;return[x.ZP.find(n,(function(e){return e.name===t["scalar.field"]}))||n[0]]}})),{},{"progress.goal":{section:(0,v.t)(Il||(Il=Fl(["Display"]))),title:(0,v.t)(Tl||(Tl=Fl(["Goal"]))),widget:"number",default:0},"progress.color":{section:(0,v.t)(Nl||(Nl=Fl(["Display"]))),title:(0,v.t)(ql||(ql=Fl(["Color"]))),widget:"color",default:(0,f.$_)("accent1")}}));var Jl=n(2818);function Xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e,t,n,r,i){var o=Xl(e,1)[0].data,a=o.rows,u=o.cols,l=r?i.sourceRows[t][n]:t;return null===l?null:a[l].map((function(e,t){return{value:e,col:u[t]}}))}function nc(e,t,n,r,i,o){var a=e.rows,u=e.cols,l=u[r],c=a[n],s=c[r];return i?0===r?c._dimension:{value:s,column:l,settings:t,dimensions:[c._dimension,l._dimension],data:o}:"aggregation"===l.source?{value:s,column:l,settings:t,dimensions:u.map((function(e,t){return{value:c[t],column:e}})).filter((function(e){return"breakout"===e.column.source})),origin:{rowIndex:n,row:c,cols:u},data:o}:{value:s,column:l,settings:t,origin:{rowIndex:n,row:c,cols:u},data:o}}function rc(e){return e&&e.remapped_to_column&&(e=e.remapped_to_column),(0,Mi.hj)(e)||(0,Mi.Mn)(e)}var ic=n(68942),oc=n(55799),ac=n(95498);function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dc=function(e){var t=e.value,n=sc(e.extent,2),r=n[0],i=n[1],o=e.options,a=(e.cellHeight,r<0),l=t<0,c=Math.abs(t)/Math.max(Math.abs(r),Math.abs(i))*100,s=l?(0,f.$_)("error"):(0,f.$_)("brand"),d=a?l?{width:c/2+"%",right:"50%",borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:3,borderBottomLeftRadius:3}:{width:c/2+"%",left:"50%",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:3,borderBottomRightRadius:3}:{width:c+"%",left:0,borderRadius:3};return u.createElement("div",{className:"flex align-center currentcolor justify-end relative"},u.createElement("div",{className:"text-ellipsis text-bold text-right flex-full",style:{minWidth:30}},(0,Ni.Bw)(t,lc(lc({},o),{},{jsx:!0,type:"cell"}))),u.createElement("div",{"data-testid":"mini-bar",className:"ml1",style:{position:"relative",width:70,height:8,backgroundColor:(0,f.Fq)(s,.2),borderRadius:3}},u.createElement("div",{style:lc({position:"absolute",top:0,bottom:0,backgroundColor:s},d)}),a&&u.createElement("div",{style:{position:"absolute",left:"50%",top:0,bottom:0,borderLeft:"1px solid white"}})))},pc=n(17107),hc=n(14599),mc=n.n(hc),yc=n(53630),vc=n(23070);var bc,gc=(0,De.Z)("div",{target:"ezp5lcj11"})({name:"10g9sf3",styles:"position:relative;display:flex;flex-direction:column;gap:0.8em;overflow:auto"}),wc=((0,De.Z)("div",{target:"ezp5lcj10"})({name:"1ayzrn4",styles:"position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center"}),(0,De.Z)(gc,{target:"ezp5lcj9"})({name:"nqhc1j",styles:"padding:1.1em"})),Oc=(0,De.Z)("div",{target:"ezp5lcj8"})({name:"pbpfoe",styles:"white-space:pre-line;max-height:200px;overflow:auto"}),jc=(0,De.Z)(Oc,{target:"ezp5lcj7"})("color:",(0,f.$_)("text-light"),";font-weight:700;"),Sc=(0,De.Z)("div",{target:"ezp5lcj6"})("display:inline-flex;align-items:center;column-gap:0.3em;font-size:1em;color:",(function(e){var t=e.color,n=void 0===t?"brand":t;return(0,f.$_)(n)}),";"),Ec=(0,De.Z)("span",{target:"ezp5lcj5"})({name:"pxpn9b",styles:"font-weight:bold;font-size:1em;line-height:1em"}),_c=(0,De.Z)(En.ZP,{target:"ezp5lcj4"})({name:"1ts7ics",styles:"height:1em;width:1em"}),xc=(0,De.Z)(_c,{target:"ezp5lcj3"})("background-color:",(0,f.$_)("brand"),";color:",(0,f.$_)("white"),";border-radius:0.3em;padding:0.3em;"),Pc=((0,De.Z)("div",{target:"ezp5lcj2"})("position:relative;width:100%;transition:opacity ",(function(){return(0,l.Wg)()?"0":"0.25s"})," linear;opacity:",(function(e){return e.visible?"1":"0"}),";&:empty{display:none;}"),(0,f.$_)("brand"),(0,De.Z)("table",{target:"ezp5lcj0"})({name:"xccoxr",styles:"font-size:1em;th{font-weight:normal;}td{font-weight:bold;}"}));function Cc(e){var t,n,r=e.className,i=e.dimension.field().semantic_type,o=(0,Mi.Eq)(i)||"ellipsis",a=(0,Mi.Ay)(i)||(0,v.t)(bc||(t=["No special type"],n||(n=t.slice(0)),bc=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))));return u.createElement(Sc,{className:r},u.createElement(xc,{name:o}),u.createElement(Ec,null,a))}Cc.propTypes={className:E().string,dimension:E().instanceOf(oc.ZP).isRequired};var kc=n(89326);function Ac(e){return function(e){if(Array.isArray(e))return Dc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rc(e,t){var n,r=(n=(0,u.useRef)(!1),(0,u.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),(0,u.useCallback)((function(){return n.current}),[])),i=(0,u.useCallback)((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Promise((function(t,i){return e.apply(void 0,n).then((function(e){r()&&t(e)})).catch((function(e){r()&&i(e)}))}))}),t?[].concat(Ac(t),[r]):[r]);return i}var Ic=n(67087);var Tc=function(){return(0,l.Wg)()?"0":"0.25s"},Nc=(0,De.Z)("div",{target:"edixawf6"})({name:"hi5dac",styles:"font-size:1em;position:relative;display:flex;flex-direction:column;gap:0.6em;height:auto;overflow:hidden"}),qc=(0,De.Z)("div",{target:"edixawf5"})({name:"pqrci0",styles:"white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-weight:bold;padding-top:0.3em 0;line-height:1.3em"}),Mc=(0,De.Z)(An.Z,{target:"edixawf4"})("display:flex;flex-grow:1;align-self:center;justify-content:center;color:",(0,f.$_)("brand"),";");Mc.defaultProps={size:18};var Zc,Lc,Bc=(0,De.Z)("div",{target:"edixawf3"})("position:relative;height:",(function(e){return e.height||"1em"}),";line-height:1em;"),zc=(0,De.Z)("div",{target:"edixawf2"})("position:absolute;top:0;left:0;width:100%;transition:opacity ",Tc," linear;opacity:",(function(e){return e.visible?"1":"0"}),";"),Fc=(0,De.Z)("div",{target:"edixawf1"})("position:absolute;width:100%;transition:opacity ",Tc," linear,transform ",Tc," linear;opacity:",(function(e){return e.visible?"1":"0"}),";transform:",(function(e){return e.visible?"translateY(0)":"translateY(100%)"}),";"),Qc=(0,De.Z)("li",{target:"edixawf0"})("padding:0.3em 0;overflow:hidden;text-overflow:ellipsis;border-bottom:1px solid ",(0,f.$_)("border"),";&:last-child{border-bottom:none;}");function Vc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Uc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yc={className:E().string,field:E().instanceOf(kc.Z).isRequired,fieldValues:E().array.isRequired,fetchFieldValues:E().func.isRequired,showAllFieldValues:E().bool},Gc={fetchFieldValues:Ic.ZP.actions.fetchFieldValues};function Wc(e){var t,n,r=e.className,i=e.field,o=e.fieldValues,a=void 0===o?[]:o,l=e.fetchFieldValues,c=e.showAllFieldValues,s=i.id,f="list"===i.has_field_values,d=0===a.length,p=f&&d,h=null===(t=i.fingerprint)||void 0===t||null===(n=t.global)||void 0===n?void 0:n["distinct-count"],m=(0,Ni.uf)(h),y=Uc((0,u.useState)(p),2),b=y[0],g=y[1],w=Rc(l);(0,u.useEffect)((function(){p&&(g(!0),w({id:s}).finally((function(){g(!1)})))}),[s,p,w]);var O=b||null!=h,j=b||a.length>0;return O||j?u.createElement(Nc,{className:r},O&&u.createElement(Bc,null,u.createElement(zc,{"aria-hidden":!b,visible:!b},(0,v.ngettext)((0,v.msgid)(Zc||(Zc=Vc([""," distinct value"])),m),"".concat(m," distinct values"),h||0)),u.createElement(zc,{"aria-hidden":!b,visible:b},(0,v.t)(Lc||(Lc=Vc(["Getting distinct values..."]))))),j&&(c?u.createElement($c,{fieldValues:a}):u.createElement(Kc,{isLoading:b,fieldValues:a}))):null}function $c(e){var t=e.fieldValues;return u.createElement("ul",null,t.map((function(e,t){var n=Array.isArray(e)?e[0]:e;return u.createElement(Qc,{key:t},n)})))}function Kc(e){var t=e.isLoading,n=e.fieldValues.slice(0,35).map((function(e){return Array.isArray(e)?e[0]:e})).join(", ");return u.createElement(Bc,{height:t?"1.8em":"1.5em"},u.createElement(zc,{visible:t},u.createElement(Mc,null)),u.createElement(Fc,{visible:!t},u.createElement(qc,null,n)))}$c.propTypes={fieldValues:E().array.isRequired},Kc.propTypes={isLoading:E().bool.isRequired,fieldValues:E().array.isRequired},Wc.propTypes=Yc;var Jc,Xc,es,ts,ns,rs,is=(0,_.connect)((function(e,t){var n=t.field.id;return{fieldValues:(null!=n?Ic.ZP.selectors.getFieldValues(e,{entityId:n}):[])||[]}}),Gc)(Wc);function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return as(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return as(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function us(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ls={className:E().string,field:E().instanceOf(kc.Z),showAllFieldValues:E().bool};function cs(e){var t=e.className,n=e.field,r=e.showAllFieldValues;return null!=n&&n.fingerprint?n.isDate()?u.createElement(ss,{className:t,field:n}):n.isNumber()&&!n.isID()?u.createElement(ds,{className:t,field:n}):n.isCategory()?u.createElement(is,{className:t,field:n,showAllFieldValues:r}):null:null}function ss(e){var t,n=e.className,r=e.field,i=null===(t=r.fingerprint.type)||void 0===t?void 0:t["type/DateTime"];if(!i)return null;var o=function(e){var t,n,r,i,o;return(null===(t=e.query)||void 0===t||null===(n=t.database)||void 0===n||null===(r=n.call(t))||void 0===r?void 0:r.timezone)||(null===(i=e.table)||void 0===i||null===(o=i.database)||void 0===o?void 0:o.timezone)}(r),a=i.earliest,l=i.latest,c=(0,Ni.Mg)(a,"minute"),s=(0,Ni.Mg)(l,"minute");return u.createElement(Pc,{className:n},u.createElement("tbody",null,u.createElement("tr",null,u.createElement("th",null,(0,v.t)(Jc||(Jc=us(["Timezone"])))),u.createElement("td",null,o)),u.createElement("tr",null,u.createElement("th",null,(0,v.t)(Xc||(Xc=us(["Earliest date"])))),u.createElement("td",null,c)),u.createElement("tr",null,u.createElement("th",null,(0,v.t)(es||(es=us(["Latest date"])))),u.createElement("td",null,s))))}function fs(e){return null==e?[!1,""]:[!0,(0,Ni.uf)(Number.isInteger(e)?e:e.toFixed(2))]}function ds(e){var t,n=e.className,r=null===(t=e.field.fingerprint.type)||void 0===t?void 0:t["type/Number"];if(!r)return null;var i=r.avg,o=r.min,a=r.max,l=os(fs(i),2),c=l[0],s=l[1],f=os(fs(o),2),d=f[0],p=f[1],h=os(fs(a),2),m=h[0],y=h[1];return c||d||m?u.createElement(Pc,{className:n},u.createElement("thead",null,u.createElement("tr",null,c&&u.createElement("th",null,(0,v.t)(ts||(ts=us(["Average"])))),d&&u.createElement("th",null,(0,v.t)(ns||(ns=us(["Min"])))),m&&u.createElement("th",null,(0,v.t)(rs||(rs=us(["Max"])))))),u.createElement("tbody",null,u.createElement("tr",null,c&&u.createElement("td",null,s),d&&u.createElement("td",null,p),m&&u.createElement("td",null,y)))):null}cs.propTypes=ls,ss.propTypes=ls,ds.propTypes=ls;var ps=cs;var hs,ms=(0,De.Z)(Cc,{target:"e13534s02"})({name:"shwt4b",styles:"font-size:0.9em"}),ys=(0,De.Z)(ps,{target:"e13534s01"})({name:"shwt4b",styles:"font-size:0.9em"}),vs=(0,De.Z)(wc,{target:"e13534s00"})({name:"13kd0yk",styles:"gap:0.8em"});function bs(e){var t,n,r=e.className,i=e.dimension,o=e.showAllFieldValues,a=i.field(),l=null==a?void 0:a.description;return u.createElement(vs,{className:r},l?u.createElement(Oc,null,l):u.createElement(jc,null,(0,v.t)(hs||(t=["No description"],n||(n=t.slice(0)),hs=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))),u.createElement(ms,{dimension:i}),u.createElement(ys,{field:a,showAllFieldValues:o}))}bs.propTypes={className:E().string,dimension:E().instanceOf(oc.ZP).isRequired,showAllFieldValues:E().bool};var gs=bs;function ws(e){return u.createElement(gs,e)}var Os=(0,De.Z)(ws,{target:"ey82uqu0"})({name:"15hkgqz",styles:"width:300px;font-size:14px"}),js=[1e3,300],Ss={dimension:E().instanceOf(oc.ZP),children:E().node,placement:E().string,disabled:E().bool},Es="dimension-info-popover";function _s(e){var t=e.dimension,n=e.children,r=e.placement,i=e.disabled,o=e.delay,a=void 0===o?js:o;return!(!t||!t.displayName())?u.createElement(vc.Z,{className:Es,delay:a,placement:r||"left-start",disabled:i,content:u.createElement(Os,{dimension:t}),onTrigger:function(e){document.querySelectorAll(".".concat(Es,"[data-state~='visible']")).length>0&&((0,yc.Bn)({exclude:e}),e.show())}},n):n}_s.propTypes=Ss;var xs,Ps,Cs,ks,As=_s,Ds=n(98399);function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}function Is(){return Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(this,arguments)}function Ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ts(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t){return Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ms(e,t)}function Zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zs(e);if(t){var i=zs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(e,t){return!t||"object"!==Rs(t)&&"function"!=typeof t?Bs(e):t}function Bs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e){return zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zs(e)}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var Vs=0;var Us,Hs,Ys,Gs,Ws,$s=(0,ac.default)({refreshMode:function(e){return e.isDashboard?"debounce":"throttle"}})((ks=Cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(o,e);var t,n,r,i=Zs(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Fs(Bs(t=i.call(this,e)),"recomputeGridSize",(function(){t.header&&t.grid&&(t.header.recomputeGridSize(),t.grid.recomputeGridSize())})),Fs(Bs(t),"recomputeColumnSizes",x.ZP.debounce((function(){t.setState({contentWidths:null})}),100)),Fs(Bs(t),"cellRenderer",(function(e){var n=e.key,r=e.style,i=e.rowIndex,o=e.columnIndex,a=t.props,l=a.data,c=a.settings,s=t.state.dragColIndex,f=l.rows,d=l.cols,p=d[o],h=f[i][o],m=c.column(p),y=t.getCellClickedObject(i,o),v=m.show_mini_bar?u.createElement(dc,{value:h,options:m,extent:(0,Zi.tS)(l.cols,l.rows,o),cellHeight:36}):t.getCellFormattedValue(h,m,y),b=!(v&&v.type===ie.Z)&&t.visualizationIsClickable(y),g=t.getCellBackgroundColor(c,h,i,p.name);return u.createElement("div",{key:n,style:Ns(Ns({},r),{},{left:t.getColumnLeft(r,o),transition:null!=s?"left 200ms":null,backgroundColor:g}),className:Ze()("TableInteractive-cellWrapper text-dark",{"TableInteractive-cellWrapper--firstColumn":0===o,"TableInteractive-cellWrapper--lastColumn":o===d.length-1,"TableInteractive-emptyCell":null==h,"cursor-pointer":b,"justify-end":rc(p),"Table-ID":null!=h&&(0,Mi.B5)(p),"Table-FK":null!=h&&(0,Mi.Rj)(p),link:b&&(0,Mi.B5)(p)}),onClick:b?function(e){t.onVisualizationClick(y,e.currentTarget)}:void 0,onKeyUp:b?function(e){"Enter"===e.key&&t.onVisualizationClick(y,e.currentTarget)}:void 0,tabIndex:"0"},t.props.renderTableCellWrapper(v))})),Fs(Bs(t),"tableHeaderRenderer",(function(e){e.key;var n=e.style,r=e.columnIndex,i=e.isVirtual,o=void 0!==i&&i,a=t.props,l=a.data,c=a.sort,s=a.isPivoted,f=a.hasMetadataPopovers,d=a.getColumnTitle,p=a.renderTableHeaderWrapper,h=t.state.dragColIndex,m=l.cols,y=m[r],v=d(r),b=t.getHeaderClickedObject(r),g=!s,w=h===r,O=t.visualizationIsClickable(b),j=O&&y.source&&!s,S=rc(y),E=(0,_a.ce)(y),_=x.ZP.findIndex(c,(function(e){return e[1]&&oc.ZP.isEqual(e[1],E)})),P=_>=0,C=P&&"asc"===c[_][0];return u.createElement(mc(),{enableUserSelectHack:!o,key:r+y.name+Vs,axis:"x",disabled:!g,onStart:function(e,i){t.setState({columnPositions:t.getColumnPositions(),dragColIndex:r,dragColStyle:n,dragColNewIndex:r})},onDrag:function(e,n){var r=t.getDragColNewIndex(n);null!=r&&r!==t.state.dragColNewIndex&&t.setState({dragColNewIndex:r,dragColNewLefts:t.getNewColumnLefts(r)})},onStop:function(e,n){var i=t.state,o=i.dragColIndex,a=i.dragColNewIndex;Vs++,null!=o&&null!=a&&o!==a?t.onColumnReorder(o,a):Math.abs(n.x)+Math.abs(n.y)<5&&setTimeout((function(){t.onVisualizationClick(b,t.headerRefs[r])})),t.setState({columnPositions:null,dragColIndex:null,dragColStyle:null,dragColNewIndex:null,dragColNewLefts:null})}},u.createElement("div",{ref:function(e){return t.headerRefs[r]=e},style:Ns(Ns({},n),{},{overflow:"visible",left:w?n.left:t.getColumnLeft(n,r)}),className:Ze()("TableInteractive-cellWrapper TableInteractive-headerCellData text-medium text-brand-hover",{"TableInteractive-cellWrapper--firstColumn":0===r,"TableInteractive-cellWrapper--lastColumn":r===m.length-1,"TableInteractive-cellWrapper--active":w,"TableInteractive-headerCellData--sorted":P,"cursor-pointer":O,"justify-end":S}),onClick:O&&!g?function(e){t.onVisualizationClick(b,e.currentTarget)}:void 0},u.createElement(As,{placement:"bottom-start",dimension:f?t.getDimension(y,t.props.query):null,disabled:null!=t.props.clicked},p(u.createElement(Ti.default,{tooltip:v},j&&S&&u.createElement(En.ZP,{className:"Icon mr1",name:C?"chevronup":"chevrondown",size:8}),v,j&&!S&&u.createElement(En.ZP,{className:"Icon ml1",name:C?"chevronup":"chevrondown",size:8})),y,r)),u.createElement(mc(),{enableUserSelectHack:!o,axis:"x",bounds:{left:5},position:{x:t.getColumnWidth({index:r}),y:0},onStart:function(e){e.stopPropagation(),t.setState({dragColIndex:r})},onStop:function(e,n){var i=n.x;e.stopPropagation(),t.onColumnResize(r,i),t.setState({dragColIndex:null})}},u.createElement("div",{className:"bg-brand-hover bg-brand-active",style:{zIndex:99,position:"absolute",width:5,top:0,bottom:0,left:-6,cursor:"ew-resize"}}))))})),Fs(Bs(t),"getColumnWidth",(function(e){var n=e.index,r=t.props.settings,i=t.state.columnWidths;return(r["table.column_widths"]||[])[n]||i[n]||36})),Fs(Bs(t),"handleOnMouseEnter",(function(){t._previousOverscrollBehaviorX=document.body.style.overscrollBehaviorX,document.body.style.overscrollBehaviorX="none"})),Fs(Bs(t),"handleOnMouseLeave",(function(){document.body.style.overscrollBehaviorX=t._previousOverscrollBehaviorX})),t.state={columnWidths:[],contentWidths:null},t.columnHasResized={},t.headerRefs=[],window.METABASE_TABLE=Bs(t),t}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){this._div=document.createElement("div"),this._div.className="TableInteractive",this._div.style.display="inline-block",this._div.style.position="absolute",this._div.style.visibility="hidden",this._div.style.zIndex="-1",document.body.appendChild(this._div),this._measure()}},{key:"componentWillUnmount",value:function(){this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.card,r=t.data,i=e.card,o=e.data,a=r&&o&&!x.ZP.isEqual(r.cols,o.cols),u=(0,ic.X3)(i,n)||(0,ic.X3)(n,i);a&&!u&&this.resetColumnWidths();var l=this._getColumnSettings(this.props),c=this._getColumnSettings(e);x.ZP.isEqual(l,c)||this.remeasureColumnWidths()}},{key:"_getColumnSettings",value:function(e){return e.data&&e.data.cols.map((function(t){return e.settings.column(t)}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=["width","height","settings","data","clicked","renderTableHeaderWrapper","scrollToColumn"];return!x.ZP.isEqual(x.ZP.pick.apply(x.ZP,[this.props].concat(n)),x.ZP.pick.apply(x.ZP,[e].concat(n)))||!x.ZP.isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e){if(this.state.contentWidths&&e.renderTableHeaderWrapper===this.props.renderTableHeaderWrapper){if(this.props.onContentWidthChange){var t=this.state.columnWidths.reduce((function(e,t){return e+t}));this._totalContentWidth!==t&&(this.props.onContentWidthChange(t,this.state.columnWidths),this._totalContentWidth=t)}}else this._measure()}},{key:"remeasureColumnWidths",value:function(){this.setState({columnWidths:[],contentWidths:null}),this.columnHasResized={}}},{key:"resetColumnWidths",value:function(){this.remeasureColumnWidths(),this.props.onUpdateVisualizationSettings({"table.column_widths":void 0})}},{key:"_measure",value:function(){var e=this,t=this.props.data,n=t.cols,r=t.rows;In.render(u.createElement("div",{style:{display:"flex"}},n.map((function(t,n){return u.createElement("div",{className:"fake-column",key:"column-"+n},e.tableHeaderRenderer({columnIndex:n,rowIndex:0,key:"header",style:{},isVirtual:!0}),function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=[],i=0;i<e.length&&r.length<n;i++)null!=e[i][t]&&r.push(i);return r}(r,n).map((function(t){return e.cellRenderer({rowIndex:t,columnIndex:n,key:"row-"+t,style:{}})})))}))),this._div,(function(){var t=[].map.call(e._div.getElementsByClassName("fake-column"),(function(e){return e.offsetWidth})),r=n.map((function(n,r){return e.columnNeedsResize?e.columnNeedsResize[r]&&!e.columnHasResized[r]?(e.columnHasResized[r]=!0,t[r]+1):e.state.columnWidths[r]?e.state.columnWidths[r]:0:t[r]+1}));setTimeout((function(){In.unmountComponentAtNode(e._div)}),0),delete e.columnNeedsResize,e.setState({contentWidths:t,columnWidths:r},e.recomputeGridSize)}))}},{key:"onCellResize",value:function(e){this.columnNeedsResize=this.columnNeedsResize||{},this.columnNeedsResize[e]=!0,this.recomputeColumnSizes()}},{key:"onColumnResize",value:function(e,t){var n=this,r=this.props.settings,i=r["table.column_widths"]?r["table.column_widths"].slice():[];i[e]=Math.max(36,t),this.props.onUpdateVisualizationSettings({"table.column_widths":i}),setTimeout((function(){return n.recomputeGridSize()}),1)}},{key:"onColumnReorder",value:function(e,t){var n=this.props,r=n.settings,i=n.onUpdateVisualizationSettings,o=r["table.columns"].slice();o.splice(t,0,o.splice(e,1)[0]),i({"table.columns":o})}},{key:"onVisualizationClick",value:function(e,t){var n=this.props.onVisualizationClick;this.visualizationIsClickable(e)&&n(Ns(Ns({},e),{},{element:t}))}},{key:"getCellClickedObject",value:function(e,t){try{return this._getCellClickedObjectCached(this.props.data,this.props.settings,e,t,this.props.isPivoted,this.props.series)}catch(e){Ds.error(e)}}},{key:"_getCellClickedObjectCached",value:function(e,t,n,r,i,o){return nc(e,t,n,r,i,tc(o,n,r,i,e))}},{key:"getHeaderClickedObject",value:function(e){try{return this._getHeaderClickedObjectCached(this.props.data,e,this.props.isPivoted)}catch(e){Ds.error(e)}}},{key:"_getHeaderClickedObjectCached",value:function(e,t,n){return function(e,t,n){var r=e.cols[t];return n?t>=0&&r?r._dimension:null:{column:r}}(e,t,n)}},{key:"visualizationIsClickable",value:function(e){try{var t=this.props,n=t.onVisualizationClick,r=t.visualizationIsClickable;if((null==this.state.dragColIndex||e&&void 0===e.value)&&n&&r&&e)return this._visualizationIsClickableCached(r,e)}catch(e){Ds.error(e)}}},{key:"_visualizationIsClickableCached",value:function(e,t){return e(t)}},{key:"getCellBackgroundColor",value:function(e,t,n,r){try{return e["table._cell_background_getter"](t,n,r)}catch(e){Ds.error(e)}}},{key:"getCellFormattedValue",value:function(e,t,n){try{return(0,Ni.Bw)(e,Ns(Ns({},t),{},{type:"cell",jsx:!0,rich:!0,clicked:n}))}catch(e){Ds.error(e)}}},{key:"getDragColNewIndex",value:function(e){var t=this.state,n=t.columnPositions,r=t.dragColNewIndex,i=t.dragColStyle;if(i)if(e.x<0){var o=i.left+e.x,a=x.ZP.findIndex(n,(function(e){return o<e.center}));if(a>=0)return a}else if(e.x>0){var u=i.left+i.width+e.x,l=x.ZP.findLastIndex(n,(function(e){return u>e.center}));if(l>=0)return l}return r}},{key:"getColumnPositions",value:function(){var e=this,t=0;return this.props.data.cols.map((function(n,r){var i=e.getColumnWidth({index:r}),o={left:t,right:t+i,center:t+i/2,width:i};return t+=i,o}))}},{key:"getNewColumnLefts",value:function(e){var t=this.state,n=t.dragColIndex,r=t.columnPositions,i=this.props.data.cols.map((function(e,t){return t}));i.splice(e,0,i.splice(n,1)[0]);var o=0,a=i.map((function(e){var t=o;return o+=r[e].width,{index:e,left:t}}));return a.sort((function(e,t){return e.index-t.index})),a.map((function(e){return e.left}))}},{key:"getColumnLeft",value:function(e,t){var n=this.state,r=n.dragColNewIndex,i=n.dragColNewLefts;return null!=r&&i?i[t]:e.left}},{key:"getDimension",value:function(e,t){if(t)return oc.ZP.parseMBQL(e.field_ref,t.metadata(),t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.height,i=t.data,o=i.cols,a=i.rows,l=t.className,c=t.scrollToColumn;if(!n||!r)return u.createElement("div",{className:l});var s=this.props.tableHeaderHeight||36;return u.createElement(pc.Ew,null,(function(t){var i=t.onScroll,f=t.scrollLeft,d=(t.scrollTop,{});return c>=0?d.scrollToColumn=c:d.scrollLeft=f,u.createElement("div",{className:Ze()(l,"TableInteractive relative",{"TableInteractive--pivot":e.props.isPivoted,"TableInteractive--ready":e.state.contentWidths,"TableInteractive--noHover":null!=e.state.dragColIndex}),onMouseEnter:e.handleOnMouseEnter,onMouseLeave:e.handleOnMouseLeave},u.createElement("canvas",{className:"spread",style:{pointerEvents:"none",zIndex:999},width:n,height:r}),u.createElement(pc.rj,{ref:function(t){return e.header=t},style:{top:0,left:0,right:0,height:s,position:"absolute",overflow:"hidden"},className:"TableInteractive-header scroll-hide-all",width:n||0,height:s,rowCount:1,rowHeight:s,columnCount:o.length+1,columnWidth:function(t){return t.index<o.length?e.getColumnWidth(t):50},cellRenderer:function(t){return t.columnIndex<o.length?e.tableHeaderRenderer(t):null},onScroll:function(e){var t=e.scrollLeft;return i({scrollLeft:t})},scrollLeft:f,tabIndex:null,scrollToColumn:c}),u.createElement(pc.rj,Is({ref:function(t){return e.grid=t},style:{top:s,left:0,right:0,bottom:0,position:"absolute"},className:"",width:n,height:r-s,columnCount:o.length,columnWidth:e.getColumnWidth,rowCount:a.length,rowHeight:36,cellRenderer:e.cellRenderer,onScroll:function(t){var n=t.scrollLeft;return e.props.onActionDismissal(),i({scrollLeft:n})}},d,{tabIndex:null,overscanRowCount:20})))}))}},{key:"_benchmark",value:function(){var e=In.findDOMNode(this.grid),t=e.scrollHeight,n=0,r=Date.now();!function i(){e.scrollTop=n,setTimeout((function(){var e=Date.now();Ds.log(e-r),r=e,(n+=t/10)<t-t/10&&i()}),40)}()}}],n&&qs(t.prototype,n),r&&qs(t,r),o}(u.Component),Fs(Cs,"propTypes",{data:E().object.isRequired,isPivoted:E().bool.isRequired,sort:E().array}),Fs(Cs,"defaultProps",{isPivoted:!1,hasMetadataPopovers:!0,renderTableHeaderWrapper:function(e){return u.createElement("div",{className:"cellData"},e)},renderTableCellWrapper:function(e){return u.createElement("div",{className:Ze()({cellData:null!=e&&""!==e})},e)}}),Qs((Ps=ks).prototype,"_getCellClickedObjectCached",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"_getCellClickedObjectCached"),Ps.prototype),Qs(Ps.prototype,"_getHeaderClickedObjectCached",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"_getHeaderClickedObjectCached"),Ps.prototype),Qs(Ps.prototype,"_visualizationIsClickableCached",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"_visualizationIsClickableCached"),Ps.prototype),Qs(Ps.prototype,"getCellBackgroundColor",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"getCellBackgroundColor"),Ps.prototype),Qs(Ps.prototype,"getCellFormattedValue",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"getCellFormattedValue"),Ps.prototype),Qs(Ps.prototype,"getDimension",[Jl.HP],Object.getOwnPropertyDescriptor(Ps.prototype,"getDimension"),Ps.prototype),xs=Ps))||xs,Ks="CtorL",Js="ipoXK",Xs=n(34344);function ef(e){return ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach((function(t){sf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function af(e,t){return af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},af(e,t)}function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cf(e);if(t){var i=cf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lf(this,n)}}function lf(e,t){return!t||"object"!==ef(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cf(e)}function sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ff=(0,ac.default)({refreshMode:function(e){return e.isDashboard&&!e.isEditing?"debounce":"throttle"}})((Ys=Hs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&af(e,t)}(o,e);var t,n,r,i=uf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={page:0,pageSize:1,sortColumn:null,sortDescending:!1},t.headerRef=u.createRef(),t.footerRef=u.createRef(),t.firstRowRef=u.createRef(),t}return t=o,n=[{key:"setSort",value:function(e){this.state.sortColumn===e?this.setState({sortDescending:!this.state.sortDescending}):this.setState({sortColumn:e})}},{key:"componentDidUpdate",value:function(){var e=this.headerRef.current.getBoundingClientRect().height,t=this.footerRef.current?this.footerRef.current.getBoundingClientRect().height:0,n=this.firstRowRef.current.getBoundingClientRect().height+1,r=Math.max(1,Math.floor((this.props.height-e-t)/n));this.state.pageSize!==r&&this.setState({pageSize:r})}},{key:"visualizationIsClickable",value:function(e){var t=this.props,n=t.onVisualizationClick,r=t.visualizationIsClickable;return n&&r&&r(e)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.data,i=n.onVisualizationClick,o=n.isPivoted,a=n.settings,l=n.getColumnTitle,c=n.card,s=n.series,f=r.rows,d=r.cols,p=(0,b.getIn)(c,["dataset_query","query","limit"])||void 0,h=a["table._cell_background_getter"],m=this.state,y=m.page,g=m.pageSize,w=m.sortColumn,O=m.sortDescending,j=g*y,S=Math.min(f.length-1,g*(y+1)-1),E=x.ZP.range(0,f.length);return null!=w&&(E=x.ZP.sortBy(E,(function(e){var t=f[e][w],n=d[w];return"string"==typeof t&&(t=(0,Mi.B5)(n)&&function(e){return/^\d+$/.test(String(e))}(t)?parseInt(t,10):t.toLowerCase()),null===t&&(t=void 0),t})),O&&E.reverse()),e=void 0===p&&f.length>=Xs.C2?(0,v.t)(Gs||(Gs=rf(["Rows ","-"," of first ",""])),j+1,S+1,f.length):(0,v.t)(Ws||(Ws=rf(["Rows ","-"," of ",""])),j+1,S+1,f.length),u.createElement("div",{className:Ze()(this.props.className,"relative flex flex-column")},u.createElement("div",{className:"flex-full relative"},u.createElement("div",{className:"absolute top bottom left right scroll-x scroll-show scroll-show--hover",style:{overflowY:"hidden"}},u.createElement("table",{className:Ze()(Ks,Js,"fullscreen-normal-text","fullscreen-night-text")},u.createElement("thead",{ref:this.headerRef},u.createElement("tr",null,d.map((function(e,n){return u.createElement("th",{key:n,className:Ze()("TableInteractive-headerCellData cellData text-brand-hover text-medium",{"TableInteractive-headerCellData--sorted":w===n,"text-right":rc(e)}),onClick:function(){return t.setSort(n)}},u.createElement("div",{className:"relative"},u.createElement(En.ZP,{name:O?"chevrondown":"chevronup",width:8,height:8,style:{position:"absolute",right:"100%",marginRight:3}}),u.createElement(Ti.default,null,l(n))))})))),u.createElement("tbody",null,E.slice(j,S+1).map((function(e,n){return u.createElement("tr",{key:e,ref:0===n?t.firstRowRef:null,"data-testid":"table-row"},f[e].map((function(n,l){var c=tc(s,e,l,o,r),p=d[l],m=nc(r,a,e,l,o,c),y=a.column(p),v=t.props.getExtraDataForClick?t.props.getExtraDataForClick(m):{},b=null==n?"-":y.show_mini_bar?u.createElement(dc,{value:n,options:y,extent:(0,Zi.tS)(d,f,l)}):(0,Ni.Bw)(n,nf(nf({},y),{},{clicked:nf(nf({},m),{},{extraData:v}),type:"cell",jsx:!0,rich:!0})),g=!(b&&b.type===ie.Z)&&t.visualizationIsClickable(m);return u.createElement("td",{key:l,style:{whiteSpace:"nowrap",backgroundColor:h&&h(n,e,p.name)},className:Ze()("px1 border-bottom text-dark fullscreen-normal-text fullscreen-night-text text-bold",{"text-right":rc(p),"Table-ID":null!=n&&(0,Mi.B5)(p),"Table-FK":null!=n&&(0,Mi.Rj)(p),link:g&&(0,Mi.B5)(p)})},u.createElement("span",{className:Ze()("cellData inline-block",{"cursor-pointer text-brand-hover":g}),onClick:g?function(e){i(nf(nf({},m),{},{element:e.currentTarget,extraData:v}))}:void 0},b))})))})))))),g<f.length?u.createElement("div",{ref:this.footerRef,className:"p1 flex flex-no-shrink flex-align-right fullscreen-normal-text fullscreen-night-text"},u.createElement("span",{className:"text-bold"},e),u.createElement("span",{className:Ze()("text-brand-hover px1 cursor-pointer",{disabled:0===j}),onClick:function(){return t.setState({page:y-1})}},u.createElement(En.ZP,{name:"triangle_left",size:10})),u.createElement("span",{className:Ze()("text-brand-hover pr1 cursor-pointer",{disabled:S+1>=f.length}),onClick:function(){return t.setState({page:y+1})}},u.createElement(En.ZP,{name:"triangle_right",size:10}))):null)}}],n&&of(t.prototype,n),r&&of(t,r),o}(u.Component),sf(Hs,"propTypes",{data:E().object.isRequired}),sf(Hs,"defaultProps",{className:""}),Us=Ys))||Us,df=n(56397),pf=n(6430),hf=["helperClass"];function mf(){return mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(this,arguments)}function yf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vf=(0,De.Z)("div",{target:"e1oypsl90"})({name:"oldbq4",styles:"user-select:none"});function bf(e,t){var n=(0,pf.JN)((function(t){return u.createElement(vf,null,u.createElement(e,t))}),t);function r(e){var t=e.helperClass,r=yf(e,hf);return u.createElement(n,mf({},r,{helperClass:Ze()("react-sortable-hoc-helper",t)}))}return r.displayName=e.displayName,r.propTypes={helperClass:E().string},r}var gf,wf,Of=n(7679);function jf(e){return jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(e)}function Sf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Cf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach((function(t){Mf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e){return function(e){if(Array.isArray(e))return kf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cf(e,t){if(e){if("string"==typeof e)return kf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kf(e,t):void 0}}function kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rf(e,t)}function If(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qf(e);if(t){var i=qf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tf(this,n)}}function Tf(e,t){return!t||"object"!==jf(t)&&"function"!=typeof t?Nf(e):t}function Nf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qf(e)}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zf=(0,pf.W8)((function(e){var t=e.columnSetting,n=e.getColumnName,r=e.onEdit,i=e.onRemove;return u.createElement(Lo,{title:n(t),onEdit:r?function(){return r(t)}:null,onRemove:i?function(){return i(t)}:null,draggable:!0})})),Lf=bf((function(e){var t=e.columnSettings,n=e.getColumnName,r=e.onEdit,i=e.onRemove;return u.createElement("div",null,t.map((function(e,t){return u.createElement(Zf,{key:"item-".concat(t),index:e.index,columnSetting:e,getColumnName:n,onEdit:r,onRemove:i})})))})),Bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}(o,e);var t,n,r,i=If(o);function o(){var e;Af(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mf(Nf(e=i.call.apply(i,[this].concat(n))),"handleEnable",(function(t){var n=Pf(e.props.value),r=t.index;n[r]=xf(xf({},n[r]),{},{enabled:!0}),e.props.onChange(n)})),Mf(Nf(e),"handleDisable",(function(t){var n=Pf(e.props.value),r=t.index;n[r]=xf(xf({},n[r]),{},{enabled:!1}),e.props.onChange(n)})),Mf(Nf(e),"handleSortEnd",(function(t){var n=t.oldIndex,r=t.newIndex,i=Pf(e.props.value);i.splice(r,0,i.splice(n,1)[0]),e.props.onChange(i)})),Mf(Nf(e),"handleEdit",(function(t){var n=(0,_a.gg)(e.props.columns,t);n&&e.props.onShowWidget({id:"column_settings",props:{initialKey:(0,_a.$Q)(n)}})})),Mf(Nf(e),"handleAddNewField",(function(t){var n=e.props,r=n.value;(0,n.onChange)([].concat(Pf(r),[{fieldRef:t,enabled:!0}]))})),Mf(Nf(e),"getColumnName",(function(t){return(0,Zi.RY)((0,_a.gg)(e.props.columns,t)||{display_name:"[Unknown]"})})),e}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.question,i=t.columns,o=r&&r.query(),a={count:0};i&&o instanceof Of.Z&&(a=o.fieldsOptions((function(e){return!x.ZP.find(i,(function(t){return e.isSameBaseDimension(t.field_ref)}))})));var l=Ef(x.ZP.partition(n.filter((function(e){return(0,_a.gg)(i,e)})).map((function(e,t){return xf(xf({},e),{},{index:t})})),(function(e){return e.enabled})),2),c=l[0],s=l[1];return u.createElement("div",{className:"list"},u.createElement("div",null,(0,v.t)(gf||(gf=Sf(["Click and drag to change their order"])))),c.length>0?u.createElement(Lf,{columnSettings:c,getColumnName:this.getColumnName,onEdit:this.handleEdit,onRemove:this.handleDisable,onSortEnd:this.handleSortEnd,distance:5}):u.createElement("div",{className:"my2 p2 flex layout-centered bg-grey-0 text-light text-bold rounded"},(0,v.t)(wf||(wf=Sf(["Add fields from the list below"])))),s.length>0||a.count>0?u.createElement("h4",{className:"mb2 mt4 pt4 border-top"},"More columns"):null,s.map((function(t,n){return u.createElement(Lo,{key:n,title:e.getColumnName(t),onAdd:function(){return e.handleEnable(t)},onClick:function(){return e.handleEnable(t)}})})),a.count>0&&u.createElement("div",null,a.dimensions.map((function(t,n){return u.createElement(Lo,{key:n,title:t.displayName(),onAdd:function(){return e.handleAddNewField(t.mbql())}})})),a.fks.map((function(t,n){return u.createElement("div",{key:t.id},u.createElement("div",{className:"my2 text-medium text-bold text-uppercase text-small"},t.name||(t.field.target?t.field.target.table.display_name:t.field.display_name)),t.dimensions.map((function(t,n){return u.createElement(Lo,{key:n,title:t.displayName(),onAdd:function(){return e.handleAddNewField(t.mbql())}})})))}))))}}],n&&Df(t.prototype,n),r&&Df(t,r),o}(u.Component),zf=n(91826),Ff=n.n(zf),Qf=["colors","sections","quantile","className"];function Vf(){return Vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function Uf(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(n),!0).forEach((function(t){Gf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wf=function(e){var t=e.colors,n=void 0===t?[]:t,r=e.sections,i=void 0===r?5:r,o=e.quantile,a=void 0!==o&&o,l=e.className,c=Uf(e,Qf),s=(0,f.pI)([0,i-1],n,a);return u.createElement("div",Vf({className:Ze()(l,"flex")},c),Ff().range(0,i).map((function(e){return u.createElement("div",{key:e,className:"flex-full",style:{background:s(e)}})})))},$f=function(e){var t=e.value,n=e.onChange,r=e.ranges,i=e.className,o=e.style,a=e.sections,l=void 0===a?5:a,c=e.quantile,s=void 0!==c&&c,f=e.columns,d=void 0===f?2:f;return u.createElement(_n.Z,{triggerElement:u.createElement(Wf,{colors:t,className:Ze()(i,"bordered rounded overflow-hidden"),style:Yf({height:30},o),sections:l,quantile:s})},(function(e){var t=e.onClose;return u.createElement("div",{className:"pt1 mr1 flex flex-wrap",style:{width:300}},r.map((function(e,r){return u.createElement("div",{key:r,className:"mb1 pl1",style:{flex:"1 1 ".concat(Math.round(100/d),"%")}},u.createElement(Wf,{colors:e,onClick:function(){n(e),t()},className:Ze()("bordered rounded overflow-hidden cursor-pointer"),style:{height:30},sections:l,quantile:s}))})))}))},Kf=n(32935),Jf=n(97249);function Xf(e){return Xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(e)}var ed,td,nd,rd,id,od,ad,ud,ld,cd,sd,fd,dd,pd,hd,md,yd,vd,bd,gd,wd,Od,jd,Sd,Ed,_d,xd,Pd,Cd,kd,Ad,Dd,Rd,Id,Td,Nd,qd,Md,Zd,Ld,Bd,zd,Fd,Qd,Vd,Ud,Hd,Yd=["color","className","style"];function Gd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||op(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wd(){return Wd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(this,arguments)}function $d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xd(e,t){return Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xd(e,t)}function ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rp(e);if(t){var i=rp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tp(this,n)}}function tp(e,t){return!t||"object"!==Xf(t)&&"function"!=typeof t?np(e):t}function np(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rp(e)}function ip(e){return function(e){if(Array.isArray(e))return ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||op(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){if(e){if("string"==typeof e)return ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ap(e,t):void 0}}function ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function up(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?up(Object(n),!0).forEach((function(t){cp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fp={"<":(0,v.t)(ed||(ed=sp(["is less than"]))),">":(0,v.t)(td||(td=sp(["is greater than"]))),"<=":(0,v.t)(nd||(nd=sp(["is less than or equal to"]))),">=":(0,v.t)(rd||(rd=sp(["is greater than or equal to"]))),"=":(0,v.t)(id||(id=sp(["is equal to"]))),"!=":(0,v.t)(od||(od=sp(["is not equal to"]))),"is-null":(0,v.t)(ad||(ad=sp(["is null"]))),"not-null":(0,v.t)(ud||(ud=sp(["is not null"])))},dp={"=":(0,v.t)(ld||(ld=sp(["is equal to"]))),"!=":(0,v.t)(cd||(cd=sp(["is not equal to"]))),"is-null":(0,v.t)(sd||(sd=sp(["is null"]))),"not-null":(0,v.t)(fd||(fd=sp(["is not null"]))),contains:(0,v.t)(dd||(dd=sp(["contains"]))),"does-not-contain":(0,v.t)(pd||(pd=sp(["does not contain"]))),"starts-with":(0,v.t)(hd||(hd=sp(["starts with"]))),"ends-with":(0,v.t)(md||(md=sp(["ends with"])))},pp=lp(lp({},fp),dp),hp=Object.values(f.zw),mp=(yd=[]).concat.apply(yd,ip(hp.map((function(e){return[["white",e],[e,"white"]]}))).concat([[[(0,f.$_)("error"),"white",(0,f.$_)("success")],[(0,f.$_)("success"),"white",(0,f.$_)("error")],[(0,f.$_)("error"),(0,f.$_)("warning"),(0,f.$_)("success")],[(0,f.$_)("success"),(0,f.$_)("warning"),(0,f.$_)("error")]]])),yp={single:{columns:[],type:"single",operator:"=",value:"",color:hp[0],highlight_row:!1},range:{columns:[],type:"range",colors:mp[0],min_type:null,max_type:null,min_value:0,max_value:100}},vp=function(e){return(0,Mi.kE)(e)||(0,Mi.HD)(e)},bp="AdminSelect input mt1 full",gp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}(o,e);var t,n,r,i=ep(o);function o(){var e;Kd(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cp(np(e=i.call.apply(i,[this].concat(n))),"state",{editingRule:null,editingRuleIsNew:null}),e}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,i=t.cols,o=this.state,a=o.editingRule,l=o.editingRuleIsNew;return null!==a&&n[a]?u.createElement(Pp,{rule:n[a],cols:i,isNew:l,onChange:function(e){return r([].concat(ip(n.slice(0,a)),[e],ip(n.slice(a+1))))},onRemove:function(){r([].concat(ip(n.slice(0,a)),ip(n.slice(a+1)))),e.setState({editingRule:null,editingRuleIsNew:null})},onDone:function(){e.setState({editingRule:null,editingRuleIsNew:null})}}):u.createElement(jp,{rules:n,cols:i,onEdit:function(t){e.setState({editingRule:t,editingRuleIsNew:!1})},onAdd:function(){r([lp(lp({},yp.single),{},{columns:1===i.length?[i[0].name]:[]})].concat(ip(n))),e.setState({editingRule:0,editingRuleIsNew:!0})},onRemove:function(e){r([].concat(ip(n.slice(0,e)),ip(n.slice(e+1)))),Jf.vF("Chart Settings","Table Formatting","Remove Rule")},onMove:function(e,t){var i=ip(n);i.splice(t,0,i.splice(e,1)[0]),r(i),Jf.vF("Chart Settings","Table Formatting","Move Rule")}})}}],n&&Jd(t.prototype,n),r&&Jd(t,r),o}(u.Component),wp=(0,pf.W8)((function(e){var t=e.rule,n=e.cols,r=e.onEdit,i=e.onRemove;return u.createElement(Sp,{rule:t,cols:n,onClick:r,onRemove:i})})),Op=bf((function(e){var t=e.rules,n=e.cols,r=e.onEdit,i=e.onRemove;return u.createElement("div",null,t.map((function(e,t){return u.createElement(wp,{key:"item-".concat(t),index:t,rule:e,cols:n,onEdit:function(){return r(t)},onRemove:function(){return i(t)}})})))})),jp=function(e){var t=e.rules,n=e.cols,r=e.onEdit,i=e.onAdd,o=e.onRemove,a=e.onMove;return u.createElement("div",null,u.createElement("h3",null,(0,v.t)(vd||(vd=sp(["Conditional formatting"])))),u.createElement("div",{className:"mt2"},(0,v.t)(bd||(bd=sp(["You can add rules to make the cells in this table change color if\n    they meet certain conditions."])))),u.createElement("div",{className:"mt2"},u.createElement(Ce.Z,{borderless:!0,icon:"add",onClick:i,"data-metabase-event":"Chart Settings;Table Formatting;Add Rule"},(0,v.t)(gd||(gd=sp(["Add a rule"]))))),t.length>0?u.createElement("div",{className:"mt2"},u.createElement("h3",null,(0,v.t)(wd||(wd=sp(["Rules will be applied in this order"])))),u.createElement("div",{className:"mt2"},(0,v.t)(Od||(Od=sp(["Click and drag to reorder."])))),u.createElement(Op,{rules:t,cols:n,onEdit:r,onRemove:o,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;return a(t,n)},distance:10})):null)},Sp=function(e){var t=e.rule,n=e.cols,r=e.onClick,i=e.onRemove;return u.createElement("div",{className:"my2 bordered rounded shadowed cursor-pointer bg-white",onClick:r},u.createElement("div",{className:"p1 border-bottom relative bg-light"},u.createElement("div",{className:"px1 flex align-center relative"},u.createElement("span",{className:"h4 flex-auto text-dark text-wrap"},t.columns.length>0?t.columns.map((function(e){return(x.ZP.findWhere(n,{name:e})||{}).display_name||e})).join(", "):u.createElement("span",{style:{fontStyle:"oblique"}},(0,v.t)(jd||(jd=sp(["No columns selected"]))))),u.createElement(En.ZP,{name:"close",className:"cursor-pointer text-light text-medium-hover",onClick:function(e){e.stopPropagation(),i()}}))),u.createElement("div",{className:"p2 flex align-center"},u.createElement(Ep,{rule:t,className:Ze()("mr2 flex-no-shrink rounded",{bordered:"range"===t.type}),style:{width:40,height:40}}),u.createElement(xp,{rule:t})))},Ep=function(e){var t=e.rule,n=e.className,r=e.style;return"range"===t.type?u.createElement(Wf,{colors:t.colors,className:n,style:r}):"single"===t.type?u.createElement(_p,{color:t.color,className:n,style:r}):null},_p=function(e){var t=e.color,n=e.className,r=e.style,i=$d(e,Yd);return u.createElement("div",Wd({className:n,style:lp(lp({},r),{},{background:t})},i))},xp=function(e){var t=e.rule;return u.createElement("span",null,"range"===t.type?(0,v.t)(Sd||(Sd=sp(["Cells in this column will be tinted based on their values."]))):"single"===t.type?(0,v.jt)(Ed||(Ed=sp(["When a cell in these columns "," it will be tinted this color."])),u.createElement("span",{className:"text-bold"},pp[t.operator]," ",t.value)):null)},Pp=function(e){var t=e.rule,n=e.cols,r=e.isNew,i=e.onChange,o=e.onDone,a=e.onRemove,l=t.columns.map((function(e){return x.ZP.findWhere(n,{name:e})})),c=l.length>0&&x.ZP.all(l,Mi.HD),s=l.length>0&&x.ZP.all(l,Mi.kE),f="is-null"!==t.operator&&"not-null"!==t.operator;return u.createElement("div",null,u.createElement("h3",{className:"mb1"},(0,v.t)(_d||(_d=sp(["Which columns should be affected?"])))),u.createElement(tt.ZP,{value:t.columns,onChange:function(e){return i(lp(lp({},t),{},{columns:e.target.value}))},isInitiallyOpen:0===t.columns.length,placeholder:"Choose a column",multiple:!0},n.map((function(e){return u.createElement(tt.Wx,{key:e.name,value:e.name,disabled:c&&!(0,Mi.HD)(e)||s&&!(0,Mi.kE)(e)},e.display_name)}))),s&&u.createElement("div",null,u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(xd||(xd=sp(["Formatting style"])))),u.createElement(He.Z,{value:t.type,options:[{name:(0,v.t)(Pd||(Pd=sp(["Single color"]))),value:"single"},{name:(0,v.t)(Cd||(Cd=sp(["Color range"]))),value:"range"}],onChange:function(e){return i(lp(lp(lp({},yp[e]),t),{},{type:e}))},vertical:!0})),"single"===t.type?u.createElement("div",null,u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(kd||(kd=sp(["When a cell in this column"])))),u.createElement(tt.ZP,{value:t.operator,onChange:function(e){return i(lp(lp({},t),{},{operator:e.target.value}))}},Object.entries(s?fp:dp).map((function(e){var t=Gd(e,2),n=t[0],r=t[1];return u.createElement(tt.Wx,{key:r,value:n},r)}))),f&&s?u.createElement(Kf.default,{className:bp,type:"number",value:t.value,onChange:function(e){return i(lp(lp({},t),{},{value:e}))}}):f?u.createElement("input",{className:bp,value:t.value,onChange:function(e){return i(lp(lp({},t),{},{value:e.target.value}))}}):null,u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(Ad||(Ad=sp(["turn its background this color:"])))),u.createElement(at.default,{value:t.color,colors:hp,onChange:function(e){return i(lp(lp({},t),{},{color:e}))}}),u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(Dd||(Dd=sp(["Highlight the whole row"])))),u.createElement(Je.Z,{value:t.highlight_row,onChange:function(e){return i(lp(lp({},t),{},{highlight_row:e}))}})):"range"===t.type?u.createElement("div",null,u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(Rd||(Rd=sp(["Colors"])))),u.createElement($f,{value:t.colors,onChange:function(e){Jf.vF("Chart Settings","Table Formatting","Select Range  Colors",e),i(lp(lp({},t),{},{colors:e}))},ranges:mp}),u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(Id||(Id=sp(["Start the range at"])))),u.createElement(He.Z,{value:t.min_type,onChange:function(e){return i(lp(lp({},t),{},{min_type:e}))},options:(t.columns.length<=1?[{name:(0,v.t)(Td||(Td=sp(["Smallest value in this column"]))),value:null}]:[{name:(0,v.t)(Nd||(Nd=sp(["Smallest value in each column"]))),value:null},{name:(0,v.t)(qd||(qd=sp(["Smallest value in all of these columns"]))),value:"all"}]).concat([{name:(0,v.t)(Md||(Md=sp(["Custom value"]))),value:"custom"}]),vertical:!0}),"custom"===t.min_type&&u.createElement(Kf.default,{className:bp,type:"number",value:t.min_value,onChange:function(e){return i(lp(lp({},t),{},{min_value:e}))}}),u.createElement("h3",{className:"mt3 mb1"},(0,v.t)(Zd||(Zd=sp(["End the range at"])))),u.createElement(He.Z,{value:t.max_type,onChange:function(e){return i(lp(lp({},t),{},{max_type:e}))},options:(t.columns.length<=1?[{name:(0,v.t)(Ld||(Ld=sp(["Largest value in this column"]))),value:null}]:[{name:(0,v.t)(Bd||(Bd=sp(["Largest value in each column"]))),value:null},{name:(0,v.t)(zd||(zd=sp(["Largest value in all of these columns"]))),value:"all"}]).concat([{name:(0,v.t)(Fd||(Fd=sp(["Custom value"]))),value:"custom"}]),vertical:!0}),"custom"===t.max_type&&u.createElement(Kf.default,{className:bp,type:"number",value:t.max_value,onChange:function(e){return i(lp(lp({},t),{},{max_value:e}))}})):null,u.createElement("div",{className:"mt4"},0===t.columns.length?u.createElement(Ce.Z,{primary:!0,onClick:a,"data-metabase-event":"Chart Settings;Table Formatting;"},r?(0,v.t)(Qd||(Qd=sp(["Cancel"]))):(0,v.t)(Vd||(Vd=sp(["Delete"])))):u.createElement(Ce.Z,{primary:!0,onClick:o,"data-metabase-event":"Chart Setttings;Table Formatting;".concat(r?"Add Rule":"Update Rule",";Rule Type ").concat(t.type," Color")},r?(0,v.t)(Ud||(Ud=sp(["Add rule"]))):(0,v.t)(Hd||(Hd=sp(["Update rule"]))))))},Cp=n(98399);function kp(e){return function(e){if(Array.isArray(e))return Ap(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ap(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dp(e,t,n){var r=n["table.column_formatting"]||[],i=n["table.pivot"],o={},a=[],u=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].name]=n;return t}(t);try{var l=function(e,t,n){var r={};return e.forEach((function(e){e.columns.forEach((function(e){if(!r[e]){var i=n[e];r[e]=function(e,t){for(var n=1/0,r=-1/0,i=e.length,o=0;o<i;o++){var a=e[o][t];a<n&&(n=a),a>r&&(r=a)}return[n,r]}(t,i)}}))})),r}(r,e,u);o=function(e,t){var n={};return e.forEach((function(e){e.columns.forEach((function(r){n[r]=n[r]||[],n[r].push(rh(e,r,t,!1))}))})),n}(r,l),a=function(e){var t=[];return e.filter((function(e){return"single"===e.type&&e.highlight_row})).forEach((function(e){var n=rh(e,null,null,!0);n&&e.columns.forEach((function(e){t.push((function(t,r){return n(t[r[e]])}))}))})),t}(r)}catch(e){Cp.error("Unexpected error compiling column formatters: ",e)}return 0===Object.keys(o).length&&0===a.length?function(){return null}:function(t,n,r){if(o[r])for(var l=0;l<o[r].length;l++){var c=(0,o[r][l])(t);if(null!=c)return c}if(!i)for(var s=0;s<a.length;s++){var f=(0,a[s])(e[n],u);if(null!=f)return f}return null}}var Rp,Ip,Tp,Np,qp,Mp,Zp,Lp,Bp,zp,Fp,Qp,Vp,Up,Hp,Yp,Gp,Wp,$p,Kp,Jp,Xp,eh,th=function(e,t){return"string"==typeof e&&"string"==typeof t&&!!e.length&&!!t.length},nh={"<":function(e,t){return function(n){return"number"==typeof e&&n<e?t:null}},"<=":function(e,t){return function(n){return"number"==typeof e&&n<=e?t:null}},">=":function(e,t){return function(n){return"number"==typeof e&&n>=e?t:null}},">":function(e,t){return function(n){return"number"==typeof e&&n>e?t:null}},"=":function(e,t){return function(n){return n===e?t:null}},"!=":function(e,t){return function(n){return"string"==typeof(r=e)&&!r.length||n===e?null:t;var r}},"is-null":function(e,t){return function(e){return null===e?t:null}},"not-null":function(e,t){return function(e){return null!==e?t:null}},contains:function(e,t){return function(n){return th(e,n)&&n.indexOf(e)>=0?t:null}},"does-not-contain":function(e,t){return function(n){return th(e,n)&&n.indexOf(e)<0?t:null}},"starts-with":function(e,t){return function(n){return th(e,n)&&n.startsWith(e)?t:null}},"ends-with":function(e,t){return function(n){return th(e,n)&&n.endsWith(e)?t:null}}};function rh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("single"===e.type){var i=e.operator,o=e.value,a=e.color;a=(0,f.Fq)(a,r?.2:.65);var u=nh[i];return u?u(o,a):(Cp.error("Unsupported formatting operator:",i),function(){return null})}if("range"===e.type){var l=function(e){return n&&n[e]&&n[e][0]},c=function(e){return n&&n[e]&&n[e][1]},s="custom"===e.min_type?parseFloat(e.min_value):"all"===e.min_type?Math.min.apply(Math,kp(e.columns.map(l))):l(t),d="custom"===e.max_type?parseFloat(e.max_value):"all"===e.max_type?Math.max.apply(Math,kp(e.columns.map(c))):c(t);if("number"!=typeof d||"number"!=typeof s)return Cp.warn("Invalid range min/max",s,d),function(){return null};var p=(0,f.pI)([s,d],e.colors.map((function(e){return(0,f.Fq)(e,.75)}))).clamp(!0);return function(e){return(0,f.Vz)(p(e))}}return Cp.warn("Unknown format type",e.type),function(){return null}}function ih(e){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(e)}function oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ah(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oh(Object(n),!0).forEach((function(t){vh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(){return uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uh.apply(this,arguments)}function lh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ch(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dh(e,t){return dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dh(e,t)}function ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yh(e);if(t){var i=yh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hh(this,n)}}function hh(e,t){return!t||"object"!==ih(t)&&"function"!=typeof t?mh(e):t}function mh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yh(e)}function vh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dh(e,t)}(o,e);var t,n,r,i=ph(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),vh(mh(t=i.call(this,e)),"getColumnTitle",(function(e){var n=t.state.data&&t.state.data.cols;if(!n)return null;var r=t.props,i=r.series,a=r.settings,u=o.isPivoted(i,a),l=n[e];return u?(0,Ni.jL)(l)||(0!==e?(0,v.t)(Rp||(Rp=sh(["Unset"]))):null):a.column(l)._column_title_full||(0,Ni.jL)(l)})),t.state={data:null},t}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){this._updateData(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.series===this.props.series&&x.ZP.isEqual(e.settings,this.props.settings)||this._updateData(e)}},{key:"_updateData",value:function(e){var t=e.series,n=e.settings,r=lh(t,1)[0].data;if(o.isPivoted(t,n)){var i=x.ZP.findIndex(r.cols,(function(e){return e.name===n["table.pivot_column"]})),a=x.ZP.findIndex(r.cols,(function(e){return e.name===n["table.cell_column"]})),u=x.ZP.findIndex(r.cols,(function(e,t){return t!==i&&t!==a}));this.setState({data:df.jz(r,u,i,a,n)})}else{var l=r.cols,c=r.rows,s=n["table.columns"].filter((function(e){return e.enabled})).map((function(e){return(0,_a.S0)(l,e)})).filter((function(e){return e>=0&&e<l.length}));this.setState({data:{cols:s.map((function(e){return l[e]})),rows:c.map((function(e){return s.map((function(t){return e[t]}))}))}})}}},{key:"render",value:function(){var e=this.props,t=e.series,n=e.isDashboard,r=e.settings,i=this.state.data,a=lh(t,1)[0].card,l=(0,b.getIn)(a,["dataset_query","query","order-by"])||null,c=o.isPivoted(t,r),s=!(r["table.columns"]||[]).some((function(e){return e.enabled})),f=n?ff:$s;return i?s?u.createElement("div",{className:Ze()("flex-full px1 pb1 text-centered flex flex-column layout-centered",{"text-slate-light":n,"text-slate":!n})},u.createElement("img",{width:99,src:"app/assets/img/hidden-field.png",srcSet:" app/assets/img/hidden-field.png     1x, app/assets/img/hidden-field@2x.png  2x ",className:"mb2"}),u.createElement("span",{className:"h4 text-bold"},(0,v.t)(Ip||(Ip=sh(["Every field is hidden right now"]))))):u.createElement(f,uh({},this.props,{data:i,isPivoted:c,sort:l,getColumnTitle:this.getColumnTitle})):null}}],r=[{key:"isSensible",value:function(e){return e.cols,e.rows,!0}},{key:"isLiveResizable",value:function(e){return!1}},{key:"checkRenderable",value:function(e){var t=lh(e,1)[0].data;t.cols,t.rows}},{key:"isPivoted",value:function(e,t){var n=lh(e,1)[0].data;if(!t["table.pivot"])return!1;var r=x.ZP.findIndex(n.cols,(function(e){return e.name===t["table.pivot_column"]})),i=x.ZP.findIndex(n.cols,(function(e){return e.name===t["table.cell_column"]})),o=x.ZP.findIndex(n.cols,(function(e,t){return t!==r&&t!==i}));return r>=0&&i>=0&&o>=0}}],n&&fh(t.prototype,n),r&&fh(t,r),o}(u.Component);vh(bh,"uiName",(0,v.t)(Tp||(Tp=sh(["Table"])))),vh(bh,"identifier","table"),vh(bh,"iconName","table"),vh(bh,"minSize",{width:4,height:3}),vh(bh,"settings",ah(ah({},La({hidden:!0})),{},{"table.pivot":{section:(0,v.t)(Np||(Np=sh(["Columns"]))),title:(0,v.t)(qp||(qp=sh(["Pivot the table"]))),widget:"toggle",getHidden:function(e){var t=lh(e,1)[0],n=(t.card,t.data);return n&&3!==n.cols.length},getDefault:function(e){var t=lh(e,1)[0],n=t.card,r=t.data;return r&&3===r.cols.length&&Xs.eG(n.dataset_query)&&1===r.cols.filter(Mi.Zd).length&&2===r.cols.filter(Mi.vM).length}},"table.pivot_column":{section:(0,v.t)(Mp||(Mp=sh(["Columns"]))),title:(0,v.t)(Zp||(Zp=sh(["Pivot column"]))),widget:"field",getDefault:function(e,t){var n=lh(e,1)[0].data,r=n.cols,i=n.rows,o=x.ZP.min(r.filter(Mi.vM),(function(e){return(0,Zi.$e)(r,i,r.indexOf(e))}));return o&&o.name},getProps:function(e,t){return{options:lh(e,1)[0].data.cols.filter(Mi.vM).map(Hi)}},getHidden:function(e,t){return!t["table.pivot"]},readDependencies:["table.pivot"],persistDefault:!0},"table.cell_column":{section:(0,v.t)(Lp||(Lp=sh(["Columns"]))),title:(0,v.t)(Bp||(Bp=sh(["Cell column"]))),widget:"field",getDefault:function(e,t){var n=lh(e,1)[0].data,r=t["table.pivot_column"],i=n.cols.filter((function(e){return e.name!==r})),o=i[i.length-1];return(i.find(Mi.Zd)||o||{}).name},getProps:function(e,t){return{options:lh(e,1)[0].data.cols.map(Hi)}},getHidden:function(e,t){lh(e,1)[0].data.cols;return!t["table.pivot"]},readDependencies:["table.pivot","table.pivot_column"],persistDefault:!0},"table.columns":{section:(0,v.t)(zp||(zp=sh(["Columns"]))),title:(0,v.t)(Fp||(Fp=sh(["Visible columns"]))),widget:Bf,getHidden:function(e,t){return t["table.pivot"]},isValid:function(e){var t=lh(e,1)[0],n=t.card,r=t.data;return 0!==n.visualization_settings["table.columns"].length&&x.ZP.all(n.visualization_settings["table.columns"],(function(e){return(0,_a.S0)(r.cols,e)>=0}))},getDefault:function(e){return lh(e,1)[0].data.cols.map((function(e){return{name:e.name,fieldRef:e.field_ref,enabled:"details-only"!==e.visibility_type}}))},getProps:function(e){return{columns:lh(e,1)[0].data.cols}}},"table.column_widths":{},"table.column_formatting":{section:(0,v.t)(Qp||(Qp=sh(["Conditional Formatting"]))),widget:gp,default:[],getProps:function(e,t){return{cols:e[0].data.cols.filter(vp),isPivoted:t["table.pivot"]}},getHidden:function(e,t){return 0===lh(e,1)[0].data.cols.filter(vp).length},readDependencies:["table.pivot"]},"table._cell_background_getter":{getValue:function(e,t){var n=lh(e,1)[0].data;return Dp(n.rows,n.cols,t)},readDependencies:["table.column_formatting","table.pivot"]}})),vh(bh,"columnSettings",(function(e){var t={column_title:{title:(0,v.t)(Vp||(Vp=sh(["Column title"]))),widget:"input",getDefault:function(e){return(0,Ni.jL)(e)}},click_behavior:{}};(0,Mi.hj)(e)&&(t.show_mini_bar={title:(0,v.t)(Up||(Up=sh(["Show a mini bar chart"]))),widget:"toggle"});var n=!e.semantic_type||(0,Mi.PX)(e)?"link":null,r=[{name:(0,v.t)(Hp||(Hp=sh(["Text"]))),value:null},{name:(0,v.t)(Yp||(Yp=sh(["Link"]))),value:"link"}];e.semantic_type&&!(0,Mi.Jh)(e)||(n="email_link",r.push({name:(0,v.t)(Gp||(Gp=sh(["Email link"]))),value:"email_link"})),(!e.semantic_type||(0,Mi.SR)(e)||(0,Mi.oz)(e))&&(n=(0,Mi.oz)(e)?"image":"link",r.push({name:(0,v.t)(Wp||(Wp=sh(["Image"]))),value:"image"})),e.semantic_type||(n="auto",r.push({name:(0,v.t)($p||($p=sh(["Automatic"]))),value:"auto"})),r.length>1&&(t.view_as={title:(0,v.t)(Kp||(Kp=sh(["Display as"]))),widget:2===r.length?"radio":"select",default:n,props:{options:r}});var i=(0,v.t)(Jp||(Jp=sh(["You can use the value of any column here like this: {{COLUMN}}"])));return t.link_text={title:(0,v.t)(Xp||(Xp=sh(["Link text"]))),widget:"input",hint:i,default:null,getHidden:function(e,t){return"link"!==t.view_as&&"email_link"!==t.view_as},readDependencies:["view_as"]},t.link_url={title:(0,v.t)(eh||(eh=sh(["Link URL"]))),widget:"input",hint:i,default:null,getHidden:function(e,t){return"link"!==t.view_as},readDependencies:["view_as"]},t}));var gh,wh,Oh,jh,Sh,Eh,_h,xh,Ph,Ch,kh,Ah,Dh,Rh=n(40659),Ih=n.n(Rh),Th=n(93517),Nh="_2dBdQ",qh="QBAWN",Mh="dEs6g",Zh="_3iN6k";function Lh(e){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(e)}function Bh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function zh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fh(e,t){return Fh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fh(e,t)}function Qh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hh(e);if(t){var i=Hh(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vh(this,n)}}function Vh(e,t){return!t||"object"!==Lh(t)&&"function"!=typeof t?Uh(e):t}function Uh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(e)}function Yh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gh=function(e){return{"align-center":"center"===e["text.align_horizontal"],"align-end":"right"===e["text.align_horizontal"],"justify-center":"middle"===e["text.align_vertical"],"justify-end":"bottom"===e["text.align_vertical"]}},Wh=[n.n(Th)()],$h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fh(e,t)}(o,e);var t,n,r,i=Qh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Yh(Uh(t=i.call(this,e)),"preventDragging",(function(e){return e.stopPropagation()})),t.state={text:""},t}return t=o,n=[{key:"handleTextChange",value:function(e){this.props.onUpdateVisualizationSettings({text:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.gridSize,i=t.settings,o=t.isEditing,a=t.isPreviewing,l=r&&1===r.height;return o?u.createElement("div",{className:Ze()(n,Nh,Yh({},Zh,!a))},a?u.createElement(Ih(),{remarkPlugins:Wh,className:Ze()("full flex-full flex flex-column text-card-markdown",Mh,Gh(i))},i.text):u.createElement("textarea",{className:Ze()("full flex-full flex flex-column bg-light bordered drag-disabled",qh),name:"text",placeholder:(0,v.t)(gh||(gh=Bh(["Write here, and use Markdown if you'd like"]))),value:i.text,onChange:function(t){return e.handleTextChange(t.target.value)},onMouseDown:this.preventDragging})):u.createElement("div",{className:Ze()(n,Nh,{pl0:!i["dashcard.background"],"Text--single-row":l})},u.createElement(Ih(),{remarkPlugins:Wh,className:Ze()("full flex-full flex flex-column text-card-markdown",Mh,Gh(i))},i.text))}}],r=[{key:"checkRenderable",value:function(){}}],n&&zh(t.prototype,n),r&&zh(t,r),o}(u.Component);Yh($h,"uiName","Text"),Yh($h,"identifier","text"),Yh($h,"iconName","text"),Yh($h,"disableSettingsConfig",!1),Yh($h,"noHeader",!0),Yh($h,"supportsSeries",!1),Yh($h,"hidden",!0),Yh($h,"supportPreviewing",!0),Yh($h,"minSize",{width:4,height:1}),Yh($h,"settings",{"card.title":{dashboard:!1},"card.description":{dashboard:!1},text:{value:"",default:""},"text.align_vertical":{section:(0,v.t)(wh||(wh=Bh(["Display"]))),title:(0,v.t)(Oh||(Oh=Bh(["Vertical Alignment"]))),widget:"select",props:{options:[{name:(0,v.t)(jh||(jh=Bh(["Top"]))),value:"top"},{name:(0,v.t)(Sh||(Sh=Bh(["Middle"]))),value:"middle"},{name:(0,v.t)(Eh||(Eh=Bh(["Bottom"]))),value:"bottom"}]},default:"top"},"text.align_horizontal":{section:(0,v.t)(_h||(_h=Bh(["Display"]))),title:(0,v.t)(xh||(xh=Bh(["Horizontal Alignment"]))),widget:"select",props:{options:[{name:(0,v.t)(Ph||(Ph=Bh(["Left"]))),value:"left"},{name:(0,v.t)(Ch||(Ch=Bh(["Center"]))),value:"center"},{name:(0,v.t)(kh||(kh=Bh(["Right"]))),value:"right"}]},default:"left"},"dashcard.background":{section:(0,v.t)(Ah||(Ah=Bh(["Display"]))),title:(0,v.t)(Dh||(Dh=Bh(["Show background"]))),dashboard:!0,widget:"toggle",default:!0}});var Kh,Jh,Xh,em=n(18612),tm=n(98399);function nm(e){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function om(e,t){return om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},om(e,t)}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lm(e);if(t){var i=lm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return um(this,n)}}function um(e,t){return!t||"object"!==nm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lm(e){return lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lm(e)}var cm=x.ZP.throttle(Jf.vF,1e4),sm=(0,ac.default)({wrapped:!0,refreshMode:function(e){return e.isDashboard?"debounce":"throttle"}})((Xh=Jh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&om(e,t)}(o,e);var t,n,r,i=am(o);function o(){return rm(this,o),i.apply(this,arguments)}return t=o,n=[{key:"shouldComponentUpdate",value:function(e){var t=this.props.width===e.width&&this.props.height===e.height,n=(0,Zi.dS)(this.props.series,e.series);return!(t&&n)}},{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(){this.renderChart()}},{key:"componentWillUnmount",value:function(){this._deregisterChart()}},{key:"_deregisterChart",value:function(){this._deregister&&(this._deregister(),delete this._deregister)}},{key:"renderChart",value:function(){var e=this,t=this.props,n=t.width,r=t.height,i=t.isDashboard,o=t.isEditing,a=t.isSettings;if(null!=n&&null!=r){var u=In.findDOMNode(this);for(this._deregisterChart();u.firstChild;)u.removeChild(u.firstChild);var l=document.createElement("div");if(u.appendChild(l),i&&o&&!a){var c=document.createElement("div");c.classList.add("spread"),c.style.setProperty("pointer-events","all"),u.appendChild(c)}try{var s=(0,em.X)();this._deregister=this.props.renderer(l,this.props),s((function(t){var n=e.props.card.display;cm("Visualization","Render Card",n,t)}))}catch(e){tm.error(e),this.props.onRenderError(e.message||e)}}}},{key:"render",value:function(){return u.createElement("div",{className:this.props.className,style:this.props.style})}}],n&&im(t.prototype,n),r&&im(t,r),o}(u.Component),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Jh,"propTypes",{className:E().string,series:E().array.isRequired,renderer:E().func.isRequired,onRenderError:E().func.isRequired,isEditing:E().bool,isDashboard:E().bool}),Kh=Xh))||Kh,fm=n(20293);var dm=(0,De.Z)("div",{target:"e1hskjvj3"})("display:flex;flex-direction:",(function(e){return e.isVertical?"column":"row"}),";overflow:",(function(e){return e.isVertical?"":"hidden"}),";"),pm=(0,De.Z)("div",{target:"e1hskjvj2"})("cursor:pointer;color:",f.ZP.brand,";font-weight:bold;&:hover{color:",(0,f._j)(f.ZP.brand),";}"),hm=(0,De.Z)("div",{target:"e1hskjvj1"})("margin-top:",(function(e){return e.isVertical?"0.5rem":""}),";"),mm=(0,De.Z)("div",{target:"e1hskjvj0"})({name:"m1a2da",styles:"padding:0.5rem"}),ym=(0,De.Z)("div",{target:"e13h904k4"})("display:flex;align-items:center;min-width:0;overflow:hidden;&:not(:first-child){margin-top:",(function(e){return e.isVertical?"0.5rem":""}),";margin-left:",(function(e){return e.isVertical?"":"0.75rem"}),";}"),vm=(0,De.Z)("div",{target:"e13h904k3"})("display:flex;align-items:baseline;opacity:",(function(e){return e.isMuted?"0.4":"1"}),";cursor:",(function(e){return e.onClick?"pointer":""}),";overflow:hidden;transition:opacity 0.25s linear;&:hover{color:",(function(e){return e.onMouseEnter?f.ZP.brand:""}),";}"),bm=(0,De.Z)("div",{target:"e13h904k2"})("flex:0 0 auto;width:0.75rem;height:0.75rem;border-radius:50%;background-color:",(function(e){return e.color}),";"),gm=(0,De.Z)("div",{target:"e13h904k1"})("color:",f.ZP["text-dark"],";font-weight:bold;margin-left:0.5rem;overflow:hidden;"),wm=(0,De.Z)(En.ZP,{target:"e13h904k0"})("color:",f.ZP["text-light"],";cursor:pointer;margin-left:0.5rem;&:hover{color:",f.ZP["text-medium"],";}");wm.defaultProps={name:"close",size:12};var Om={label:E().string,index:E().number,color:E().string,isMuted:E().bool,isVertical:E().bool,onHoverChange:E().func,onSelectSeries:E().func,onRemoveSeries:E().func},jm=function(e){var t=e.label,n=e.index,r=e.color,i=e.isMuted,o=e.isVertical,a=e.onHoverChange,l=e.onSelectSeries,c=e.onRemoveSeries;return u.createElement(ym,{isVertical:o,"data-testid":"legend-item"},u.createElement(vm,{isMuted:i,onClick:l&&function(e){l&&l(e,n)},onMouseEnter:a&&function(e){a&&a({index:n,element:e.currentTarget})},onMouseLeave:a&&function(){a&&a()}},u.createElement(bm,{color:r}),u.createElement(gm,{className:"fullscreen-normal-text fullscreen-night-text"},u.createElement(Ti.default,null,t))),c&&u.createElement(wm,{onClick:function(e){c&&c(e,n)}}))};jm.propTypes=Om;var Sm,Em=(0,u.memo)(jm);function _m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pm={className:E().string,labels:E().array.isRequired,colors:E().array.isRequired,hovered:E().object,visibleIndex:E().number,visibleLength:E().number,isVertical:E().bool,onHoverChange:E().func,onAddSeries:E().func,onSelectSeries:E().func,onRemoveSeries:E().func},Cm=function e(t){var n,r,i=t.className,o=t.labels,a=t.colors,l=t.hovered,c=t.visibleIndex,s=void 0===c?0:c,f=t.visibleLength,d=void 0===f?o.length:f,p=t.isVertical,h=t.onHoverChange,m=t.onSelectSeries,y=t.onRemoveSeries,b=(0,u.useRef)(),g=_m((0,u.useState)(null),2),w=g[0],O=g[1],j=_m((0,u.useState)(0),2),S=j[0],E=j[1],_=(0,u.useCallback)((function(){O(!0),E(b.current.offsetWidth)}),[]),x=(0,u.useCallback)((function(){O(!1),E(0)}),[]),P=s+d,C=o.slice(s,P),k=o.length-P;return u.createElement(dm,{className:i,isVertical:p},C.map((function(e,t){var n=t+s;return u.createElement(Em,{key:n,label:e,index:n,color:a[n%a.length],isMuted:l&&n!==l.index,isVertical:p,onHoverChange:h,onSelectSeries:m,onRemoveSeries:y})})),k>0&&u.createElement(hm,{ref:b,isVertical:p},u.createElement(pm,{onMouseDown:_},(0,v.t)(Sm||(n=["And "," more"],r||(r=n.slice(0)),Sm=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))),k))),w&&u.createElement(fm.Z,{target:b.current,targetOffsetX:9,horizontalAttachments:["left"],verticalAttachments:["top","bottom"],sizeToFit:!0,onClose:x},u.createElement(mm,{style:{maxWidth:S}},u.createElement(e,{labels:o,colors:a,hovered:l,visibleIndex:P,visibleLength:k,isVertical:p,onHoverChange:h,onSelectSeries:m,onRemoveSeries:y}))))};Cm.propTypes=Pm;var km=Cm;var Am=(0,De.Z)("div",{target:"efkr9un0"})({name:"yc05rs",styles:"flex:0 0 auto;position:relative;margin-left:auto"}),Dm={children:E().node},Rm=function(e){var t=e.children;return u.createElement(Am,null,t)};Rm.propTypes=Dm;var Im=Rm;var Tm=(0,De.Z)("div",{target:"e1krppga3"})("display:flex;flex:1 1 auto;flex-direction:",(function(e){return e.isVertical?"row":"column"}),";min-width:0;min-height:0;"),Nm=(0,De.Z)("div",{target:"e1krppga2"})({name:"l48mt0",styles:"display:flex;flex:1 0 auto;flex-direction:column"}),qm=(0,De.Z)("div",{target:"e1krppga1"})("display:",(function(e){return e.isVertical?"block":"flex"}),";max-width:",(function(e){return e.isVertical?"25%":""}),";max-width:",(function(e){return e.isVertical?"min(25%, 20rem)":""}),";margin-right:",(function(e){var t=e.isVertical,n=e.isQueryBuilder;return t?n?"2.5rem":"0.5rem":""}),";margin-bottom:",(function(e){return e.isVertical?"":"0.5rem"}),";"),Mm=(0,De.Z)("div",{target:"e1krppga0"})({name:"l48mt0",styles:"display:flex;flex:1 0 auto;flex-direction:column"}),Zm={className:E().string,labels:E().array.isRequired,colors:E().array.isRequired,hovered:E().object,width:E().number,height:E().number,hasLegend:E().bool,actionButtons:E().node,isFullscreen:E().bool,isQueryBuilder:E().bool,children:E().node,onHoverChange:E().func,onAddSeries:E().func,onSelectSeries:E().func,onRemoveSeries:E().func},Lm=function(e){var t=e.className,n=e.labels,r=e.colors,i=e.hovered,o=e.width,a=void 0===o?0:o,l=e.height,c=void 0===l?0:l,s=e.hasLegend,f=e.actionButtons,d=e.isFullscreen,p=e.isQueryBuilder,h=e.children,m=e.onHoverChange,y=e.onAddSeries,v=e.onSelectSeries,b=e.onRemoveSeries,g=d?31:25,w=Math.floor(a/100),O=Math.floor(c/g),j=Math.max(O-1,0),S=n.length>O?j:n.length,E=a<400,_=w<n.length,x=s&&!(_&&E),P=_?S:n.length;return u.createElement(Tm,{className:t,isVertical:_},x&&u.createElement(qm,{isVertical:_,isQueryBuilder:p},u.createElement(km,{labels:n,colors:r,hovered:i,visibleLength:P,isVertical:_,onHoverChange:m,onAddSeries:y,onSelectSeries:v,onRemoveSeries:b}),!_&&f&&u.createElement(Im,null,f)),u.createElement(Nm,null,_&&f&&u.createElement(Im,null,f),u.createElement(Mm,null,h)))};Lm.propTypes=Zm;var Bm=x.ZP.compose((0,ac.default)())(Lm);var zm=(0,De.Z)("div",{target:"e7krzhe3"})({name:"p2fe58",styles:"display:flex;align-items:center;min-width:0"}),Fm=(0,De.Z)("div",{target:"e7krzhe2"})("color:",f.ZP["text-dark"],";font-weight:bold;cursor:",(function(e){return e.onClick?"pointer":""}),";overflow:hidden;&:hover{color:",(function(e){return e.onClick?f.ZP.brand:""}),";}"),Qm=(0,De.Z)(En.ZP,{target:"e7krzhe1"})({name:"52w8fk",styles:"padding-right:0.25rem"}),Vm=(0,De.Z)(En.ZP,{target:"e7krzhe0"})("color:",f.ZP["text-medium"],";margin-left:0.5rem;");Vm.defaultProps={name:"info"};var Um={className:E().string,title:E().string,description:E().string,icon:E().shape(En.sB),actionButtons:E().node,onSelectTitle:E().func},Hm=function(e){var t=e.className,n=e.title,r=e.description,i=e.icon,o=e.actionButtons,a=e.onSelectTitle;return u.createElement(zm,{className:t,"data-testid":"legend-caption"},i&&u.createElement(Qm,i),u.createElement(Fm,{className:"fullscreen-normal-text fullscreen-night-text",onClick:a},u.createElement(Ti.default,null,n)),r&&u.createElement($a.Z,{tooltip:r,maxWidth:"22em"},u.createElement(Vm,{className:"hover-child"})),o&&u.createElement(Im,null,o))};Hm.propTypes=Um;var Ym=Hm;var Gm,Wm,$m,Km,Jm=(0,De.Z)("div",{target:"e1xedbqj1"})("display:flex;flex-direction:column;padding:",(function(e){return e.isQueryBuilder?"1rem 1rem 1rem 2rem":"0.5rem 1rem"}),";overflow:hidden;"),Xm=(0,De.Z)(Ym,{target:"e1xedbqj0"})({name:"1ld8n2t",styles:"flex:0 0 auto;margin-bottom:0.5rem"}),ey=n(76198);function ty(e){return ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(e)}function ny(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||iy(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ry(e){return function(e){if(Array.isArray(e))return oy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iy(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iy(e,t){if(e){if("string"==typeof e)return oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oy(e,t):void 0}}function oy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ay(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function uy(){return uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(this,arguments)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){vy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dy(e,t){return dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dy(e,t)}function py(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yy(e);if(t){var i=yy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hy(this,n)}}function hy(e,t){return!t||"object"!==ty(t)&&"function"!=typeof t?my(e):t}function my(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yy(e)}function vy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}for(var by="opacity: 0.25;",gy=0;gy<Zi.cI;gy++)(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg.stacked .stack._").concat(gy," .area"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg.stacked .stack._").concat(gy," .line"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg.stacked .stack._").concat(gy," .bar"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg.stacked .dc-tooltip._").concat(gy," .dot"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg:not(.stacked) .sub._").concat(gy," .bar"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg:not(.stacked) .sub._").concat(gy," .line"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg:not(.stacked) .sub._").concat(gy," .dot"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg:not(.stacked) .sub._").concat(gy," .bubble"),by),(0,l.hV)(".LineAreaBarChart.mute-".concat(gy," svg:not(.stacked) .row"),by);var wy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dy(e,t)}(o,e);var t,n,r,i=py(o);function o(){var e;sy(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vy(my(e=i.call.apply(i,[this].concat(n))),"handleSelectTitle",(function(){var t=e.props,n=t.card,r=t.onChangeCardAndRun;r&&r({nextCard:n,seriesIndex:0})})),vy(my(e),"handleSelectSeries",(function(t,n){var r=e.props,i=r.card,o=r.series,a=r.visualizationIsClickable,u=r.onEditSeries,l=r.onVisualizationClick,c=r.onChangeCardAndRun,s=o[n],f=null!=i._breakoutColumn;u&&!f?u(t,n):s.clicked&&a(s.clicked)?l(cy(cy({},s.clicked),{},{element:t.currentTarget})):c&&c({nextCard:s.card,seriesIndex:n})})),e}return t=o,n=[{key:"getHoverClasses",value:function(){var e=this.props.hovered;if(e&&null!=e.index){var t=x.ZP.range(0,Zi.cI).filter((function(t){return t!==e.index})).map((function(e){return"mute-"+e})),n=0===e.axisIndex?"mute-yr":1===e.axisIndex?"mute-yl":null;return t.concat(n)}return null}},{key:"getFidelity",value:function(){var e={x:0,y:0},t=this.props.gridSize||{width:1/0,height:1/0};return t.width>=5?e.x=2:t.width>=4&&(e.x=1),t.height>=5?e.y=2:t.height>=4&&(e.y=1),e}},{key:"getSettings",value:function(){var e=this.getFidelity(),t=cy({},this.props.settings);return 0===e.x&&0===e.y&&(t["line.interpolate"]="cardinal"),(e.x<1||e.y<1)&&(t["graph.y_axis.axis_enabled"]=!1),(e.x<2||e.y<2)&&(t["graph.y_axis.labels_enabled"]=!1),t}},{key:"getLegendSettings",value:function(){var e=this.props,t=e.card,n=e.series,r=e.settings,i=e.showTitle,o=e.actionButtons,a=e.onAddSeries,u=e.onEditSeries,l=e.onRemoveSeries,c=e.onChangeCardAndRun,s=r["card.title"]||t.name,d=r["card.description"],p=n._raw||n,h=new Set(p.map((function(e){return e.card.id}))),m=i&&r["card.title"],y=null!=t._breakoutColumn,v=1===h.size&&c,b=n.length>1||a||u||l||!m&&o,g=r.series&&n.map((function(e){return r.series(e)}));return{title:s,description:d,labels:g?g.map((function(e){return e.title})):n.map((function(e){return e.card.name})),colors:g?g.map((function(e){return e.color})):Object.values(f.mJ),hasTitle:m,hasLegend:b,hasBreakout:y,canSelectTitle:v}}},{key:"render",value:function(){var e=this.props,t=e.series,n=e.hovered,r=e.headerIcon,i=e.actionButtons,o=e.isFullscreen,a=e.isQueryBuilder,l=e.onHoverChange,c=e.onAddSeries,s=e.onRemoveSeries,f=this.getLegendSettings(),d=f.title,p=f.description,h=f.labels,m=f.colors,y=f.hasTitle,v=f.hasLegend,b=f.hasBreakout,g=f.canSelectTitle;return u.createElement(Jm,{className:Ze()("LineAreaBarChart",this.getHoverClasses(),this.props.className),isQueryBuilder:a},y&&u.createElement(Xm,{title:d,description:p,icon:r,actionButtons:i,onSelectTitle:g?this.handleSelectTitle:void 0}),u.createElement(Bm,{labels:h,colors:m,hovered:n,hasLegend:v,actionButtons:y?void 0:i,isFullscreen:o,isQueryBuilder:a,onHoverChange:l,onAddSeries:b?void 0:c,onRemoveSeries:b?void 0:s,onSelectSeries:this.handleSelectSeries},u.createElement(sm,uy({},this.props,{series:t,settings:this.getSettings(),className:"renderer flex-full",maxSeries:Zi.cI,renderer:this.constructor.renderer}))))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return e.rows.length>1&&t.length>=2&&t.filter(Mi.vM).length>0&&t.filter(Mi.Zd).length>0}},{key:"isLiveResizable",value:function(e){return e.reduce((function(e,t){return e+t.data.rows.length}),0)<10}},{key:"checkRenderable",value:function(e,t){if(e.length>this.maxMetricsSupported)throw new Error((0,v.t)(Gm||(Gm=ay([""," chart does not support multiple series"])),this.uiName));if(x.ZP.every(e,(function(e){var t=e.data;return t.cols,t.rows.length<1})))throw new Wu(1,0);var n=(t["graph.dimensions"]||[]).filter((function(e){return e})),r=(t["graph.metrics"]||[]).filter((function(e){return e}));if(n.length<1||r.length<1)throw new Ju((0,v.t)(Wm||(Wm=ay(["Which fields do you want to use for the X and Y axes?"]))),{section:(0,v.t)($m||($m=ay(["Data"])))},(0,v.t)(Km||(Km=ay(["Choose fields"]))))}},{key:"seriesAreCompatible",value:function(e,t){var n=(0,ey.eG)([e]),r=(0,ey.eG)([t]),i=Oy(e.data.cols,n["graph.dimensions"]),o=Oy(t.data.cols,r["graph.dimensions"]),a=Oy(t.data.cols,r["graph.metrics"]);return 0!==o.length&&0!==a.length&&!!x.ZP.all(a,Mi.kE)&&(0,Mi.J_)(i[0])===(0,Mi.J_)(o[0])&&!!((0,Mi.kE)(i[0])===(0,Mi.kE)(o[0])||(0,Mi.J_)(i[0])&&(0,Mi.J_)(o[0]))}},{key:"transformSeries",value:function(e){var t,n=(t=[]).concat.apply(t,ry(e.map((function(t,n){return function(e,t,n){var r=e.card,i=e.data;if(i._transformed)return[e];var o=i.cols,a=i.rows,u=(0,ey.eG)([e]),l=(u["graph.dimensions"]||[]).filter((function(e){return null!=e})),c=(u["graph.metrics"]||[]).filter((function(e){return null!=e})),s=l.map((function(e){return x.ZP.findIndex(o,(function(t){return t.name===e}))})),f=c.map((function(e){return x.ZP.findIndex(o,(function(t){return t.name===e}))})),d=u["scatter.bubble"]&&x.ZP.findIndex(o,(function(e){return e.name===u["scatter.bubble"]})),p=null!=d&&d>=0?[d]:[];if(l.length>1){for(var h=ny(s,2),m=h[0],y=h[1],v=[m].concat(f,p),b=[],g=new Map,w=function(e){var t=a[e],r=t[y],i=g.get(r);i||(g.set(r,i=[]),b.push(r));var u=v.map((function(e){return t[e]}));u._origin={seriesIndex:n,rowIndex:e,row:t,cols:o},i.push(u)},O=0;O<a.length;O++)w(O);return b.map((function(e){return{card:cy(cy({},r),{},{name:[t.length>1&&r.name,(0,Ni.Bw)(e,{column:o[y]})].filter((function(e){return e})).join(": "),originalCardName:r.name,_breakoutValue:e,_breakoutColumn:o[y]}),data:{rows:g.get(e),cols:v.map((function(e){return o[e]})),_rawCols:o,_transformed:!0},clicked:{dimensions:[{value:e,column:o[y]}]}}}))}var j=s[0];return f.map((function(e){var i=o[e],u=[j].concat(e,p),l=[t.length>1&&r.name,(f.length>1||1===t.length)&&i&&(0,Zi.RY)(i)].filter((function(e){return e})).join(": ");return{card:cy(cy({},r),{},{name:l,originalCardName:r.name,_seriesIndex:n,_seriesKey:0===n&&i?i.name:l}),data:{rows:a.map((function(e,t){var r=u.map((function(t){return e[t]}));return r._origin={seriesIndex:n,rowIndex:t,row:e,cols:o},r})),cols:u.map((function(e){return o[e]})),_transformed:!0,_rawCols:o}}}))}(t,e,n)}))));return x.ZP.isEqual(e,n)||0===n.length?e:n}}],n&&fy(t.prototype,n),r&&fy(t,r),o}(u.Component);function Oy(e,t){return t?t.map((function(t){return x.ZP.findWhere(e,{name:t})})):[]}vy(wy,"noHeader",!0),vy(wy,"supportsSeries",!0),vy(wy,"minSize",{width:4,height:3}),vy(wy,"placeholderSeries",[{card:{display:"line",visualization_settings:{},dataset_query:{type:"null"}},data:{rows:x.ZP.range(0,11).map((function(e){return[e,e]})),cols:[{name:"x",base_type:"type/Integer"},{name:"y",base_type:"type/Integer"}]}}]),vy(wy,"propTypes",{card:E().object.isRequired,series:E().array.isRequired,settings:E().object.isRequired,actionButtons:E().node,showTitle:E().bool,isDashboard:E().bool,headerIcon:E().shape(En.sB)}),vy(wy,"defaultProps",{});var jy=n(92129),Sy=n.n(jy),Ey=n(95216),_y=n.n(Ey),xy=n(11217),Py=n(56525),Cy=n.n(Py),ky=n(8765);function Ay(e){return function(e){if(Array.isArray(e))return Iy(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ry(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Ry(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ry(e,t){if(e){if("string"==typeof e)return Iy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iy(e,t):void 0}}function Iy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ty(e,t){var n=Zy(e,{count:1,timezone:t.timezone,interval:t.interval});return n.length<2?e:qy(n,e)}function Ny(e,t,n){var r=n.timezone,i=n.interval,o=Ff().scale.linear().domain(t.map(Ly)).range(e),a=Zy(t,{count:1,timezone:r,interval:i});if(a.length<2)return e;var u=Dy(My(a).map((function(e){return o(Ly(e))})),2),l=u[0],c=(u[1]-l)/(a.length-1),s=Ff().range(a.length).map((function(e){return l+e*c}));return qy(s,e)}function qy(e,t){var n=Dy(t,2),r=n[0],i=n[1],o=Dy(My(e),2),a=o[0],u=o[1];return[].concat(Ay(r<a?[r]:[]),Ay(e),Ay(u<i?[i]:[]))}function My(e){return null==e||e.length<2?e:[e[0],e[e.length-1]]}function Zy(e,t){var n=Dy(e,2),r=n[0],i=n[1],o=t.count,a=t.timezone,u=t.interval,l=t.shiftDays,c=[],s=r.clone().tz(a).startOf(u).add(l,"days"),f=s.get(u);for(s.set(u,f-f%o);!s.isAfter(i);)s.isBefore(r)||c.push(s),s=s.clone().add(o,u);return c}function Ly(e){return Cy().isMoment(e)?e.valueOf():Cy().isDate(e)?e.getTime():e}var By,zy,Fy,Qy=function e(t){var n=t.count,r=t.interval,i=t.timezone,o=t.shiftDays,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ff().scale.linear(),u=function(e){return a(Ly(e))};return u.domain=function(e){return void 0===e?My(a.domain()).map((function(e){return Cy()(e).tz(i)})):(e=e.map((function(e){return Cy()(e).tz(i)})),"month"===r&&(e=Ty(e,{interval:r,timezone:i})),a.domain(e.map(Ly)),u)},u.range=function(e){return void 0===e?My(a.range()):("month"===r&&(e=Ny(e,u.domain(),{interval:r,timezone:i})),a.range(e),u)},u.ticks=function(){return Zy(u.domain(),{count:n,timezone:i,interval:r,shiftDays:o})},u.copy=function(){return e({count:n,interval:r,timezone:i,shiftDays:o},a)},Ff().rebind(u,a,"rangeRound","interpolate","clamp","invert"),u},Vy=n(41921),Uy=n(59613),Hy=n(916);function Yy(e,t){return e.some((function(e){return t.includes(e.id)}))}function Gy(e){return 1===e.length?e[0].icon:"star"}function Wy(){return"scale(".concat(.45,") translate(").concat(-16,", ").concat(10,")")}function $y(e,t,n){return e.length>1&&!function(e,t,n){var r,i,o=t[e],a=null!==(r=t[e-1])&&void 0!==r?r:Number.NEGATIVE_INFINITY,u=null!==(i=t[e+1])&&void 0!==i?i:Number.POSITIVE_INFINITY;return o-a<n||u-o<n}(t,n,32)}function Ky(e){var t=e.axis,n=e.brush,r=e.eventPoints,i=e.eventGroups,o=e.selectedEventIds,a=e.onHoverChange,u=e.onOpenTimelines,l=e.onSelectTimelineEvents,c=e.onDeselectTimelineEvents,s=t.selectAll(".event-axis").data([0]),f=n.selectAll(".event-line").data(i);s.exit().remove(),s.enter().append("g").attr("class","event-axis");var d=s.selectAll(".event-tick").data(i);d.exit().remove(),d.enter().append("g").attr("class","event-tick").classed("hover",(function(e){return Yy(e,o)})).attr("transform",(function(e,t){return"translate(".concat(r[t],", 0)")})),d.append("path").attr("class","event-icon").attr("d",(function(e){return n=Gy(e),null!==(t=Hy.kg[n].path)&&void 0!==t?t:Hy.kg[n];var t,n})).attr("fill-rule",(function(e){return n=Gy(e),null===(t=Hy.kg[n].attrs)||void 0===t?void 0:t.fillRule;var t,n})).attr("transform",(function(){return Wy()})).attr("aria-label",(function(e){return t=Gy(e),"".concat(t," icon");var t})),d.append("rect").attr("fill","none").attr("width",32).attr("height",32).attr("transform",(function(){return Wy()})),d.filter((function(e,t){return $y(e,t,r)})).append("text").attr("class","event-text").attr("transform","translate(".concat(10,",").concat(16,")")).text((function(e){return e.length})),d.on("mousemove",(function(e){var t=Ff().select(this),n=d.filter((function(t){return e===t})),r=f.filter((function(t){return e===t}));a({element:n.node(),timelineEvents:e}),t.classed("hover",!0),r.classed("hover",!0)})).on("mouseleave",(function(e){var t=Ff().select(this),n=f.filter((function(t){return e===t}));a(null),t.classed("hover",Yy(e,o)),n.classed("hover",Yy(e,o))})).on("click",(function(e){Yy(e,o)?c():l(e),u()}))}function Jy(e,t){var n=t.events,r=void 0===n?[]:n,i=t.selectedEventIds,o=void 0===i?[]:i,a=t.xInterval,u=t.isTimeseries,l=t.onHoverChange,c=t.onOpenTimelines,s=t.onSelectTimelineEvents,f=t.onDeselectTimelineEvents,d=function(e){return e.svg().select(".axis.x")}(e);if(d&&u){var p=function(e){return e.x()}(e),h=function(e){var t=e.events,n=e.scale,r=e.xInterval,i=new Map,o=[],a=0;return t.forEach((function(e){var t=e.timestamp.clone().startOf(r.interval),u=n(t),l=u-a;!o.length||l<16?(o.push(e),a+=(u-a)/o.length):(i.set(a,o),o=[e],a=u)})),o.length&&i.set(a,o),i}({events:r,scale:p,xInterval:a}),m=function(e){return Array.from(e.keys())}(h),y=function(e){return Array.from(e.values())}(h),v=function(e){var t=e.chart,n=t.g(),r=t.margins(),i=n.selectAll(".event-brush").data([0]);return i.exit().remove(),i.enter().insert("g",":first-child").attr("class","event-brush").attr("transform","translate(".concat(r.left,", ").concat(r.top,")")),i}({chart:e,eventGroups:y});!function(e){var t=e.chart,n=e.brush,r=e.eventPoints,i=e.eventGroups,o=e.selectedEventIds,a=n.selectAll(".event-line").data(i),u=t.effectiveHeight();a.exit().remove(),a.enter().append("line").attr("class","event-line").classed("hover",(function(e){return Yy(e,o)})).attr("x1",(function(e,t){return r[t]})).attr("x2",(function(e,t){return r[t]})).attr("y1","0").attr("y2",u)}({chart:e,brush:v,eventPoints:m,eventGroups:y,selectedEventIds:o}),Ky({axis:d,brush:v,eventPoints:m,eventGroups:y,selectedEventIds:o,onHoverChange:l,onOpenTimelines:c,onSelectTimelineEvents:s,onDeselectTimelineEvents:f})}}function Xy(e){var t=e.timelineEvents,n=void 0===t?[]:t;return e.isTimeseries&&n.length>0}var ev=["column"];function tv(e){return function(e){if(Array.isArray(e))return cv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||lv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function iv(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ov(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ov(Object(n),!0).forEach((function(t){uv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ov(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lv(e,t){if(e){if("string"==typeof e)return cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cv(e,t):void 0}}function cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e){var t=e.ticks();return Array.isArray(t)?t[0]:t}function fv(e,t){t/sv(e)<32&&e.ticks(Math.floor(t/32))}function dv(e){var t,n=0,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=lv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(e=e.slice(0,100));try{for(r.s();!(t=r.n()).done;){var i=t.value;n+=String(i).length}}catch(e){r.e(e)}finally{r.f()}return Math.round(n/e.length)}function pv(e,t,n){var r=8*dv(n),i=Math.floor(t/r);sv(e)>i&&e.ticks(i)}function hv(e,t,n,r){var i=n.xValues,o=n.xDomain,a=n.xInterval,u=x.ZP.find(t,(function(e){return!(0,_a.Y2)(e.data)})),l=u.data.cols[0],c=a,s=c,f=function(){return""},d=s.timezone;if(e.settings["graph.x_axis.labels_enabled"]&&e.xAxisLabel(e.settings["graph.x_axis.title_text"]||(0,Zi.RY)(l),10),e.settings["graph.x_axis.axis_enabled"]){e.renderVerticalGridLines(e.settings["graph.x_axis.gridLine_enabled"]),null==l.unit&&(l=av(av({},l),{},{unit:c.interval}));var p="waterfall"===u.card.display&&e.settings["waterfall.show_total"]?i[i.length-1]:null,h=l.unit;if(f=function(t){var n=e.settings.column(l),r=n.column,i=iv(n,ev);return p&&p.isSame(t)?(0,v.t)(By||(By=rv(["Total"]))):(0,Ni.Bw)(t,av(av({},i),{},{column:av(av({},r),{},{unit:h}),type:"axis",compact:"compact"===e.settings["graph.x_axis.axis_enabled"]}))},"week"===c.interval){var m=(0,ky.L$)(o,s,e.width(),f);m.interval===s.interval&&m.count===s.count||(h="month",s={interval:"month",count:1,timezone:d});var y=o[0],b=y.clone().startOf("week"),g=y.diff(b,"days");s=av(av({},s),{},{shiftDays:g})}e.xAxis().tickFormat(f),Xy({timelineEvents:r,xDomain:o,isTimeseries:!0})?e.xAxis().tickPadding(20):e.xAxis().tickPadding(3)}s=av(av(av({},s),(0,ky.L$)(o,s,e.width(),f)),{},{timezone:d}),o=function(e,t){var n=nv(e,2),r=n[0],i=n[1],o=t.count,a=t.interval;"month"===a?(a="day",o*=30):"week"===a?(a="day",o*=7):"day"===a&&(a="hour",o*=24);return[Cy()(r).subtract(.75*o,a),Cy()(i).add(.75*o,a)]}(o,c),e.x(Qy(s).domain(o)),e.xUnits((function(e,t){return Math.ceil(1+Cy()(t).diff(e,c.interval)/c.count)}))}function mv(e,t){var n=nv(t,2),r=n[0],i=n[1],o=Math.abs(i-r)/1e6;return Math.abs(e)<o?0:e}function yv(e,t,n,r){var i,o;if(i="right"!==r?{scale:function(){return e.y.apply(e,arguments)},axis:function(){return e.yAxis.apply(e,arguments)},label:function(){return e.yAxisLabel.apply(e,arguments)},setting:function(t){return e.settings["graph.y_axis."+t]}}:{scale:function(){return e.rightY.apply(e,arguments)},axis:function(){return e.rightYAxis.apply(e,arguments)},label:function(){return e.rightYAxisLabel.apply(e,arguments)},setting:function(t){return e.settings["graph.y_axis."+t]}},i.setting("labels_enabled"))if(i.setting("title_text"))i.label(i.setting("title_text"),22);else{var a=x.ZP.uniq(t.map((function(t){return e.settings.series(t).title})));1===a.length&&i.label(a[0],22)}if(i.setting("axis_enabled")?(i.axis().tickFormat(vv(e,t,n)),e.renderHorizontalGridLines(!0),fv(i.axis(),e.height())):i.axis().ticks(0),o="pow"===i.setting("scale")?Ff().scale.pow().exponent(.5):"log"===i.setting("scale")?Ff().scale.log().base(Math.E):Ff().scale.linear(),t.every((function(e){return"bar"===e.card.display}))){var u=o.interpolate.bind(o);o.interpolate=function(e){return u((function(t,n){var r=e(t,n),i=Ff().interpolate(t,n);return function(e){var t=i(e),n=r(0)-1;return n<t&&t<i(0)?n:r(e)}}))}}if(o.clamp(!0),i.setting("auto_range")){if("log"!==i.setting("scale"))e.elasticY(!0);else{var l=nv(n,2),c=l[0],s=l[1];if(!(c<0&&s<0||c>0&&s>0))throw"Y-axis must not cross 0 when using log scale.";t.every((function(e){return"bar"!==e.card.display}))?o.domain([c,s]):c<0?o.domain([c,-1]):o.domain([1,s])}i.scale(o)}else{var f=nv(Ff().extent([i.setting("min"),i.setting("max")].concat(tv(n))),2),d=f[0],p=f[1];if("log"===i.setting("scale")&&!(d<0&&p<0||d>0&&p>0))throw"Y-axis must not cross 0 when using log scale.";i.scale(o.domain([d,p]))}}function vv(e,t,n){return"normalized"===e.settings["stackable.stack_type"]?function(e){return Math.round(100*e)+"%"}:function(r,i){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=t[a].data.cols[1],l=e.settings.column(u),c=null!==(o=i.extent)&&void 0!==o?o:n,s=mv(r,c);return(0,Ni.Bw)(s,av(av({},l),i))}}function bv(e){return function(e){if(Array.isArray(e))return gv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wv(e){return e&&bv(e.classList).map((function(e){return e.match(/^_(\d+)$/)})).filter((function(e){return e})).map((function(e){return parseInt(e[1],10)}))[0]}function Ov(e,t){for(;e;){if(e.classList&&e.classList.contains(t))return e;e=e.parentNode}return null}function jv(e){return function(e){if(Array.isArray(e))return Cv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sv(Object(n),!0).forEach((function(t){_v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Pv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pv(e,t){if(e){if("string"==typeof e)return Cv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cv(e,t):void 0}}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kv(e,t){var n=t.series,r=t.datas,i=t.isNormalized,o=t.seriesIndex,a=t.seriesTitle,u=t.classList,l=t.event,c=t.element,s=t.settings,f=t.dashboard,d=n[o].data.cols,p=n[o].card,h=n.length>1,m=h&&p._breakoutColumn,y=u.includes("bar")&&!h;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.name,n=(0,b.getIn)(s,["series_settings",t,"title"]);return!m&&n?n:(0,Zi.RY)(e)}var g,w=[],O=[];if(Array.isArray(e.key)){if(g=e.key[2],w=e.key._origin?e.key._origin.row.map((function(t,n){var r=e.key._origin.cols[n];return{key:v(r),value:t,col:r}})):e.key.map((function(e,t){return{key:v(d[t]),value:e,col:d[t]}})),O=[{value:e.key[0],column:d[0]},{value:e.key[1],column:d[1]}],m){var j=p._breakoutValue,S=p._breakoutColumn;O.push({value:j,column:S})}}else if(e.data){g=e.data.value,y||(d=n[o].data.cols);var E=(n[o].data||{})._rawCols||d,_=e.data.key,x=r[o].filter((function(e){var t=xv(e,1)[0];return _===t||Ji().isMoment(_)&&_.isSame(t)})),P=function(e,t,n){if(!n||0===t)return!1;var r=e[0].card,i=e[t].card,o=n.ordered_cards.find((function(e){return e.card_id===r.id}));return((null==o?void 0:o.series)||[]).some((function(e){return e.id===i.id}))}(n,o,f),C=d.some((function(e){return e.name===p.name})),k=d.some((function(e){return p.name==="".concat(p.originalCardName,": ").concat(e.display_name)})),A=E.map((function(e,t){return P&&!C&&t>=1?k?"".concat(p.originalCardName,": ").concat(e.display_name):p.originalCardName:e.name})),D=x.map((function(e){return e._origin&&e._origin.row})).filter(Boolean),R=function(e){if(!e.length)return null;for(var t=jv(e[0]),n=1;n<e.length;n++)for(var r=1;r<e[n].length;r++){var i=e[n][r];"number"==typeof i&&(t[r]+=i)}return t}(D.length>0?D:x);R&&(w=E.map((function(t,n){return i&&d[1].field_ref===t.field_ref?{key:v(d[1]),value:(0,Ni.Bw)(e.data.value,{number_style:"percent",column:d[1],decimals:d[1].decimals}),col:t}:{key:v(t,A[n]),value:(0,Uy.ri)(R[n]),col:t}})),O=E.map((function(e,t){return{column:e,value:R[t]}})))}else if(m){var I=p._breakoutValue,T=p._breakoutColumn;w=[{key:v(T),col:T,value:I}],O=[{column:T,value:I}]}w=w.map((function(e){return e.col===p._breakoutColumn?Ev(Ev({},e),{},{value:a||p._breakoutValue,col:a?null:p._breakoutColumn}):e})),O=O.filter((function(e){var t=e.column;return"aggregation"!==t.source&&"query-transform"!==t.source}));var N,q=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(O);try{for(q.s();!(N=q.n()).done;){var M=N.value;M.value=Av(M)}}catch(e){q.e(e)}finally{q.f()}var Z=n[o].data.cols[1];g=Av({column:Z,value:g});var L=u.includes("dot"),B=u.includes("area"),z="mousemove"===l.type?B:!L;return{index:y?-1:o,element:z?null:c,event:z?l:null,data:w.length>0?w:null,dimensions:O,value:g,column:Z,settings:s,seriesIndex:o}}function Av(e){var t=e.column,n=e.value;if(t&&"type/Boolean"===t.base_type){if("true"===n)return!0;if("false"===n)return!1}return n}function Dv(e,t,n,r){var i=e.settings,o=e.series,a=e.isScalarSeries,u=e.onHoverChange,l=e.onVisualizationClick,c=e.dashboard,s=r.isBrushing,f=(0,Uy.bS)(i,t),d=(0,Uy.Zq)(i,t),p=function(e,r){var u,l=(u=e,f?u.classList.contains("dot")?wv(Ov(u,"dc-tooltip")):wv(Ov(u,"stack")):wv(Ov(u,"sub"))),p=n.settings.series(o[l]),h=p&&p.title,m=jv(e.classList.values());return s()||m.includes("line")?null:kv(r,{classList:m,seriesTitle:h,seriesIndex:l,series:o,datas:t,isNormalized:d,isScalarSeries:a,isStacked:f,event:Ff().event,element:e,settings:i,dashboard:c})};n.on("renderlet.tooltips",(function(e){if(e.selectAll("title").remove(),u&&e.selectAll(".bar, .dot, .area, .line, .bubble").on("mousemove",(function(e){var t=p(this,e);u(t)})).on("mouseleave",(function(){u(null)})),l){var t=function(e){var t=p(this,e);t&&l(t)};e.selectAll(".dot, .bubble").style({cursor:"pointer"}).on("click",t),e.selectAll(".bar").style({cursor:"pointer"}).on("mousedown",t)}}))}function Rv(e,t){return Zv(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Nv(e,t)||Tv()}function Iv(e){return function(e){if(Array.isArray(e))return qv(e)}(e)||Mv(e)||Nv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nv(e,t){if(e){if("string"==typeof e)return qv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qv(e,t):void 0}}function qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mv(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Zv(e){if(Array.isArray(e))return e}var Lv=new Map([["+",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"(".concat(t.join(" + "),")")}],["-",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"(".concat(t.join(" - "),")")}],["*",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"(".concat(t.join(" * "),")")}],["/",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"(".concat(t.join(" / "),")")}],["log",function(e){return"Math.log(".concat(e,")")}],["pow",function(e,t){return"Math.pow(".concat(e,", ").concat(t,")")}],["exp",function(e){return"Math.pow(Math.E, ".concat(e,")")}]]),Bv=new Set(["x"]);function zv(e){if(Array.isArray(e)){var t=Zv(i=e)||Mv(i)||Nv(i)||Tv(),n=t[0],r=t.slice(1);if(Lv.has(n))return Lv.get(n).apply(void 0,Iv(r.map(zv)))}else{if("number"==typeof e)return e;if("string"==typeof e&&Bv.has(e))return e}var i;throw new Error("Invalid expression: ".concat(e))}function Fv(e){var t=zv(e);return new Function("x","return ".concat(t,";"))}var Qv=function(e){return e/864e5};function Vv(e,t,n){var r=(t-e)/(n-1);return x.ZP.range(e,t,r).concat([t])}var Uv,Hv=n(98399);function Yv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Kv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gv(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Wv(e){return function(e){if(Array.isArray(e))return Jv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kv(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Kv(e,t){if(e){if("string"==typeof e)return Jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jv(e,t):void 0}}function Jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xv(e,t,n,r){var i,o=t.xValues,a=t.xDomain,u=t.xInterval,l=e.settings,c=l.series(n),s=c["line.missing"];if("zero"!==s&&"none"!==s)return"interpolate"===s&&((0,Uy.P7)(c)||(0,Uy.UA)(c))?r.filter((function(e){var t=Yv(e,2);t[0];return null!==t[1]})):r;var f="zero"===s?0:null;if((0,Uy.rd)(l)){if(Math.abs(a[1].diff(a[0],u.interval)/u.count)>1e4)return r;o=Qy(u).domain(a).ticks(),i=function(e){return e.toISOString()}}else if((0,Uy.P6)(l)||(0,Uy.t4)(l)){if(Math.abs((a[1]-a[0])/u)>1e4)return r;var d=Yv(a,2),p=d[0],h=d[1];(0,Uy.l6)(e)?h+=1.5*u:h+=.5*u,o=Ff().range(p,h,u),i=function(e){return Math.round(e/u)}}return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};try{var i,o=e[0].slice(1).map((function(e){return n})),a=new Map,u=$v(e);try{var l=function(){var e=i.value,t=r(e[0]),n=a.get(t);if(n){var o=e.map((function(t,r){var i;return null!==(i=e[r])&&void 0!==i?i:n[r]}));o._origin=e._origin,a.set(t,o)}else a.set(t,e)};for(u.s();!(i=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}var c=t.map((function(e){var t=r(e),n=a.get(t);if(n){a.delete(t);var i=[e].concat(Wv(n.slice(1)));return i._origin=n._origin,i}return[e].concat(Wv(o))}));return a.size>0&&Hv.warn((0,v.t)(Uv||(Uv=Gv(["xValues missing!"]))),a,c),c}catch(t){return Hv.warn(t),e}}(r,o,f,i)}var eb=n(20514),tb=n(15065),nb=n(71362),rb=(0,De.Z)("div",{target:"e9ehwfr0"})("display:flex;justify-content:center;align-items:center;",nb.$_,";border-radius:",(function(e){return e.borderRadius}),";");rb.defaultProps={borderRadius:6,bg:(0,f.$_)("bg-medium")};var ib=rb;function ob(e){return ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(e)}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lb(e,t){return lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lb(e,t)}function cb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fb(e);if(t){var i=fb(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sb(this,n)}}function sb(e,t){return!t||"object"!==ob(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fb(e)}var db,pb,hb,mb,yb,vb,bb,gb,wb,Ob,jb,Sb,Eb,_b,xb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lb(e,t)}(o,e);var t,n,r,i=cb(o);function o(){return ab(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.objects,n=e.getObjectKey,r=e.onChangeEditingObject,i=e.onChangeObjectSettings,o=e.objectSettingsWidgets,a=e.object,l=e.allComputedSettings,c=e.settings,s=a&&n(a),f=function(e){return s===n(e)},d=a&&a.card.display,p=["line","area","bar","combo"].includes(d),h=null!=c["stackable.stack_type"];return u.createElement("div",null,t.length<100&&t.map((function(e){var a=n(e),c=l[a]||{};return u.createElement("div",{key:a,className:"px4 pt2 mt2 border-top align-self-stretch"},u.createElement("div",{className:"flex align-center"},u.createElement(at.default,{value:c.color,triggerSize:21,onChange:function(t){return i(e,{color:t})}}),u.createElement(qe.default,{className:"input flex-full ml1 align-self-stretch",style:{paddingTop:0,paddingBottom:0},size:1,value:c.title,onBlurChange:function(t){return i(e,{title:t.target.value})}}),p&&!h?u.createElement(tb.SegmentedControl,{className:"ml1 align-self-stretch",value:c.display,options:[{value:"line",icon:"line"},{value:"area",icon:"area"},{value:"bar",icon:"bar"}],onChange:function(t){return i(e,{display:t})},fullWidth:!0}):null,t.length>1?u.createElement(ib,{className:"ml1 p1"},u.createElement(En.ZP,{className:"text-medium cursor-pointer text-brand-hover",name:f(e)?"chevronup":"chevrondown",tooltip:f(e)?"Hide options":"More options",onClick:function(){return r(f(e)?null:e)}})):null),o&&o.length>0&&f(e)?u.createElement("div",{className:"mt3"},o):null)})))}}],n&&ub(t.prototype,n),r&&ub(t,r),o}(u.Component),Pb=["readDependencies","noPadding"];function Cb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Db(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function kb(e){return function(e){if(Array.isArray(e))return Rb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Db(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ab(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Db(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Db(e,t){if(e){if("string"==typeof e)return Rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rb(e,t):void 0}}function Rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ib(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(n),!0).forEach((function(t){Nb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ib(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Mb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zb(e){return e.card._seriesKey||String(e.card.name)}var Lb=new Set(["line","area"]);function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bb(Object(n),!0).forEach((function(t){Fb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qb(e){return function(e){if(Array.isArray(e))return Hb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ub(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Ub(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ub(e,t){if(e){if("string"==typeof e)return Hb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hb(e,t):void 0}}function Hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yb(e,t){var n=t.formatYValue,r=(t.xInterval,t.yAxisSplit),i=t.datas,o=i.map((function(t,n){return e.settings.series(e.series[n])})),a=o.map((function(t){var n=t.display,r=t.show_series_values;return(void 0===r?e.settings["graph.show_values"]:r)&&!function(e){return"scatter"===e}(n)})),u=o.map((function(e){return e.display})),c="stacked"===e.settings["stackable.stack_type"];if(!a.every((function(e){return!1===e}))&&"normalized"!==e.settings["stackable.stack_type"]){c&&(i=[i.flat()],u=[e.settings["stackable.stack_display"]],a=[!0]);var s,f="all"===e.settings["graph.label_value_frequency"],d=u.filter(j).length;d>0&&(s=parseFloat(e.svg().select("rect.bar")[0][0].getAttribute("width")));var p=e.x();i=i.map((function(t,n){if(!a[n])return[];var r=u[n];if(t=x.ZP.chain(t).groupBy((function(e){var t=Vb(e,1)[0];return p(t)})).values().map((function(e){var t=Vb(e,1),n=Vb(t[0],1)[0],r=e.filter((function(e){return Vb(e,2)[1]>=0})).reduce((function(e,t){return e+Vb(t,2)[1]}),0),i=e.filter((function(e){return Vb(e,2)[1]<0})).reduce((function(e,t){return e+Vb(t,2)[1]}),0);return c?r!==i?[[n,r,2],[n,i,2]]:[[n,r,1]]:[[n,r+i,1]]})).flatten(1).value(),t=t.map((function(e,i){var o=Vb(e,3),a=o[0],u=o[1],l=o[2],c=(i<l||t[i-l][1]>u)&&(i>=t.length-l||t[i+l][1]>u)&&"line"===r,p=d>1&&j(r)&&s<40,h=!f&&d>1&&j(r)&&s<20;return{x:a,y:u,showLabelBelow:c,seriesIndex:n,rotated:p,hidden:h}})).filter((function(e){return!("bar"===r&&0===e.y)})),"waterfall"===r&&t.length>0){var i=0;t.forEach((function(e){e.cumulativeY=e.y+i,i+=e.y})),e.settings["waterfall.show_total"]&&(t=[].concat(Qb(t),[zb(zb({},t[0]),{},{x:(0,Uy.yj)({settings:e.settings,series:e.series}),y:i,cumulativeY:i})]))}return t}));var h=Math.max.apply(Math,Qb(i.map((function(e){return e.length})))),m=e.settings["graph.label_value_formatting"],y=i.map((function(e){if("compact"===m)return!0;if("full"===m)return!1;var t=function(t){var r=zb(zb({compact:t},Ni.Ud),{},{_numberFormatter:void 0}),i=e.map((function(e){return n(e.y,r).length}));return i.reduce((function(e,t){return e+t}),0)/i.length};return t(!0)<t(!1)-3})),v=e.svg().select(".chart-body"),b=u.map((function(t,n){if(!j(t))return p.rangeBand&&u.some((function(e){return j(e)}))?(1+e._rangeBandPadding())*p.rangeBand()/2:0;var r=u.slice(0,n).filter(j).length,i=0;if(p.rangeBand){if(j(t))i+=(r+.5)*(p.rangeBand()/d);else i+=p.rangeBand()/2;u.some(j)&&u.some((function(e){return!j(e)}))&&(i+=e._rangeBandPadding()*p.rangeBand()/2)}else if(s){var o=(s+(s<4?0:s<8?1:2))*d;i-=o/2,i+=(r+.5)*(o/d)}if((0,Uy.l6)({settings:e.settings,chartType:t})&&1===u.length){var a=Vb(e.svg().selectAll("rect").flat().map((function(e){return parseFloat(e.getAttribute("x"))})),2),l=a[0];i+=(a[1]-l)/2}return i})),g=function(t){var n,i=t.x,o=t.y,a=t.showLabelBelow,l=t.cumulativeY,c=t.seriesIndex,s=u[c],f="waterfall"===s?l:o,d=(n=c,r[0].includes(n)?e.y():e.rightY()),h=b[c]+p(i),m=d(f)+(a?18:-8);o<0&&"waterfall"===s&&(m+=25);var y=Vb(d.range(),1)[0];return m>y&&(m=d(f)-8),{xPos:h,yPos:m,yHeight:y-m}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v.select(".value-labels").remove(),e=e.map((function(e){return zb(zb({},e),g(e))})).filter((function(e){return!(e.rotated&&e.yHeight<50)}));var r=v.append("svg:g").classed("value-labels",!0).selectAll("g").data(e).enter().append("g").attr("text-anchor",(function(e){return e.rotated?"end":"middle"})).attr("transform",(function(e){var t=["translate(".concat(e.xPos,", ").concat(e.yPos,")")];return e.rotated&&t.push("rotate(-90)","translate(-15, 4)"),t.join(" ")}));["value-label","value-label-white"].forEach((function(e){return r.append("text").filter((function(t){return!(t.rotated^"value-label-white"===e)})).attr("class",e).text((function(e){var r=e.y,i=e.seriesIndex,o={extent:[],negativeInParentheses:"waterfall"===u[i],compact:null===t?y[i]:t};return n(r,o,i)}))}))},O=i.map((function(t,n){if(f||d>1&&j(u[n]))return 1;var r=Math.ceil(h/30),i=t.filter((function(e,t){return t%r==0}));w(i,y[n]);var o=e.svg().selectAll(".value-label, .value-label-white").flat().reduce((function(e,t){return e+t.getBoundingClientRect().width}),0)/i.length+6,a=e.svg().select(".axis.x").node().getBoundingClientRect().width;return Math.ceil(o*h/a)}));x.ZP.chain(i).flatten().filter((function(e){return"line"===u[e.seriesIndex]||j(u[e.seriesIndex])})).map((function(e){return zb({d:e},g(e))})).groupBy((function(e){return e.xPos})).values().each((function(e){var t,n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ub(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(x.ZP.sortBy(e,(function(e){return e.yPos})));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.d,a=i.yPos;if(null==t||a-t>20)t=a;else{if(!o.showLabelBelow&&"line"===u[o.seriesIndex]){var l=g(zb(zb({},o),{},{showLabelBelow:!0})).yPos;if(l-t>20){o.showLabelBelow=!0,t=l;continue}}o.hidden=!0}}}catch(e){r.e(e)}finally{r.f()}})),w(i.flatMap((function(e){return e.filter((function(e,t){return t%O[e.seriesIndex]==0&&!e.hidden}))}))),(0,l.xQ)(e.svg().select(".value-labels").node().parentNode)}function j(e){return"bar"===e||"waterfall"===e}}function Gb(e){return function(e){if(Array.isArray(e))return Jb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Kb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Kb(e,t){if(e){if("string"==typeof e)return Jb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jb(e,t):void 0}}function Jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xb(e){var t=e.svg()[0][0].querySelectorAll(".dot");if(t.length<500){var n=function(e){var t,n=null,r=null,i=$b(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.getBoundingClientRect().left;if(null!==r){var a=o-r;a>0&&(null==n||a<n)&&(n=a)}r=o}}catch(e){i.e(e)}finally{i.f()}return n}(t);n>150?e.svg().classed("line--heavy",!0):n>75&&e.svg().classed("line--medium",!0)}}function eg(e,t){var n=document.createEvent("UIEvents");n.initUIEvent(t,!0,!0,window,1),e.dispatchEvent(n)}function tg(e){e.settings["graph.x_axis.labels_enabled"]||e.selectAll(".x-axis-label").remove(),e.settings["graph.y_axis.labels_enabled"]||e.selectAll(".y-axis-label").remove()}function ng(e){e.settings["graph.x_axis.axis_enabled"]||e.selectAll(".axis.x").remove(),e.settings["graph.y_axis.axis_enabled"]||e.selectAll(".axis.y, .axis.yr").remove()}function rg(e){0===e.selectAll(".axis.x .tick")[0].length&&e.selectAll(".axis.x").remove()}function ig(e){var t=String(e.settings["graph.x_axis.axis_enabled"]||"").match(/^rotate-(\d+)$/);return t?parseInt(t[1],10):0}function og(e,t){var n=t.datas,r=t.timelineEvents,i=t.selectedTimelineEventIds,o=t.isSplitAxis,a=t.xInterval,u=t.yAxisSplit,c=t.isStacked,s=t.isTimeseries,d=t.hasDrills,p=t.formatYValue,h=t.onGoalHover,m=t.onHoverChange,y=t.onOpenTimelines,v=t.onSelectTimelineEvents,b=t.onDeselectTimelineEvents;!function(e){var t,n=$b(e.selectAll(".sub, .chart-body")[0]);try{for(n.s();!(t=n.n()).done;)t.value.removeAttribute("clip-path")}catch(e){n.e(e)}finally{n.f()}}(e),function(e){var t,n=$b(e.selectAll(".sub, .chart-body")[0]);try{for(n.s();!(t=n.n()).done;){var r=t.value;(0,l.xQ)(r)}}catch(e){n.e(e)}finally{n.f()}}(e),function(e){var t=e.series.map((function(t){return e.settings.series(t).display}));if(x.ZP.uniq(t).length>0){var n,r=$b(t.entries());try{for(r.s();!(n=r.n()).done;){var i=Wb(n.value,2),o=i[0];"area"===i[1]&&(0,l.xQ)(e.select(".sub._".concat(o))[0][0])}}catch(e){r.e(e)}finally{r.f()}var a,u=$b(t.entries());try{for(u.s();!(a=u.n()).done;){var c=Wb(a.value,2),s=c[0];"line"===c[1]&&(0,l.xQ)(e.select(".sub._".concat(s))[0][0])}}catch(e){u.e(e)}finally{u.f()}}}(e),function(e){var t,n=$b(e.svg().selectAll(".dc-tooltip circle.dot")[0]);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.style.color=r.getAttribute("fill")}}catch(e){n.e(e)}finally{n.f()}}(e),Xb(e),function(e){var t,n=e.series.map((function(t){return e.settings.series(t)["line.marker_enabled"]}));if(x.ZP.any(n,(function(e){return null==e}))){var r,i=(r=[]).concat.apply(r,Gb(n.map((function(t,n){return!1===t?[]:e.svg().selectAll(".sub._".concat(n," .dc-tooltip .dot"))[0]}))));if(i.length>500)t=!1;else{var o,a=i.map((function(e,t){var n=e.getBoundingClientRect();return[n.left,n.top,t]})),u={},l=$b(Ff().geom.voronoi().links(a));try{for(l.s();!(o=l.n()).done;){var c=o.value,s=c.source,f=c.target;Math.sqrt(Math.pow(s[0]-f[0],2)+Math.pow(s[1]-f[1],2))<8&&(u[s[2]]=u[f[2]]=!0)}}catch(e){l.e(e)}finally{l.f()}var d=a.length,p=Object.keys(u).length;t=p<8||p/d<.1}}var h,m=$b(n.entries());try{for(m.s();!(h=m.n()).done;){var y=Wb(h.value,2),v=y[0],b=y[1],g=null!=b?!!b:t;e.svg().select(".sub._".concat(v)).classed("enable-dots",g).classed("enable-dots-onhover",!g)}}catch(e){m.e(e)}finally{m.f()}}(e),function(e,t){var n,r,i,o,a=t.hasDrills,u=e.svg().select("svg > g"),c=e.svg().selectAll(".sub .dc-tooltip .dot")[0],s=e.svg().select(".axis.x");if(!(0===c.length||c.length>300)){var f=e.svg().node().getBoundingClientRect(),d=c.map((function(e){var t=e.getBoundingClientRect(),n=t.top,r=t.left,i=t.width,o=t.height;return[r+i/2-f.left,n+o/2-f.top,e]})),p=null!==(n=null==s||null===(r=s.node())||void 0===r?void 0:r.getBBox())&&void 0!==n?n:{width:0,height:0},h=null!==(i=null===(o=u.node())||void 0===o?void 0:o.getBBox())&&void 0!==i?i:{width:0,height:0},m=Ff().geom.voronoi().clipExtent([[0,0],[h.width,h.height-p.height]]);u.append("svg:g").selectAll("clipPath").data(d).enter().append("svg:clipPath").attr("id",(function(e,t){return"clip-"+t})).append("svg:circle").attr("cx",(function(e){return e[0]})).attr("cy",(function(e){return e[1]})).attr("r",25),u.append("svg:g").classed("voronoi",!0).classed("voronoi-drill",a).selectAll("path").data(m(d),(function(e){return e&&e.join(",")})).enter().append("svg:path").filter((function(e){return null!=e})).attr("d",(function(e){return"M"+e.join("L")+"Z"})).attr("clip-path",(function(e,t){return(0,l.Jk)("clip-"+t)})).on("mousemove",(function(e){var t=e.point[2];eg(t,"mousemove"),Ff().select(t).classed("hover",!0)})).on("mouseleave",(function(e){var t=e.point[2];eg(t,"mouseleave"),Ff().select(t).classed("hover",!1)})).on("click",(function(e){eg(e.point[2],"click")})).order()}}(e,{hasDrills:d}),function(e,t,n){e.selectAll(".goal .dot, .trend .dot").remove(),e.selectAll(".goal, .trend").each((function(){this.parentNode.appendChild(this)}));var r=e.selectAll(".goal .line")[0][0];if(r){var i=e.selectAll(".axis.x .domain")[0][0];i&&r.getBBox&&r.setAttribute("d","M0,".concat(r.getBBox().y,"L").concat(i.getBBox().width,",").concat(r.getBBox().y));var o=r.getBBox?r.getBBox():{x:0,y:0,width:0},a=o.x,u=o.y,l=o.width,c=!n;e.selectAll(".goal .stack._0").append("text").text(e.settings["graph.goal_label"]).attr({x:c?a+l:a,y:u-5,"text-anchor":c?"end":"start","font-weight":"bold",fill:(0,f.$_)("text-medium")}).on("mouseenter",(function(){t(this)})).on("mouseleave",(function(){t(null)}))}}(e,h,o),Yb(e,{formatYValue:p,xInterval:a,yAxisSplit:u,datas:n}),tg(e),ng(e),rg(e),function(e){e.selectAll("rect.bar").on("click",(function(t){e.filter(null),e.filter(t.key)}))}(e),function(e){var t,n=$b(e.selectAll(".stack-list, .dc-tooltip-list")[0]);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=$b(i.childNodes);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.insertBefore(i.firstChild,a)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}}(e),function(e,t){e.svg().classed("stacked",t)}(e,c),function(e){var t=ig(e);0!==t&&e.selectAll("g.x text").attr("transform",(function(){var e=this.getBBox(),n=e.width,r=e.height;return"translate(-".concat(n/2,",").concat(-r/2,") ")+"rotate(".concat(-t,", ").concat(n/2,", ").concat(r,")")}))}(e),function(e){var t=e.props.onEditBreakout;t&&e.svg().select(".x-axis-label").classed("cursor-pointer",!0).on("click",(function(){return t(Ff().event,0)}))}(e),function(e){var t=e.y();if(t){var n=t(0).toString();e.select(".grid-line.horizontal").selectAll("line").filter((function(){return Ff().select(this).attr("y1")===n})).attr("class","zero")}}(e),function(e,t){Jy(e,{events:t.timelineEvents,selectedEventIds:t.selectedTimelineEventIds,xInterval:t.xInterval,isTimeseries:t.isTimeseries,onHoverChange:t.onHoverChange,onOpenTimelines:t.onOpenTimelines,onSelectTimelineEvents:t.onSelectTimelineEvents,onDeselectTimelineEvents:t.onDeselectTimelineEvents})}(e,{timelineEvents:r,selectedTimelineEventIds:i,xInterval:a,isTimeseries:s,onHoverChange:m,onOpenTimelines:y,onSelectTimelineEvents:v,onDeselectTimelineEvents:b})}function ag(e,t,n,r,i,o){var a=e.select(i).node(),u=e.select(o).node(),l=a?a.getBoundingClientRect()[n]+10:0,c=u?u.getBoundingClientRect()[n]+5:0;e.margins()[t]=l+c+r}function ug(e){var t=0,n=0;return e.selectAll("g.x text").each((function(){if(this.getBBox){var e=this.getBBox(),r=e.width,i=e.height;t=Math.max(t,r),n=Math.max(n,i)}})),{width:t,height:n}}function lg(e,t){return{width:Math.sin(t*(Math.PI/180))*e.width,height:Math.sin(t*(Math.PI/180))*e.height}}function cg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"g.x text",r=[],i=$b(e.selectAll(n)[0]);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.getBoundingClientRect();if((0!==a.width||0!==a.height)&&(r.push(a),r.length>1&&r[r.length-2].right+2>r[r.length-1].left))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}function sg(e,t){var n=lg(ug(e),t+180),r=e.selectAll("g.y")[0][0].getBBox();return Math.abs(n.width)/r.height<.7}function fg(e){if(!0===e.settings["graph.x_axis.axis_enabled"]&&cg(e))if(e.isOrdinal()){var t=function(e){var t,n=[],r=1/0,i=$b(e.selectAll("g.x text")[0]);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(n.push(o.getBoundingClientRect()),n.length>1){var a=n[n.length-2],u=n[n.length-1],l=u.left+u.width/2-(a.left+a.width/2);r=Math.min(r,l)}}}catch(e){i.e(e)}finally{i.f()}return r}(e);t<12?e.settings["graph.x_axis.axis_enabled"]=!1:t<24?sg(e,90)?e.settings["graph.x_axis.axis_enabled"]="rotate-90":e.settings["graph.x_axis.axis_enabled"]=!1:sg(e,45)?e.settings["graph.x_axis.axis_enabled"]="rotate-45":e.settings["graph.x_axis.axis_enabled"]=!1}else e.settings["graph.x_axis.axis_enabled"]=!1}function dg(e,t){var n=function(e){var t={left:0,right:0},n=e.selectAll(".axis.x .tick text")[0];if(n.length>0){var r=e.select("svg").node().getBoundingClientRect();t.left=e.margins().left-(n[0].getBoundingClientRect().left-r.left),t.right=e.margins().right-(r.right-n[n.length-1].getBoundingClientRect().right)}return t}(e),r=function(e){if(!1===e.settings["graph.x_axis.axis_enabled"])return 6;var t=ig(e),n=ug(e),r=lg(n,t);return Math.max(0,r.width-n.height)}(e);fv(e.yAxis(),e.height()-r),fv(e.rightYAxis(),e.height()-r),ag(e,"bottom","height",0+r,".axis.x",".x-axis-label"),ag(e,"left","width",8,".axis.y",".y-axis-label.y-label"),ag(e,"right","width",8,".axis.yr",".y-axis-label.yr-label"),e.margins().top=Math.max(20,e.margins().top),e.margins().left=Math.max(20,e.margins().left,n.left),e.margins().right=Math.max(20,e.margins().right,n.right);var i=Xy(e)?80:10;e.margins().bottom=Math.max(i,e.margins().bottom)}function pg(e,t){t.timelineEvents,t.xDomain,t.isTimeseries;fg(e),function(e){tg(e),ng(e),rg(e)}(e),dg(e)}function hg(e,t){pg(e,t),e.on("renderlet.on-render",(function(){return og(e,t)})),e.render()}var mg,yg,vg=n(14178),bg=n(6498),gg=function(e){return e.fadeDeselectedArea=function(){var t=e.chartBodyG().selectAll(".dot"),n=e.brush().extent();if(e.isOrdinal())e.hasFilter()?(t.classed(_y().constants.SELECTED_CLASS,(function(t){return e.hasFilter(t.x)})),t.classed(_y().constants.DESELECTED_CLASS,(function(t){return!e.hasFilter(t.x)}))):(t.classed(_y().constants.SELECTED_CLASS,!1),t.classed(_y().constants.DESELECTED_CLASS,!1));else if(e.brushIsEmpty(n))t.classed(_y().constants.DESELECTED_CLASS,!1),t.classed(_y().constants.SELECTED_CLASS,!1);else{var r=n[0],i=n[1],o=function(e){return Ji().isDate(r)?!(Ji()(e.x).isBefore(r)||Ji()(e.x).isAfter(i)):!(e.x<r||e.x>=i)};t.classed(_y().constants.DESELECTED_CLASS,(function(e){return!o(e)})),t.classed(_y().constants.SELECTED_CLASS,(function(e){return o(e)}))}},e},wg=n(4451);function Og(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++)r[i]=[];for(var o=0;o<n;o++)for(var a=0,u=0;a<t;a++)r[a][o]=u,u+=e[a][o][1];return r}function jg(e){for(var t=e.length,n=e[0].length,r=[],i=0;i<t;i++)r[i]=[];for(var o=0;o<n;o++)for(var a=0,u=0,l=0;a<t;a++)e[a][o][1]>=0?(r[a][o]=u,u+=e[a][o][1]):(r[a][o]=l,l+=e[a][o][1]);return r}function Sg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||kg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eg(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=kg(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function _g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_g(Object(n),!0).forEach((function(t){Pg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cg(e){return function(e){if(Array.isArray(e))return Ag(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kg(e,t){if(e){if("string"==typeof e)return Ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ag(e,t):void 0}}function Ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Rg(e,t,n){var r=(0,Uy.bJ)(e),i=(0,Uy.l6)(e),o=(0,Uy.dQ)(e,r,n),a="waterfall"===e.chartType&&e.settings["waterfall.show_total"],u=r;return i?u=[].concat(Cg(r),[Math.max.apply(Math,Cg(r))+o]):a?u=[].concat(Cg(r),[(0,Uy.yj)(e)]):(0,Uy.c$)(e.settings)&&(u=u.map((function(e){return(0,Uy.JR)(e)}))),{isHistogramBar:i,xDomain:Ff().extent(u),xInterval:o,xValues:u}}function Ig(e,t,n){var r=Sy()(),i=(0,Uy.Zq)(e.settings,t),o={};if(i){var a,u=Eg(t);try{for(u.s();!(a=u.n()).done;){var l,c=Eg(a.value);try{for(c.s();!(l=c.n()).done;){var s=Sg(l.value,2),f=s[0],d=s[1];o[f]=(o[f]||0)+d}}catch(e){c.e(e)}finally{c.f()}}}catch(e){u.e(e)}finally{u.f()}e.series=e.series.map((function(e){return(0,b.updateIn)(e,["data","cols",1],(function(e){return xg(xg({},e),{},{display_name:"% "+(0,Zi.RY)(e)})}))}));var p=t.flatMap((function(e){return e.map((function(e){var t=Sg(e,2),n=t[0];return t[1]/o[n]}))})),h=(0,Zi.x9)(p,{style:"percent",maximumSignificantDigits:2});e.series=function(e,t){return e.map((function(e){return(0,b.assocIn)(e,["data","cols",1,"decimals"],t)}))}(e.series,h)}t.map((function(e,t){return r.add(e.map((function(e){var n;return Pg(n={},0,e[0]),Pg(n,t+1,i?e[1]/o[e[0]]:e[1]),n})))}));var m=r.dimension((function(e){return e[0]})),y=[t.map((function(t,r){var i="waterfall"===e.chartType?0:r;return(0,Uy.r_)(m.group(),r+1,(function(){return n((0,eb.ex)(e.series[i].data.cols[0]))}))}))];return{dimension:m,groups:y}}function Tg(e,t,n){var r=e.settings,i=e.chartType,o=e.series,a="waterfall"===i?(0,Uy.BA)(t,r,o):t,u=(0,Uy.bS)(r,a)||"waterfall"===i,l="scatter"===i?function(e){return{dimension:Sy()(e).dimension((function(e){return e})),groups:e.map((function(e){return[Sy()(e).dimension((function(e){return e})).group().reduceSum((function(e){var t;return null!==(t=e[1])&&void 0!==t?t:1}))]}))}}(a):u?Ig(e,a,n):function(e,t,n){var r=e.series,i=Sy()();return t.map((function(e){return i.add(e)})),{dimension:i.dimension((function(e){return e[0]})),groups:t.map((function(e,t){e=e.length>0?e:[[null,null]];var i=Sy()(e).dimension((function(e){return e[0]}));return e[0].slice(1).map((function(e,o){return(0,Uy.r_)(i.group(),o+1,(function(){return n((0,eb.ex)(r[t].data.cols[0]))}))}))}))}}(e,a,n),c=l.groups,s=l.dimension,f=function(e){return e.map((function(e){var t,n=new Map,r=Eg(e);try{for(r.s();!(t=r.n()).done;){var i,o=Eg(t.value.all());try{for(o.s();!(i=o.n()).done;){var a=i.value,u=a.key,l=a.value,c=n.get(u)||0;n.set(u,c+l)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}return Ff().extent(Array.from(n.values()))}))}(c);return{groups:c,dimension:s,yExtents:f}}function Ng(e,t,n){var r,i,o,a=function(e,t,n){var r,i=e.settings,o=e.chartType,a=e.isScalarSeries,u=e.series,l=u.map((function(e){return i.series(e).axis})),c=[],s=[],f=[],d=Eg(l.entries());try{for(d.s();!(r=d.n()).done;){var p=Sg(r.value,2),h=p[0],m=p[1];"left"===m?c.push(h):"right"===m?s.push(h):f.push(h)}}catch(e){d.e(e)}finally{d.f()}var y=x.ZP.uniq(u.map((function(e){return JSON.stringify(e.data.cols[1])}))).length>1;if(a||"scatter"===o||(0,Uy.bS)(i,t)||!y||!1===i["graph.y_axis.auto_split"])return[[].concat(c,f),s];var v=Sg((0,Zi.f0)(n),2),b=v[0],g=v[1];return[x.ZP.uniq([].concat(c,Cg(b.filter((function(e){return!l[e]}))))),x.ZP.uniq([].concat(s,Cg(g.filter((function(e){return!l[e]})))))]}(e,n,t),u=function(e,t,n){return t.map((function(t){var r;return{series:t.map((function(t){return e[t]})),extent:Ff().extent((r=[]).concat.apply(r,Cg(t.map((function(e){return n[e]})))))}}))}(e.series,a,t),l=Sg(u,2),c=l[0],s=l[1];return{yExtents:t,yAxisSplit:a,yExtent:Ff().extent((r=[]).concat.apply(r,Cg(t))),yLeftSplit:c,yRightSplit:s,isSplit:(i=c,o=s,o&&o.series.length&&i&&i.series.length>0)}}function qg(e,t,n,r,i){e.interpolate&&e.interpolate(r["line.interpolate"]||t["line.interpolate"]||"linear"),e.renderArea&&e.renderArea("area"===n),e.barPadding&&e.barPadding(.2).centerBar(i||"ordinal"!==t["graph.x_axis.scale"]),"stacked"===t["stackable.stack_type"]&&e.stackLayout(function(){var e=Ff().layout.stack(),t=e.values(),n=e.order(),r=e.x(),i=e.y(),o=e.out(),a=Og;function u(e,l){var c=e.length;if(!c)return e;var s=e.map((function(e,n){return t.call(u,e,n)})),f=s.map((function(e){return e.map((function(e,t){return[r.call(u,e,t),i.call(u,e,t)]}))})),d=n.call(u,f,l);s=Ff().permute(s,d),f=Ff().permute(f,d);for(var p=a.call(u,f,l),h=s[0].length,m=0;m<h;m++)for(var y=0;y<c;y++)o.call(u,s[y][m],p[y][m],f[y][m][1]);return e}return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(e){return arguments.length?(n=e,u):n},u.offset=function(e){return arguments.length?(a=e,u):a},u.x=function(e){return arguments.length?(r=e,u):r},u.y=function(e){return arguments.length?(i=e,u):i},u.out=function(e){return arguments.length?(o=e,u):o},u}().offset(jg))}function Mg(e,t){return null!=e["stackable.stack_type"]?e["stackable.stack_display"]:e.series(t).display}function Zg(e,t,n,r,i,o,a){var u=a.onBrushChange,c=a.onBrushEnd,s=e.settings,f=e.chartType,d=e.series,p=e.onChangeCardAndRun,h=t.yAxisSplit,m=x.ZP.uniq(d.map((function(e){return Mg(s,e)}))),y=m.includes("bar")&&m.length>1,v="ordinal"===s["graph.x_axis.scale"],b=y&&v;return b&&n.on("renderlet.shift",(function(){var e=n.x(),t=e.domain(),r=e(t[1])-e(t[0]);n.svg().selectAll(".stack, .dc-tooltip").each((function(){this.setAttribute("transform","translate(".concat(r/2,", 0)"))}))})),i.map((function(a,m){var y=d[m],v=s.series(y),g=Mg(s,y)||f,w=function(e,t){switch(e){case"line":case"area":return gg(_y().lineChart(t));default:return _y().barChart(t);case"scatter":return _y().bubbleChart(t)}}(g,n);(function(e,t){return!(!t||(0,Uy.yM)(e)||!(0,vg.eG)(e[0].card)||(0,Uy.C5)(e)||(0,Uy.rE)(e))})(d,p)&&function(e,t,n,r){if(e.brushOn&&t.brushOn){e.brushOn(!0),t.brushOn(!0),t.xyTipsOn&&t.xyTipsOn("always");var i=!1,o=null;e.brush().on("brushstart.custom",(function(){o=null,i=!1,e.svg().classed("dragging",!0),(0,l.xQ)(e.select(".brush").node()),window.addEventListener("keydown",a,!0)})),t.addFilterHandler((function(t,r){return n(o=r),e.fadeDeselectedArea(),t})),e.brush().on("brushend.custom",(function(){e.svg().classed("dragging",!1),e.select(".brush").style("opacity",1),(0,l.cb)(e.select(".brush").node()),window.removeEventListener("keydown",a,!0),t.filterAll(),e.redraw(),r(i?null:o),o=null}));var a=function(e){e.keyCode===wg.vR&&(i=!0,window.dispatchEvent(new MouseEvent("mouseup")))};e.on("pretransition.custom",(function(e){(0,l.cb)(e.select(".brush").node()),e.selectAll(".brush .resize").remove()}))}}(n,w,u,c),w.onClick=function(){},w.dimension(o).group(a[0]).transitionDuration(0).useRightYAxis(h.length>1&&h[1].includes(m)),"scatter"===f&&function(e,t,n,r){var i=r.yExtent;r.yExtents,e.keyAccessor((function(e){return e.key[0]})).valueAccessor((function(e){return e.key[1]})),e.radiusValueAccessor&&(t[n][0].length>2?e.radiusValueAccessor((function(e){return e.value})).r(Ff().scale.sqrt().domain([0,64*i[1]]).range([0,1])):(e.radiusValueAccessor((function(e){return 1})),e.MIN_RADIUS=3),e.minRadiusWithLabel(1/0))}(w,r,m,t),w.defined&&w.defined("none"===v["line.missing"]?function(e){return null!=e.y}:function(e){return!0}),function(e,t,n,r){var i=e.series,o=e.settings,a=e.chartType,u=n[r],l=o["series_settings.colors"]||{},c=Zb(i[r]),s=l[c]||"black";n.length>1||"scatter"===a?u.length>1?t.ordinalColors((0,Zi.Pz)(s,u.length)):t.colors(s):t.ordinalColors(i.map((function(e){return l[Zb(e)]}))),"waterfall"===a&&t.on("pretransition",(function(e){e.selectAll("g.stack._0 rect.bar").style("fill","transparent").style("pointer-events","none"),e.selectAll("g.stack._3 rect.bar").style("fill",o["waterfall.total_color"]),e.selectAll("g.stack._1 rect.bar").style("fill",o["waterfall.decrease_color"]),e.selectAll("g.stack._2 rect.bar").style("fill",o["waterfall.increase_color"])}))}(e,w,i,m);for(var O=1;O<a.length;O++)w.stack(a[O]);return qg(w,s,g,v,b),w}))}function Lg(e,t,n,r,i){var o=e.series,a=e.settings,u=(e.onHoverChange,t.xDomain),l=n.yAxisSplit;if(a["graph.show_trendline"]){var c,s=Eg((o._raw||o)[0].data.insights||[]);try{var d=function(){var e=c.value,t=function(e,t){return x.ZP.findIndex(e,(function(e){var n=e.data.cols;return x.ZP.findWhere(n,{name:t})}))||0}(o,e.col),n=-1!==t,s=null!=e.slope&&null!=e.offset;if(!n||!s)return"continue";var d=a.series(o[t]),p=(0,f.$n)(d.color,.25),h=Math.round(r.width()/25),m=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=Ji().isMoment(t[0]);n=e["best-fit"]?Fv(e["best-fit"]):function(t){return t*e.slope+e.offset};var o=Rv(i?t.map((function(e){return+e})):t,2),a=o[0],u=o[1],l=Vv(a,u,r);return i?l.map((function(e){return[Ji()(e),n(Qv(e))]})):l.map((function(e){return[e,n(e)]}))}(e,u,h),y=Sy()(m).dimension((function(e){return e[0]})),v=y.group().reduce((function(e,t){return t[1]}),(function(e,t){return e}),(function(){return 0})),b=i.length,g=_y().lineChart(r).dimension(y).group(v).on("renderlet",(function(e){e.select(".sub._"+b).classed("sub",!1).classed("trend",!0)})).colors([p]).useRightYAxis(l.length>1&&l[1].includes(t)).interpolate("cardinal");i.push(g)};for(s.s();!(c=s.n()).done;)d()}catch(e){s.e(e)}finally{s.f()}}}function Bg(e,t,n,r){(0,Uy.rd)(e.settings)?hv(e,t,n,r):(0,Uy.P6)(e.settings)?function(e,t,n){var r,i=n.xValues,o=n.xDomain,a=n.xInterval,u=x.ZP.find(t,(function(e){return!(0,_a.Y2)(e.data)})),l=u.data.cols[0],c="waterfall"===u.card.display&&e.settings["waterfall.show_total"]?i[i.length-1]:null;if(e.settings["graph.x_axis.labels_enabled"]&&e.xAxisLabel(e.settings["graph.x_axis.title_text"]||(0,Zi.RY)(l),10),e.settings["graph.x_axis.axis_enabled"]?(e.renderVerticalGridLines(e.settings["graph.x_axis.gridLine_enabled"]),pv(e.xAxis(),e.width(),i),e.xAxis().tickFormat((function(t){return c&&c===t?(0,v.t)(zy||(zy=rv(["Total"]))):(0,Vy.Kb)(t,a)?(0,Ni.Bw)(t,av(av({},e.settings.column(l)),{},{type:"axis",compact:"compact"===e.settings["graph.x_axis.axis_enabled"]})):void 0}))):(e.xAxis().ticks(0),e.xAxis().tickFormat("")),"pow"===e.settings["graph.x_axis.scale"])r=Ff().scale.pow().exponent(.5);else if("log"===e.settings["graph.x_axis.scale"]){if(r=Ff().scale.log().base(Math.E),!(o[0]<0&&o[1]<0||o[0]>0&&o[1]>0))throw"X-axis must not cross 0 when using log scale."}else r=Ff().scale.linear();var s=Math.round(.75*a*10)/10;o=[o[0]-s,o[1]+s],e.x(r.domain(o)).xUnits(_y().units.fp.precision(a))}(e,t,n):function(e,t,n){var r=n.xValues,i=n.isHistogramBar,o=x.ZP.find(t,(function(e){return!(0,_a.Y2)(e.data)})),a=o.data.cols[0],u="waterfall"===o.card.display&&e.settings["waterfall.show_total"]?r[r.length-1]:null;e.settings["graph.x_axis.labels_enabled"]&&e.xAxisLabel(e.settings["graph.x_axis.title_text"]||(0,Zi.RY)(a),10),e.settings["graph.x_axis.axis_enabled"]?(e.renderVerticalGridLines(e.settings["graph.x_axis.gridLine_enabled"]),e.xAxis().ticks(r.length),pv(e.xAxis(),e.width(),r),e.xAxis().tickFormat((function(t){return u&&u===t?(0,v.t)(Fy||(Fy=rv(["Total"]))):(0,Ni.Bw)(t,av(av({},e.settings.column(a)),{},{type:"axis",compact:"compact"===e.settings["graph.x_axis.labels_enabled"],noRange:i}))}))):(e.xAxis().ticks(0),e.xAxis().tickFormat("")),(0,Uy.t4)(e.settings)&&e._outerRangeBandPadding(0),e.x(Ff().scale.ordinal().domain(r)).xUnits(_y().units.ordinal)}(e,t,n)}function zg(e,t){var n=t.isScalarSeries,r=t.settings,i=t.series,o=t.timelineEvents,a=t.selectedTimelineEventIds,u=t.onRender,l=t.onHoverChange,c=t.onOpenTimelines,s=t.onSelectTimelineEvents,f=t.onDeselectTimelineEvents,d={},p=function(e){var t=e.key,n=e.text;d[t]=d[t]||n};!function(e){var t=e.series,n=e.maxSeries;if((0,Uy.RS)(t).data.cols.length<2)throw new Error((0,v.t)(mg||(mg=Dg(["This chart type requires at least 2 columns."]))));if(t.length>n)throw new Error((0,v.t)(yg||(yg=Dg(["This chart type doesn't support more than "," series of data."])),n))}(t),r["graph.x_axis._scale_original"]=r["graph.x_axis.scale"],(0,Uy.t4)(r)&&(r["line.missing"]="zero",r["graph.x_axis.scale"]="ordinal");var h=(0,Uy.KJ)(t,p),m=Rg(t,0,p);h=function(e,t,n){var r=t.xValues,i=t.xDomain,o=t.xInterval;return n.map((function(t,n){return Xv(e,{xValues:r,xDomain:i,xInterval:o},e.series[n],t)}))}(t,m,h),m=Rg(t,0,p),n&&(m.xValues=h.map((function(e){return e[0][0]})));var y=Tg(t,h,p),b=y.dimension,g=y.groups,w=Ng(t,y.yExtents,h);(0,Uy.rd)(r)||(0,Uy.P6)(r)||(0,Uy.sX)(g,(0,Uy.eA)(m.xValues));var O=_y().compositeChart(e);(0,Uy.zz)(O,e),O.props=t,O.settings=r,O.series=t.series;var j=function(e){var t=e.series,n=e.onChangeCardAndRun,r=!1;return{isBrushing:function(){return r},onBrushChange:function(){r=!0},onBrushEnd:function(e){if(r=!1,e){var i=t[0].data.cols[0],o=t[0].card,a=new xy.Z(o).query(),u=Sg(e,2),l=u[0],c=u[1];(0,Uy.yr)(t)?n({nextCard:(0,bg.ve)(a,i,l,c).question().card(),previousCard:o}):n({nextCard:(0,bg.sI)(a,i,l,c).question().card(),previousCard:o})}}}}(t),S=Zg(t,w,O,h,g,b,j),E=function(e,t,n,r){var i=e.settings,o=e.onHoverChange;if(!i["graph.show_goal"])return function(){};var a=i["graph.goal_value"],u=[[t[0],a],[t[1],a]],l=Sy()(u).dimension((function(e){return e[0]})),c=l.group().reduce((function(e,t){return t[1]}),(function(e,t){return e}),(function(){return 0})),s=r.length,f=_y().lineChart(n).dimension(l).group(c).on("renderlet",(function(e){e.select(".sub._"+s).classed("sub",!1).classed("goal",!0)}));return r.push(f),function(e){o(e&&{element:e,data:[{key:i["graph.goal_label"],value:a}]})}}(t,m.xDomain,O,S);if(Lg(t,m,w,O,S),O.compose(S),g.length>1&&!t.isScalarSeries?function(e){e.on("renderlet.grouped-bar",(function(e){var t=e.selectAll(".sub rect:first-child")[0].map((function(e){return e.parentNode.parentNode.parentNode}));if(0!==t.length){var n=t[0].querySelectorAll("rect");if(!(n.length<1)){var r=parseFloat(n[0].getAttribute("width"))/t.length,i=r<4?0:r<8?1:2,o=Math.max(1,r-i);e.selectAll("g.sub rect").attr("width",o),t.forEach((function(e,t){e.setAttribute("transform","translate("+(o+i)*t+", 0)")}))}}}))}(O):(0,Uy.l6)(t)&&function(e){e.on("renderlet.histogram-bar",(function(e){var t=e.selectAll(".sub rect:first-child")[0].map((function(e){return e.parentNode.parentNode.parentNode}));if(0!==t.length){var n=t[0].querySelectorAll("rect");if(!(n.length<2)){var r=parseFloat(n[0].getAttribute("width")),i=parseFloat(n[1].getAttribute("x"))-parseFloat(n[0].getAttribute("x"))-1;i>r&&e.selectAll("g.sub .bar").attr("width",i);var o,a=Eg(t);try{for(a.s();!(o=a.n()).done;)o.value.setAttribute("transform","translate(".concat(r/2,", 0)"))}catch(e){a.e(e)}finally{a.f()}}}}))}(O),!(0,Uy.t4)(t.settings)){var _=x.ZP.any(i,(function(e){return"bar"===Mg(r,e)}))||"waterfall"===t.chartType;O._rangeBandPadding(_?.2:1)}return Bg(O,t.series,m,o),function(e,t){var n=t.yLeftSplit,r=t.yRightSplit;n&&n.series.length>0&&yv(e,n.series,n.extent,"left"),r&&r.series.length>0&&yv(e,r.series,r.extent,"right")}(O,w),Dv(t,h,O,j),O.render(),h.map((function(e){e.map((function(e){isFinite(e._waterfallValue)&&(e[1]=e._waterfallValue)}))})),hg(O,{datas:h,timelineEvents:o,selectedTimelineEventIds:a,isSplitAxis:w.isSplit,yAxisSplit:w.yAxisSplit,xDomain:m.xDomain,xInterval:m.xInterval,isStacked:(0,Uy.bS)(O.settings,h),isTimeseries:(0,Uy.rd)(O.settings),hasDrills:"function"==typeof t.onChangeCardAndRun,formatYValue:vv(O,i,w.yExtent),onGoalHover:E,onHoverChange:l,onOpenTimelines:c,onSelectTimelineEvents:s,onDeselectTimelineEvents:f}),(0,Uy.c$)(O.settings)&&delete d[eb.yT],u&&u({yAxisSplit:w.yAxisSplit,warnings:Object.values(d)}),function(){_y().chartRegistry.deregister(O)}}var Fg,Qg,Vg,Ug,Hg,Yg,Gg,Wg,$g,Kg,Jg,Xg,ew,tw,nw,rw,iw,ow,aw,uw,lw,cw,sw,fw,dw,pw,hw,mw,yw,vw,bw,gw,ww,Ow,jw,Sw,Ew,_w,xw,Pw,Cw,kw,Aw,Dw,Rw,Iw,Tw,Nw,qw,Mw,Zw,Lw,Bw,zw,Fw,Qw,Vw,Uw,Hw,Yw,Gw,Ww,$w,Kw,Jw,Xw,eO,tO,nO,rO,iO,oO,aO,uO,lO;function cO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sO(Object(n),!0).forEach((function(t){dO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mO=new Set([]);function yO(e){return"scatter"===e[0].card.display?function(e){var t=pO(e,1)[0].data,n=t.cols,r=(t.rows,n.filter(Mi.vM)),i=n.filter(Mi.Zd);return 2===r.length&&i.length<2?{dimensions:[r[0].name],metrics:[r[1].name],bubble:1===i.length?i[0].name:null}:{dimensions:[null],metrics:[null],bubble:null}}(e):function(e){return(0,Zi.xo)(e)}(e)}var vO,bO,gO=fO(fO({},La({getColumns:function(e,t){return pO(e,1)[0].data.cols},hidden:!0})),{},{"graph._dimension_filter":{getDefault:function(e){return"scatter"===pO(e,1)[0].card.display?Mi.JZ:Mi.vM},useRawSeries:!0},"graph._metric_filter":{getDefault:function(e){return"scatter"===pO(e,1)[0].card.display?Mi.kE:Mi.Zd},useRawSeries:!0},"graph.dimensions":{section:(0,v.t)(Fg||(Fg=cO(["Data"]))),title:(0,v.t)(Qg||(Qg=cO(["X-axis"]))),widget:"fields",isValid:function(e,t){return e.some((function(e){var n=e.card,r=e.data;return(0,Zi.IW)(n.visualization_settings["graph.dimensions"],r,t["graph._dimension_filter"])&&(0,Zi.IW)(n.visualization_settings["graph.metrics"],r,t["graph._metric_filter"])}))},getDefault:function(e,t){var n;return(0,Zi.Ew)(null!==(n=t["graph.dimensions"])&&void 0!==n?n:[],yO(e).dimensions)},persistDefault:!0,getProps:function(e,t){var n=pO(e,1)[0],r=(n.card,n.data),i=t["graph.dimensions"],o=r.cols.filter(t["graph._dimension_filter"]).map(Hi);return{options:o,addAnother:o.length>i.length&&i.length<2&&t["graph.metrics"].length<2?(0,v.t)(Vg||(Vg=cO(["Add a series breakout..."]))):null,columns:r.cols,showColumnSetting:!0}},readDependencies:["graph._dimension_filter","graph._metric_filter"],writeDependencies:["graph.metrics"],dashboard:!1,useRawSeries:!0},"graph.metrics":{section:(0,v.t)(Ug||(Ug=cO(["Data"]))),title:(0,v.t)(Hg||(Hg=cO(["Y-axis"]))),widget:"fields",isValid:function(e,t){return e.some((function(e){var n=e.card,r=e.data;return(0,Zi.IW)(n.visualization_settings["graph.dimensions"],r,t["graph._dimension_filter"])&&(0,Zi.IW)(n.visualization_settings["graph.metrics"],r,t["graph._metric_filter"])}))},getDefault:function(e,t){return yO(e).metrics},persistDefault:!0,getProps:function(e,t){var n=pO(e,1)[0],r=n.card,i=n.data,o=i.cols.filter(t["graph._metric_filter"]).map(Hi),a=t["graph.dimensions"].length>1,u=t["graph.metrics"].length,l=(0,Ii.getMaxMetricsSupported)(r.display),c=o.length>u;return{options:o,addAnother:u<l&&c&&!a?(0,v.t)(Yg||(Yg=cO(["Add another series..."]))):null,columns:i.cols,showColumnSetting:!0}},readDependencies:["graph._dimension_filter","graph._metric_filter"],writeDependencies:["graph.dimensions"],dashboard:!1,useRawSeries:!0}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.readDependencies,n=void 0===t?[]:t,r=(e.noPadding,Mb(e,Pb)),i="series_settings",o="".concat(i,".colors"),a={title:{getDefault:function(e,t,n){var r=n.series,i=n.settings["graph.series_labels"];if(i){var o=r.indexOf(e);if(o>=0&&o<i.length)return i[o]}return e.card.name}},display:{getDefault:function(e,t,n){var r=n.series;return"combo"===e.card.display?0===r.indexOf(e)?"line":"bar":e.card.display}},color:{getDefault:function(e,t,n){var r=n.settings;return(0,b.getIn)(r,[o,Zb(e)])}},"line.interpolate":{title:(0,v.t)(db||(db=qb(["Line style"]))),widget:"segmentedControl",props:{options:[{icon:"straight",value:"linear"},{icon:"curved",value:"cardinal"},{icon:"stepped",value:"step-after"}]},getHidden:function(e,t){return!Lb.has(t.display)},getDefault:function(e,t,n){return n.settings["line.interpolate"]||"linear"},readDependencies:["display"]},"line.marker_enabled":{title:(0,v.t)(pb||(pb=qb(["Show dots on lines"]))),widget:"segmentedControl",props:{options:[{name:(0,v.t)(hb||(hb=qb(["Auto"]))),value:null},{name:(0,v.t)(mb||(mb=qb(["On"]))),value:!0},{name:(0,v.t)(yb||(yb=qb(["Off"]))),value:!1}]},getHidden:function(e,t){return!Lb.has(t.display)},getDefault:function(e,t,n){var r=n.settings;return null==r["line.marker_enabled"]?null:r["line.marker_enabled"]},readDependencies:["display"]},"line.missing":{title:(0,v.t)(vb||(vb=qb(["Replace missing values with"]))),widget:"select",props:{options:[{name:(0,v.t)(bb||(bb=qb(["Zero"]))),value:"zero"},{name:(0,v.t)(gb||(gb=qb(["Nothing"]))),value:"none"},{name:(0,v.t)(wb||(wb=qb(["Linear Interpolated"]))),value:"interpolate"}]},getHidden:function(e,t){return!Lb.has(t.display)},getDefault:function(e,t,n){return n.settings["line.missing"]||"interpolate"},readDependencies:["display"]},axis:{title:(0,v.t)(Ob||(Ob=qb(["Which axis?"]))),widget:"segmentedControl",default:null,props:{options:[{name:(0,v.t)(jb||(jb=qb(["Auto"]))),value:null},{name:(0,v.t)(Sb||(Sb=qb(["Left"]))),value:"left"},{name:(0,v.t)(Eb||(Eb=qb(["Right"]))),value:"right"}]}},show_series_values:{title:(0,v.t)(_b||(_b=qb(["Show values for this series"]))),widget:"toggle",getHidden:function(e,t,n){var r=n.settings;return n.series.length<=1||!Object.prototype.hasOwnProperty.call(r,"graph.show_values")||r["stackable.stack_type"]},getDefault:function(e,t,n){return n.settings["graph.show_values"]},readDependencies:["graph.show_values","stackable.stack_type"]}};function u(e,t,n){return a}return Tb(Tb({},Mo(i,Tb({objectName:"series",getHidden:function(e,t,n){return"waterfall"===Ab(e,1)[0].card.display},getObjects:function(e,t){return e},getObjectKey:Zb,getSettingDefintionsForObject:u,component:xb,readDependencies:[o].concat(kb(n)),noPadding:!0},r))),{},Nb({},o,{getValue:function(e,t){var n=e.map((function(e){return Zb(e)})),r=x.ZP.chain(n).map((function(e){return[e,(0,b.getIn)(t,[i,e,"color"])]})).filter((function(e){var t=Ab(e,2);t[0];return null!=t[1]})).object().value(),o=t["graph.colors"];if(o){var a,u=Cb(n.entries());try{for(u.s();!(a=u.n()).done;){var l=Ab(a.value,2),c=l[0],s=l[1];s in r||(r[s]=o[c])}}catch(e){u.e(e)}finally{u.f()}}return(0,f.At)(n,r)}}))}()),wO={"scatter.bubble":{section:(0,v.t)(Gg||(Gg=cO(["Data"]))),title:(0,v.t)(Wg||(Wg=cO(["Bubble size"]))),widget:"field",isValid:function(e,t){return e.some((function(e){var t=e.card,n=e.data;return(0,Zi.IW)([t.visualization_settings["scatter.bubble"]],n,Mi.kE)}))},getDefault:function(e){return yO(e).bubble},getProps:function(e,t,n){var r=pO(e,1)[0];r.card;return{options:r.data.cols.filter(Mi.kE).map(Hi),onRemove:t["scatter.bubble"]?function(){return n(null)}:null}},writeDependencies:["graph.dimensions"],dashboard:!1,useRawSeries:!0}},OO={"line.interpolate":{default:"linear"},"line.marker_enabled":{},"line.missing":{default:"interpolate"}},jO=new Set(["area","bar"]),SO={"stackable.stack_type":{section:(0,v.t)($g||($g=cO(["Display"]))),title:(0,v.t)(Kg||(Kg=cO(["Stacking"]))),widget:"radio",props:{options:[{name:(0,v.t)(Jg||(Jg=cO(["Don't stack"]))),value:null},{name:(0,v.t)(Xg||(Xg=cO(["Stack"]))),value:"stacked"},{name:(0,v.t)(ew||(ew=cO(["Stack - 100%"]))),value:"normalized"}]},isValid:function(e,t){if(null!=t["stackable.stack_type"]){var n=e.map((function(e){return t.series(e).display}));return x.ZP.any(n,(function(e){return jO.has(e)}))}return!0},getDefault:function(e,t){var n=pO(e,1)[0],r=n.card;n.data;return t["stackable.stacked"]||"area"===r.display&&t["graph.metrics"].length>1?"stacked":null},getHidden:function(e,t){var n=e.map((function(e){return t.series(e).display}));return!x.ZP.any(n,(function(e){return jO.has(e)}))},readDependencies:["graph.metrics","series"]},"stackable.stack_display":{section:(0,v.t)(tw||(tw=cO(["Display"]))),title:(0,v.t)(nw||(nw=cO(["Stacked chart type"]))),widget:"segmentedControl",props:{options:[{icon:"area",value:"area"},{icon:"bar",value:"bar"}]},getDefault:function(e,t){var n=e.map((function(e){return t.series(e).display})),r=x.ZP.find(n,(function(e){return jO.has(e)}));return r||(jO.has(e[0].card.display)?e[0].card.display:"bar")},getHidden:function(e,t){return null==t["stackable.stack_type"]},readDependencies:["stackable.stack_type","series"]}},EO={"graph.show_goal":{section:(0,v.t)(rw||(rw=cO(["Display"]))),title:(0,v.t)(iw||(iw=cO(["Goal line"]))),widget:"toggle",default:!1},"graph.goal_value":{section:(0,v.t)(ow||(ow=cO(["Display"]))),title:(0,v.t)(aw||(aw=cO(["Goal value"]))),widget:"number",default:0,getHidden:function(e,t){return!0!==t["graph.show_goal"]},readDependencies:["graph.show_goal"]},"graph.goal_label":{section:(0,v.t)(uw||(uw=cO(["Display"]))),title:(0,v.t)(lw||(lw=cO(["Goal label"]))),widget:"input",default:(0,v.t)(cw||(cw=cO(["Goal"]))),getHidden:function(e,t){return!0!==t["graph.show_goal"]},readDependencies:["graph.show_goal"]},"graph.show_trendline":{section:(0,v.t)(sw||(sw=cO(["Display"]))),title:(0,v.t)(fw||(fw=cO(["Trend line"]))),widget:"toggle",default:!1,getHidden:function(e,t){var n=e[0].data.insights;return!n||0===n.length},useRawSeries:!0}},_O={"graph.show_values":{section:(0,v.t)(dw||(dw=cO(["Display"]))),title:(0,v.t)(pw||(pw=cO(["Show values on data points"]))),widget:"toggle",getHidden:function(e,t){return"normalized"===t["stackable.stack_type"]},default:!1},"graph.label_value_frequency":{section:(0,v.t)(hw||(hw=cO(["Display"]))),title:(0,v.t)(mw||(mw=cO(["Values to show"]))),widget:"radio",getHidden:function(e,t){return!0!==t["graph.show_values"]||"normalized"===t["stackable.stack_type"]},props:{options:[{name:(0,v.t)(yw||(yw=cO(["As many as can fit nicely"]))),value:"fit"},{name:(0,v.t)(vw||(vw=cO(["All"]))),value:"all"}]},default:"fit",readDependencies:["graph.show_values"]},"graph.label_value_formatting":{section:(0,v.t)(bw||(bw=cO(["Display"]))),title:(0,v.t)(gw||(gw=cO(["Value formatting"]))),widget:"radio",getHidden:function(e,t){return!0!==t["graph.show_values"]||"normalized"===t["stackable.stack_type"]},props:{options:[{name:(0,v.t)(ww||(ww=cO(["Auto"]))),value:"auto"},{name:(0,v.t)(Ow||(Ow=cO(["Compact"]))),value:"compact"},{name:(0,v.t)(jw||(jw=cO(["Full"]))),value:"full"}]},default:"auto",readDependencies:["graph.show_values"]}},xO={"graph.colors":{}},PO={"graph.x_axis._is_timeseries":{readDependencies:["graph.dimensions"],getDefault:function(e,t){var n=pO(e,1)[0].data;return(0,ky.S9)(n,x.ZP.findIndex(n.cols,(function(e){return e.name===t["graph.dimensions"].filter((function(e){return e}))[0]})))}},"graph.x_axis._is_numeric":{readDependencies:["graph.dimensions"],getDefault:function(e,t){var n=pO(e,1)[0].data;return(0,Vy.sy)(n,x.ZP.findIndex(n.cols,(function(e){return e.name===t["graph.dimensions"].filter((function(e){return e}))[0]})))}},"graph.x_axis._is_histogram":{getDefault:function(e,t){var n=pO(e,1)[0].data.cols;return null!=n[0].binning_info||mO.has(n[0].unit)}},"graph.x_axis.scale":{section:(0,v.t)(Sw||(Sw=cO(["Axes"]))),title:(0,v.t)(Ew||(Ew=cO(["X-axis scale"]))),widget:"select",readDependencies:["graph.x_axis._is_timeseries","graph.x_axis._is_numeric","graph.x_axis._is_histogram"],getDefault:function(e,t){return t["graph.x_axis._is_histogram"]?"histogram":t["graph.x_axis._is_timeseries"]?"timeseries":t["graph.x_axis._is_numeric"]?"linear":"ordinal"},getProps:function(e,t){var n=[];return t["graph.x_axis._is_timeseries"]&&n.push({name:(0,v.t)(_w||(_w=cO(["Timeseries"]))),value:"timeseries"}),t["graph.x_axis._is_numeric"]&&(n.push({name:(0,v.t)(xw||(xw=cO(["Linear"]))),value:"linear"}),t["graph.x_axis._is_histogram"]||(n.push({name:(0,v.t)(Pw||(Pw=cO(["Power"]))),value:"pow"}),n.push({name:(0,v.t)(Cw||(Cw=cO(["Log"]))),value:"log"})),n.push({name:(0,v.t)(kw||(kw=cO(["Histogram"]))),value:"histogram"})),n.push({name:(0,v.t)(Aw||(Aw=cO(["Ordinal"]))),value:"ordinal"}),{options:n}}},"graph.y_axis.scale":{section:(0,v.t)(Dw||(Dw=cO(["Axes"]))),title:(0,v.t)(Rw||(Rw=cO(["Y-axis scale"]))),widget:"select",default:"linear",getProps:function(e,t){return{options:[{name:(0,v.t)(Iw||(Iw=cO(["Linear"]))),value:"linear"},{name:(0,v.t)(Tw||(Tw=cO(["Power"]))),value:"pow"},{name:(0,v.t)(Nw||(Nw=cO(["Log"]))),value:"log"}]}}},"graph.x_axis.axis_enabled":{section:(0,v.t)(qw||(qw=cO(["Axes"]))),title:(0,v.t)(Mw||(Mw=cO(["Show x-axis line and marks"]))),widget:"select",props:{options:[{name:(0,v.t)(Zw||(Zw=cO(["Hide"]))),value:!1},{name:(0,v.t)(Lw||(Lw=cO(["Show"]))),value:!0},{name:(0,v.t)(Bw||(Bw=cO(["Compact"]))),value:"compact"},{name:(0,v.t)(zw||(zw=cO(["Rotate 45"]))),value:"rotate-45"},{name:(0,v.t)(Fw||(Fw=cO(["Rotate 90"]))),value:"rotate-90"}]},default:!0},"graph.y_axis.axis_enabled":{section:(0,v.t)(Qw||(Qw=cO(["Axes"]))),title:(0,v.t)(Vw||(Vw=cO(["Show y-axis line and marks"]))),widget:"select",props:{options:[{name:(0,v.t)(Uw||(Uw=cO(["Hide"]))),value:!1},{name:(0,v.t)(Hw||(Hw=cO(["Show"]))),value:!0}]},default:!0},"graph.y_axis.auto_range":{section:(0,v.t)(Yw||(Yw=cO(["Axes"]))),title:(0,v.t)(Gw||(Gw=cO(["Auto y-axis range"]))),widget:"toggle",default:!0},"graph.y_axis.min":{section:(0,v.t)(Ww||(Ww=cO(["Axes"]))),title:(0,v.t)($w||($w=cO(["Min"]))),widget:"number",default:0,getHidden:function(e,t){return!1!==t["graph.y_axis.auto_range"]}},"graph.y_axis.max":{section:(0,v.t)(Kw||(Kw=cO(["Axes"]))),title:(0,v.t)(Jw||(Jw=cO(["Max"]))),widget:"number",default:100,getHidden:function(e,t){return!1!==t["graph.y_axis.auto_range"]}},"graph.y_axis.auto_split":{section:(0,v.t)(Xw||(Xw=cO(["Axes"]))),title:(0,v.t)(eO||(eO=cO(["Use a split y-axis when necessary"]))),widget:"toggle",default:!0,getHidden:function(e){return e.length<2}},"graph.x_axis.labels_enabled":{section:(0,v.t)(tO||(tO=cO(["Labels"]))),title:(0,v.t)(nO||(nO=cO(["Show label on x-axis"]))),widget:"toggle",default:!0},"graph.x_axis.title_text":{section:(0,v.t)(rO||(rO=cO(["Labels"]))),title:(0,v.t)(iO||(iO=cO(["X-axis label"]))),widget:"input",getHidden:function(e,t){return!1===t["graph.x_axis.labels_enabled"]},getDefault:function(e,t){return 1===e.length?(0,Zi.RY)(e[0].data.cols[0]):null}},"graph.y_axis.labels_enabled":{section:(0,v.t)(oO||(oO=cO(["Labels"]))),title:(0,v.t)(aO||(aO=cO(["Show label on y-axis"]))),widget:"toggle",default:!0},"graph.y_axis.title_text":{section:(0,v.t)(uO||(uO=cO(["Labels"]))),title:(0,v.t)(lO||(lO=cO(["Y-axis label"]))),widget:"input",getHidden:function(e,t){return!1===t["graph.y_axis.labels_enabled"]},getDefault:function(e,t){var n=pO(t["graph.metrics"],1)[0],r=Array.from(new Set(e.map((function(e){var t=e.data.cols.find((function(e){return e.name===n}));return t&&t.display_name}))));return 1===r.length?r[0]:null},readDependencies:["series","graph.metrics"]},"graph.series_labels":{}};function CO(e){return CO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CO(e)}function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kO(Object(n),!0).forEach((function(t){MO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function RO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IO(e,t){return IO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IO(e,t)}function TO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qO(e);if(t){var i=qO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NO(this,n)}}function NO(e,t){return!t||"object"!==CO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qO(e){return qO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qO(e)}function MO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZO,LO,BO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IO(e,t)}(n,e);var t=TO(n);function n(){return RO(this,n),t.apply(this,arguments)}return n}(wy);function zO(e){return zO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zO(e)}function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach((function(t){$O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HO(e,t){return HO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},HO(e,t)}function YO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=WO(e);if(t){var i=WO(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return GO(this,n)}}function GO(e,t){return!t||"object"!==zO(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WO(e){return WO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},WO(e)}function $O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}MO(BO,"uiName",(0,v.t)(vO||(vO=DO(["Line"])))),MO(BO,"identifier","line"),MO(BO,"iconName","line"),MO(BO,"noun",(0,v.t)(bO||(bO=DO(["line chart"])))),MO(BO,"settings",AO(AO(AO(AO(AO(AO({},OO),EO),xO),PO),_O),gO)),MO(BO,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"line"}))}));var KO,JO,XO,ej,tj,nj,rj,ij,oj,aj,uj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HO(e,t)}(n,e);var t=YO(n);function n(){return UO(this,n),t.apply(this,arguments)}return n}(wy);function lj(e){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lj(e)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cj(Object(n),!0).forEach((function(t){vj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){return pj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pj(e,t)}function hj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yj(e);if(t){var i=yj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mj(this,n)}}function mj(e,t){return!t||"object"!==lj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yj(e){return yj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yj(e)}function vj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$O(uj,"uiName",(0,v.t)(ZO||(ZO=VO(["Bar"])))),$O(uj,"identifier","bar"),$O(uj,"iconName","bar"),$O(uj,"noun",(0,v.t)(LO||(LO=VO(["bar chart"])))),$O(uj,"settings",QO(QO(QO(QO(QO(QO({},SO),EO),xO),PO),_O),gO)),$O(uj,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"bar"}))})),$O(uj,"placeholderSeries",(0,b.assocIn)(wy.placeholderSeries,[0,"card","display"],"bar"));var bj,gj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pj(e,t)}(n,e);var t=hj(n);function n(){return dj(this,n),t.apply(this,arguments)}return n}(wy);function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(n),!0).forEach((function(t){jj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sj(e,t){return kj(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||xj(e,t)||_j()}function Ej(e){return function(e){if(Array.isArray(e))return Pj(e)}(e)||Cj(e)||xj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xj(e,t){if(e){if("string"==typeof e)return Pj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pj(e,t):void 0}}function Pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cj(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function kj(e){if(Array.isArray(e))return e}vj(gj,"uiName",(0,v.t)(KO||(KO=fj(["Waterfall"])))),vj(gj,"identifier","waterfall"),vj(gj,"iconName","waterfall"),vj(gj,"noun",(0,v.t)(JO||(JO=fj(["waterfall chart"])))),vj(gj,"maxMetricsSupported",1),vj(gj,"settings",sj(sj(sj({},PO),{},{"waterfall.increase_color":{section:(0,v.t)(XO||(XO=fj(["Display"]))),props:{title:(0,v.t)(ej||(ej=fj(["Increase color"])))},widget:"color",getDefault:function(){return(0,f.$_)("accent1")}},"waterfall.decrease_color":{section:(0,v.t)(tj||(tj=fj(["Display"]))),props:{title:(0,v.t)(nj||(nj=fj(["Decrease color"])))},widget:"color",getDefault:function(){return(0,f.$_)("accent3")}},"waterfall.show_total":{section:(0,v.t)(rj||(rj=fj(["Display"]))),title:(0,v.t)(ij||(ij=fj(["Show total"]))),widget:"toggle",default:!0},"waterfall.total_color":{section:(0,v.t)(oj||(oj=fj(["Display"]))),props:{title:(0,v.t)(aj||(aj=fj(["Total color"])))},widget:"color",getDefault:function(){return(0,f.$_)("text-dark")},getHidden:function(e,t){return!0!==t["waterfall.show_total"]},readDependencies:["waterfall.show_total"]}},_O),gO)),vj(gj,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"waterfall"}))})),vj(gj,"placeholderSeries",(0,b.assocIn)(wy.placeholderSeries,[0,"card","display"],"waterfall"));var Aj,Dj,Rj,Ij;function Tj(e){return Tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(e)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nj(Object(n),!0).forEach((function(t){Qj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Zj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lj(e,t){return Lj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lj(e,t)}function Bj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fj(e);if(t){var i=Fj(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zj(this,n)}}function zj(e,t){return!t||"object"!==Tj(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fj(e)}function Qj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lj(e,t)}(n,e);var t=Bj(n);function n(){return Zj(this,n),t.apply(this,arguments)}return n}(wy);Qj(Vj,"uiName",(0,v.t)(Aj||(Aj=Mj(["Row"])))),Qj(Vj,"identifier","row"),Qj(Vj,"iconName","horizontal_bar"),Qj(Vj,"noun",(0,v.t)(Dj||(Dj=Mj(["row chart"])))),Qj(Vj,"maxMetricsSupported",1),Qj(Vj,"supportsSeries",!1),Qj(Vj,"renderer",(function(e,t){var n=t.settings,r=t.series,i=t.onHoverChange,o=t.onVisualizationClick,a=(t.height,r[0].data.cols),u=_y().rowChart(e);u.onClick=function(){};var l,c,s=r[0].data.rows.map((function(e){var t,n=kj(t=e)||Cj(t)||xj(t)||_j(),r=n[0],i=n.slice(1);return[(0,Uy.ri)(r)].concat(Ej(i))})),f=s.map((function(e){var t=Sj(e,2),n=t[0],r=t[1];return[(0,Ni.Bw)(n,{column:a[0],type:"axis"}),r]})),d=new Map(f.map((function(e,t){return[Sj(e,1)[0],s[t][0]]}))),p=Sy()(f).dimension((function(e){return e[0]})),h=p.group().reduceSum((function(e){return e[1]})),m=Ff().extent(f,(function(e){return e[1]})),y=f.map((function(e){return e[0]}));(0,Uy.oW)(h,(0,Uy.eA)(y)),(0,Uy.zz)(u,e),u.on("renderlet.tooltips",(function(e){var t=function(e){return[{key:(0,Zi.RY)(a[0]),value:d.get(e.key),col:a[0]},{key:(0,Zi.RY)(a[1]),value:e.value,col:a[1]}]};i&&e.selectAll(".row rect").on("mousemove",(function(e,n){i&&i({index:-1,event:Ff().event,data:t(e)})})).on("mouseleave",(function(){i&&i(null)})),o&&e.selectAll(".row rect").on("click",(function(e){o({value:e.value,column:a[1],dimensions:[{value:d.get(e.key),column:a[0]}],data:t(e),element:this,settings:n})}))})),u.ordinalColors([n.series(r[0]).color]).x(Ff().scale.linear().domain(m)).elasticX(!0).dimension(p).group(h).ordering((function(e){return e.index})).othersLabel((0,v.t)(bj||(l=["Others"],c||(c=l.slice(0)),bj=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}}))))),u.xAxis().tickFormat((function(e){return(0,Ni.Bw)(e,Oj(Oj({},n.column(a[1])),{},{type:"axis"}))}));var b=!1;u.on("renderlet.bar-labels",(function(e){e.selectAll("g.row text").attr("text-anchor",b?"end":"start").attr("x",b?-5:5).classed(b?"outside":"inside",!0)})),n["graph.y_axis.labels_enabled"]&&u.on("renderlet.axis-labels",(function(e){e.svg().append("text").attr("class","x-axis-label").attr("text-anchor","middle").attr("x",e.width()/2).attr("y",e.height()-10).text(n["graph.y_axis.title_text"])})),u.gap(5),u.render();var g=0;n["graph.y_axis.labels_enabled"]&&(g=u.select(".x-axis-label").node().getBoundingClientRect().height,u.margins().bottom+=g);var w=u.margins(),O=w.top,j=w.bottom,S=u.height()-O-j,E=(S-u.gap())/h.size()-u.gap(),_=Math.max(1,Math.floor(S/30));if(u.cap(_),E>30){var x=S/3;u.gap(Math.min(E/2,x))}u.render();var P,C=0,k=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xj(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(u.selectAll("g.row")[0]);try{for(k.s();!(P=k.n()).done;){var A=P.value,D=A.querySelector("rect").getBoundingClientRect(),R=A.querySelector("text").getBoundingClientRect();C=Math.max(C,R.width),D.width<R.width+10&&(b=!0)}}catch(e){k.e(e)}finally{k.f()}return b&&(u.margins().left+=C,u.render()),cg(u,".axis text")&&u.selectAll(".tick text")[0].slice(1,-1).forEach((function(e){return e.remove()})),u.svg().classed("rowChart",!0),function(){_y().chartRegistry.deregister(u)}})),Qj(Vj,"settings",qj(qj({},xO),gO)),Vj.settings["graph.metrics"]=qj(qj({},Vj.settings["graph.metrics"]),{},{title:(0,v.t)(Rj||(Rj=Mj(["X-axis"])))}),Vj.settings["graph.dimensions"]=qj(qj({},Vj.settings["graph.dimensions"]),{},{title:(0,v.t)(Ij||(Ij=Mj(["Y-axis"])))});var Uj="_2I4qY",Hj="_1rcAr",Yj="n71oW",Gj="_2Gb1p",Wj="_2tU5X",$j="-GCLu";function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kj(Object(n),!0).forEach((function(t){Xj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach((function(t){nS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rS(e){return function(e){if(Array.isArray(e))return iS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return iS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iS(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oS=function(e){var t=e.name,n=e.value,r=e.column,i=e.settings;return u.createElement("tr",null,t?u.createElement("td",{className:"text-light text-right pr1"},t,":"):u.createElement("td",null),u.createElement("td",{className:"text-bold text-left"},u.isValidElement(n)?n:function(e){var t=e.value,n=e.column,r=e.settings;return(0,Ni.Bw)(t,Jj(Jj({},r&&r.column&&n?r.column(n):{column:n}),{},{type:"tooltip",majorWidth:0}))}({value:n,column:r,settings:i})))},aS=function(e){if(Array.isArray(e.data))return e.data.map(uS);if(void 0!==e.value||e.dimensions){var t=[];return e.dimensions&&t.push.apply(t,rS(e.dimensions)),void 0!==e.value&&t.push({value:e.value,column:e.column}),t.map(lS)}return[]},uS=function(e){return tS(tS({},e),{},{key:e.key||e.col&&(0,Zi.RY)(e.col)})},lS=function(e){var t=e.column,n=e.value;return{key:t&&(0,Zi.RY)(t),value:n,col:t}},cS=function(e){var t=e.hovered,n=e.settings,r=(0,u.useMemo)((function(){return aS(t)}),[t]);return u.createElement("table",{className:"py1 px2"},u.createElement("tbody",null,r.map((function(e,t){var r=e.key,i=e.value,o=e.col;return u.createElement(oS,{key:t,name:r,value:i,column:o,settings:n})}))))},sS=["value","unit"];function fS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var dS={value:E().oneOfType([E().string,E().instanceOf(Date),E().number]).isRequired,unit:E().oneOf(["default","minute","minute-of-hour","hour","hour-of-day","day","day-of-week","day-of-month","day-of-year","week","week-of-year","month","month-of-year","quarter","quarter-of-year","year"])};function pS(e){var t=e.value,n=e.unit,r=void 0===n?"default":n,i=fS(e,sS),o=g.Z.formattingOptions(),a=(0,Ni.Mg)(t,r,o);return u.createElement("span",i,a)}pS.propTypes=dS;var hS=pS;var mS=(0,De.Z)("ul",{target:"e1q7vqlw5"})({name:"1s34s79",styles:"max-width:300px;li:not(:first-of-type){margin-top:0.5rem;}"}),yS=(0,De.Z)("div",{target:"e1q7vqlw4"})({name:"zjik7",styles:"display:flex"}),vS=(0,De.Z)("div",{target:"e1q7vqlw3"})({name:"1xlvw17",styles:"display:flex;justify-content:center;align-items:center;padding-left:0.25rem;padding-right:0.75rem"}),bS=(0,De.Z)("div",{target:"e1q7vqlw2"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),gS=(0,De.Z)("span",{target:"e1q7vqlw1"})({name:"vfqdmb",styles:"font-size:0.875rem;font-weight:bold"}),wS=(0,De.Z)(hS,{target:"e1q7vqlw0"})("color:",(0,f._j)("white",.02),";font-size:0.75rem;margin-top:0.0625rem;"),OS=function(e){var t=e.hovered.timelineEvents;return u.createElement(mS,null,t.map((function(e){return u.createElement("li",{key:e.id},u.createElement(yS,null,u.createElement(vS,null,u.createElement(En.ZP,{name:e.icon})),u.createElement(bS,null,u.createElement(gS,null,e.name),u.createElement(wS,{value:e.timestamp,unit:e.time_matters?"default":"day"}))))})))},jS=function(e){var t=e.hovered,n=e.settings,r=(0,u.useMemo)((function(){return t?x.ZP.isEmpty(t.timelineEvents)?u.createElement(cS,{hovered:t,settings:n}):u.createElement(OS,{hovered:t}):null}),[t,n]),i=(0,u.useMemo)((function(){return!!t&&(void 0!==t.value||!x.ZP.isEmpty(t.timelineEvents)||!x.ZP.isEmpty(t.data)||!x.ZP.isEmpty(t.dimensions))}),[t]),o=null!=(null==t?void 0:t.event),a=null!=(null==t?void 0:t.element)&&document.body.contains(t.element),l=i&&(a||o),c=a?null==t?void 0:t.element:o?function(e){var t=document.getElementById("popover-event-target");return t||((t=document.createElement("div")).id="popover-event-target",document.body.appendChild(t)),t.style.left=e.clientX-3+"px",t.style.top=e.clientY-3+"px",t}(t.event):null;return c?u.createElement($a.Z,{reference:c,isOpen:l,tooltip:r,maxWidth:"unset"}):null},SS={ChartWithLegend:"_3qyVV",Legend:"_1ABjV",LegendSpacer:"l0pij",LegendWrapper:"_3H3W-",Chart:"_2luIt",small:"_1CAv1",vertical:"_1rOS_",flexChart:"_168j7",horizontal:"_32nW-"},ES="_14YpV",_S="_2tUFa",xS="_1BBNM",PS="_1TLy7",CS=(0,De.Z)("div",{target:"eh01f260"})("padding-right:",(0,Re.D)(0),";");function kS(e){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(e)}function AS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DS(e,t){return DS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DS(e,t)}function RS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=TS(e);if(t){var i=TS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IS(this,n)}}function IS(e,t){return!t||"object"!==kS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},TS(e)}var NS,qS={icon:E().shape(En.sB)},MS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DS(e,t)}(o,e);var t,n,r,i=RS(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).state={},n}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.color,r=e.icon,i=e.showDot,o=e.showTitle,a=e.isMuted,l=e.showTooltip,c=e.showDotTooltip,s=e.onMouseEnter,f=e.onMouseLeave,d=e.className,p=e.description,h=e.onClick,m=e.infoClassName;return u.createElement("span",{className:Ze()(d,"LegendItem","no-decoration flex align-center fullscreen-normal-text fullscreen-night-text",{mr1:o,muted:a,"cursor-pointer":h}),style:{overflowX:"hidden",flex:"0 1 auto"},onMouseEnter:s,onMouseLeave:f,onClick:h},r&&u.createElement(CS,null,u.createElement(En.ZP,r)),i&&u.createElement($a.Z,{tooltip:t,isEnabled:l&&c},u.createElement("div",{className:Ze()("flex-no-shrink","inline-block circular"),style:{width:13,height:13,margin:4,marginRight:8,backgroundColor:n}})),o&&u.createElement("div",{className:"flex align-center overflow-hidden"},u.createElement(Ti.default,{showTooltip:l},t),p&&u.createElement("div",{className:"hover-child ml1 flex align-center text-medium"},u.createElement($a.Z,{tooltip:p,maxWidth:"22em"},u.createElement(En.ZP,{className:m,name:"info"})))))}}],n&&AS(t.prototype,n),r&&AS(t,r),o}(u.Component);function ZS(e){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(e)}function LS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BS(e,t){return BS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BS(e,t)}function zS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QS(e);if(t){var i=QS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FS(this,n)}}function FS(e,t){return!t||"object"!==ZS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},QS(e)}function VS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(MS,"defaultProps",{showDot:!0,showTitle:!0,isMuted:!1,showTooltip:!0,showDotTooltip:!0}),MS.propTypes=qS;var US=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BS(e,t)}(o,e);var t,n,r,i=zS(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).state={overflowCount:0,size:null},n}return t=o,n=[{key:"componentDidUpdate",value:function(e,t){var n=In.findDOMNode(this).getBoundingClientRect();if(this.state.size&&n.height!==this.state.size.height&&t.overflowCount===this.state.overflowCount)this.setState({overflowCount:0,size:n});else if(0===this.state.overflowCount){for(var r=0,i=0;i<this.props.titles.length;i++){var o=In.findDOMNode(this.refs["item"+i]).getBoundingClientRect();(n.top>o.top||n.bottom<o.bottom)&&r++}this.state.overflowCount!==r&&this.setState({overflowCount:r,size:n})}}},{key:"render",value:function(){var e,t,n,r,i,a=this,l=this.props,c=l.className,s=l.titles,f=l.colors,d=l.hovered,p=l.onHoverChange,h=this.state.overflowCount;return h>0?(e=s.slice(0,-h-1),t=s.slice(-h-1),n=f.slice(-h-1).concat(f.slice(0,-h-1))):e=s,u.createElement("ol",{className:Ze()(c,_S,xS)},e.map((function(e,t){return u.createElement("li",{key:t,ref:"item"+t,className:"flex flex-no-shrink",onMouseEnter:function(e){return p&&p({index:t,element:In.findDOMNode(a.refs["legendItem"+t])})},onMouseLeave:function(e){return p&&p()}},u.createElement(MS,{ref:"legendItem"+t,title:Array.isArray(e)?e[0]:e,color:f[t%f.length],isMuted:d&&null!=d.index&&t!==d.index,showTooltip:!1}),Array.isArray(e)&&u.createElement("span",{className:Ze()("LegendItem","flex-align-right pl1",{muted:d&&null!=d.index&&t!==d.index})},e[1]))})),h>0?u.createElement("li",{key:"extra",className:"flex flex-no-shrink"},u.createElement($a.Z,{tooltip:u.createElement(o,{className:"p2",titles:t,colors:n})},u.createElement(MS,{title:h+1+" "+(0,v.t)(NS||(r=["more"],i||(i=r.slice(0)),NS=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))),color:"gray",showTooltip:!1}))):null)}}],n&&LS(t.prototype,n),r&&LS(t,r),o}(u.Component);function HS(e){return HS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HS(e)}function YS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WS(e,t){return WS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},WS(e,t)}function $S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=JS(e);if(t){var i=JS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return KS(this,n)}}function KS(e,t){return!t||"object"!==HS(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function JS(e){return JS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},JS(e)}VS(US,"propTypes",{}),VS(US,"defaultProps",{});var XS,eE,tE,nE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WS(e,t)}(o,e);var t,n,r,i=$S(o);function o(){return YS(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.titles,i=t.colors,o=t.hovered,a=t.onHoverChange;return u.createElement("ol",{className:Ze()(n,_S,PS)},r.map((function(t,n){return u.createElement("li",{key:n},u.createElement(MS,{ref:e["legendItem"+n],title:t,color:i[n%i.length],isMuted:o&&null!=o.index&&n!==o.index,showTooltip:!1,onMouseEnter:function(){return a&&a({index:n,element:In.findDOMNode(e.refs["legendItem"+n])})},onMouseLeave:function(){return a&&a(null)}}))})))}}],n&&GS(t.prototype,n),r&&GS(t,r),o}(u.Component);function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iE(Object(n),!0).forEach((function(t){dE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lE(e,t){return lE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lE(e,t)}function cE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fE(e);if(t){var i=fE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sE(this,n)}}function sE(e,t){return!t||"object"!==rE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fE(e){return fE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fE(e)}function dE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pE,hE,mE,yE,vE,bE,gE,wE,OE,jE,SE,EE,_E,xE,PE,CE,kE,AE=(0,ac.default)({wrapped:!0,refreshMode:function(e){return e.isDashboard?"debounce":"throttle"}})((tE=eE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lE(e,t)}(o,e);var t,n,r,i=cE(o);function o(){return aE(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e,t,n=this.props,r=n.children,i=n.legendTitles,o=n.legendColors,a=n.hovered,l=n.onHoverChange,c=n.className,s=n.style,f=n.gridSize,d=n.aspectRatio,p=n.height,h=n.width,m=n.showLegend,y=n.isDashboard;h-=28,p-=14,f||(f={width:h/100,height:p/100});var v,b,g=!1,w=f.width>f.height/1.3333333333333333;if(!1===m)v="small";else if(!f||w&&(m||f.width>4||f.height>4)){v="horizontal",b=US,f&&f.width<6&&(i=i.map((function(e){return Array.isArray(e)?e.slice(0,1):e})));var O=p*d;O>h*(2/3)?g=!0:e=O,t=p}else if(!w&&(m||f.height>3&&f.width>2)){v="vertical",b=nE,i=i.map((function(e){return Array.isArray(e)?e[0]:e}));var j=h*(1/d);j>p*(3/4)?g=!0:t=j,e=h}else v="small";var S=b?u.createElement(b,{className:SS.Legend,titles:i,colors:o,hovered:a,onHoverChange:l}):null;return u.createElement("div",{className:Ze()(c,"fullscreen-text-small fullscreen-normal-text fullscreen-night-text",SS.ChartWithLegend,SS[v],g&&SS.flexChart),style:oE(oE({},s),{},{paddingBottom:14,paddingLeft:14,paddingRight:14})},S&&u.createElement("div",{className:Ze()(SS.LegendWrapper)},S),u.createElement("div",{className:Ze()(SS.Chart),style:{width:e,height:t}},r),S&&u.createElement("div",{className:Ze()(SS.LegendSpacer),style:y?{flexBasis:0}:{}},S))}}],n&&uE(t.prototype,n),r&&uE(t,r),o}(u.Component),dE(eE,"defaultProps",{aspectRatio:1,style:{}}),XS=tE))||XS;function DE(e){return DE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(e)}function RE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach((function(t){FE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ME(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZE(e,t){return ZE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ZE(e,t)}function LE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zE(e);if(t){var i=zE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BE(this,n)}}function BE(e,t){return!t||"object"!==DE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zE(e){return zE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zE(e)}function FE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QE,VE,UE=Math.PI/180*1,HE=/percent/i,YE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZE(e,t)}(o,e);var t,n,r,i=LE(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).chartDetail=u.createRef(),t.chartGroup=u.createRef(),t}return t=o,n=[{key:"componentDidUpdate",value:function(){var e=this;requestAnimationFrame((function(){var t=e.chartGroup.current,n=e.chartDetail.current;t.getBoundingClientRect().width<120?n.classList.add("hide"):n.classList.remove("hide")}))}},{key:"render",value:function(){var e=this.props,t=e.series,n=e.hovered,r=e.onHoverChange,i=e.visualizationIsClickable,o=e.onVisualizationClick,a=e.className,l=e.gridSize,c=e.settings,s=NE(t,1)[0].data,d=s.cols,p=s.rows,h=c["pie._dimensionIndex"],m=c["pie._metricIndex"],y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,Ni.Bw)(e,TE(TE({},c.column(d[h])),{},{jsx:t,majorWidth:0}))},b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,Ni.Bw)(e,TE(TE({},c.column(d[m])),{},{jsx:t,majorWidth:0}))},g=p.reduce((function(e,t){return e+t[m]}),0),w=!HE.test(d[m].name)&&!HE.test(d[m].display_name),O="number"==typeof c["pie.slice_threshold"]?c["pie.slice_threshold"]/100:.025,j=NE(x.ZP.chain(p).map((function(e,t){return{key:e[h],value:e[m],displayValue:e[m],percentage:e[m]/g,rowIndex:t,color:c["pie._colors"][e[h]]}})).partition((function(e){return e.percentage>O})).value(),2),S=j[0],E=j[1],_=E.reduce((function(e,t){return e+t.value}),0),P=1===E.length?E[0]:{key:(0,v.t)(pE||(pE=RE(["Other"]))),value:_,percentage:_/g,color:(0,f.$_)("text-light")};P.value>0&&(P.percentage<.003&&(P.value=.003*g),S.push(P));var C=(0,Zi.x9)(S.map((function(e){return e.percentage})),{style:"percent",maximumSignificantDigits:3}),k=function(e){return(0,Ni.Bw)(e,{column:d[m],number_separators:c.column(d[m]).number_separators,jsx:!0,majorWidth:0,number_style:"percent",decimals:C})},A=S.map((function(e){return["Other"===e.key?e.key:y(e.key,!0),c["pie.show_legend_perecent"]?k(e.percentage):void 0]})),D=S.map((function(e){return e.color}));0===S.length&&(P={value:1,color:(0,f.$_)("text-light"),noHover:!0},S.push(P));var R,I,T=Ff().layout.pie().sort(null).padAngle(UE).value((function(e){return e.value})),N=Ff().svg.arc().outerRadius(50).innerRadius(30);function q(e,t){var n=S[e];return!n||n.noHover?null:n===P&&E.length>1?{index:e,event:t&&t.nativeEvent,data:E.map((function(e){return{key:y(e.key,!1),value:b(e.displayValue,!1)}}))}:{index:e,event:t&&t.nativeEvent,data:[{key:(0,Zi.RY)(d[h]),value:y(n.key)},{key:(0,Zi.RY)(d[m]),value:b(n.displayValue)}].concat(w&&null!=n.percentage?[{key:(0,v.t)(hE||(hE=RE(["Percentage"]))),value:k(n.percentage)}]:[])}}n&&null!=n.index&&S[n.index]!==P?(I=y(S[n.index].key),R=b(S[n.index].value)):(I=(0,v.t)(mE||(mE=RE(["Total"]))),R=b(g));var M=function(e){var t=S[e],n=null!=t.rowIndex&&p[t.rowIndex],r=n&&n.map((function(e,t){return{value:e,col:d[t]}}));return{value:t.value,column:d[m],data:r,dimensions:[{value:t.key,column:d[h]}],settings:c}},Z=o&&i(M(0)),L=function(e){return Z&&S[e]!==P};return u.createElement(AE,{className:a,legendTitles:A,legendColors:D,gridSize:l,hovered:n,onHoverChange:function(e){return r&&r(e&&TE(TE({},e),q(e.index)))},showLegend:c["pie.show_legend"],isDashboard:this.props.isDashboard},u.createElement("div",{className:Uj},u.createElement("div",{ref:this.chartDetail,className:Yj},u.createElement("div",{"data-testid":"detail-value",className:Ze()(Wj,"fullscreen-normal-text fullscreen-night-text")},R),u.createElement("div",{className:$j},I)),u.createElement("div",{className:Ze()(Hj,"layout-centered")},u.createElement("svg",{"data-testid":"pie-chart",className:Ze()(Gj,"m1"),viewBox:"0 0 100 100",style:{maxWidth:550,maxHeight:550}},u.createElement("g",{ref:this.chartGroup,transform:"translate(50,50)"},T(S).map((function(e,t){return u.createElement("path",{"data-testid":"slice",key:t,d:N(e),fill:S[t].color,opacity:n&&null!=n.index&&n.index!==t?.3:1,onMouseMove:function(e){return r&&r(q(t,e))},onMouseLeave:function(){return r&&r(null)},className:Ze()({"cursor-pointer":L(t)}),onClick:L(t)&&function(e){return o(TE(TE({},M(t)),{},{event:e.nativeEvent}))}})})))))),u.createElement(jS,{series:t,hovered:n}))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return e.rows,2===t.length}},{key:"checkRenderable",value:function(e,t){var n=NE(e,1)[0].data;if(n.cols,n.rows.length<1)throw new Wu(1,0);if(!t["pie.dimension"]||!t["pie.metric"])throw new Ju((0,v.t)(yE||(yE=RE(["Which columns do you want to use?"]))),{section:"Data"})}}],n&&ME(t.prototype,n),r&&ME(t,r),o}(u.Component);function GE(e){return GE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GE(e)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WE(Object(n),!0).forEach((function(t){r_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KE(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function JE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XE(e,t){return XE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XE(e,t)}function e_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=n_(e);if(t){var i=n_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(e,t){return!t||"object"!==GE(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n_(e)}function r_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}FE(YE,"uiName",(0,v.t)(vE||(vE=RE(["Pie"])))),FE(YE,"identifier","pie"),FE(YE,"iconName","pie"),FE(YE,"minSize",{width:4,height:4}),FE(YE,"placeholderSeries",[{card:{display:"pie",visualization_settings:{"pie.show_legend":!1},dataset_query:{type:"null"}},data:{rows:[["Doohickey",3976],["Gadget",4939],["Gizmo",4784],["Widget",5061]],cols:[{name:"Category",base_type:"type/Category"},{name:"Count",base_type:"type/Integer"}]}}]),FE(YE,"settings",TE(TE(TE(TE({},La({hidden:!0})),Gi("pie.dimension",{section:(0,v.t)(bE||(bE=RE(["Data"]))),title:(0,v.t)(gE||(gE=RE(["Dimension"]))),showColumnSetting:!0})),Yi("pie.metric",{section:(0,v.t)(wE||(wE=RE(["Data"]))),title:(0,v.t)(OE||(OE=RE(["Measure"]))),showColumnSetting:!0})),{},{"pie.show_legend":{section:(0,v.t)(jE||(jE=RE(["Display"]))),title:(0,v.t)(SE||(SE=RE(["Show legend"]))),widget:"toggle"},"pie.show_legend_perecent":{section:(0,v.t)(EE||(EE=RE(["Display"]))),title:(0,v.t)(_E||(_E=RE(["Show percentages in legend"]))),widget:"toggle",default:!0},"pie.slice_threshold":{section:(0,v.t)(xE||(xE=RE(["Display"]))),title:(0,v.t)(PE||(PE=RE(["Minimum slice percentage"]))),widget:"number",default:2.5},"pie.colors":{section:(0,v.t)(CE||(CE=RE(["Display"]))),title:(0,v.t)(kE||(kE=RE(["Colors"]))),widget:"colors",getDefault:function(e,t){return t["pie._dimensionValues"]?(0,f.At)(t["pie._dimensionValues"]):[]},getProps:function(e,t){return{seriesValues:t["pie._dimensionValues"]||[],seriesTitles:t["pie._dimensionTitles"]||[]}},getDisabled:function(e,t){return!t["pie._dimensionValues"]},readDependencies:["pie._dimensionValues","pie._dimensionTitles"]},"pie._colors":{getValue:function(e,t){return(0,f.At)(t["pie._dimensionValues"],t["pie.colors"])},readDependencies:["pie._dimensionValues","pie.colors"]},"pie._metricIndex":{getValue:function(e,t){var n=NE(e,1)[0].data.cols;return x.ZP.findIndex(n,(function(e){return e.name===t["pie.metric"]}))},readDependencies:["pie.metric"]},"pie._dimensionIndex":{getValue:function(e,t){var n=NE(e,1)[0].data.cols;return x.ZP.findIndex(n,(function(e){return e.name===t["pie.dimension"]}))},readDependencies:["pie.dimension"]},"pie._dimensionValues":{getValue:function(e,t){var n=NE(e,1)[0].data.rows,r=t["pie._dimensionIndex"];return null==r||r<0?null:n.map((function(e){return String(e[r])}))},readDependencies:["pie._dimensionIndex"]},"pie._dimensionTitles":{getValue:function(e,t){var n=NE(e,1)[0].data,r=n.rows,i=n.cols,o=t["pie._dimensionIndex"];return null==o||o<0?null:r.map((function(e){return(0,Ni.Bw)(e[o],t.column(i[o]))}))},readDependencies:["pie._dimensionIndex"]}}));var i_,o_,a_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XE(e,t)}(n,e);var t=e_(n);function n(){return JE(this,n),t.apply(this,arguments)}return n}(wy);function u_(e){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(e)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(n),!0).forEach((function(t){y_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d_(e,t){return d_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d_(e,t)}function p_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m_(e);if(t){var i=m_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h_(this,n)}}function h_(e,t){return!t||"object"!==u_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m_(e){return m_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m_(e)}function y_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r_(a_,"uiName",(0,v.t)(QE||(QE=KE(["Area"])))),r_(a_,"identifier","area"),r_(a_,"iconName","area"),r_(a_,"noun",(0,v.t)(VE||(VE=KE(["area chart"])))),r_(a_,"settings",$E($E($E($E($E($E($E({},OO),SO),EO),xO),PO),_O),gO)),r_(a_,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"area"}))})),r_(a_,"placeholderSeries",(0,b.assocIn)(wy.placeholderSeries,[0,"card","display"],"area"));var v_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d_(e,t)}(n,e);var t=p_(n);function n(){return f_(this,n),t.apply(this,arguments)}return n}(wy);function b_(e){return b_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(e)}function g_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O_(e,t){return O_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O_(e,t)}function j_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E_(e);if(t){var i=E_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S_(this,n)}}function S_(e,t){return!t||"object"!==b_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E_(e){return E_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E_(e)}function __(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}y_(v_,"uiName",(0,v.t)(i_||(i_=s_(["Combo"])))),y_(v_,"identifier","combo"),y_(v_,"iconName","lineandbar"),y_(v_,"noun",(0,v.t)(o_||(o_=s_(["line and bar chart"])))),y_(v_,"settings",c_(c_(c_(c_(c_(c_({},OO),EO),xO),PO),_O),gO)),y_(v_,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"combo"}))}));var P_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O_(e,t)}(o,e);var t,n,r,i=j_(o);function o(){return g_(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"shouldComponentUpdate",value:function(e){return!e.shouldUpdate||e.shouldUpdate(this.props,e)}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e():e}}])&&w_(t.prototype,n),r&&w_(t,r),o}(u.Component),C_=function(e){var t=e.series,n=e.geoJson,r=e.projection,i=e.projectionFrame,o=e.getColor,a=e.onHoverFeature,l=e.onClickFeature,c=Ff().geo.path().projection(r),s=__(i.map(r),2),f=__(s[0],2),d=f[0],p=f[1],h=__(s[1],2),m=h[0],y=h[1],v=m-d,b=y-p;return u.createElement("div",{className:"absolute top bottom left right flex layout-centered"},u.createElement(P_,{series:t,shouldUpdate:function(e,t){return!(0,Zi.dS)(e.series,t.series)}},(function(){return u.createElement("svg",{className:"flex-full m1",viewBox:"".concat(d," ").concat(p," ").concat(v," ").concat(b)},n.features.map((function(e,t){return u.createElement("path",{key:t,d:c(e,t),stroke:"white",strokeWidth:1,fill:o(e),onMouseMove:function(t){return a({feature:e,event:t.nativeEvent})},onMouseLeave:function(){return a(null)},className:Ze()({"cursor-pointer":!!l}),onClick:l&&function(t){return l({feature:e,event:t.nativeEvent})}})})))})))},k_=n(89302),A_=n.n(k_),D_=n(98399);function R_(e){return function(e){if(Array.isArray(e))return q_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I_(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function T_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||N_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N_(e,t){if(e){if("string"==typeof e)return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q_(e,t):void 0}}function q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M_(e){var t=function(e){var t,n=[],r=I_(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("Polygon"===i.geometry.type){var o,a=I_(i.geometry.coordinates);try{for(a.s();!(o=a.n()).done;){var u=o.value;n.push.apply(n,R_(u))}}catch(e){a.e(e)}finally{a.f()}}else if("MultiPolygon"===i.geometry.type){var l,c=I_(i.geometry.coordinates);try{for(c.s();!(l=c.n()).done;){var s,f=I_(l.value);try{for(f.s();!(s=f.n()).done;){var d=s.value;n.push.apply(n,R_(d))}}catch(e){f.e(e)}finally{f.f()}}}catch(e){c.e(e)}finally{c.f()}}else D_.warn("Unimplemented feature.geometry.type",i.geometry.type)}}catch(e){r.e(e)}finally{r.f()}return n}(e),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=T_(Ff().extent(e,t),2),r=n[0],i=n[1];if(r===i)return[r,i];var o,a=[],u=(i-r)/e.length,l=I_(e);try{for(l.s();!(o=l.n()).done;){var c=t(o.value),s=Math.floor((c-r)/u);void 0===a[s]?a[s]=[c,c]:a[s]=[Math.min(c,a[s][0]),Math.max(c,a[s][1])]}}catch(e){l.e(e)}finally{l.f()}for(var f=[0,0],d=0;d<e.length;d++)void 0===a[d+1]?a[d+1]=a[d]:a[d+1][0]-a[d][1]>f[1]-f[0]&&(f=[a[d][1],a[d+1][0]]);return f}(t,(function(e){return e[0]})),r=T_(Ff().extent(t,(function(e){return e[0]})),2),i=r[0],o=r[1],a=T_(Ff().extent(t,(function(e){return e[1]})),2),u=a[0],l=a[1];return 180+i+(180-o)>n[1]-n[0]?A_().latLngBounds(A_().latLng(l,i),A_().latLng(u,o)):A_().latLngBounds(A_().latLng(l,-360+n[1]),A_().latLng(u,n[0]))}var Z_=new Map([["AL","Alabama"],["AK","Alaska"],["AS","American Samoa"],["AZ","Arizona"],["AR","Arkansas"],["CA","California"],["CO","Colorado"],["CT","Connecticut"],["DE","Delaware"],["DC","District Of Columbia"],["FM","Federated States Of Micronesia"],["FL","Florida"],["GA","Georgia"],["GU","Guam"],["HI","Hawaii"],["ID","Idaho"],["IL","Illinois"],["IN","Indiana"],["IA","Iowa"],["KS","Kansas"],["KY","Kentucky"],["LA","Louisiana"],["ME","Maine"],["MH","Marshall Islands"],["MD","Maryland"],["MA","Massachusetts"],["MI","Michigan"],["MN","Minnesota"],["MS","Mississippi"],["MO","Missouri"],["MT","Montana"],["NE","Nebraska"],["NV","Nevada"],["NH","New Hampshire"],["NJ","New Jersey"],["NM","New Mexico"],["NY","New York"],["NC","North Carolina"],["ND","North Dakota"],["MP","Northern Mariana Islands"],["OH","Ohio"],["OK","Oklahoma"],["OR","Oregon"],["PW","Palau"],["PA","Pennsylvania"],["PR","Puerto Rico"],["RI","Rhode Island"],["SC","South Carolina"],["SD","South Dakota"],["TN","Tennessee"],["TX","Texas"],["UT","Utah"],["VT","Vermont"],["VI","Virgin Islands"],["VA","Virginia"],["WA","Washington"],["WV","West Virginia"],["WI","Wisconsin"],["WY","Wyoming"]].map((function(e){var t=T_(e,2),n=t[0];return[t[1].toLowerCase(),n.toLowerCase()]})));function L_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z_,F_=function(e){var t=e.series,n=e.geoJson,r=e.minimalBounds,i=void 0===r?M_(n.features||[n]):r,o=e.getColor,a=void 0===o?function(){return(0,f.$_)("brand")}:o,l=e.onHoverFeature,c=void 0===l?function(){}:l,s=e.onClickFeature,d=void 0===s?function(){}:s,p=e.onRenderError;return u.createElement(sm,{card:{display:"map"},series:t,className:"spread",renderer:function(e,t){e.className="spread",e.style.backgroundColor="transparent";var r=A_().map(e,{zoomSnap:0,worldCopyJump:!0,attributionControl:!1,dragging:!1,tap:!1,zoomControl:!1,touchZoom:!1,doubleClickZoom:!1,scrollWheelZoom:!1,boxZoom:!1,keyboard:!1}),o=function(e){return{fillColor:a(e),weight:1,opacity:1,color:"white",fillOpacity:1}},u=function(e,t){t.on({mousemove:function(t){c({feature:e,event:t.originalEvent})},mouseout:function(e){c(null)},click:function(t){d({feature:e,event:t.originalEvent})}})};return A_().featureGroup([A_().geoJson(n,{style:o,onEachFeature:u})]).addTo(r),A_().featureGroup([A_().geoJson(n,{style:o,onEachFeature:u,coordsToLatLng:function(e){var t=L_(e,2),n=t[0],r=t[1];return A_().latLng(r,n-360)}}),A_().geoJson(n,{style:o,onEachFeature:u,coordsToLatLng:function(e){var t=L_(e,2),n=t[0],r=t[1];return A_().latLng(r,n+360)}})]).addTo(r),r.fitBounds(i),function(){r.remove()}},onRenderError:p})},Q_=n(15495),V_=n.n(Q_);function U_(e){return U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(e)}function H_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y_(e,t){return Y_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y_(e,t)}function G_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$_(e);if(t){var i=$_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W_(this,n)}}function W_(e,t){return!t||"object"!==U_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $_(e){return $_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$_(e)}function K_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||J_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J_(e,t){if(e){if("string"==typeof e)return X_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X_(e,t):void 0}}function X_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach((function(t){nx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rx=["#C4E4FF","#81C5FF","#51AEFF","#1E96FF","#0061B5"];function ix(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lightness,r=void 0===n?92:n,i=t.darken,o=void 0===i?.2:i,a=t.darkenLast,u=void 0===a?.3:a,l=t.saturate,c=void 0===l?.1:l,s=Zl()(e).lightness(r).saturate(c),f=Zl()(e).darken(o).saturate(c),d=Ff().scale.linear().domain([0,1]).range([s.string(),f.string()]),p=Ff().range(0,1.25,.25).map((function(e){return d(e)}));return u&&(p[p.length-1]=Zl()(e).darken(u).saturate(c).string()),p}var ox=new Map;function ax(e,t){var n=function(e,n){return(0,Ni.Bw)(e,tx(tx({},t),{},{compact:n}))},r=function(e,t){var n=e.map((function(e){return K_(e,1)[0]})),r=e.slice(0,-1).map((function(e){return e[e.length-1]})),i=n.concat(r).map((function(e){return t(e,!1)})),o=i.reduce((function(e,t){return e+t.length}),0)/i.length;return o>5}(e,n);return e.map((function(t,i){var o=n(t[0],r),a=n(t[t.length-1],r);return i===e.length-1?"".concat(o," +"):o!==a?"".concat(o," - ").concat(a):o}))}var ux=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y_(e,t)}(o,e);var t,n,r,i=G_(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).state={geoJson:null,geoJsonPath:null},n}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){this.UNSAFE_componentWillReceiveProps(this.props)}},{key:"_getDetails",value:function(e){return g.Z.get("custom-geojson",{})[e.settings["map.region"]]}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,n=this,r=this._getDetails(e);r&&(t=r.builtin?r.url:"api/geojson/"+e.settings["map.region"],this.state.geoJsonPath!==t&&(this.setState({geoJson:null,geoJsonPath:t}),function(e,t){ox.has(e)?setTimeout((function(){return t(ox.get(e))}),0):Ff().json(e,(function(n){ox.set(e,n),t(n)}))}(t,(function(e){n.setState({geoJson:e,geoJsonPath:t,minimalBounds:M_(e.features)})}))))}},{key:"render",value:function(){var e,t,n=this._getDetails(this.props);if(!n)return u.createElement("div",null,(0,v.t)(z_||(e=["unknown map"],t||(t=e.slice(0)),z_=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})))));var r,i,o=this.props,a=o.series,l=o.className,c=o.gridSize,s=o.hovered,f=o.onHoverChange,d=o.visualizationIsClickable,p=o.onVisualizationClick,h=o.settings,m=this.state,y=m.geoJson,b=m.minimalBounds;"us_states"===h["map.region"]?(r=Ff().geo.albersUsa(),i=[[-135,46.6],[-69.1,21.7]]):"world_countries"===h["map.region"]?(r=Ff().geo.mercator(),i=[[-170,78],[180,-60]]):r=null;var g=n.region_name,w=n.region_key;if(!y)return u.createElement("div",{className:l+" flex layout-centered"},u.createElement(An.Z,null));var O,j=K_(a,1)[0].data,S=j.cols,E=j.rows,_=x.ZP.findIndex(S,(function(e){return e.name===h["map.dimension"]})),P=x.ZP.findIndex(S,(function(e){return e.name===h["map.metric"]})),C=function(e){return function(e,t){return e=String(e).toLowerCase(),"us_states"===t&&Z_.has(e)?Z_.get(e):e}(e[_],h["map.region"])},k=function(e){return e[P]||0},A=function(e){return String(e.properties[g])},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lowerCase,r=void 0===n||n,i=String(e.properties[w]);return r?i.toLowerCase():i},R=new Map(E.map((function(e){return[C(e),e]}))),I=function(e,t){return null==e?{value:null,column:S[P],dimensions:[],data:t?[{value:D(t,{lowerCase:!1}),col:S[_]}]:[],origin:{row:e,cols:S},settings:h}:{value:e[P],column:S[P],dimensions:[{value:e[_],column:S[_]}],data:e.map((function(n,r){return{value:r===_?null!=t?A(t):e[_]:n,clickBehaviorValue:n,col:S[r]}})),origin:{row:e,cols:S},settings:h}},T=p&&d(I(E[0]))&&function(e){var t=D(e.feature),n=R.get(t);p&&p(tx(tx({},I(n,e.feature)),{},{event:e.event}))},N=f&&function(e){var t=e&&R.get(D(e.feature));t&&f?f(tx(tx({},I(t,e.feature)),{},{event:e.event})):f&&f(null)},q={},M=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=J_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(E);try{for(M.s();!(O=M.n()).done;){var Z=O.value,L=C(Z),B=k(Z);q[L]=(q[L]||0)+B}}catch(e){M.e(e)}finally{M.f()}var z,F=new Set(Object.values(q)),Q=Array.from(F),V=(h["map.colors"]||rx).slice(-Q.length),U=V_().ckmeans(Q,V.length),H=U.slice(1).map((function(e){return e[0]})),Y=Ff().scale.threshold().domain(H).range(V),G=ax(U,h.column(S[P])),W=function(e){var t=function(e){return q[D(e)]}(e);return null==t?"#CCC":Y(t)};if(r){var $=K_(i.map(r),2),K=K_($[0],2),J=K[0],X=K[1],ee=K_($[1],2);z=(ee[0]-J)/(ee[1]-X)}else z=(b.getEast()-b.getWest())/(b.getNorth()-b.getSouth());return u.createElement(AE,{className:l,aspectRatio:z,legendTitles:G,legendColors:V,gridSize:c,hovered:s,onHoverChange:f,isDashboard:this.props.isDashboard},r?u.createElement(C_,{series:a,geoJson:y,getColor:W,onHoverFeature:N,onClickFeature:T,projection:r,projectionFrame:i,onRenderError:this.props.onRenderError}):u.createElement(F_,{series:a,geoJson:y,getColor:W,onHoverFeature:N,onClickFeature:T,minimalBounds:b,onRenderError:this.props.onRenderError}))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return t.filter(Mi.HD).length>0&&t.filter(Mi.Zd).length>0}},{key:"checkRenderable",value:function(e){var t=K_(e,1)[0].data,n=t.cols;if(t.rows,n.length<2)throw new Gu(2,n.length)}}],n&&H_(t.prototype,n),r&&H_(t,r),o}(u.Component);nx(ux,"propTypes",{}),nx(ux,"minSize",{width:4,height:4});n(96900);var lx=n(98399);function cx(e){return cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(e)}function sx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function px(e,t){return px=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},px(e,t)}function hx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vx(e);if(t){var i=vx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mx(this,n)}}function mx(e,t){return!t||"object"!==cx(t)&&"function"!=typeof t?yx(e):t}function yx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vx(e)}var bx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&px(e,t)}(o,e);var t,n,r,i=hx(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(yx(t=i.call(this,e)),"onFilter",(function(e){var n=e.layer.getBounds(),r=t.props,i=sx(r.series,1)[0],o=i.card,a=i.data.cols,u=r.settings,l=r.onChangeCardAndRun,c=x.ZP.findWhere(a,{name:u["map.latitude_column"]}),s=x.ZP.findWhere(a,{name:u["map.longitude_column"]}),f=new xy.Z(o);f.isStructured()&&l({nextCard:(0,bg.Oc)(f.query(),c,s,n).question().card()});t.props.onFiltering(!1)})),t.mapRef=u.createRef(),t}return t=o,n=[{key:"componentDidMount",value:function(){var e=this;try{var t=this.mapRef.current,n=this.map=A_().map(t,{scrollWheelZoom:!1,minZoom:2,drawControlTooltips:!1,zoomSnap:!1}),r=new(A_().FeatureGroup);n.addLayer(r);var i=this.drawControl=new(A_().Control.Draw)({draw:{rectangle:!1,polyline:!1,polygon:!1,circle:!1,marker:!1},edit:{featureGroup:r,edit:!1,remove:!1}});n.addControl(i),n.on("draw:created",this.onFilter),n.setView([0,0],8);var o=g.Z.get("map-tile-server-url"),a="";try{a=new URL(o).host}catch(e){}var u=a.includes("openstreetmap.org")?'Map data  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors':null;A_().tileLayer(o,{attribution:u}).addTo(n),n.on("moveend",(function(){var t=n.getCenter(),r=t.lat,i=t.lng;e.props.onMapCenterChange(r,i)})),n.on("zoomend",(function(){var t=n.getZoom();e.props.onMapZoomChange(t)}))}catch(e){lx.error(e),this.props.onRenderError(e.message||e)}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.bounds,r=t.settings;if(!e||e.points!==this.props.points||e.width!==this.props.width||e.height!==this.props.height)if(this.map.invalidateSize(),null!=r["map.center_latitude"]||null!=r["map.center_longitude"]||null!=r["map.zoom"])this.map.setView([r["map.center_latitude"],r["map.center_longitude"]],r["map.zoom"]);else{var i=this.map.getBoundsZoom(A_().latLngBounds([[n.getSouth(),0],[n.getNorth(),0]])),o=this.map.getBoundsZoom(A_().latLngBounds([[0,n.getWest()],[0,n.getEast()]])),a=Math.min(i,o);this.map.fitBounds(n),this.map.setZoom(a),this.map.fitBounds(n)}}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"startFilter",value:function(){this._filter=new(A_().Draw.Rectangle)(this.map,this.drawControl.options.rectangle),this._filter.enable(),this.props.onFiltering(!0)}},{key:"stopFilter",value:function(){this._filter&&this._filter.disable(),this.props.onFiltering(!1)}},{key:"render",value:function(){var e=this.props.className;return u.createElement("div",{className:e,ref:this.mapRef})}},{key:"_getLatLonIndexes",value:function(){var e=this.props,t=e.settings,n=sx(e.series,1)[0].data.cols;return{latitudeIndex:x.ZP.findIndex(n,(function(e){return e.name===t["map.latitude_column"]})),longitudeIndex:x.ZP.findIndex(n,(function(e){return e.name===t["map.longitude_column"]}))}}},{key:"_getLatLonColumns",value:function(){var e=sx(this.props.series,1)[0].data.cols,t=this._getLatLonIndexes(),n=t.latitudeIndex,r=t.longitudeIndex;return{latitudeColumn:e[n],longitudeColumn:e[r]}}},{key:"_getMetricColumn",value:function(){var e=this.props,t=e.settings,n=sx(e.series,1)[0].data.cols;return x.ZP.findWhere(n,{name:t["map.metric_column"]})}}],n&&dx(t.prototype,n),r&&dx(t,r),o}(u.Component),gx=n(98399);function wx(e){return wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(e)}function Ox(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _x(e,t,n){return _x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ax(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},_x(e,t,n||e)}function xx(e,t){return xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xx(e,t)}function Px(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ax(e);if(t){var i=Ax(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cx(this,n)}}function Cx(e,t){return!t||"object"!==wx(t)&&"function"!=typeof t?kx(e):t}function kx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ax(e)}function Dx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rx=A_().icon({iconUrl:"app/assets/img/pin.png",iconSize:[28,32],iconAnchor:[15,24],popupAnchor:[0,-13]}),Ix=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xx(e,t)}(o,e);var t,n,r,i=Px(o);function o(){var e;Sx(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dx(kx(e=i.call.apply(i,[this].concat(n))),"_createMarker",(function(t){var n=A_().marker([0,0],{icon:Rx}),r=e.props,i=r.onHoverChange,o=r.onVisualizationClick,a=r.settings;return i&&(n.on("mousemove",(function(r){var o=Ox(e.props.series,1)[0].data,a=o.cols,u=o.rows,l={dimensions:a.map((function(e,n){return{value:u[t][n],column:e}})),element:n._icon};i(l)})),n.on("mouseout",(function(){i(null)}))),o&&n.on("click",(function(){var r=Ox(e.props.series,1)[0].data,i=r.cols,u=r.rows,l=x.ZP.findIndex(i,Mi.Vm),c=l>=0,s=i.map((function(e,n){return{col:e,value:u[t][n]}}));o({value:c?u[t][l]:null,column:c?i[l]:null,element:n._icon,origin:{row:u[t],cols:i},settings:a,data:s})})),n})),e}return t=o,n=[{key:"componentDidMount",value:function(){_x(Ax(o.prototype),"componentDidMount",this).call(this),this.pinMarkerLayer=A_().layerGroup([]).addTo(this.map),this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function(e,t){_x(Ax(o.prototype),"componentDidUpdate",this).call(this,e,t);try{for(var n=this.pinMarkerLayer,r=this.props.points,i=n.getLayers(),a=Math.max(r.length,i.length),u=0;u<a;u++){if(u>=r.length&&n.removeLayer(i[u]),u>=i.length){var l=this._createMarker(u);n.addLayer(l),i.push(l)}if(u<r.length){var c=i[u].getLatLng(),s=c.lat;c.lng===r[u][0]&&s===r[u][1]||i[u].setLatLng(r[u])}}}catch(e){gx.error(e),this.props.onRenderError(e.message||e)}}}],n&&Ex(t.prototype,n),r&&Ex(t,r),o}(bx),Tx=n(98399);function Nx(e){return Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(e)}function qx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bx(e,t,n){return Bx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ux(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Bx(e,t,n||e)}function zx(e,t){return zx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zx(e,t)}function Fx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ux(e);if(t){var i=Ux(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qx(this,n)}}function Qx(e,t){return!t||"object"!==Nx(t)&&"function"!=typeof t?Vx(e):t}function Vx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ux(e){return Ux=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ux(e)}function Hx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zx(e,t)}(o,e);var t,n,r,i=Fx(o);function o(){var e;Zx(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hx(Vx(e=i.call.apply(i,[this].concat(n))),"_getTileUrl",(function(t,n){var r=qx(e.props.series,1)[0],i=r.card.dataset_query,o=r.data.cols,a=e._getLatLonIndexes(),u=a.latitudeIndex,l=a.longitudeIndex,c=o[u],s=o[l];if(c&&s)return"api/tiles/"+n+"/"+t.x+"/"+t.y+"/"+(c.id||encodeURIComponent(c.name))+"/"+(s.id||encodeURIComponent(s.name))+"?query="+encodeURIComponent(JSON.stringify(i))})),e}return t=o,(n=[{key:"componentDidMount",value:function(){Bx(Ux(o.prototype),"componentDidMount",this).call(this),this.pinTileLayer=A_().tileLayer("",{}).addTo(this.map),this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function(e,t){Bx(Ux(o.prototype),"componentDidUpdate",this).call(this,e,t);try{var n=this.pinTileLayer,r=this._getTileUrl({x:"{x}",y:"{y}"},"{z}");r!==n._url&&n.setUrl(r)}catch(e){Tx.error(e),this.props.onRenderError(e.message||e)}}}])&&Lx(t.prototype,n),r&&Lx(t,r),o}(bx),Gx=(n(97128),n(98399));function Wx(e){return Wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(e)}function $x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jx(e,t,n){return Jx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nP(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},Jx(e,t,n||e)}function Xx(e,t){return Xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xx(e,t)}function eP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nP(e);if(t){var i=nP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tP(this,n)}}function tP(e,t){return!t||"object"!==Wx(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nP(e){return nP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nP(e)}var rP,iP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xx(e,t)}(o,e);var t,n,r,i=eP(o);function o(){return $x(this,o),i.apply(this,arguments)}return t=o,n=[{key:"componentDidMount",value:function(){var e=this;Jx(nP(o.prototype),"componentDidMount",this).call(this),setTimeout((function(){e.pinMarkerLayer=A_().layerGroup([]).addTo(e.map),e.heatLayer=A_().heatLayer([],{radius:25}).addTo(e.map),e.componentDidUpdate({},{})}))}},{key:"componentDidUpdate",value:function(e,t){Jx(nP(o.prototype),"componentDidUpdate",this).call(this,e,t);try{var n=this.heatLayer,r=this.props,i=r.points,a=r.max,u=r.settings;n.setOptions({max:a,maxZoom:u["map.heat.max-zoom"],minOpacity:u["map.heat.min-opacity"],radius:u["map.heat.radius"],blur:u["map.heat.blur"]}),n.setLatLngs(i)}catch(e){Gx.error(e),this.props.onRenderError(e.message||e)}}}],n&&Kx(t.prototype,n),r&&Kx(t,r),o}(bx),oP=n(98399);function aP(e){return aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aP(e)}function uP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fP(e,t,n){return fP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yP(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},fP(e,t,n||e)}function dP(e,t){return dP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dP(e,t)}function pP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yP(e);if(t){var i=yP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hP(this,n)}}function hP(e,t){return!t||"object"!==aP(t)&&"function"!=typeof t?mP(e):t}function mP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yP(e){return yP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yP(e)}function vP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bP,gP,wP,OP,jP,SP=function(e){return e.binning_info||"native"===e.source&&(0,Mi.kE)(e)},EP=function(e,t,n){return(0,_a.Lx)(e,t)||function(e,t){return[e,e+(0,Vy.Mk)(t)]}(e,n)},_P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dP(e,t)}(o,e);var t,n,r,i=pP(o);function o(){var e;cP(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vP(mP(e=i.call.apply(i,[this].concat(n))),"_createGridSquare",(function(t){var n=A_().rectangle([[54.559322,-5.767822],[56.1210604,-3.02124]],{color:"red",weight:1,stroke:!0,fillOpacity:.5,strokeOpacity:1});return n.on("click",e._onVisualizationClick.bind(mP(e),t)),n.on("mousemove",e._onHoverChange.bind(mP(e),t)),n.on("mouseout",e._onHoverChange.bind(mP(e),null)),n})),e}return t=o,n=[{key:"componentDidMount",value:function(){fP(yP(o.prototype),"componentDidMount",this).call(this),this.gridLayer=A_().layerGroup([]).addTo(this.map),this.componentDidUpdate({},{})}},{key:"componentDidUpdate",value:function(e,t){fP(yP(o.prototype),"componentDidUpdate",this).call(this,e,t);try{var n=this.gridLayer,r=this.props,i=r.points,a=r.min,u=r.max,l=this._getLatLonColumns(),c=l.latitudeColumn,s=l.longitudeColumn;if(!SP(c)||!SP(s))throw new Error((0,v.t)(rP||(I=["Grid map requires binned longitude/latitude."],T||(T=I.slice(0)),rP=Object.freeze(Object.defineProperties(I,{raw:{value:Object.freeze(T)}})))));for(var d=this._getLatLonIndexes(),p=d.latitudeIndex,h=d.longitudeIndex,m=Ff().scale.linear().domain([a,u]).interpolate(Ff().interpolateHcl).range([Ff().rgb((0,f.$_)("success")),Ff().rgb((0,f.$_)("error"))]),y=n.getLayers(),b=Math.max(i.length,y.length),g=i.map((function(e){return e[p]})),w=i.map((function(e){return e[h]})),O=0;O<b;O++){var j=uP(i[O],3),S=j[0],E=j[1],_=j[2];if(O>=i.length&&n.removeLayer(y[O]),O>=y.length){var x=this._createGridSquare(O);n.addLayer(x),y.push(x)}if(O<i.length){y[O].setStyle({color:m(_)});var P=uP(EP(S,c,g),2),C=P[0],k=P[1],A=uP(EP(E,s,w),2),D=A[0],R=A[1];y[O].setBounds([[C,D],[k,R]])}}}catch(e){oP.error(e),this.props.onRenderError(e.message||e)}var I,T}},{key:"_clickForPoint",value:function(e,t){var n=this.props,r=n.points,i=n.settings,o=uP(n.series,1)[0].data,a=o.rows,u=o.cols,l=r[e],c=this._getMetricColumn(),s=this._getLatLonColumns(),f=s.latitudeColumn,d=s.longitudeColumn;return{value:l[2],column:c,dimensions:[{value:l[0],column:f},{value:l[1],column:d}],event:t.originalEvent,origin:{row:a[e],cols:u},settings:i}}},{key:"_onVisualizationClick",value:function(e,t){var n=this.props.onVisualizationClick;n&&n(this._clickForPoint(e,t))}},{key:"_onHoverChange",value:function(e,t){var n=this.props.onHoverChange;n&&n(null==e?null:this._clickForPoint(e,t))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return t.filter(SP).length>=2&&t.filter(Mi.Zd).length>0}}],n&&sP(t.prototype,n),r&&sP(t,r),o}(bx);function xP(e){return xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xP(e)}function PP(){return PP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PP.apply(this,arguments)}function CP(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function kP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return AP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IP(e,t){return IP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},IP(e,t)}function TP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MP(e);if(t){var i=MP(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return NP(this,n)}}function NP(e,t){return!t||"object"!==xP(t)&&"function"!=typeof t?qP(e):t}function qP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(e){return MP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MP(e)}function ZP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var LP,BP,zP,FP,QP,VP,UP,HP,YP,GP,WP,$P,KP,JP,XP,eC,tC,nC,rC,iC,oC,aC,uC,lC,cC=[[-90,-180],[90,180]],sC={markers:Ix,tiles:Yx,heat:iP,grid:_P},fC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&IP(e,t)}(o,e);var t,n,r,i=TP(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),ZP(qP(t=i.call(this,e)),"state",void 0),ZP(qP(t),"_map",null),ZP(qP(t),"updateSettings",(function(){var e={};null!=t.state.lat&&(e["map.center_latitude"]=t.state.lat),null!=t.state.lng&&(e["map.center_longitude"]=t.state.lng),null!=t.state.zoom&&(e["map.zoom"]=t.state.zoom),t.props.onUpdateVisualizationSettings(e),t.setState({lat:null,lng:null,zoom:null})})),ZP(qP(t),"onMapCenterChange",(function(e,n){t.setState({lat:e,lng:n})})),ZP(qP(t),"onMapZoomChange",(function(e){t.setState({zoom:e})})),t.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DP(Object(n),!0).forEach((function(t){ZP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({lat:null,lng:null,zoom:null,filtering:!1},t._getPoints(e)),t}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=["map.latitude_column","map.longitude_column","map.metric_column"];e.series[0].data===this.props.series[0].data&&x.ZP.isEqual(x.ZP.pick.apply(x.ZP,[e.settings].concat(t)),x.ZP.pick.apply(x.ZP,[this.props.settings].concat(t)))||this.setState(this._getPoints(e))}},{key:"_getPoints",value:function(e){var t=e.settings,n=kP(e.series,1)[0].data,r=n.cols,i=n.rows,o=e.onUpdateWarnings,a=x.ZP.findIndex(r,(function(e){return e.name===t["map.latitude_column"]})),u=x.ZP.findIndex(r,(function(e){return e.name===t["map.longitude_column"]})),l=x.ZP.findIndex(r,(function(e){return e.name===t["map.metric_column"]})),c=i.map((function(e){return[e[a],e[u],l>=0?e[l]:1]})),s=c.filter((function(e){var t=kP(e,3),n=t[0],r=t[1],i=t[2];return null!=n&&null!=r&&null!=i})),f=[],d=c.length-s.length;d>0&&f.push((0,v.t)(bP||(bP=CP(["We filtered out "," row(s) containing null values."])),d)),o&&f&&o(f);var p=A_().latLngBounds(s.length>0?s:cC),h=Ff().min(s,(function(e){return e[2]})),m=Ff().max(s,(function(e){return e[2]})),y=r[u]&&r[u].binning_info&&r[u].binning_info.bin_width,b=r[a]&&r[a].binning_info&&r[a].binning_info.bin_width;return null!=y&&(p._northEast.lng+=y),null!=b&&(p._northEast.lat+=b),{points:s,bounds:p,min:h,max:m,binWidth:y,binHeight:b}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.settings,i=t.isEditing,o=t.isDashboard,a=this.state,l=a.lat,c=a.lng,s=a.zoom,f=null==l&&null==c&&null==s,d=sC[r["map.pin_type"]],p=this.state,h=p.points,m=p.bounds,y=p.min,b=p.max,g=p.binHeight,w=p.binWidth;return u.createElement("div",{className:Ze()(n,"PinMap relative hover-parent hover--visibility"),onMouseDownCapture:function(e){return e.stopPropagation()}},d?u.createElement(d,PP({},this.props,{ref:function(t){return e._map=t},className:"absolute top left bottom right z1",onMapCenterChange:this.onMapCenterChange,onMapZoomChange:this.onMapZoomChange,lat:l,lng:c,zoom:s,points:h,bounds:m,min:y,max:b,binWidth:w,binHeight:g,onFiltering:function(t){return e.setState({filtering:t})}})):null,u.createElement("div",{className:"absolute top right m1 z2 flex flex-column hover-child"},i||!o?u.createElement("div",{className:Ze()("PinMapUpdateButton Button Button--small mb1",{"PinMapUpdateButton--disabled":f}),onClick:this.updateSettings},(0,v.t)(gP||(gP=CP(["Save as default view"])))):null,!o&&u.createElement("div",{className:Ze()("PinMapUpdateButton Button Button--small mb1"),onClick:function(){!e.state.filtering&&e._map&&e._map.startFilter?e._map.startFilter():e.state.filtering&&e._map&&e._map.stopFilter&&e._map.stopFilter()}},this.state.filtering?(0,v.t)(OP||(OP=CP(["Cancel filter"]))):(0,v.t)(wP||(wP=CP(["Draw box to filter"]))))))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return e.rows,(0,Mi.jn)(t)}},{key:"checkRenderable",value:function(e){var t=kP(e,1)[0].data,n=t.cols;if(t.rows,!(0,Mi.jn)(n))throw new $u}}],n&&RP(t.prototype,n),r&&RP(t,r),o}(u.Component);function dC(e){return dC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(e)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(n),!0).forEach((function(t){EC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function yC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wC(e,t){return wC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wC(e,t)}function OC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=SC(e);if(t){var i=SC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jC(this,n)}}function jC(e,t){return!t||"object"!==dC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SC(e){return SC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},SC(e)}function EC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ZP(fC,"uiName",(0,v.t)(jP||(jP=CP(["Pin Map"])))),ZP(fC,"identifier","pin_map"),ZP(fC,"iconName","pinmap");var _C,xC,PC=new Set(["pin","heat","grid"]),CC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wC(e,t)}(o,e);var t,n,r,i=OC(o);function o(){return bC(this,o),i.apply(this,arguments)}return t=o,r=[{key:"isSensible",value:function(e){var t=e.cols,n=e.rows;return fC.isSensible({cols:t,rows:n})||ux.isSensible({cols:t,rows:n})||_P.isSensible({cols:t,rows:n})}},{key:"checkRenderable",value:function(e,t){if(yC(e,1)[0].data,PC.has(t["map.type"])){if(!t["map.longitude_column"]||!t["map.latitude_column"])throw new Ju((0,v.t)(LP||(LP=mC(["Please select longitude and latitude columns in the chart settings."]))),{section:(0,v.t)(BP||(BP=mC(["Data"])))})}else if("region"===t["map.type"]){if(!t["map.region"])throw new Ju((0,v.t)(zP||(zP=mC(["Please select a region map."]))),{section:(0,v.t)(FP||(FP=mC(["Data"])))});if(!t["map.dimension"]||!t["map.metric"])throw new Ju((0,v.t)(QP||(QP=mC(["Please select region and metric columns in the chart settings."]))),{section:(0,v.t)(VP||(VP=mC(["Data"])))})}}}],(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.width===e.width&&this.props.height===e.height,r=(0,Zi.dS)(this.props.series,e.series);return!(n&&r)}},{key:"render",value:function(){var e=this.props.settings["map.type"];return PC.has(e)?u.createElement(fC,this.props):"region"===e?u.createElement(ux,this.props):void 0}}])&&gC(t.prototype,n),r&&gC(t,r),o}(u.Component);function kC(e){return kC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(e)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AC(Object(n),!0).forEach((function(t){ZC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function IC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TC(e,t){return TC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TC(e,t)}function NC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=MC(e);if(t){var i=MC(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qC(this,n)}}function qC(e,t){return!t||"object"!==kC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function MC(e){return MC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MC(e)}function ZC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}EC(CC,"uiName",(0,v.t)(UP||(UP=mC(["Map"])))),EC(CC,"identifier","map"),EC(CC,"iconName","pinmap"),EC(CC,"aliases",["state","country","pin_map"]),EC(CC,"minSize",{width:4,height:4}),EC(CC,"placeholderSeries",[{card:{display:"map"},data:{rows:[["AK",68],["AL",56],["AR",49],["AZ",20],["CA",90],["CO",81],["CT",7],["DE",4],["FL",39],["GA",78],["IA",104],["ID",30],["IL",68],["IN",61],["KS",53],["KY",50],["LA",41],["MA",15],["MD",10],["ME",19],["MI",71],["MN",96],["MO",81],["MS",54],["MT",108],["NC",74],["ND",73],["NE",76],["NH",7],["NJ",10],["NM",22],["NV",7],["NY",74],["OH",65],["OK",37],["OR",40],["PA",57],["RI",1],["SC",43],["SD",62],["TN",47],["TX",194],["UT",13],["VA",49],["VT",10],["WA",41],["WI",87],["WV",21],["WY",37]],cols:[{semantic_type:"type/State",name:"STATE",source:"breakout",display_name:"State",base_type:"type/Text"},{base_type:"type/Integer",semantic_type:"type/Number",name:"count",display_name:"count",source:"aggregation"}]}}]),EC(CC,"settings",hC(hC(hC(hC(hC(hC(hC({},La({hidden:!0})),{},{"map.type":{title:(0,v.t)(HP||(HP=mC(["Map type"]))),widget:"select",props:{options:[{name:(0,v.t)(YP||(YP=mC(["Region map"]))),value:"region"},{name:(0,v.t)(GP||(GP=mC(["Pin map"]))),value:"pin"},{name:"Grid map",value:"grid"}]},getDefault:function(e,t){var n=yC(e,1)[0],r=n.card,i=n.data;switch(r.display){case"state":case"country":return"region";case"pin_map":return"pin";default:if((0,Mi.jn)(i.cols)){var o=x.ZP.findWhere(i.cols,{name:t["map.latitude_column"]}),a=x.ZP.findWhere(i.cols,{name:t["map.longitude_column"]});return o&&a&&o.binning_info&&a.binning_info?"grid":"pin"}return"region"}},readDependencies:["map.latitude_column","map.longitude_column","map.metric_column"]},"map.pin_type":{title:(0,v.t)(WP||(WP=mC(["Pin type"]))),props:{options:[{name:(0,v.t)($P||($P=mC(["Tiles"]))),value:"tiles"},{name:(0,v.t)(KP||(KP=mC(["Markers"]))),value:"markers"},{name:"Grid",value:"grid"}]},getDefault:function(e,t){var n=yC(e,1)[0].data;return"heat"===t["map.type"]?"heat":"grid"===t["map.type"]?"grid":n.rows.length>=1e3?"tiles":"markers"},getHidden:function(e,t){return!PC.has(t["map.type"])}}},$i("map.latitude_column",{title:(0,v.t)(JP||(JP=mC(["Latitude field"]))),fieldFilter:Mi.kE,getDefault:function(e){var t=yC(e,1)[0].data;return(x.ZP.find(t.cols,Mi.s$)||{}).name},getHidden:function(e,t){return!PC.has(t["map.type"])}})),$i("map.longitude_column",{title:(0,v.t)(XP||(XP=mC(["Longitude field"]))),fieldFilter:Mi.kE,getDefault:function(e){var t=yC(e,1)[0].data;return(x.ZP.find(t.cols,Mi.C2)||{}).name},getHidden:function(e,t){return!PC.has(t["map.type"])}})),$i("map.metric_column",{title:(0,v.t)(eC||(eC=mC(["Metric field"]))),fieldFilter:Mi.Zd,getHidden:function(e,t){return!PC.has(t["map.type"])||"heat"!==t["map.pin_type"]&&"grid"!==t["map.pin_type"]}})),{},{"map.region":{title:(0,v.t)(tC||(tC=mC(["Region map"]))),widget:"select",getDefault:function(e){var t=yC(e,1)[0],n=t.card,r=t.data;return"state"===n.display||x.ZP.any(r.cols,Mi.LW)?"us_states":"country"===n.display||x.ZP.any(r.cols,Mi.be)?"world_countries":null},getProps:function(){return{options:x.ZP.chain(g.Z.get("custom-geojson",{})).pairs().map((function(e){var t=yC(e,2),n=t[0];return{name:t[1].name||"",value:n}})).sortBy((function(e){return e.name.toLowerCase()})).value()}},getHidden:function(e,t){return"region"!==t["map.type"]}}},Yi("map.metric",{title:(0,v.t)(nC||(nC=mC(["Metric field"]))),getHidden:function(e,t){return"region"!==t["map.type"]}})),Gi("map.dimension",{title:(0,v.t)(rC||(rC=mC(["Region field"]))),getHidden:function(e,t){return"region"!==t["map.type"]}})),{},{"map.colors":{title:(0,v.t)(iC||(iC=mC(["Color"]))),widget:$f,props:{ranges:Object.values(f.zw).map((function(e){return ix(e)})),quantile:!0,columns:1},default:ix(Object.values(f.zw)[0]),getHidden:function(e,t){return"region"!==t["map.type"]}},"map.zoom":{},"map.center_latitude":{},"map.center_longitude":{},"map.heat.radius":{title:(0,v.t)(oC||(oC=mC(["Radius"]))),widget:"number",default:30,getHidden:function(e,t){return"heat"!==t["map.type"]}},"map.heat.blur":{title:(0,v.t)(aC||(aC=mC(["Blur"]))),widget:"number",default:60,getHidden:function(e,t){return"heat"!==t["map.type"]}},"map.heat.min-opacity":{title:(0,v.t)(uC||(uC=mC(["Min Opacity"]))),widget:"number",default:0,getHidden:function(e,t){return"heat"!==t["map.type"]}},"map.heat.max-zoom":{title:(0,v.t)(lC||(lC=mC(["Max Zoom"]))),widget:"number",default:1,getHidden:function(e,t){return"heat"!==t["map.type"]}}}));var LC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TC(e,t)}(n,e);var t=NC(n);function n(){return IC(this,n),t.apply(this,arguments)}return n}(wy);ZC(LC,"uiName",(0,v.t)(_C||(_C=RC(["Scatter"])))),ZC(LC,"identifier","scatter"),ZC(LC,"iconName","bubble"),ZC(LC,"noun",(0,v.t)(xC||(xC=RC(["scatter plot"])))),ZC(LC,"renderer",(function(e,t){return zg(e,xg(xg({},t),{},{chartType:"scatter"}))})),ZC(LC,"settings",DC(DC(DC(DC(DC({},wO),EO),xO),PO),gO));var BC="PS5df",zC="_2vUMz",FC="_2N5af",QC="_2Wc6M",VC="_1o3km",UC="_2N341",HC="_cker",YC="_129--",GC="_3ef-7";function WC(e){return WC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WC(e)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$C(Object(n),!0).forEach((function(t){JC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ek(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tk(e,t){return tk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tk(e,t)}function nk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ik(e);if(t){var i=ik(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rk(this,n)}}function rk(e,t){return!t||"object"!==WC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ik(e)}var ok=Object.values(f.mJ),ak=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tk(e,t)}(o,e);var t,n,r,i=nk(o);function o(){return XC(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.series,i=t.gridSize,o=t.hovered,a=t.onHoverChange,l=t.onVisualizationClick,c=t.visualizationIsClickable,s=t.settings,f=r[0].data.cols,d=r.map((function(e){return e.data.rows[0]})),p=i&&i.width<7,h=i&&i.height<=5||p,m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,Ni.Bw)(e,KC(KC({},s.column(f[0])),{},{jsx:t,majorWidth:0}))},y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,Ni.Bw)(e,KC(KC({},s.column(f[1])),{},{jsx:t,majorWidth:0}))},v=function(e){return"".concat((100*e).toFixed(2)," %")},b=[{value:d[0][1],graph:{startBottom:0,startTop:1,endBottom:0,endTop:1}}],g=d[0][1];d.map((function(e,t){g-=b[t].value-e[1],b[t+1]={value:e[1],graph:{startBottom:b[t].graph.endBottom,startTop:b[t].graph.endTop,endTop:.5+g/b[0].value/2,endBottom:.5-g/b[0].value/2},hovered:{index:t,data:[{key:"Step",value:e[0],col:f[0]},{key:(0,Zi.RY)(f[1]),value:e[1],col:f[1]},{key:"Retained",value:v(e[1]/b[0].value)}]},clicked:{value:e[1],column:f[1],dimensions:[{value:e[0],column:f[0]}]}}}));var w=(b=b.slice(1))[0],O=c(b[0].clicked);return u.createElement("div",{className:Ze()(n,BC,"flex",(e={},JC(e,GC,p),JC(e,"p1",h),JC(e,"p2",!h),e))},u.createElement("div",{className:Ze()(zC,FC,"flex flex-column")},u.createElement(Ti.default,{className:HC},m(d[0][0])),u.createElement("div",{className:QC},u.createElement("div",{className:VC},y(d[0][1])),u.createElement("div",{className:UC},(0,Zi.RY)(f[0]))),u.createElement("div",{className:YC},u.createElement("div",{className:VC},""),u.createElement("div",{className:UC},""))),b.slice(1).map((function(e,t){var n=w.value>0?e.value/w.value:0;return u.createElement("div",{key:t,className:Ze()(zC,"flex flex-column")},u.createElement(Ti.default,{className:HC},m(d[t+1][0])),u.createElement(uk,{className:Ze()({"cursor-pointer":O}),index:t,info:e,infos:b,hovered:o,onHoverChange:a,onVisualizationClick:O?l:null}),u.createElement("div",{className:YC},u.createElement(Ti.default,{className:VC},v(n)),u.createElement(Ti.default,{className:UC},y(d[t+1][1]))))})))}}],n&&ek(t.prototype,n),r&&ek(t,r),o}(u.Component),uk=function(e){var t=e.index,n=e.info,r=e.infos,i=(e.hovered,e.onHoverChange),o=e.onVisualizationClick,a=e.className;return u.createElement("div",{className:"relative full-height"},u.createElement("svg",{height:"100%",width:"100%",className:Ze()(a,"absolute"),onMouseMove:function(e){i&&n.hovered&&i(KC(KC({},n.hovered),{},{event:e.nativeEvent}))},onMouseLeave:function(){return i&&i(null)},onClick:function(e){o&&n.clicked&&o(KC(KC({},n.clicked),{},{event:e.nativeEvent}))},viewBox:"0 0 1 1",preserveAspectRatio:"none"},u.createElement("polygon",{opacity:1-t*(.9/(r.length+1)),fill:ok[0],points:"0 ".concat(n.graph.startBottom,", 0 ").concat(n.graph.startTop,", 1 ").concat(n.graph.endTop,", 1 ").concat(n.graph.endBottom)})))};function lk(e){return lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lk(e)}function ck(){return ck=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ck.apply(this,arguments)}function sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sk(Object(n),!0).forEach((function(t){dk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mk(e,t){return mk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mk(e,t)}function yk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bk(e);if(t){var i=bk(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vk(this,n)}}function vk(e,t){return!t||"object"!==lk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bk(e){return bk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bk(e)}var gk,wk,Ok,jk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mk(e,t)}(o,e);var t,n,r,i=yk(o);function o(){return pk(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){return u.createElement(uj,ck({},this.props,{isScalarSeries:!0,settings:fk(fk(fk({},this.props.settings),(0,ey.eG)((0,b.assocIn)(this.props.series,[0,"card","display"],"bar"))),{},{"bar.scalar_series":!0})}))}}])&&hk(t.prototype,n),r&&hk(t,r),o}(u.Component);function Sk(e){return Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sk(e)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach((function(t){Rk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ck(e,t){return Ck=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ck(e,t)}function kk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dk(e);if(t){var i=Dk(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ak(this,n)}}function Ak(e,t){return!t||"object"!==Sk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dk(e){return Dk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dk(e)}function Rk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ik=Object.values(f.mJ),Tk=(0,ac.default)({refreshMode:"debounce"})((Ok=wk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ck(e,t)}(o,e);var t,n,r,i=kk(o);function o(){return xk(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.series,n=e.hovered,r=e.actionButtons,i=e.icon,o=e.onHoverChange,a=e.onChangeCardAndRun,l=e.settings,c=e.description,s=e.onVisualizationClick,f=e.visualizationIsClickable,d=e.classNameWidgets,p=e.width,h=!!t[0].card._breakoutColumn,m=h?{}:this.props,y=m.onAddSeries,v=m.onEditSeries,b=m.onRemoveSeries,g=!!y||t.length>1,w=p<100*t.length,O=!g||!w,j=l.series&&t.map((function(e){return l.series(e)})),S=j?j.map((function(e){return e.color})):Ik,E=j?j.map((function(e){return e.title})):t.map((function(e){return e.card.name}));return u.createElement("div",{className:Ze()(ES,"Card-title mx1 flex flex-no-shrink flex-row align-center")},t.map((function(e,r){return[u.createElement(MS,{key:r,title:E[r],icon:i,description:c,color:S[r%S.length],className:Ze()({"text-brand-hover":!h}),showDot:g,showTitle:O,isMuted:n&&null!=n.index&&r!==n.index,onMouseEnter:function(){return o&&o({index:r})},onMouseLeave:function(){return o&&o(null)},onClick:v?function(e){return v(e,r)}:e.clicked&&f(e.clicked)?function(t){return s(_k(_k({},e.clicked),{},{element:t.currentTarget}))}:a?function(){return a({nextCard:e.card,seriesIndex:r})}:null,infoClassName:d}),b&&t.length>1&&u.createElement(En.ZP,{name:"close",className:"text-light text-medium-hover flex-no-shrink mr2 cursor-pointer",width:12,height:12,onClick:function(e){return b(e,r)}})]})),y&&u.createElement(En.ZP,{name:"add",className:"mx1 flex-no-shrink text-medium text-brand-hover bg-medium rounded cursor-pointer",size:12,style:{padding:5},onClick:function(e){return y(e)}}),r&&u.createElement("span",{className:Ze()(d,"flex-no-shrink flex-align-right relative")},r))}}],n&&Pk(t.prototype,n),r&&Pk(t,r),o}(u.Component),Rk(wk,"propTypes",{series:E().array.isRequired,hovered:E().object,onHoverChange:E().func,onAddSeries:E().func,onEditSeries:E().func,onRemoveSeries:E().func,onChangeCardAndRun:E().func,actionButtons:E().node,description:E().string,classNameWidgets:E().string,icon:E().shape(En.sB)}),Rk(wk,"defaultProps",{series:[],settings:{},visualizationIsClickable:function(){return!1}}),gk=Ok))||gk;var Nk=(0,De.Z)(Ym,{target:"eh45g5l0"})({name:"1r6bx4d",styles:"margin:0 0.5rem;flex-shrink:0"}),qk={series:E().array.isRequired,settings:E().object.isRequired,icon:E().shape(En.sB),actionButtons:E().node,onChangeCardAndRun:E().func},Mk=function(e){var t,n=e.series,r=e.settings,i=e.icon,o=e.actionButtons,a=e.onChangeCardAndRun,l=null!==(t=r["card.title"])&&void 0!==t?t:n[0].card.name,c=r["card.description"],s=n._raw||n,f=s[0].card,d=1===new Set(s.map((function(e){return e.card.id}))).size&&a,p=(0,u.useCallback)((function(){a({nextCard:f,seriesIndex:0})}),[f,a]);return l?u.createElement(Nk,{title:l,description:c,icon:i,actionButtons:o,onSelectTitle:d?p:void 0}):null};Mk.propTypes=qk;var Zk,Lk,Bk,zk,Fk,Qk,Vk,Uk,Hk,Yk,Gk,Wk,$k=Mk;function Kk(e){return Kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kk(e)}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(n),!0).forEach((function(t){sA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rA(){return rA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rA.apply(this,arguments)}function iA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aA(e,t){return aA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aA(e,t)}function uA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cA(e);if(t){var i=cA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lA(this,n)}}function lA(e,t){return!t||"object"!==Kk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cA(e){return cA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cA(e)}function sA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fA,dA,pA,hA,mA={headerIcon:E().shape(En.sB)},yA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aA(e,t)}(o,e);var t,n,r,i=uA(o);function o(){return iA(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.headerIcon,n=e.settings,r=n["card.title"];if("bar"===n["funnel.type"])return u.createElement(jk,this.props);var i=this.props,o=i.actionButtons,a=i.className,l=i.onChangeCardAndRun,c=i.series;return u.createElement("div",{className:Ze()(a,"flex flex-column p1")},r&&u.createElement($k,{series:c,settings:n,icon:t,actionButtons:o,onChangeCardAndRun:l}),!r&&o&&u.createElement(Tk,{className:"flex-no-shrink",series:c._raw||c,actionButtons:o,onChangeCardAndRun:l}),u.createElement(ak,rA({},this.props,{className:"flex-full"})))}}],r=[{key:"isSensible",value:function(e){var t=e.cols;return e.rows,2===t.length}},{key:"checkRenderable",value:function(e,t){var n=tA(e,1)[0].data.rows;if(!(e.length>1)){if(n.length<1)throw new Wu(1,n.length);if(!t["funnel.dimension"]||!t["funnel.metric"])throw new Ju((0,v.t)(Zk||(Zk=eA(["Which fields do you want to use?"]))),{section:(0,v.t)(Lk||(Lk=eA(["Data"])))},(0,v.t)(Bk||(Bk=eA(["Choose fields"]))))}}},{key:"transformSeries",value:function(e){var t=tA(e,1)[0],n=t.card,r=t.data,i=r.rows,o=r.cols,a=(0,ey.eG)(e),u=x.ZP.findIndex(o,(function(e){return e.name===a["funnel.dimension"]})),l=x.ZP.findIndex(o,(function(e){return e.name===a["funnel.metric"]}));return!n._transformed&&1===e.length&&i.length>1&&u>=0&&l>=0?i.map((function(e){return{card:Xk(Xk({},n),{},{name:(0,Ni.Bw)(e[u],{column:o[u]}),_transformed:!0}),data:{rows:[[e[u],e[l]]],cols:[o[u],o[l]]}}})):e}}],n&&oA(t.prototype,n),r&&oA(t,r),o}(u.Component);function vA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bA(Object(n),!0).forEach((function(t){wA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OA(e){return function(e){if(Array.isArray(e))return jA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}sA(yA,"uiName",(0,v.t)(zk||(zk=eA(["Funnel"])))),sA(yA,"identifier","funnel"),sA(yA,"iconName","funnel"),sA(yA,"noHeader",!0),sA(yA,"minSize",{width:5,height:4}),sA(yA,"placeholderSeries",[["Homepage",1e3],["Product Page",850],["Tiers Page",700],["Trial Form",200],["Trial Confirmation",40]].map((function(e){return{card:{display:"funnel",visualization_settings:{"funnel.type":"funnel","funnel.dimension":"Total Sessions"},dataset_query:{type:"null"}},data:{rows:[e],cols:[{name:"Total Sessions",base_type:"type/Text"},{name:"Sessions",base_type:"type/Integer"}]}}}))),sA(yA,"settings",Xk(Xk(Xk(Xk({},La({hidden:!0})),Gi("funnel.dimension",{section:(0,v.t)(Fk||(Fk=eA(["Data"]))),title:(0,v.t)(Qk||(Qk=eA(["Step"]))),dashboard:!1,useRawSeries:!0,showColumnSetting:!0})),Yi("funnel.metric",{section:(0,v.t)(Vk||(Vk=eA(["Data"]))),title:(0,v.t)(Uk||(Uk=eA(["Measure"]))),dashboard:!1,useRawSeries:!0,showColumnSetting:!0})),{},{"funnel.type":{title:(0,v.t)(Hk||(Hk=eA(["Funnel type"]))),section:(0,v.t)(Yk||(Yk=eA(["Display"]))),widget:"select",props:{options:[{name:(0,v.t)(Gk||(Gk=eA(["Funnel"]))),value:"funnel"},{name:(0,v.t)(Wk||(Wk=eA(["Bar chart"]))),value:"bar"}]},getDefault:function(e){return e.length>1?"bar":"funnel"},useRawSeries:!0}})),yA.propTypes=mA;function SA(){return[(0,f.$_)("error"),(0,f.$_)("warning"),(0,f.$_)("success")].concat(OA(Object.values(f.mJ).slice(0,9)),[(0,f.$_)("bg-medium")])}var EA,_A,xA,PA=function(e){var t=e.value,n=e.onChange,r=function(e,r,i){return n([].concat(OA(t.slice(0,e)),[gA(gA({},t[e]),{},wA({},r,i))],OA(t.slice(e+1))))};return u.createElement("div",null,u.createElement("table",null,u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",null,"Color"),u.createElement("th",null,"Min"),u.createElement("th",null,"Max"))),u.createElement("tbody",null,t.map((function(e,i){return u.createElement(u.Fragment,{key:e.index},u.createElement("tr",null,u.createElement("td",null,u.createElement(at.default,{value:e.color,onChange:function(e){return r(i,"color",e)},triggerSize:28,padding:2,colors:SA()})),u.createElement("td",null,u.createElement(Kf.default,{type:"number",className:"input full",value:e.min,onChange:function(e){return r(i,"min",e)},placeholder:(0,v.t)(fA||(fA=vA(["Min"])))})),u.createElement("td",null,u.createElement(Kf.default,{type:"number",className:"input full",value:e.max,onChange:function(e){return r(i,"max",e)},placeholder:(0,v.t)(dA||(dA=vA(["Max"])))})),u.createElement("td",null,t.length>1&&u.createElement(En.ZP,{name:"close",className:"cursor-pointer text-grey-2 text-grey-4-hover ml2",onClick:function(){return n(t.filter((function(e,t){return t!==i})))}}))),u.createElement("tr",null,u.createElement("td",{colSpan:3,className:"pb2"},u.createElement("input",{type:"text",className:"input full",value:e.label,onChange:function(e){return r(i,"label",e.target.value)},placeholder:(0,v.t)(pA||(pA=vA(["Label for this range (optional)"])))}))))})))),u.createElement(Ce.Z,{borderless:!0,icon:"add",onClick:function(){return n(t.concat(function(e){var t=SA(),n=e[e.length-1],r=n?x.ZP.findIndex(t,(function(e){return e===n.color})):-1,i=r>=0?t[r+1%t.length]:t[0];return{min:n?n.max:0,max:n?2*n.max:1,color:i,label:""}}(t)))}},(0,v.t)(hA||(hA=vA(["Add a range"])))))};function CA(e){return CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CA(e)}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kA(Object(n),!0).forEach((function(t){UA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function RA(e){return function(e){if(Array.isArray(e))return NA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||TA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||TA(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TA(e,t){if(e){if("string"==typeof e)return NA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NA(e,t):void 0}}function NA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZA(e,t,n){return t&&MA(e.prototype,t),n&&MA(e,n),e}function LA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BA(e,t)}function zA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=VA(e);if(t){var i=VA(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FA(this,n)}}function FA(e,t){return!t||"object"!==CA(t)&&"function"!=typeof t?QA(e):t}function QA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VA(e){return VA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VA(e)}function UA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HA=45,YA=33.3,GA=7.312500000000002,WA=GA/Math.tan(64/180*Math.PI),$A=function(e){return 180*e/Math.PI},KA=function(e){return!isNaN(e.min)&&!isNaN(e.max)},JA=function(e){LA(n,e);var t=zA(n);function n(){var e;qA(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return UA(QA(e=t.call.apply(t,[this].concat(i))),"state",{mounted:!1}),UA(QA(e),"_label",void 0),e}return ZA(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this._updateLabelSize()}},{key:"componentDidUpdate",value:function(){this._updateLabelSize()}},{key:"_updateLabelSize",value:function(){var e=this._label&&In.findDOMNode(this._label);if(e){var t=e.getBBox().width,n=parseFloat(e.style.fontSize.replace("em","")),r=Math.max(.5,Math.min(.7,n*(63.26999999999999/t)));Math.abs(1-n/r)>.05&&(e.style.fontSize=r+"em")}}},{key:"render",value:function(){var e,t=this,n=this.props,r=IA(n.series,1)[0].data,i=r.rows,o=r.cols,a=n.settings,l=n.className,c=n.isSettings,s=this.props.width,d=this.props.height-10,p=50+50*Math.sin(function(e){return e*Math.PI/180}(135)),h=p/100,m=(e=d/s<h?Math.min(500,d/h):Math.min(500,s))*h,y=e>250,v=a["gauge.range"],b=a["gauge.segments"].filter(KA),g=Ff().scale.linear().domain(v).range([1.5*-Math.PI/2,1.5*Math.PI/2]).clamp(!0),w=i[0][0]||0,O=o[0],j=function(e,t){return[Math.cos(g(e)-Math.PI/2)*t,Math.sin(g(e)-Math.PI/2)*t]},S=Array.from(new Set(v.concat.apply(v,RA(b.map((function(e){return[e.min,e.max]})))))),E=b.filter((function(e){return e.label})).map((function(e){return{label:e.label,value:e.min+(e.max-e.min)/2}})),_=s/e;return u.createElement("div",{className:Ze()(l,"relative")},u.createElement("div",{className:"absolute overflow-hidden",style:{width:e*_,height:m,top:(d-m)/2,left:(s-e)/2-(e*_-e)/2}},u.createElement("svg",{viewBox:"0 0 ".concat(100*_," ").concat(p)},u.createElement("g",{transform:"translate(".concat(100*_/2,",50)")},u.createElement(XA,{start:g(v[0]),end:g(v[1]),fill:(0,f.$_)("bg-medium")}),b.map((function(e,n){return u.createElement(XA,{key:n,start:g(e.min),end:g(e.max),fill:e.color,segment:e,column:O,settings:a,onHoverChange:y?null:t.props.onHoverChange,testId:"gauge-arc-"+n})})),u.createElement(eD,{angle:g(this.state.mounted?w:0),isAnimated:!c}),y&&S.map((function(e,t){return u.createElement(tD,{key:t,position:j(e,46.12499999999999)},(0,Ni.Bw)(e,a.column(O)))})),y&&E.map((function(e,t){var n=e.label,r=e.value;return u.createElement(nD,{key:t},u.createElement(tD,{position:j(r,46.12499999999999),style:{fill:(0,f.$_)("text-dark")}},n))})),u.createElement("text",{ref:function(e){return t._label=e},x:0,y:0,style:{fill:(0,f.$_)("text-dark"),fontSize:"1em",fontWeight:"bold",textAnchor:"middle",transform:"translate(0,0.2em)"}},(0,Ni.Bw)(w,a.column(O)))))))}}],[{key:"isSensible",value:function(e){var t=e.cols;return 1===e.rows.length&&1===t.length}},{key:"checkRenderable",value:function(e){var t=IA(e,1)[0].data,n=t.cols;t.rows;if(!(0,Mi.kE)(n[0]))throw new Error((0,v.t)(EA||(EA=DA(["Gauge visualization requires a number."]))))}}]),n}(u.Component);UA(JA,"uiName",(0,v.t)(_A||(_A=DA(["Gauge"])))),UA(JA,"identifier","gauge"),UA(JA,"iconName","gauge"),UA(JA,"minSize",{width:4,height:4}),UA(JA,"settings",AA(AA({},La({getColumns:function(e,t){var n=IA(e,1)[0].data.cols;return[x.ZP.find(n,(function(e){return e.name===t["scalar.field"]}))||n[0]]}})),{},{"gauge.range":{getDefault:function(e,t){var n=t["gauge.segments"].filter(KA),r=[].concat(RA(n.map((function(e){return e.max}))),RA(n.map((function(e){return e.min}))));return r.length>0?[Math.min.apply(Math,RA(r)),Math.max.apply(Math,RA(r))]:[0,1]},readDependencies:["gauge.segments"]},"gauge.segments":{section:"Display",title:(0,v.t)(xA||(xA=DA(["Gauge ranges"]))),getDefault:function(e){var t=100;try{t=e[0].data.rows[0][0]||0}catch(e){}return[{min:0,max:t/2,color:(0,f.$_)("error"),label:""},{min:t/2,max:t,color:(0,f.$_)("warning"),label:""},{min:t,max:2*t,color:(0,f.$_)("success"),label:""}]},widget:PA,persistDefault:!0}}));var XA=function(e){var t=e.start,n=e.end,r=e.fill,i=e.segment,o=e.onHoverChange,a=e.settings,l=e.column,c=e.testId,s=Ff().svg.arc().outerRadius(HA).innerRadius(33.3);return u.createElement("path",{d:s({startAngle:t,endAngle:n}),fill:r,"data-testid":c,onMouseMove:function(e){if(o){var t=a&&a.column&&l?a.column(l):{};o({data:[{key:i.label,value:[i.min,i.max].map((function(e){return(0,Ni.Bw)(e,t)})).join(" - ")}],event:e.nativeEvent})}},onMouseLeave:function(){o&&o(null)}})},eD=function(e){var t=e.angle,n=e.isAnimated,r=void 0===n||n;return u.createElement("path",{d:"M-".concat(WA," 0 L0 -").concat(GA," L").concat(WA," 0 Z"),transform:"translate(0,-".concat(YA,") rotate(").concat($A(t),", 0, ").concat(YA,")"),style:r?{transition:"transform 1.5s ease-in-out"}:null,stroke:"white",strokeWidth:1.25,fill:(0,f.$_)("text-medium")})},tD=function(e){var t=IA(e.position,2),n=t[0],r=t[1],i=e.style,o=void 0===i?{}:i,a=e.children;return u.createElement("text",{x:n,y:r,style:AA({fill:(0,f.$_)("text-medium"),fontSize:"".concat(.25,"em"),textAnchor:Math.abs(n)<5?"middle":n>0?"start":"end",transform:r>0?"translate(0,".concat(.25,"em)"):void 0},o)},a)},nD=function(e){LA(n,e);var t=zA(n);function n(){return qA(this,n),t.apply(this,arguments)}return ZA(n,[{key:"componentDidMount",value:function(){this._hideIfClipped()}},{key:"componentDidUpdate",value:function(){this._hideIfClipped()}},{key:"_hideIfClipped",value:function(){var e=In.findDOMNode(this);if(e){for(var t=e;"svg"!==t.nodeName.toLowerCase();)t=t.parentNode;var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.left>=n.left&&r.right<=n.right&&r.top>=n.top&&r.bottom<=n.bottom?e.classList.remove("hidden"):e.classList.add("hidden")}}},{key:"render",value:function(){return this.props.children}}]),n}(u.Component),rD=function(e){var t=e.direction,n=void 0===t?"left":t,r=e.onClick;return u.createElement("div",{className:"shadowed cursor-pointer text-brand-hover text-medium flex align-center circle p2 bg-white transition-background transition-color",onClick:r,style:{border:"1px solid ".concat((0,f.$_)("border")),boxShadow:"0 2px 4px 0 ".concat((0,f.$_)("shadow"))}},u.createElement(En.ZP,{name:"arrow_".concat(n)}))},iD=n(24613);var oD=n(67781);var aD,uD,lD=(0,De.Z)("div",{target:"ebtaf3g0"})({name:"1tc35q7",styles:"display:flex;width:100%;height:100%;flex-direction:column;justify-content:center;align-items:center"});function cD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sD=function(){return u.createElement(lD,null,u.createElement(iD.default,{illustrationElement:u.createElement("img",{src:oD}),title:(0,v.t)(aD||(aD=cD(["We're a little lost..."]))),message:(0,v.t)(uD||(uD=cD(["The page you asked for couldn't be found."])))}))};var fD,dD=function(e){var t=(0,u.useRef)();return(0,u.useEffect)((function(){t.current=e}),[e]),t.current},pD=n(33572),hD=n(35123),mD=n(61045);var yD=function(e){var t=e.table,n=e.question,r=t&&t.objectName();if(r)return r;var i,o,a=n&&n.displayName();return a?(0,Ni.C5)(a):(0,v.t)(fD||(i=["Unknown"],o||(o=i.slice(0)),fD=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))))};var vD,bD,gD=n(47152),wD=n.n(gD);function OD(e){return OD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OD(e)}function jD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function SD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ED(e,t){return ED=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ED(e,t)}function _D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CD(e);if(t){var i=CD(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xD(this,n)}}function xD(e,t){return!t||"object"!==OD(t)&&"function"!=typeof t?PD(e):t}function PD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CD(e){return CD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CD(e)}var kD,AD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ED(e,t)}(o,e);var t,n,r,i=_D(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).toggleExpansion=n.toggleExpansion.bind(PD(n)),n.state={expanded:!1},n}return t=o,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){void 0!==e.expanded&&this.setState({expanded:e.expanded})}},{key:"toggleExpansion",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){if(!this.props.str)return!1;var e=wD().truncate(this.props.str||"",140);return this.state.expanded?u.createElement("span",null,this.props.str," ",u.createElement("span",{className:"block mt1 link",onClick:this.toggleExpansion},(0,v.t)(vD||(vD=jD(["View less"]))))):e!==this.props.str?u.createElement("span",null,e," ",u.createElement("span",{className:"block mt1 link",onClick:this.toggleExpansion},(0,v.t)(bD||(bD=jD(["View more"]))))):u.createElement("span",null,this.props.str)}}])&&SD(t.prototype,n),r&&SD(t,r),o}(u.Component);function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DD(Object(n),!0).forEach((function(t){ID(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ID(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TD(e){return TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TD(e)}function ND(e){var t,n,r,i,o=e.column,a=e.value,l=e.isColumnName,c=e.settings,s=e.onVisualizationClick,f=e.visualizationIsClickable,d={column:null,value:null};if(l)t=null!==o?(0,Ni.jL)(o):null,d.column=o,n=!1;else{if(null==a||""===a)t=u.createElement("span",{className:"text-light"},(0,v.t)(kD||(r=["Empty"],i||(i=r.slice(0)),kD=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})))));else if((0,qi.V2)(o.semantic_type,qi.wD.SerializedJSON)){var p;try{p=JSON.stringify(JSON.parse(a),null,2)}catch(e){p=a}t=u.createElement("pre",{className:"ObjectJSON"},p)}else if("object"===TD(a)){var h=JSON.stringify(a,null,2);t=u.createElement("pre",{className:"ObjectJSON"},h)}else"string"==typeof(t=(0,Ni.Bw)(a,RD(RD({},c.column(o)),{},{jsx:!0,rich:!0})))&&(t=u.createElement(AD,{str:t,length:140}));d.column=o,d.value=a,n=(0,Mi.B5)(o)}var m=s&&f(d);return u.createElement("div",null,u.createElement("span",{className:Ze()({"cursor-pointer":m,link:m&&n}),onClick:m?function(e){s(RD(RD({},d),{},{element:e.currentTarget}))}:void 0},t))}function qD(e){var t=e.data,n=e.zoomedRow,r=e.settings,i=e.onVisualizationClick,o=e.visualizationIsClickable,a=t.rows,l=t.cols,c=n||a[0];return u.createElement(u.Fragment,null,l.map((function(e,t){return u.createElement("div",{className:"Grid Grid--1of2 mb2",key:t},u.createElement("div",{className:"Grid-cell"},u.createElement(ND,{column:e,value:c[t],isColumnName:!0,settings:r,onVisualizationClick:i,visualizationIsClickable:o})),u.createElement("div",{style:{wordWrap:"break-word"},className:"Grid-cell text-bold text-dark"},u.createElement(ND,{column:e,value:c[t],isColumnName:!1,settings:r,onVisualizationClick:i,visualizationIsClickable:o})))})))}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(AD,"defaultProps",{length:140});var MD,ZD,LD=n(86339);function BD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function zD(e){var t=e.tableForeignKeys,n=e.tableForeignKeyReferences,r=e.foreignKeyClicked;if(!t)return null;if(t.length<1)return u.createElement("p",{className:"my4 text-centered"},(0,v.t)(MD||(MD=BD(["No relationships found."]))));var i=(0,Mi.JE)(t),o=t.sort((function(e,t){return e.origin.table.display_name.localeCompare(t.origin.table.display_name)}));return u.createElement("ul",{className:"px4"},o.map((function(e){return u.createElement(HD,{key:"".concat(e.origin_id,"-").concat(e.destination_id),fk:e,fkCountInfo:null==n?void 0:n[e.origin.id],fkCount:(null==i?void 0:i[e.origin.table.id])||0,foreignKeyClicked:r})})))}var FD,QD,VD,UD=u.createElement(Pl,{className:"flex-align-right"},u.createElement(En.ZP,{name:"chevronright",size:10}));function HD(e){var t=e.fk,n=e.fkCountInfo,r=e.fkCount,i=e.foreignKeyClicked,o=(null==n?void 0:n.value)||0,a=1===(null==n?void 0:n.status),l=a&&n.value,c=t.origin.table.display_name,s=(0,LD.inflect)(c,o),f=r>1?u.createElement("span",{className:"text-medium text-normal"}," ",(0,v.t)(ZD||(ZD=BD(["via ",""])),t.origin.display_name)):null,d=Ze()("flex align-center my2 pb2 border-bottom",{"text-brand-hover cursor-pointer text-dark":l,"text-medium":!l});return u.createElement("li",{"data-testid":"fk-relation-".concat(c.toLowerCase())},u.createElement("div",{className:d,onClick:l?function(){return i(t)}:void 0},u.createElement("div",null,u.createElement("h2",null,a?o:u.createElement(An.Z,{size:25})),u.createElement("h5",{className:"block"},s,f)),!!l&&UD))}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JD=function(e){var t=e.children;return u.createElement("div",{className:"scroll-y pt2 px4","data-testid":"object-detail"},u.createElement("div",{className:"ObjectDetail bordered rounded"},t))};function XD(e){var t=e.canZoom,n=e.objectName,r=e.objectId,i=e.canZoomPreviousRow,o=e.canZoomNextRow,a=e.viewPreviousObjectDetail,l=e.viewNextObjectDetail;return u.createElement("div",{className:"Grid border-bottom relative"},u.createElement("div",{className:"Grid-cell border-right px4 py3 ml2 arrow-right"},u.createElement("div",{className:"text-brand text-bold"},u.createElement("span",null,n),u.createElement("h1",null,r))),u.createElement("div",{className:"Grid-cell flex align-center Cell--1of3 bg-alt"},u.createElement("div",{className:"p4 flex align-center text-bold text-medium"},u.createElement(En.ZP,{name:"connections",size:17}),u.createElement("div",{className:"ml2"},(0,v.jt)(FD||(FD=WD(["This "," is connected to:"])),u.createElement("span",{className:"text-dark",key:n},n))))),t&&u.createElement("div",{className:Ze()("absolute left cursor-pointer text-brand-hover lg-ml2",{disabled:!i}),"aria-disabled":!i,style:{top:"50%",transform:"translate(-50%, -50%)"},"data-testid":"view-previous-object-detail"},u.createElement(rD,{direction:"left",onClick:a})),t&&u.createElement("div",{className:Ze()("absolute right cursor-pointer text-brand-hover lg-ml2",{disabled:!o}),"aria-disabled":!o,style:{top:"50%",transform:"translate(50%, -50%)"},"data-testid":"view-next-object-detail"},u.createElement(rD,{direction:"right",onClick:l})))}function eR(e){var t=e.data,n=e.zoomedRow,r=e.settings,i=e.onVisualizationClick,o=e.visualizationIsClickable,a=e.tableForeignKeys,l=e.tableForeignKeyReferences,c=e.followForeignKey;return u.createElement("div",{className:"Grid"},u.createElement("div",{className:"Grid-cell p4",style:{marginLeft:"2.4rem",fontSize:"1rem"}},u.createElement(qD,{data:t,zoomedRow:n,settings:r,onVisualizationClick:i,visualizationIsClickable:o})),u.createElement("div",{className:"Grid-cell Cell--1of3 bg-alt"},u.createElement(zD,{tableForeignKeys:a,tableForeignKeyReferences:l,foreignKeyClicked:c})))}var tR,nR,rR,iR,oR,aR,uR,lR,cR,sR,fR,dR,pR,hR,mR,yR={uiName:(0,v.t)(QD||(QD=WD(["Object Detail"]))),identifier:"object",iconName:"document",noun:(0,v.t)(VD||(VD=WD(["object"]))),hidden:!0,settings:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){GD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},La({hidden:!0}))},vR=Object.assign((0,_.connect)((function(e,t){var n=t.data,r=(0,mD.Kg)(e),i=null!=r;i||(r=function(e){var t=e.data,n=e.zoomedRowID;if(!t)return null;if(n)return n;var r=t.cols,i=t.rows,o=x.ZP.findIndex(r,(function(e){return(0,Mi.Vm)(e)}));return i[0][o]}({data:n}));var o=i?(0,mD.i0)(e):function(e){return 1===e.rows.length?e.rows[0]:null}(n),a=!!i&&(0,mD.K6)(e),u=!!i&&(0,mD.pD)(e);return{question:(0,mD.a5)(e),table:(0,mD.g_)(e),tableForeignKeys:(0,mD.mX)(e),tableForeignKeyReferences:(0,mD.S1)(e),zoomedRowID:r,zoomedRow:o,canZoom:i&&!!o,canZoomPreviousRow:a,canZoomNextRow:u}}),(function(e){return{fetchTableFks:function(t){return e(pD.ZP.objectActions.fetchForeignKeys({id:t}))},loadObjectDetailFKReferences:function(t){return e((0,hD.loadObjectDetailFKReferences)(t))},followForeignKey:function(t){var n=t.objectId,r=t.fk;return e((0,hD.followForeignKey)({objectId:n,fk:r}))},viewPreviousObjectDetail:function(){return e((0,hD.viewPreviousObjectDetail)())},viewNextObjectDetail:function(){return e((0,hD.viewNextObjectDetail)())}}}))((function(e){var t,n=e.data,r=e.question,i=e.table,o=e.zoomedRow,a=e.zoomedRowID,l=e.tableForeignKeys,c=e.tableForeignKeyReferences,s=e.settings,f=e.canZoom,d=e.canZoomPreviousRow,p=e.canZoomNextRow,h=e.onVisualizationClick,m=e.visualizationIsClickable,y=e.fetchTableFks,v=e.loadObjectDetailFKReferences,b=e.followForeignKey,g=e.viewPreviousObjectDetail,w=e.viewNextObjectDetail,O=$D((0,u.useState)(!1),2),j=O[0],S=O[1],E=dD(n),_=dD(l),x=(0,u.useCallback)((function(){a&&v({objectId:a})}),[a,v]);t=function(){if(!n||null==a||o)return i&&null==i.fks&&y(i.id),l&&x(),window.addEventListener("keydown",C,!0),function(){window.removeEventListener("keydown",C,!0)};S(!0)},(0,u.useEffect)((function(){return t()}),[]),(0,u.useEffect)((function(){!E&&n&&(null!=a&&!o)&&S(!0)}),[n,E,a,o]),(0,u.useEffect)((function(){(n!==E||!_&&l)&&x()}),[l,n,E,_,x]);var P=(0,u.useCallback)((function(e){b({objectId:a,fk:e})}),[a,b]),C=function(e){"ArrowLeft"===e.key&&g(),"ArrowRight"===e.key&&w()};if(!n)return null;if(j)return u.createElement(sD,null);var k=yD({table:i,question:r});return u.createElement(JD,null,u.createElement(XD,{canZoom:f,objectName:k,objectId:a,canZoomPreviousRow:d,canZoomNextRow:p,viewPreviousObjectDetail:g,viewNextObjectDetail:w}),u.createElement(eR,{data:n,zoomedRow:o,settings:s,onVisualizationClick:h,visualizationIsClickable:m,tableForeignKeys:l,tableForeignKeyReferences:c,followForeignKey:P}))})),yR),bR=vR,gR=n(98399);function wR(e){return wR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wR(e)}function OR(e){return ER(e)||IR(e)||NR(e)||SR()}function jR(e,t){return ER(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||NR(e,t)||SR()}function SR(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ER(e){if(Array.isArray(e))return e}function _R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PR(e,t){return PR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},PR(e,t)}function CR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=DR(e);if(t){var i=DR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kR(this,n)}}function kR(e,t){return!t||"object"!==wR(t)&&"function"!=typeof t?AR(e):t}function AR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DR(e){return DR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},DR(e)}function RR(e){return function(e){if(Array.isArray(e))return qR(e)}(e)||IR(e)||NR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IR(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function TR(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=NR(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function NR(e,t){if(e){if("string"==typeof e)return qR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qR(e,t):void 0}}function qR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MR(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BR(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zR=function(e){return e?(0,f._j)("white",.01):(0,f.$n)("brand",.65)},FR=function(e){return e?(0,f._j)("white",.035):(0,f.$n)("brand",.6)},QR=[{name:"rows",columnFilter:Mi.vM,title:(0,v.jt)(tR||(tR=BR(["Fields to use for the table ",""])),u.createElement("span",{className:"text-dark text-heavy"},(0,v.t)(nR||(nR=BR(["rows"])))))},{name:"columns",columnFilter:Mi.vM,title:(0,v.jt)(rR||(rR=BR(["Fields to use for the table ",""])),u.createElement("span",{className:"text-dark text-heavy"},(0,v.t)(iR||(iR=BR(["columns"])))))},{name:"values",columnFilter:function(e){return!(0,Mi.vM)(e)},title:(0,v.jt)(oR||(oR=BR(["Fields to use for the table ",""])),u.createElement("span",{className:"text-dark text-heavy"},(0,v.t)(aR||(aR=BR(["values"])))))}],VR=25,UR=145,HR=(0,_.connect)((function(e){return{hasCustomColors:d.SH.getHasCustomColors(e)}}))((cR=lR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PR(e,t)}(o,e);var t,n,r,i=CR(o);function o(){var e;_R(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LR(AR(e=i.call.apply(i,[this].concat(n))),"setBodyRef",(function(t){e.bodyRef=t})),e}return t=o,n=[{key:"getColumnTitle",value:function(e){var t=this.props,n=t.data,r=t.settings,i=n.cols.filter((function(e){return!(0,df.Q4)(e)})),o=r.column(i[e]),a=o.column;return o.column_title||(0,Ni.jL)(a)}},{key:"isColumnCollapsible",value:function(e){var t=this.props,n=t.data,r=t.settings,i=n.cols.filter((function(e){return!(0,df.Q4)(e)}));return r.column(i[e])[df.u6]}},{key:"componentDidUpdate",value:function(){this.leftHeaderRef&&this.leftHeaderRef.recomputeCellSizesAndPositions(),this.topHeaderRef&&this.topHeaderRef.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.settings,r=t.data,i=t.width,o=t.hasCustomColors,a=t.onUpdateVisualizationSettings;if(null==r||!r.cols.some(df.Q4))return null;var c,s=this.bodyRef&&(0,In.findDOMNode)(this.bodyRef);function f(){if(!s)return 0;var e=(0,l.XM)();return s.scrollWidth>parseInt(s.style.width)&&e>0?e:0}try{c=(0,df.ZW)(r,n)}catch(e){gR.warn(e)}var d=c,p=d.leftHeaderItems,h=d.topHeaderItems,m=d.rowCount,y=d.columnCount,v=d.rowIndex,b=d.getRowSection,g=d.rowIndexes,w=d.columnIndexes,O=d.valueIndexes,j=function(t){var r=t.index,i=t.key,l=t.style,c=p[r],s=c.value,f=c.isSubtotal,d=c.isGrandTotal,h=c.hasChildren,m=c.hasSubtotal,y=c.depth,b=c.path,g=c.clicked;return u.createElement("div",{key:i,style:ZR(ZR({},l),{},{backgroundColor:zR(o)}),className:Ze()("overflow-hidden",{"border-right border-medium":!h})},u.createElement(GR,{style:0===y?{paddingLeft:24}:{},value:s,isSubtotal:f,isGrandTotal:d,hasCustomColors:o,onClick:e.getCellClickHander(g),icon:(f||m)&&u.createElement(YR,{value:b,settings:n,updateSettings:a,hideUnlessCollapsed:f,rowIndex:v})}))},S=function(e){var t=e.index,n=p[t],r=n.offset,i=n.span,o=n.depth,a=n.maxDepthBelow;return{height:i*VR,width:(g.length-o-a)*UR+(0===o?24:0),x:o*UR+(o>0?24:0),y:r*VR}},E=w.length+(O.length>1?1:0)||1,_=E*VR,x=function(t){var n=t.index,r=t.key,i=t.style,o=h[n],a=o.value,l=o.hasChildren,c=o.clicked;return u.createElement("div",{key:r,style:i,className:Ze()("px1 flex align-center cursor-pointer",{"border-bottom border-medium":!l}),onClick:e.getCellClickHander(c)},u.createElement("div",{className:Ze()("flex flex-full full-height align-center",{"border-bottom":l}),style:{width:"100%"}},u.createElement(Ti.default,null,a)))},P=function(e){var t=e.index,n=h[t],r=n.offset,i=n.span,o=n.maxDepthBelow;return{height:VR,width:100*i,x:100*r,y:(E-o-1)*VR}},C=g.length>0?24+g.length*UR:0,k=function(t){var n=t.key,r=t.style,i=t.rowIndex,a=t.columnIndex;return u.createElement("div",{key:n,style:r,className:"flex"},b(a,i).map((function(t,n){var r=t.value,i=t.isSubtotal,a=t.isGrandTotal,l=t.clicked;return u.createElement(GR,{key:n,value:r,isSubtotal:i,isGrandTotal:a,hasCustomColors:o,isBody:!0,onClick:e.getCellClickHander(l)})})))};return u.createElement("div",{className:"no-outline text-small full-height"},u.createElement(pc.Ew,null,(function(t){var r=t.onScroll,l=t.scrollLeft,c=t.scrollTop;return u.createElement("div",{className:"full-height flex flex-column"},u.createElement("div",{className:"flex",style:{height:_}},u.createElement("div",{className:Ze()("flex align-end",{"border-right border-bottom border-medium":C}),style:{backgroundColor:zR(o),paddingLeft:C&&24,width:C,height:_}},g.map((function(t,r){return u.createElement(GR,{key:t,value:e.getColumnTitle(t),style:{width:UR},hasCustomColors:o,icon:r<g.length-1&&e.isColumnCollapsible(t)&&u.createElement(YR,{value:r+1,settings:n,updateSettings:a,hasCustomColors:o})})}))),u.createElement(pc.FE,{ref:function(t){return e.topHeaderRef=t},className:"scroll-hide-all text-medium",width:i-C,height:_,cellCount:h.length,cellRenderer:x,cellSizeAndPositionGetter:P,onScroll:function(e){var t=e.scrollLeft;return r({scrollLeft:t})},scrollLeft:l})),u.createElement("div",{className:"flex flex-full"},u.createElement("div",{style:{width:C}},u.createElement(pc.qj,{disableWidth:!0},(function(t){var n=t.height;return u.createElement(pc.FE,{ref:function(t){return e.leftHeaderRef=t},className:"scroll-hide-all",cellCount:p.length,cellRenderer:j,cellSizeAndPositionGetter:S,width:C,height:n-f(),scrollTop:c,onScroll:function(e){var t=e.scrollTop;return r({scrollTop:t})}})}))),u.createElement("div",null,u.createElement(pc.qj,{disableWidth:!0},(function(t){var n=t.height;return u.createElement(pc.rj,{width:i-C,height:n,className:"text-dark",rowCount:m,columnCount:y,rowHeight:VR,columnWidth:100*O.length,cellRenderer:k,onScroll:function(e){var t=e.scrollLeft,n=e.scrollTop;return r({scrollLeft:t,scrollTop:n})},ref:e.setBodyRef,scrollTop:c,scrollLeft:l})})))))})))}},{key:"getCellClickHander",value:function(e){var t=this;return e?function(n){return t.props.onVisualizationClick(ZR(ZR({},e),{},{event:n.nativeEvent,settings:t.props.settings}))}:null}}],r=[{key:"isLiveResizable",value:function(e){return!1}},{key:"databaseSupportsPivotTables",value:function(e){return!e||!e.database||null==e.database()||e.database().supportsPivots()}},{key:"isSensible",value:function(e,t){var n=e.cols;return n.length>=2&&n.every(KR)&&this.databaseSupportsPivotTables(t)}},{key:"checkRenderable",value:function(e,t,n){var r=jR(e,1)[0],i=r.data;if(r.card,i.cols.length<2||!i.cols.every(KR))throw new Error((0,v.t)(sR||(sR=BR(["Pivot tables can only be used with aggregated queries."]))));if(!this.databaseSupportsPivotTables(n))throw new Error((0,v.t)(fR||(fR=BR(["This database does not support pivot tables."]))))}},{key:"seriesAreCompatible",value:function(e,t){return!1}}],n&&xR(t.prototype,n),r&&xR(t,r),o}(u.Component),LR(lR,"uiName",(0,v.t)(dR||(dR=BR(["Pivot Table"])))),LR(lR,"identifier","pivot"),LR(lR,"iconName","pivot_table"),LR(lR,"settings",ZR(ZR({},La({hidden:!0})),{},(LR(pR={},df.FU,{hidden:!0,readDependencies:[df.fE],getValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[df.FU]||{},r=n.rows,i=n.value,o=t[df.fE]||{},a=o.rows;return x.ZP.isEqual(r,a)?{rows:r,value:i}:{value:[],rows:a}}}),LR(pR,df.fE,{section:null,widget:"fieldsPartition",persistDefault:!0,getHidden:function(e){var t=jR(e,1)[0].data;return!t||t.cols.some((function(e){return!KR(e)}))},getProps:function(e,t){var n=jR(e,1)[0].data;return{partitions:QR,columns:null==n?[]:n.cols,settings:t}},getValue:function(e){var t=jR(e,1),n=t[0],r=n.data,i=n.card,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o[df.fE];if(null!=r){var u,l=r.cols.filter((function(e){return!(0,df.Q4)(e)}));if(null==a){var c,s,f=x.ZP.partition(l,Mi.vM),d=jR(f,2),p=d[0],h=d[1],m=x.ZP.sortBy(p,(function(e){return(0,b.getIn)(e,["fingerprint","global","distinct-count"])})),y=OR(m),v=y[0],g=y[1],w=y.slice(2);p.length<2?(s=[],c=[v]):p.length<=3?(s=[v],c=[g].concat(RR(w))):(s=[v,g],c=w),u=x.ZP.mapObject({rows:c,columns:s,values:h},(function(e){return e.map((function(e){return e.field_ref}))}))}else u=WR(a,l);return $R(u,i)}}}),pR))),LR(lR,"columnSettings",(LR(mR={column_title:{title:(0,v.t)(hR||(hR=BR(["Column title"]))),widget:"input",getDefault:function(e){return(0,Ni.jL)(e)}}},df.u6,{hidden:!0,getValue:function(e,t,n){var r=n.settings,i=t[df.u6],o=r[df.fE].rows||[];return o.slice(0,o.length-1).some((function(t){return x.ZP.isEqual(t,e.field_ref)}))?null==i||i:null}}),LR(mR,df.FG,{hidden:!0}),mR)),uR=cR))||uR;function YR(e){var t=e.value,n=e.settings,r=e.updateSettings,i=e.hideUnlessCollapsed,o=e.rowIndex,a=e.hasCustomColors;if(null==t)return null;var l=n[df.FU],c=JSON.stringify(t),s=!Array.isArray(t),f=s?null:JSON.stringify(t.length),d=l.value||[],p=!s&&d.includes(f),h=d.includes(c)||p;if(i&&!h)return null;var m=s&&!h?function(e){return e.filter((function(e){var n=JSON.parse(e);return!(Array.isArray(n)&&n.length===t)})).concat(c)}:!s&&p?function(e){return e.filter((function(e){return e!==f})).concat(o.filter((function(e){return e.length===t.length&&!x.ZP.isEqual(e,t)})).map((function(e){return JSON.stringify(e)})))}:h?function(e){return e.filter((function(e){return e!==c}))}:function(e){return e.concat(c)};return u.createElement("div",{className:Ze()("flex align-center cursor-pointer text-brand-hover text-light"),style:{padding:"4px",borderRadius:"4px",backgroundColor:h?zR(a):FR(a)},onClick:function(e){e.stopPropagation(),r(LR({},df.FU,(0,b.updateIn)(l,["value"],m)))}},u.createElement(En.ZP,{name:h?"add":"dash",size:8}))}function GR(e){var t=e.value,n=e.isSubtotal,r=e.isGrandTotal,i=e.onClick,o=e.style,a=e.isBody,l=void 0!==a&&a,c=e.className,s=e.icon,f=e.hasCustomColors;return u.createElement("div",{style:ZR(ZR(ZR({lineHeight:"".concat(VR,"px")},r?{borderTop:"1px solid white"}:{}),o),n?{backgroundColor:FR(f)}:{}),className:Ze()("shrink-below-content-size flex-full flex-basis-none TableInteractive-cellWrapper",c,{"text-bold":n,"cursor-pointer":i}),onClick:i},u.createElement("div",{className:Ze()("px1 flex align-center",{"justify-end":l})},u.createElement(Ti.default,null,t),s&&u.createElement("div",{className:"pl1"},s)))}function WR(e,t){var n,r=t.map((function(e){return JSON.stringify(e.field_ref)})),i=Object.values(e).flatMap((function(e){return e.map((function(e){return JSON.stringify(e)}))})),o=x.ZP.difference(r,i),a=x.ZP.difference(i,r),u=x.ZP.mapObject(e,(function(e){return e.filter((function(e){return!a.includes(JSON.stringify(e))}))})),l=TR(o);try{var c=function(){var e,r=n.value,i=TR(QR);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=o.columnFilter,l=o.name,c=t.find((function(e){return JSON.stringify(e.field_ref)===r}));if(null==a||a(c)){u[l]=[].concat(RR(u[l]),[c.field_ref]);break}}}catch(e){i.e(e)}finally{i.f()}};for(l.s();!(n=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}return u}function $R(e,t){var n=(0,b.getIn)(t,["dataset_query","query","breakout"])||[];if(n.length<=e.columns.length+e.rows.length)return e;var r=WR(e,n.map((function(e){return{field_ref:e}}))),i=r.columns,o=r.rows;return ZR(ZR({},e),{},{columns:i,rows:o})}function KR(e){return"aggregation"===e.source||"breakout"===e.source||(0,df.Q4)(e)}var JR=n(65340),XR=n(90635),eI=n(36764),tI=n(34159),nI=n(72740),rI=n(27130),iI=n.n(rI),oI=n(14424),aI=n.n(oI);function uI(e){return uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uI(e)}var lI=!("object"!==("undefined"==typeof window?"undefined":uI(window))||!(window.location&&"#debug"===window.location.hash||l.p_&&window.localStorage.getItem("debug")));function cI(e){return function(e){if(Array.isArray(e))return sI(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fI(Object(n),!0).forEach((function(t){pI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hI=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(Object.assign(t,{action:function(e,n){return t({type:e,payload:n})}}),n):e(r)}}},mI=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e};var yI=n(2009),vI=n(95129),bI=n.n(vI),gI=n(26907),wI=window.MetabaseRoot.replace(/\/+$/,"");XR.ZP.basename=wI;var OI=(0,w.k0)(yI.fi)({basename:wI}),jI={space:[4,8,16,32,64,128]};function SI(e,t,n){var r,i=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},i=(0,tI.combineReducers)(dI(dI({},e),{},{form:nI.I6,routing:Mn.mg})),o=[hI,iI()].concat(cI(lI?[aI()]:[]),cI(t?[(0,Mn.zk)(t)]:[]));return(0,tI.createStore)(i,n,(0,tI.compose)(tI.applyMiddleware.apply(void 0,cI(o)),mI,r))}(e,OI),o=t(i),a=(0,Mn.h1)(OI,i);(0,Jf.Se)(i),In.render(u.createElement(_.Provider,{store:i,ref:function(e){return r=e}},u.createElement(gI.G_,{backend:bI(),context:{window:window}},u.createElement(JR.a,{theme:jI},u.createElement(w.F0,{history:a},o)))),document.getElementById("root")),(0,Ii.registerVisualization)(bu),(0,Ii.registerVisualization)(vl),(0,Ii.registerVisualization)(Kl),(0,Ii.registerVisualization)(JA),(0,Ii.registerVisualization)(bh),(0,Ii.registerVisualization)($h),(0,Ii.registerVisualization)(BO),(0,Ii.registerVisualization)(a_),(0,Ii.registerVisualization)(uj),(0,Ii.registerVisualization)(gj),(0,Ii.registerVisualization)(v_),(0,Ii.registerVisualization)(Vj),(0,Ii.registerVisualization)(LC),(0,Ii.registerVisualization)(YE),(0,Ii.registerVisualization)(CC),(0,Ii.registerVisualization)(yA),(0,Ii.registerVisualization)(bR),(0,Ii.registerVisualization)(HR),(0,Ii.setDefaultVisualization)(bh),(0,eI.B)(i),i.dispatch((0,A.GC)()),d.QB.forEach((function(e){return e({root:r})})),window.Metabase=window.Metabase||{},window.Metabase.store=i,window.Metabase.settings=g.Z,n&&n(i)}var EI=n(41646),_I=n(98007),xI=function(e){var t=e.title,n=e.description,r=e.className;return u.createElement("div",{className:Ze()("flex align-center",r)},u.createElement("h2",{className:"h2 mr1 text-wrap"},t),n&&u.createElement($a.Z,{tooltip:n,maxWidth:"22em"},u.createElement(En.ZP,{name:"info",className:"mx1"})))},PI=u.memo(xI),CI=n(82646),kI=n(698),AI=n(35150);var DI,RI,II=(0,De.Z)("div",{target:"e14vg10w2"})({name:"1v0pok0",styles:"min-width:300px"}),TI=((0,De.Z)("div",{target:"e14vg10w1"})("border-top:1px solid ",(0,f.$_)("border"),";padding:",(0,Re.D)(1),";display:grid;grid-template-columns:1fr 1fr;align-items:center;"),(0,De.Z)(Ce.Z,{target:"e14vg10w0"})({name:"1yc9krx",styles:"justify-self:end;grid-column-start:2"}));function NI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function qI(e){return zI(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||LI(e)||ZI()}function MI(e,t){return zI(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||LI(e,t)||ZI()}function ZI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function LI(e,t){if(e){if("string"==typeof e)return BI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BI(e,t):void 0}}function BI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zI(e){if(Array.isArray(e))return e}TI.defaultProps={purple:!0};function FI(e){return function(t){var n=(0,Pu.LV)(t);if(n){var r=MI((0,Pu.iv)(t),2),i=r[0],o=r[1];return e(i,o,{startingFrom:n})}return e(t[2],t[3],t[4]||{})}}var QI={previous:FI((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.startingFrom){var r=MI(n.startingFrom,2),i=r[0],o=r[1];return"past".concat(-e).concat(t,"s-from-").concat(i).concat(o,"s")}return"past".concat(-e).concat(t,"s").concat(n["include-current"]?"~":"")})),next:FI((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.startingFrom){var r=MI(n.startingFrom,2),i=r[0],o=r[1];return"next".concat(e).concat(t,"s-from-").concat(-i).concat(o,"s")}return"next".concat(e).concat(t,"s").concat(n["include-current"]?"~":"")})),current:FI((function(e,t){return"this".concat(t)})),before:FI((function(e){return"~".concat(e)})),after:FI((function(e){return"".concat(e,"~")})),on:FI((function(e){return"".concat(e)})),between:FI((function(e,t){return"".concat(e,"~").concat(t)})),exclude:function(e){var t=qI(e),n=(t[0],t[1],t.slice(2)),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return AI.Nt.find((function(t){return t.test(e)}))}(e);if(!r)return"";var i=r.getOptions().flat().filter((function(e){var t=e.test;return!!x.ZP.find(n,(function(e){return t(e)}))}));return"exclude-".concat(r.name,"-").concat(i.map((function(e){return e.serialized})).join("-"))}};function VI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return kI.ct.find((function(t){return t.test(e)}))}var UI=new Set(["exclude","before","after","on","empty","not-empty"]);var HI=function(e){var t=e.setValue,n=e.onClose,r=e.disableOperatorSelection,i=e.value,o=MI((0,u.useState)(null!=i&&(0,CI.Qc)(i,null)||[]),2),a=o[0],l=o[1],c=function(e){t(function(e){var t=VI(e);return t?QI[t.name](e):null}(e||a)),null==n||n()};return u.createElement(II,null,u.createElement(kI.ZP,{filter:a,onFilterChange:l,onCommit:c,hideTimeSelectors:!0,hideEmptinessOperators:!0,disableOperatorSelection:r},u.createElement(TI,{className:Ze()({disabled:!a.slice(2).every((function(e){return null!=e}))}),onClick:function(){return c()}},(0,v.t)(RI||(RI=NI(["Update filter"]))))))};HI.format=function(e){if(null==e)return null;var t=(0,CI.Qc)(e,null);return t?function(e){var t,n=(0,Pu.mc)(e),r=n.length>2?(0,v.t)(DI||(DI=NI([""," selections"])),n.length):n.join("!="===e[0]?", ":" - "),i=VI(e);return(i&&UI.has(i.name)?"".concat(null!==(t=i.displayPrefix)&&void 0!==t?t:i.displayName," "):"")+r}(t):null};var YI=HI,GI=["value"];function WI(){return WI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(this,arguments)}function $I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var KI=function(e){var t=e.value,n=$I(e,GI),r=null==t?Ji()().format("YYYY-MM-DD"):t;return u.createElement(YI,WI({},n,{value:r,disableOperatorSelection:!0}))};KI.format=function(e){return e?Ji()(e).format("MMMM D, YYYY"):""};var JI=KI,XI=["value"];function eT(){return eT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eT.apply(this,arguments)}function tT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iT=function(e){var t=e.value,n=tT(e,XI),r=null==t?"".concat(Ji()().format("YYYY-MM-DD"),"~").concat(Ji()().format("YYYY-MM-DD")):t;return u.createElement(YI,eT({},n,{value:r,disableOperatorSelection:!0}))};iT.format=function(e){var t=function(e){var t=nT((e||"").split("~"),2);return{start:t[0],end:t[1]}}(e),n=t.start,r=t.end;return n&&r?Ji()(n).format("MMMM D, YYYY")+" - "+Ji()(r).format("MMMM D, YYYY"):""};var oT,aT,uT,lT,cT,sT,fT,dT,pT,hT,mT,yT,vT,bT,gT,wT,OT,jT,ST,ET,_T,xT,PT,CT=iT;function kT(e){return kT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(e)}function AT(e){return function(e){if(Array.isArray(e))return DT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return DT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TT(e,t,n){return t&&IT(e.prototype,t),n&&IT(e,n),e}function NT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qT(e,t)}function qT(e,t){return qT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qT(e,t)}function MT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BT(e);if(t){var i=BT(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZT(this,n)}}function ZT(e,t){return!t||"object"!==kT(t)&&"function"!=typeof t?LT(e):t}function LT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BT(e){return BT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BT(e)}function zT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QT=[{name:(0,v.t)(oT||(oT=FT(["Today"]))),operator:["=","<",">"],values:[["relative-datetime","current"]]},{name:(0,v.t)(aT||(aT=FT(["Yesterday"]))),operator:["=","<",">"],values:[["relative-datetime",-1,"day"]]},{name:(0,v.t)(uT||(uT=FT(["Past 7 days"]))),operator:"time-interval",values:[-7,"day"]},{name:(0,v.t)(lT||(lT=FT(["Past 30 days"]))),operator:"time-interval",values:[-30,"day"]}],VT=(zT(vT={},(0,v.t)(cT||(cT=FT(["Last"]))),[{name:(0,v.t)(sT||(sT=FT(["Week"]))),operator:"time-interval",values:["last","week"]},{name:(0,v.t)(fT||(fT=FT(["Month"]))),operator:"time-interval",values:["last","month"]},{name:(0,v.t)(dT||(dT=FT(["Year"]))),operator:"time-interval",values:["last","year"]}]),zT(vT,(0,v.t)(pT||(pT=FT(["This"]))),[{name:(0,v.t)(hT||(hT=FT(["Week"]))),operator:"time-interval",values:["current","week"]},{name:(0,v.t)(mT||(mT=FT(["Month"]))),operator:"time-interval",values:["current","month"]},{name:(0,v.t)(yT||(yT=FT(["Year"]))),operator:"time-interval",values:["current","year"]}]),vT),UT=function(e){NT(n,e);var t=MT(n);function n(e,r){var i;return RT(this,n),i=t.call(this,e,r),x.ZP.bindAll(LT(i),"isSelectedShortcut","onSetShortcut"),i}return TT(n,[{key:"isSelectedShortcut",value:function(e){var t=this.props.filter;return(Array.isArray(e.operator)?x.ZP.contains(e.operator,t[0]):t[0]===e.operator)&&x.ZP.isEqual(t.slice(2),e.values)}},{key:"onSetShortcut",value:function(e){var t,n=this.props.filter;t=Array.isArray(e.operator)?x.ZP.contains(e.operator,n[0])?n[0]:e.operator[0]:e.operator,this.props.onFilterChange([t,n[1]].concat(AT(e.values)))}},{key:"render",value:function(){var e=this;return u.createElement("div",{className:"p1 pt2"},u.createElement("section",null,QT.map((function(t,n){return u.createElement("span",{key:n,className:Ze()("inline-block half pb1",{pr1:n%2==0})},u.createElement("button",{key:n,className:Ze()("Button Button-normal Button--medium text-normal text-centered full",{"Button--purple":e.isSelectedShortcut(t)}),onClick:function(){return e.onSetShortcut(t)}},t.name))}))),Object.keys(VT).map((function(t){return u.createElement("section",{key:t},u.createElement("div",{style:{},className:"border-bottom text-uppercase flex layout-centered mb2"},u.createElement("h6",{style:{position:"relative",backgroundColor:"white",top:"6px"},className:"px2"},t)),u.createElement("div",{className:"flex"},VT[t].map((function(n,r){return u.createElement("button",{key:r,"data-ui-tag":"relative-date-shortcut-"+t.toLowerCase()+"-"+n.name.toLowerCase(),className:Ze()("Button Button-normal Button--medium flex-full mb1",{"Button--purple":e.isSelectedShortcut(n),mr1:r!==VT[t].length-1}),onClick:function(){return e.onSetShortcut(n)}},n.name)}))))})))}}]),n}(u.Component);zT(UT,"propTypes",{filter:E().array.isRequired,onFilterChange:E().func.isRequired});var HT={today:{name:(0,v.t)(bT||(bT=FT(["Today"]))),mapping:["=",null,["relative-datetime","current"]]},yesterday:{name:(0,v.t)(gT||(gT=FT(["Yesterday"]))),mapping:["=",null,["relative-datetime",-1,"day"]]},past7days:{name:(0,v.t)(wT||(wT=FT(["Past 7 Days"]))),mapping:["time-interval",null,-7,"day"]},past30days:{name:(0,v.t)(OT||(OT=FT(["Past 30 Days"]))),mapping:["time-interval",null,-30,"day"]},lastweek:{name:(0,v.t)(jT||(jT=FT(["Last Week"]))),mapping:["time-interval",null,"last","week"]},lastmonth:{name:(0,v.t)(ST||(ST=FT(["Last Month"]))),mapping:["time-interval",null,"last","month"]},lastyear:{name:(0,v.t)(ET||(ET=FT(["Last Year"]))),mapping:["time-interval",null,"last","year"]},thisweek:{name:(0,v.t)(_T||(_T=FT(["This Week"]))),mapping:["time-interval",null,"current","week"]},thismonth:{name:(0,v.t)(xT||(xT=FT(["This Month"]))),mapping:["time-interval",null,"current","month"]},thisyear:{name:(0,v.t)(PT||(PT=FT(["This Year"]))),mapping:["time-interval",null,"current","year"]}},YT=function(e){NT(n,e);var t=MT(n);function n(e,r){var i;return RT(this,n),(i=t.call(this,e,r)).state={},i}return TT(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.setValue,r=e.onClose;return u.createElement("div",{className:"px1",style:{maxWidth:300}},u.createElement(UT,{filter:HT[t]?HT[t].mapping:[null,null],onFilterChange:function(e){n(x.ZP.findKey(HT,(function(t){return x.ZP.isEqual(t.mapping,e)}))),r()}}))}}]),n}(u.Component);zT(YT,"propTypes",{}),zT(YT,"defaultProps",{}),zT(YT,"format",(function(e){return HT[e]?HT[e].name:""}));var GT=x.ZP.range((new Date).getFullYear(),1900,-1),WT=function(e){var t=e.value,n=e.onChange;return u.createElement(tt.ZP,{className:"borderless",value:t,options:GT,optionNameFn:function(e){return e},optionValueFn:function(e){return e},onChange:function(e){var t=e.target.value;return n(t)}})};var $T=(0,De.Z)("div",{target:"ephti3c1"})({name:"1t9o4as",styles:"display:flex;flex-wrap:wrap;width:100%;padding:0.5rem"}),KT=(0,De.Z)("div",{target:"ephti3c0"})({name:"1pef44e",styles:"display:flex;justify-content:center;align-items:center;width:33.33%"});function JT(e){return JT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JT(e)}function XT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eN(e,t){return eN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eN(e,t)}function tN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rN(e);if(t){var i=rN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nN(this,n)}}function nN(e,t){return!t||"object"!==JT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rN(e){return rN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rN(e)}function iN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eN(e,t)}(o,e);var t,n,r,i=tN(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e,t);var r=Ji()(n.props.value,"YYYY-MM");return r.isValid()?n.state={month:r.month(),year:r.year()}:n.state={month:null,year:Ji()().year()},n}return t=o,n=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.month,n=e.year;if(null!=t&&null!=n){var r=Ji()().year(n).month(t).format("YYYY-MM");this.props.value!==r&&this.props.setValue(r)}}},{key:"render",value:function(){var e=this,t=this.props.onClose,n=this.state,r=n.month,i=n.year;return u.createElement("div",{style:{maxWidth:320}},u.createElement("div",{className:"border-bottom flex justify-center py1"},u.createElement(WT,{value:i,onChange:function(t){return e.setState({year:t})}})),u.createElement($T,null,x.ZP.range(0,12).map((function(n){return u.createElement(KT,{key:n},u.createElement(uN,{month:n,selected:n===r,onClick:function(){return e.setState({month:n},t)}}))}))))}}],n&&XT(t.prototype,n),r&&XT(t,r),o}(u.Component);iN(oN,"propTypes",{}),iN(oN,"defaultProps",{}),iN(oN,"format",(function(e){var t=Ji()(e,"YYYY-MM");return t.isValid()?t.format("MMMM, YYYY"):""}));var aN,uN=function(e){var t=e.month,n=e.selected,r=e.onClick;return u.createElement("div",{className:Ze()("cursor-pointer text-bold full text-centered py1 px2 circular my1",{"bg-light-hover":!n,"text-white bg-brand":n}),onClick:r},Ji()().month(t).format("MMMM"))};function lN(e){return lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lN(e)}function cN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sN(e,t){return sN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sN(e,t)}function fN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pN(e);if(t){var i=pN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dN(this,n)}}function dN(e,t){return!t||"object"!==lN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pN(e){return pN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pN(e)}function hN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mN,yN,vN=(0,v.t)(aN||(mN=["[Q]Q"],yN||(yN=mN.slice(0)),aN=Object.freeze(Object.defineProperties(mN,{raw:{value:Object.freeze(yN)}})))),bN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sN(e,t)}(o,e);var t,n,r,i=fN(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,e,t);var r=Ji()(n.props.value,"[Q]Q-YYYY");return r.isValid()?n.state={quarter:r.quarter(),year:r.year()}:n.state={quarter:null,year:Ji()().year()},n}return t=o,n=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.quarter,n=e.year;if(null!=t&&null!=n){var r=Ji()().year(n).quarter(t).format("[Q]Q-YYYY");this.props.value!==r&&this.props.setValue(r)}}},{key:"render",value:function(){var e=this,t=this.props.onClose,n=this.state,r=n.quarter,i=n.year;return u.createElement("div",{className:"py2"},u.createElement("div",{className:"flex flex-column align-center px1"},u.createElement(WT,{value:i,onChange:function(t){return e.setState({year:t})}})),u.createElement("ol",{className:"flex flex-wrap bordered mx2 text-bold rounded",style:{width:150}},x.ZP.range(1,5).map((function(n){return u.createElement(ON,{key:n,quarter:n,selected:n===r,onClick:function(){return e.setState({quarter:n},t)}})}))))}}],n&&cN(t.prototype,n),r&&cN(t,r),o}(u.Component);hN(bN,"propTypes",{}),hN(bN,"defaultProps",{}),hN(bN,"format",(function(e){var t=Ji()(e,"[Q]Q-YYYY");return t.isValid()?t.format("[Q]Q, YYYY"):""}));var gN,wN,ON=function(e){var t=e.quarter,n=e.selected,r=e.onClick;return u.createElement("li",{className:Ze()("cursor-pointer bg-brand-hover text-white-hover flex layout-centered",{"bg-brand text-white":n}),style:{width:75,height:75},onClick:r},Ji()().quarter(t).format(vN))};function jN(e){return jN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jN(e)}function SN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function EN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _N(e,t){return _N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_N(e,t)}function xN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CN(e);if(t){var i=CN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return PN(this,n)}}function PN(e,t){return!t||"object"!==jN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CN(e){return CN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CN(e)}function kN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_N(e,t)}(o,e);var t,n,r,i=xN(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=i.call(this,e,t)).state={value:e.value,isFocused:!1},n}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.props.value!==e.value&&this.setState({value:e.value},(function(){(0,l.TY)(In.findDOMNode(t))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.setValue,r=t.className,i=t.isEditing,o=t.focusChanged,a=t.disabled,l=this.state.isFocused?"":this.props.placeholder||(0,v.t)(gN||(gN=SN(["Enter a value..."]))),c=function(t){o&&o(t),e.setState({isFocused:t})};return u.createElement("input",{className:r,type:"text",value:this.state.value||"",onChange:function(t){e.setState({value:t.target.value}),e.props.commitImmediately&&e.props.setValue(t.target.value||null)},onKeyUp:function(t){t.keyCode===wg.vR?t.target.blur():t.keyCode===wg.E$&&(n(e.state.value||null),t.target.blur())},onFocus:function(){c(!0)},onBlur:function(){c(!1),e.setState({value:e.props.value})},placeholder:i?(0,v.t)(wN||(wN=SN(["Enter a default value..."]))):l,disabled:a})}}],n&&EN(t.prototype,n),r&&EN(t,r),o}(u.Component);kN(AN,"propTypes",{value:E().any,setValue:E().func.isRequired,className:E().string,isEditing:E().bool,commitImmediately:E().bool,placeholder:E().string,focusChanged:E().func,disabled:E().bool}),kN(AN,"defaultProps",{commitImmediately:!1}),kN(AN,"noPopover",!0),kN(AN,"format",(function(e){return e}));var DN,RN,IN,TN,NN,qN=n(24519),MN=n(44791);function ZN(e){return Array.isArray(e)?e:e||0===e?[e]:[]}function LN(e){return(0,v.ngettext)((0,v.msgid)(DN||(DN=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""," selection"])),e),"".concat(e," selections"),e)}function BN(e){var t=e.savedValue,n=e.fields,r=ZN(t).length,i=1===n.length;return r>1?LN(r):u.createElement(MN.default,{remap:i,value:t[0],column:n[0]})}function zN(e){return zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zN(e)}function FN(e){return function(e){if(Array.isArray(e))return UN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||VN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||VN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VN(e,t){if(e){if("string"==typeof e)return UN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UN(e,t):void 0}}function UN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function YN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function GN(e,t){return GN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},GN(e,t)}function WN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KN(e);if(t){var i=KN(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $N(this,n)}}function $N(e,t){return!t||"object"!==zN(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function KN(e){return KN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},KN(e)}BN.propTypes={savedValue:E().array,fields:E().array};var JN={dashboard:E().object,fields:E().array.isRequired,isEditing:E().bool.isRequired,operator:E().object.isRequired,parameter:E().object.isRequired,parameters:E().array.isRequired,parentFocusChanged:E().bool,placeholder:E().string.isRequired,setValue:E().func.isRequired,value:E().string},XN=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GN(e,t)}(o,e);var t,n,r,i=WN(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={isFocused:!1,value:e.value,widgetWidth:null},t}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(){var e=In.findDOMNode(this._unfocusedElement);if(!this.state.isFocused&&e){var t=e.parentNode.parentNode.parentNode;t.clientWidth!==this.state.widgetWidth&&this.setState({widgetWidth:t.clientWidth})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.setValue,r=t.isEditing,i=t.fields,o=t.parentFocusChanged,a=t.operator,l=t.parameter,c=t.parameters,s=t.dashboard,f=this.state,d=f.isFocused,p=f.widgetWidth,h=a||{},m=h.numFields,y=void 0===m?1:m,b=h.multi,g=void 0!==b&&b,w=h.verboseName,O=ZN(this.props.value),j=ZN(this.state.value),S=(0,Mi.vY)(a),E=a&&(0,Mi.T9)(a),_=d?"":this.props.placeholder||(0,v.t)(RN||(RN=HN(["Enter a value..."]))),P=function(t){o&&o(t),e.setState({isFocused:t})},C=Ze()("flex mt1 px1 pb1 PopoverFooter PopoverParameterFieldWidgetFooter",S?"mr1 mb1":"PopoverFooterWhenIsNotEqualOps"),k=r?(0,v.t)(IN||(IN=HN(["Enter a default value..."]))):_;return d?u.createElement(fm.Z,{hasArrow:!1,onClose:function(){return P(!1)}},u.createElement("div",{className:Ze()("relative PopoverBody--marginBottom",{p2:!S})},w&&!S&&u.createElement("div",{className:"text-bold mb1"},w,"..."),x.ZP.times(y,(function(t){var n=g?j:[j[t]],r=g?function(t){return e.setState({value:t})}:function(n){var r=QN(n,1)[0],i=FN(j);i[t]=r,e.setState({value:i})};return u.createElement(qN.default,{key:t,className:Ze()("input",y-1!==t&&"mb1"),value:n,parameter:l,parameters:c,dashboard:s,onChange:r,placeholder:k,fields:i,autoFocus:0===t,multi:g,disableSearch:E,formatOptions:a&&(0,Mi.hp)(a,t),color:"brand",style:{borderWidth:1,minWidth:p?p+2:null},minWidth:300,maxWidth:400})})),u.createElement("div",{className:C},u.createElement(Ce.Z,{primary:!0,className:"ml-auto",disabled:0===O.length&&0===j.length,onClick:function(){n(j.length>0?j:null),P(!1)}},O.length>0?(0,v.t)(TN||(TN=HN(["Update filter"]))):(0,v.t)(NN||(NN=HN(["Add filter"]))))))):u.createElement("div",{ref:function(t){return e._unfocusedElement=t},className:"flex-full cursor-pointer",onClick:function(){return P(!0)}},O.length>0?u.createElement(BN,{savedValue:O,fields:i}):u.createElement("span",null,k))}}],n&&YN(t.prototype,n),r&&YN(t,r),o}(u.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(XN,"noPopover",!0),XN.propTypes=JN;var eq=n(60006),tq=n(81932),nq=n(45814);function rq(e){switch((0,nq.Om)(e)){case"date":return"calendar";case"location":return"location";case"category":return"string";case"number":return"number";default:return"label"}}function iq(e,t){var n=function(e){return x.ZP.isString(e)?new Set(e.split(",")):new Set}(t);return e.filter((function(e){return!n.has(e.slug)}))}var oq=n(85710),aq=n(68147);var uq,lq,cq,sq,fq,dq,pq="tfpVo _38618 _3Dqep",hq="_20z_B _38618 _3Dqep",mq="_2YcmO",yq="pg3LL",vq="_2AYUY";function bq(e){return bq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bq(e)}function gq(){return gq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gq.apply(this,arguments)}function wq(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Oq(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jq(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function jq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eq(e,t){return Eq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eq(e,t)}function _q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cq(e);if(t){var i=Cq(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xq(this,n)}}function xq(e,t){return!t||"object"!==bq(t)&&"function"!=typeof t?Pq(e):t}function Pq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cq(e){return Cq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cq(e)}function kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Aq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kq(Object(n),!0).forEach((function(t){Dq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rq={"date/single":JI,"date/range":CT,"date/relative":YT,"date/month-year":oN,"date/quarter-year":bN,"date/all-options":YI},Iq={fetchFieldValues:eq.fetchFieldValues,fetchField:eq.fetchField},Tq=(0,_.connect)((function(){return function(e,t){return{metadata:(0,tq.sd)(e)}}}),Iq)((cq=lq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eq(e,t)}(o,e);var t,n,r,i=_q(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Dq(Pq(t=i.call(this,e)),"state",{isFocused:!1}),Dq(Pq(t),"onFocusChanged",(function(e){var n=t.props.focusChanged;n&&n(e),t.setState({isFocused:e})})),Dq(Pq(t),"onPopoverClose",(function(){t.valuePopover.current&&t.valuePopover.current.close()})),Dq(Pq(t),"getTargetRef",(function(){return t.trigger.current})),t.props.parameter.fields.some((function(e){return e.hasFieldValues()}))||t.updateFieldValues(t.props),t.valuePopover=u.createRef(),t.trigger=u.createRef(),t}return t=o,n=[{key:"componentDidUpdate",value:function(e){x.ZP.isEqual(qq(e.parameter),qq(this.props.parameter))||this.updateFieldValues(this.props)}},{key:"updateFieldValues",value:function(e){var t=e.dashboard,n=e.parameter,r=e.fetchField,i=e.fetchFieldValues;if(!t||!t.id){var o,a=Oq(qq(n));try{for(a.s();!(o=a.n()).done;){var u=o.value;r(u),i(u)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"render",value:function(){var e,t=this.props,n=t.metadata,r=t.parameter,i=t.value,o=t.setValue,a=t.isEditing,l=t.placeholder,c=t.isFullscreen,s=t.noReset,f=t.className,d=t.dashboard,p=this.state.isFocused,h=null!=i,m=(0,aq.$y)(r,d),y=(0,v.t)(sq||(sq=wq(["This filter needs to be connected to a card."]))),b=function(e,t){return Rq[t.type]?Rq[t.type]:Nq(e,t).length>0&&t.hasOnlyFieldTargets?XN:AN}(n,r),g=b.noPopover,w=!a&&!h&&!p;if(g)return u.createElement($a.Z,{tooltip:y,isEnabled:m},u.createElement("div",{className:Ze()(hq,yq,f,(e={},Dq(e,mq,h),Dq(e,vq,a),e))},w&&u.createElement(Zq,{parameter:r}),u.createElement(Mq,gq({},this.props,{onFocusChanged:this.onFocusChanged,onPopoverClose:this.onPopoverClose,disabled:m})),u.createElement(Lq,{isFullscreen:c,hasValue:h,noReset:s,noPopover:!!g,isFocused:p,setValue:o})));var O,j=a?(0,v.t)(fq||(fq=wq(["Select a default value"]))):l||(0,v.t)(dq||(dq=wq(["Select"])));return u.createElement($a.Z,{tooltip:y,isEnabled:m},u.createElement(_n.Z,{ref:this.valuePopover,triggerElement:u.createElement("div",{ref:this.trigger,className:Ze()(hq,f,(O={},Dq(O,mq,h),Dq(O,"cursor-not-allowed",m),O))},w&&u.createElement(Zq,{parameter:r}),u.createElement("div",{className:"mr1 text-nowrap"},h?b.format(i):j),u.createElement(Lq,{isFullscreen:c,hasValue:h,noReset:s,noPopover:!!g,isFocused:p,setValue:o})),target:this.getTargetRef,autoWidth:"date/all-options"===r.type},u.createElement(Mq,gq({},this.props,{onFocusChanged:this.onFocusChanged,onPopoverClose:this.onPopoverClose,disabled:m}))))}}],n&&Sq(t.prototype,n),r&&Sq(t,r),o}(u.Component),Dq(lq,"propTypes",{parameter:E().object.isRequired,name:E().string,value:E().any,setValue:E().func.isRequired,placeholder:E().string,isEditing:E().bool,noReset:E().bool,commitImmediately:E().bool,focusChanged:E().func,isFullscreen:E().bool,className:E().string,parameters:E().array,dashboard:E().object,metadata:E().object.isRequired}),Dq(lq,"defaultProps",{isEditing:!1,noReset:!1,commitImmediately:!1,className:""}),uq=cq))||uq;function Nq(e,t){var n;return e?null!==(n=t.fields)&&void 0!==n?n:qq(t).map((function(t){return e.field(t)})).filter((function(e){return null!=e})):[]}function qq(e){var t=e.field_ids,n=void 0===t?[]:t,r=e.field_id;return(r?[r]:n).filter((function(e){return"number"==typeof e}))}function Mq(e){var t=e.parameter,n=e.metadata,r=e.value,i=e.setValue,o=e.onPopoverClose,a=e.className,l=e.isEditing,c=e.commitImmediately,s=e.placeholder,f=e.onFocusChanged,d=e.parameters,p=e.dashboard,h=e.disabled,m=Rq[t.type],y=Nq(n,t);return h?u.createElement(AN,{className:Ze()(a,"cursor-not-allowed"),placeholder:s,disabled:h}):m?u.createElement(m,{value:r,setValue:i,onClose:o}):y.length>0&&t.hasOnlyFieldTargets?u.createElement(XN,{parameter:t,parameters:d,dashboard:p,placeholder:s,value:r,fields:y,setValue:i,isEditing:l,focusChanged:f,operator:(0,oq.GQ)(t)}):u.createElement(AN,{value:r,setValue:i,className:a,isEditing:l,commitImmediately:c,placeholder:s,focusChanged:f})}function Zq(e){var t=e.parameter;return u.createElement(En.ZP,{name:rq(t),className:"flex-align-left mr1 flex-no-shrink",size:14})}function Lq(e){var t=e.isFullscreen,n=e.hasValue,r=e.noReset,i=e.noPopover,o=e.isFocused,a=e.setValue;return t?null:n&&!r?u.createElement(En.ZP,{name:"close",className:"flex-align-right cursor-pointer flex-no-shrink",size:12,onClick:function(e){n&&(e.stopPropagation(),a(null))}}):i&&o?u.createElement(En.ZP,{name:"enter_or_return",className:"flex-align-right flex-no-shrink",size:12}):i?u.createElement(En.ZP,{name:"empty",className:"flex-align-right cursor-pointer flex-no-shrink",size:12}):i?null:u.createElement(En.ZP,{name:"chevrondown",className:"flex-align-right flex-no-shrink",size:12})}function Bq(e){var t=e.className,n=void 0===t?"border-brand":t,r=e.legend,i=e.noPadding,o=e.children,a=Ze()("bordered rounded",{"px2 pb2":!i});return u.createElement("fieldset",{className:Ze()(n,a)},r&&u.createElement("legend",{className:"h5 text-bold text-uppercase px1 text-nowrap text-medium"},r),u.createElement("div",{className:"w-full"},o))}function zq(e){return zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zq(e)}function Fq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vq(e,t){return Vq=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vq(e,t)}function Uq(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gq(e);if(t){var i=Gq(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hq(this,n)}}function Hq(e,t){return!t||"object"!==zq(t)&&"function"!=typeof t?Yq(e):t}function Yq(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(e){return Gq=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gq(e)}function Wq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mq.propTypes=Aq(Aq({},Tq.propTypes),{},{onPopoverClose:E().func.isRequired,onFocusChanged:E().func.isRequired}),Zq.propTypes={parameter:E().object.isRequired},Lq.propTypes={isFullscreen:E().bool.isRequired,hasValue:E().bool.isRequired,noReset:E().bool.isRequired,noPopover:E().bool.isRequired,isFocused:E().bool.isRequired,setValue:E().func.isRequired};var $q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vq(e,t)}(o,e);var t,n,r,i=Uq(o);function o(){var e;Fq(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Wq(Yq(e=i.call.apply(i,[this].concat(n))),"state",{isEditingName:!1,editingNameValue:void 0,isFocused:!1}),Wq(Yq(e),"focusChanged",(function(t){e.setState({isFocused:t})})),e}return t=o,n=[{key:"renderPopover",value:function(e,t,n,r){var i=this.props,o=i.dashboard,a=i.parameter,l=i.editingParameter,c=i.commitImmediately,s=i.parameters,f=(null==l?void 0:l.id)===a.id;return u.createElement(Tq,{parameter:a,parameters:s,dashboard:o,name:name,value:e,setValue:t,isEditing:f,placeholder:n,focusChanged:this.focusChanged,isFullscreen:r,commitImmediately:c})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.parameter,i=t.isEditing,o=t.isFullscreen,a=t.editingParameter,l=t.setEditingParameter,c=t.setValue,s=t.children,d=t.dragHandle,p=a&&a.id===r.id,h=function(){var t=null!=r.value||e.state.isFocused,i=t?r.name:"";return u.createElement(Bq,{legend:i,noPadding:!0,className:Ze()(n,pq,{"border-brand":t})},e.renderPopover(r.value,(function(e){return c(e)}),r.name,o),s)};return o?null!=r.value?u.createElement("div",{style:{fontSize:"0.833em"}},h()):u.createElement("span",{className:"hide"}):i&&l?u.createElement("div",{className:Ze()(n,"flex align-center bordered rounded cursor-pointer text-bold mr1 mb1",{"bg-brand text-white":p,"text-brand-hover bg-white":!p}),onClick:function(){return l(p?null:r.id)},style:{padding:8,width:170,borderColor:p&&(0,f.$_)("brand")}},u.createElement("div",{className:"mr1",onClick:function(e){return e.stopPropagation()}},d),r.name,u.createElement(En.ZP,{className:"flex-align-right",name:"gear"})):h()}}],n&&Qq(t.prototype,n),r&&Qq(t,r),o}(u.Component);Wq($q,"propTypes",{parameter:E().object,commitImmediately:E().bool}),Wq($q,"defaultProps",{parameter:null,commitImmediately:!1});var Kq=["children","onSortStart","onSortEnd"];function Jq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Xq=function(e){var t=e.children,n=(e.onSortStart,e.onSortEnd,Jq(e,Kq));return u.createElement("div",n,t)},eM=(0,pf.W6)((function(){return u.createElement("div",{className:"flex layout-centered cursor-grab text-inherit"},u.createElement(En.ZP,{name:"grabber2",size:12}))})),tM=(0,pf.W8)($q),nM=bf(Xq);function rM(e){var t,n,r=e.className,i=e.parameters,o=e.dashboard,a=e.editingParameter,l=e.isFullscreen,c=e.isNightMode,s=e.hideParameters,f=e.isEditing,d=e.vertical,p=e.commitImmediately,h=e.setParameterValue,m=e.setParameterIndex,y=(e.removeParameter,e.setEditingParameter),v=iq(i,s);return f?(t=tM,n=nM):(t=$q,n=Xq),v.length>0?u.createElement(n,{className:Ze()(r,"flex align-end flex-wrap",d?"flex-column":"flex-row"),axis:"x",distance:9,onSortStart:function(){document.body.classList.add("grabbing")},onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;document.body.classList.remove("grabbing"),m&&m(i[t].id,n)}},v.map((function(e,n){return u.createElement(t,{key:e.id,className:Ze()({mb2:d}),isEditing:f,isFullscreen:l,isNightMode:c,parameter:e,parameters:i,dashboard:o,editingParameter:a,setEditingParameter:y,index:n,setValue:h&&function(t){return h(e.id,t)},commitImmediately:p,dragHandle:f&&m?u.createElement(eM,null):null})}))):null}rM.defaultProps={vertical:!1,commitImmediately:!1};var iM=rM,oM=n(67526);function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(n),!0).forEach((function(t){lM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cM(e,t){(0,u.useEffect)((function(){var t=function(e){var t=oM.parse(window.location.search.replace("?","")),n=Object.fromEntries(Object.entries(t).filter((function(e){return sM.includes(e[0])}))),r=oM.stringify(uM(uM({},n),e));return r?"?".concat(r):""}(e());t!==window.location.search&&history.replaceState(null,document.title,window.location.pathname+t+window.location.hash)}),[t])}var sM=["objectId"];var fM={parameters:E().array.isRequired,editingParameter:E().object,dashboard:E().object,className:E().string,hideParameters:E().string,isFullscreen:E().bool,isNightMode:E().bool,isEditing:E().bool,commitImmediately:E().bool,setParameterValue:E().func.isRequired,setParameterIndex:E().func,setEditingParameter:E().func};function dM(e){var t=e.parameters,n=e.editingParameter,r=e.dashboard,i=e.className,o=e.hideParameters,a=e.isFullscreen,l=e.isNightMode,c=e.isEditing,s=e.commitImmediately,f=e.setParameterValue,d=e.setParameterIndex,p=e.setEditingParameter;return cM((function(){return(0,_I.og)(t,void 0,r&&{preserveDefaultedParameters:!0})}),[t,r]),u.createElement(iM,{className:i,parameters:t,dashboard:r,editingParameter:n,isFullscreen:a,isNightMode:l,hideParameters:o,isEditing:c,commitImmediately:s,setParameterValue:f,setParameterIndex:d,setEditingParameter:p})}dM.propTypes=fM;var pM=dM;function hM(e){return hM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hM(e)}function mM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gM(e,t){return gM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gM(e,t)}function wM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jM(e);if(t){var i=jM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OM(this,n)}}function OM(e,t){return!t||"object"!==hM(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jM(e){return jM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jM(e)}function SM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EM,_M,xM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gM(e,t)}(o,e);var t,n,r,i=wM(o);function o(){return vM(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.dark,n=e.height,r=e.width;return u.createElement("svg",{className:Ze()("Icon",{"text-brand":!t},{"text-white":t}),viewBox:"0 0 66 85",width:r,height:n,fill:"currentcolor","data-testid":"main-logo"},u.createElement("path",{d:"M46.8253288,70.4935014 C49.5764899,70.4935014 51.8067467,68.1774705 51.8067467,65.3205017 C51.8067467,62.4635329 49.5764899,60.147502 46.8253288,60.147502 C44.0741676,60.147502 41.8439108,62.4635329 41.8439108,65.3205017 C41.8439108,68.1774705 44.0741676,70.4935014 46.8253288,70.4935014 Z M32.8773585,84.9779005 C35.6285197,84.9779005 37.8587764,82.6618697 37.8587764,79.8049008 C37.8587764,76.947932 35.6285197,74.6319011 32.8773585,74.6319011 C30.1261973,74.6319011 27.8959405,76.947932 27.8959405,79.8049008 C27.8959405,82.6618697 30.1261973,84.9779005 32.8773585,84.9779005 Z M32.8773585,70.4935014 C35.6285197,70.4935014 37.8587764,68.1774705 37.8587764,65.3205017 C37.8587764,62.4635329 35.6285197,60.147502 32.8773585,60.147502 C30.1261973,60.147502 27.8959405,62.4635329 27.8959405,65.3205017 C27.8959405,68.1774705 30.1261973,70.4935014 32.8773585,70.4935014 Z M18.9293882,70.4935014 C21.6805494,70.4935014 23.9108062,68.1774705 23.9108062,65.3205017 C23.9108062,62.4635329 21.6805494,60.147502 18.9293882,60.147502 C16.1782271,60.147502 13.9479703,62.4635329 13.9479703,65.3205017 C13.9479703,68.1774705 16.1782271,70.4935014 18.9293882,70.4935014 Z M46.8253288,56.0091023 C49.5764899,56.0091023 51.8067467,53.6930714 51.8067467,50.8361026 C51.8067467,47.9791337 49.5764899,45.6631029 46.8253288,45.6631029 C44.0741676,45.6631029 41.8439108,47.9791337 41.8439108,50.8361026 C41.8439108,53.6930714 44.0741676,56.0091023 46.8253288,56.0091023 Z M18.9293882,56.0091023 C21.6805494,56.0091023 23.9108062,53.6930714 23.9108062,50.8361026 C23.9108062,47.9791337 21.6805494,45.6631029 18.9293882,45.6631029 C16.1782271,45.6631029 13.9479703,47.9791337 13.9479703,50.8361026 C13.9479703,53.6930714 16.1782271,56.0091023 18.9293882,56.0091023 Z M46.8253288,26.8995984 C49.5764899,26.8995984 51.8067467,24.5835675 51.8067467,21.7265987 C51.8067467,18.8696299 49.5764899,16.553599 46.8253288,16.553599 C44.0741676,16.553599 41.8439108,18.8696299 41.8439108,21.7265987 C41.8439108,24.5835675 44.0741676,26.8995984 46.8253288,26.8995984 Z M32.8773585,41.5247031 C35.6285197,41.5247031 37.8587764,39.2086723 37.8587764,36.3517034 C37.8587764,33.4947346 35.6285197,31.1787037 32.8773585,31.1787037 C30.1261973,31.1787037 27.8959405,33.4947346 27.8959405,36.3517034 C27.8959405,39.2086723 30.1261973,41.5247031 32.8773585,41.5247031 Z M32.8773585,10.3459994 C35.6285197,10.3459994 37.8587764,8.02996853 37.8587764,5.17299969 C37.8587764,2.31603085 35.6285197,0 32.8773585,0 C30.1261973,0 27.8959405,2.31603085 27.8959405,5.17299969 C27.8959405,8.02996853 30.1261973,10.3459994 32.8773585,10.3459994 Z M32.8773585,26.8995984 C35.6285197,26.8995984 37.8587764,24.5835675 37.8587764,21.7265987 C37.8587764,18.8696299 35.6285197,16.553599 32.8773585,16.553599 C30.1261973,16.553599 27.8959405,18.8696299 27.8959405,21.7265987 C27.8959405,24.5835675 30.1261973,26.8995984 32.8773585,26.8995984 Z M18.9293882,26.8995984 C21.6805494,26.8995984 23.9108062,24.5835675 23.9108062,21.7265987 C23.9108062,18.8696299 21.6805494,16.553599 18.9293882,16.553599 C16.1782271,16.553599 13.9479703,18.8696299 13.9479703,21.7265987 C13.9479703,24.5835675 16.1782271,26.8995984 18.9293882,26.8995984 Z",opacity:"0.2"}),u.createElement("path",{d:"M60.773299,70.4935014 C63.5244602,70.4935014 65.754717,68.1774705 65.754717,65.3205017 C65.754717,62.4635329 63.5244602,60.147502 60.773299,60.147502 C58.0221379,60.147502 55.7918811,62.4635329 55.7918811,65.3205017 C55.7918811,68.1774705 58.0221379,70.4935014 60.773299,70.4935014 Z M4.98141795,70.3527958 C7.73257912,70.3527958 9.96283591,68.0367649 9.96283591,65.1797961 C9.96283591,62.3228273 7.73257912,60.0067964 4.98141795,60.0067964 C2.23025679,60.0067964 0,62.3228273 0,65.1797961 C0,68.0367649 2.23025679,70.3527958 4.98141795,70.3527958 Z M60.773299,56.0091023 C63.5244602,56.0091023 65.754717,53.6930714 65.754717,50.8361026 C65.754717,47.9791337 63.5244602,45.6631029 60.773299,45.6631029 C58.0221379,45.6631029 55.7918811,47.9791337 55.7918811,50.8361026 C55.7918811,53.6930714 58.0221379,56.0091023 60.773299,56.0091023 Z M32.8773585,56.0091023 C35.6285197,56.0091023 37.8587764,53.6930714 37.8587764,50.8361026 C37.8587764,47.9791337 35.6285197,45.6631029 32.8773585,45.6631029 C30.1261973,45.6631029 27.8959405,47.9791337 27.8959405,50.8361026 C27.8959405,53.6930714 30.1261973,56.0091023 32.8773585,56.0091023 Z M4.98141795,55.8683967 C7.73257912,55.8683967 9.96283591,53.5523658 9.96283591,50.695397 C9.96283591,47.8384281 7.73257912,45.5223973 4.98141795,45.5223973 C2.23025679,45.5223973 0,47.8384281 0,50.695397 C0,53.5523658 2.23025679,55.8683967 4.98141795,55.8683967 Z M60.773299,41.5247031 C63.5244602,41.5247031 65.754717,39.2086723 65.754717,36.3517034 C65.754717,33.4947346 63.5244602,31.1787037 60.773299,31.1787037 C58.0221379,31.1787037 55.7918811,33.4947346 55.7918811,36.3517034 C55.7918811,39.2086723 58.0221379,41.5247031 60.773299,41.5247031 Z M46.8253288,41.5247031 C49.5764899,41.5247031 51.8067467,39.2086723 51.8067467,36.3517034 C51.8067467,33.4947346 49.5764899,31.1787037 46.8253288,31.1787037 C44.0741676,31.1787037 41.8439108,33.4947346 41.8439108,36.3517034 C41.8439108,39.2086723 44.0741676,41.5247031 46.8253288,41.5247031 Z M60.773299,26.8995984 C63.5244602,26.8995984 65.754717,24.5835675 65.754717,21.7265987 C65.754717,18.8696299 63.5244602,16.553599 60.773299,16.553599 C58.0221379,16.553599 55.7918811,18.8696299 55.7918811,21.7265987 C55.7918811,24.5835675 58.0221379,26.8995984 60.773299,26.8995984 Z M18.9293882,41.5247031 C21.6805494,41.5247031 23.9108062,39.2086723 23.9108062,36.3517034 C23.9108062,33.4947346 21.6805494,31.1787037 18.9293882,31.1787037 C16.1782271,31.1787037 13.9479703,33.4947346 13.9479703,36.3517034 C13.9479703,39.2086723 16.1782271,41.5247031 18.9293882,41.5247031 Z M4.98141795,41.3839975 C7.73257912,41.3839975 9.96283591,39.0679667 9.96283591,36.2109978 C9.96283591,33.354029 7.73257912,31.0379981 4.98141795,31.0379981 C2.23025679,31.0379981 0,33.354029 0,36.2109978 C0,39.0679667 2.23025679,41.3839975 4.98141795,41.3839975 Z M4.98141795,26.8995984 C7.73257912,26.8995984 9.96283591,24.5835675 9.96283591,21.7265987 C9.96283591,18.8696299 7.73257912,16.553599 4.98141795,16.553599 C2.23025679,16.553599 0,18.8696299 0,21.7265987 C0,24.5835675 2.23025679,26.8995984 4.98141795,26.8995984 Z"}))}}])&&bM(t.prototype,n),r&&bM(t,r),o}(u.Component);function PM(e){var t=mM(d.X9,1)[0],n=void 0===t?xM:t;return u.createElement(n,e)}function CM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}SM(xM,"defaultProps",{height:32}),SM(xM,"propTypes",{width:E().number,height:E().number,dark:E().bool});var kM,AM=function(e){var t=e.dark;return u.createElement(ie.Z,{href:"https://metabase.com/",target:"_blank",className:"h4 flex text-bold align-center no-decoration"},u.createElement(PM,{height:28,dark:t}),u.createElement("span",{className:"text-small"},u.createElement("span",{className:"ml1 md-ml2 text-medium"},(0,v.jt)(EM||(EM=CM(["Powered by ",""])),u.createElement("span",{className:t?"text-white":"text-brand"},(0,v.t)(_M||(_M=CM(["Metabase"]))))))))};function DM(e){return DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DM(e)}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(n),!0).forEach((function(t){zM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qM(e,t){return qM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qM(e,t)}function MM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BM(e);if(t){var i=BM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZM(this,n)}}function ZM(e,t){return!t||"object"!==DM(t)&&"function"!=typeof t?LM(e):t}function LM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BM(e){return BM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BM(e)}function zM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FM,QM={bordered:l.GG,titled:!0},VM=(0,w.EN)(kM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qM(e,t)}(o,e);var t,n,r,i=MM(o);function o(){var e;TM(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zM(LM(e=i.call.apply(i,[this].concat(n))),"state",{innerScroll:!0}),e}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;(0,l.Q7)((function(){return e.setState({innerScroll:!1})}))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.description,i=e.actionButtons,o=e.location,a=e.parameters,l=e.parameterValues,c=e.setParameterValue,s=this.state.innerScroll,f=!g.Z.hideEmbedBranding()||i,d=IM(IM({},QM),(0,EI.kf)(o.hash)),p=d.bordered,h=d.titled,m=d.theme,y=d.hide_parameters,v=h?this.props.name:null;return u.createElement("div",{className:Ze()("EmbedFrame flex flex-column",t,zM({spread:s,"bordered rounded shadowed":p},"Theme--".concat(m),!!m))},u.createElement("div",{className:Ze()("flex flex-column flex-full relative",{"scroll-y":s})},v||a&&a.length>0?u.createElement("div",{className:"EmbedFrame-header flex align-center p1 sm-p2 lg-p3"},v&&u.createElement(PI,{title:v,description:r}),a&&a.length>0?u.createElement("div",{className:"flex ml-auto"},u.createElement(pM,{className:"mt1",dashboard:this.props.dashboard,parameters:(0,_I.Q8)(a,l),setParameterValue:c,hideParameters:y})):null):null,u.createElement("div",{className:"flex flex-column relative full flex-full"},n)),f&&u.createElement("div",{className:"EmbedFrame-footer p1 md-p2 lg-p3 border-top flex-no-shrink flex align-center"},!g.Z.hideEmbedBranding()&&u.createElement(AM,{dark:m}),i&&u.createElement("div",{className:"flex-align-right text-medium"},i)))}}],n&&NM(t.prototype,n),r&&NM(t,r),o}(u.Component))||kM;var UM,HM=function(){return u.createElement(VM,{className:"spread"},u.createElement("div",{className:"flex layout-centered flex-full flex-column"},u.createElement("div",{className:"QueryError-image QueryError-image--noRows"}),u.createElement("div",{className:"mt1 h4 sm-h3 md-h2 text-bold"},(0,v.t)(FM||(FM=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Not found"]))))))},YM=function(e){var t,n=function(e){return e.app.errorPage}(e);return(null==n||null===(t=n.data)||void 0===t?void 0:t.message)||(null==n?void 0:n.data)};var GM,WM=(0,_.connect)((function(e,t){return{message:YM(e)}}))((function(e){var t=e.message,n=void 0===t?(0,v.t)(UM||(UM=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["An error occurred"]))):t;return u.createElement(VM,{className:"spread"},u.createElement("div",{className:"flex layout-centered flex-full flex-column"},u.createElement("div",{className:"QueryError-image QueryError-image--noRows"}),u.createElement("div",{className:"mt1 h4 sm-h3 md-h2 text-bold"},n)))}));function $M(e){return $M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$M(e)}function KM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XM(e,t){return XM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XM(e,t)}function eZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nZ(e);if(t){var i=nZ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tZ(this,n)}}function tZ(e,t){return!t||"object"!==$M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nZ(e){return nZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nZ(e)}var rZ=(0,_.connect)((function(e,t){return{errorPage:e.app.errorPage}}))(GM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XM(e,t)}(o,e);var t,n,r,i=eZ(o);function o(){return KM(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.errorPage;return n?404===n.status?u.createElement(HM,null):u.createElement(WM,null):t}}])&&JM(t.prototype,n),r&&JM(t,r),o}(u.Component))||GM,iZ=n(15712);function oZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e,t){var n=t.dispatch,r=t.onChangeCardAndRun,i=!1;if(e.action){var o=e.action();o&&(n(o),i=!0)}if(e.url){var a=e.url();a&&(n((0,iZ.Yo)(a)),i=!0)}if(e.question){var u,l,c=e.question(),s=null!==(u=null==e||null===(l=e.extra)||void 0===l?void 0:l.call(e))&&void 0!==u?u:{};c&&(r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oZ(Object(n),!0).forEach((function(t){aZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({nextCard:c.card()},s)),i=!0)}return i}var lZ,cZ,sZ,fZ,dZ,pZ=n(98399);function hZ(e){return hZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hZ(e)}function mZ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function yZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bZ(Object(n),!0).forEach((function(t){PZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jZ(e,t){return jZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jZ(e,t)}function SZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xZ(e);if(t){var i=xZ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return EZ(this,n)}}function EZ(e,t){return!t||"object"!==hZ(t)&&"function"!=typeof t?_Z(e):t}function _Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xZ(e){return xZ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xZ(e)}function PZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CZ={records:{icon:"table2"},zoom:{icon:"zoom_in"},details:{icon:"document"},sort:{icon:"sort"},formatting:{icon:"gear"},breakout:{icon:"breakout"},standalone_filter:{icon:"filter"},filter:{icon:"funnel_outline"},summarize:{icon:"summarize"},sum:{icon:"sum"},averages:{icon:"curve"},dashboard:{icon:"dashboard"},auto:{icon:"bolt"}};Object.values(CZ).map((function(e,t){e.index=t}));var kZ,AZ,DZ,RZ,IZ,TZ,NZ,qZ,MZ,ZZ,LZ,BZ,zZ,FZ,QZ=function(e){return e?"".concat(e.section||"",":").concat(e.name||""):null},VZ=(0,_.connect)()(lZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jZ(e,t)}(o,e);var t,n,r,i=SZ(o);function o(){var e;wZ(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PZ(_Z(e=i.call.apply(i,[this].concat(n))),"state",{popoverAction:null}),PZ(_Z(e),"close",(function(){e.setState({popoverAction:null}),e.props.onClose&&e.props.onClose()})),PZ(_Z(e),"handleClickAction",(function(t){var n=e.props,r=n.dispatch,i=n.onChangeCardAndRun;t.popover?(Jf.vF("Actions","Open Click Action Popover",QZ(t)),e.setState({popoverAction:t})):uZ(t,{dispatch:r,onChangeCardAndRun:i})?(Jf.vF("Actions","Executed Click Action",QZ(t)),e.close()):pZ.warn("No action performed",t)})),e}return t=o,n=[{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.clicked,o=r.clickActions,a=r.onChangeCardAndRun;if(!i||!o||0===o.length)return null;var l,c=this.state.popoverAction;if(c&&c.popover){var s=c.popover;l=u.createElement(s,{onChangeCardAndRun:function(e){var t=e.nextCard;c&&Jf.vF("Action","Executed Click Action",QZ(c)),a({nextCard:t})},onClose:function(){Jf.vF("Action","Dismissed Click Action Menu",QZ(c)),n.close()}})}var f=x.ZP.groupBy(o,"section");f.sum&&1===f.sum.length&&(f.summarize.push(gZ(gZ({},f.sum[0]),{},{buttonType:"horizontal",icon:"number"})),delete f.sum);var d=1===(null===(e=f.sort)||void 0===e?void 0:e.length);"native"===(null===(t=i.column)||void 0===t?void 0:t.source)&&d&&(f.sort[0]=gZ(gZ({},f.sort[0]),{},{buttonType:"horizontal"}));var p=x.ZP.chain(f).pairs().sortBy((function(e){var t=yZ(e,1)[0];return CZ[t]?CZ[t].index:99})).value(),h=1===p.length;return u.createElement(fm.Z,{target:i.element,targetEvent:i.event,onClose:function(){Jf.vF("Action","Dismissed Click Action Menu"),n.close()},verticalAttachments:["top","bottom"],horizontalAttachments:["left","center","right"],sizeToFit:!0,pinInitialAttachment:!0},l||u.createElement("div",{className:"text-bold px2 pt2 pb1"},p.map((function(e){var t=yZ(e,2),r=t[0],i=t[1];return u.createElement("div",{key:r,className:Ze()("pb1",{pb2:"bolt"===CZ[r].icon},{ml1:"bolt"===CZ[r].icon||"sum"===CZ[r].icon||"breakout"===CZ[r].icon||"funnel_outline"===CZ[r].icon&&!h})},"sum"===CZ[r].icon&&u.createElement("p",{className:"mt0 text-medium text-small"},(0,v.t)(cZ||(cZ=mZ(["Summarize"])))),"breakout"===CZ[r].icon&&u.createElement("p",{className:"my1 text-medium text-small"},(0,v.t)(sZ||(sZ=mZ(["Break out by a"])))),"bolt"===CZ[r].icon&&u.createElement("p",{className:"mt2 text-medium text-small"},(0,v.t)(fZ||(fZ=mZ(["Automatic explorations"])))),"funnel_outline"===CZ[r].icon&&u.createElement("p",{className:Ze()("text-small",h?"mt0":"mt2",h?"text-dark":"text-medium")},(0,v.t)(dZ||(dZ=mZ(["Filter by this value"])))),u.createElement("div",{className:Ze()("flex",{"justify-end":"gear"===CZ[r].icon},{"align-center justify-center":"gear"===CZ[r].icon},{"flex-column my1":"summarize"===CZ[r].icon})},i.map((function(e,t){return u.createElement(UZ,{key:t,action:e,isLastItem:t===i.length-1,handleClickAction:n.handleClickAction})}))))}))))}}],n&&OZ(t.prototype,n),r&&OZ(t,r),o}(u.Component))||lZ,UZ=function(e){var t=e.action,n=e.isLastItem,r=e.handleClickAction,i=Ze()("cursor-pointer no-decoration",{"text-center sort token-blue mr1 bg-brand-hover":"sort"===t.buttonType,"formatting-button flex-align-right text-brand-hover text-light":"formatting"===t.buttonType,"horizontal-button p1 flex flex-auto align-center bg-brand-hover text-dark text-white-hover":"horizontal"===t.buttonType,"text-small token token-blue text-white-hover bg-brand-hover mr1":"token"===t.buttonType,"token token-filter text-small text-white-hover mr1":"token-filter"===t.buttonType});return t.url?u.createElement("div",{className:Ze()({full:"horizontal"===t.buttonType})},u.createElement(w.rU,{to:t.url(),className:i,onClick:function(){return Jf.vF("Actions","Executed Click Action",QZ(t))}},t.title)):"sort"===t.buttonType||"formatting"===t.buttonType?u.createElement($a.Z,{tooltip:t.tooltip},u.createElement("div",{className:Ze()(i,"flex flex-row align-center"),onClick:function(){return r(t)}},t.icon&&u.createElement(En.ZP,{className:Ze()("flex mr1",{"text-brand text-white-hover":"formatting"!==t.buttonType}),size:"formatting"===t.buttonType?16:12,name:t.icon}))):u.createElement("div",{className:Ze()(i,{mb1:"horizontal"===t.buttonType&&!n}),onClick:function(){return r(t)}},t.icon&&u.createElement(En.ZP,{className:"flex mr1 text-brand text-white-hover",size:"horizontal"===t.buttonType?14:12,name:t.icon}),t.title&&t.title)},HZ=n(93638),YZ=n(98399);function GZ(e){return GZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GZ(e)}function WZ(){return WZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WZ.apply(this,arguments)}function $Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Z(Object(n),!0).forEach((function(t){iL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XZ(e,t){return XZ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},XZ(e,t)}function eL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rL(e);if(t){var i=rL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tL(this,n)}}function tL(e,t){return!t||"object"!==GZ(t)&&"function"!=typeof t?nL(e):t}function nL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rL(e){return rL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rL(e)}function iL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oL(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aL,uL,lL,cL,sL,fL,dL=(0,v.t)(kZ||(kZ=oL(["There was a problem displaying this chart."]))),pL=(0,v.t)(AZ||(AZ=oL(["Sorry, you don't have permission to see this card."]))),hL=(0,ac.default)({selector:".CardVisualization",refreshMode:function(e){return e.isDashboard?"debounce":"throttle"}})(DZ=(0,_.connect)()((TZ=IZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XZ(e,t)}(o,e);var t,n,r,i=eL(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),iL(nL(t=i.call(this,e)),"handleHoverChange",(function(e){if(e){var n=t.state.yAxisSplit;if(n){var r=x.ZP.findIndex(n,(function(t){return x.ZP.contains(t,e.index)}));e=(0,b.assoc)(e,"axisIndex",r)}t.setState({hovered:e}),null!==t._resetHoverTimer&&(clearTimeout(t._resetHoverTimer),t._resetHoverTimer=null)}else t._resetHoverTimer=setTimeout((function(){t.setState({hovered:null}),t._resetHoverTimer=null}),0)})),iL(nL(t),"visualizationIsClickable",(function(e){if(!t.props.onChangeCardAndRun)return!1;try{return t.getClickActions(e).length>0}catch(e){return YZ.warn(e),!1}})),iL(nL(t),"handleVisualizationClick",(function(e){var n=t.props.handleVisualizationClick;if(e&&Jf.vF("Actions","Clicked","".concat(e.column?"column":""," ").concat(e.value?"value":""," ").concat(e.dimensions?"dimensions="+e.dimensions.length:"")),"function"!=typeof n){var r=function(e,t){if(!e)return!1;if(1===e.length&&e[0].default)return uZ(e[0],t);var n=x.ZP.find(e,(function(e){return!0===e.defaultAlways}));return!!n&&uZ(n,t)}(t.getClickActions(e),{dispatch:t.props.dispatch,onChangeCardAndRun:t.handleOnChangeCardAndRun});r||setTimeout((function(){t.setState({clicked:e})}),100)}else n(e)})),iL(nL(t),"handleOnChangeCardAndRun",(function(e){var n=e.nextCard,r=e.seriesIndex,i=e.objectId,o=t.state,a=o.series,u=o.clicked,l=r||u&&u.seriesIndex||0,c=a&&a[l]&&a[l].card;t.props.onChangeCardAndRun({nextCard:n,previousCard:c,objectId:i})})),iL(nL(t),"onRender",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.yAxisSplit,r=e.warnings,i=void 0===r?[]:r;t.setState({yAxisSplit:n,warnings:i})})),iL(nL(t),"onRenderError",(function(e){YZ.error(e),t.setState({error:e})})),iL(nL(t),"hideActions",(function(){null!==t.state.clicked&&t.setState({clicked:null})})),t.state={hovered:null,clicked:null,error:null,warnings:[],yAxisSplit:null,series:null,visualization:null,computedSettings:{}},t}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){this.transform(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){(0,Zi.dS)(e.rawSeries,this.props.rawSeries)&&Ae.Z.equals(e.settings,this.props.settings)&&Ae.Z.equals(e.timelineEvents,this.props.timelineEvents)&&Ae.Z.equals(e.selectedTimelineEventIds,this.props.selectedTimelineEventIds)||this.transform(e)}},{key:"componentDidMount",value:function(){this.updateWarnings()}},{key:"componentDidUpdate",value:function(e,t){Ae.Z.equals(this.getWarnings(e,t),this.getWarnings())||this.updateWarnings()}},{key:"componentDidCatch",value:function(e,t){YZ.error("Error caught in <Visualization>",e,t),this.setState({error:new Error("An error occurred displaying this visualization.")})}},{key:"getWarnings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.warnings||[];return t.series&&"table"!==t.series[0].card.display&&(n=n.concat(e.rawSeries.filter((function(e){return e.data&&null!=e.data.rows_truncated})).map((function(e){return(0,v.t)(NZ||(NZ=oL(["Data truncated to "," rows."])),(0,Ni.uf)(e.data.rows_truncated))})))),n}},{key:"updateWarnings",value:function(){this.props.onUpdateWarnings&&this.props.onUpdateWarnings(this.getWarnings()||[])}},{key:"transform",value:function(e){var t=e.rawSeries?(0,Ii.getVisualizationTransformed)((0,Ii.extractRemappings)(e.rawSeries)):null,n=t&&t.series,r=t&&t.visualization,i=n?(0,ey.eG)(n):null;this.setState({hovered:null,clicked:null,error:null,warnings:[],yAxisSplit:null,series:n,visualization:r,computedSettings:i})}},{key:"_getQuestionForCardCached",value:function(e,t){if(e&&t){var n=this.props,r=n.isQueryBuilder,i=n.queryBuilderMode,o=new xy.Z(t,e);return o.isDataset()&&r&&"dataset"!==i?o.composeDataset():o}}},{key:"getClickActions",value:function(e){if(!e)return[];var t=this.props,n=t.metadata,r=t.getExtraDataForClick,i=void 0===r?function(){return{}}:r,o=e.seriesIndex||0,a=this.state.series[o].card,u=this._getQuestionForCardCached(n,a),l=this.props.mode?u&&new HZ.Z(u,this.props.mode):u&&u.mode();return l?l.actionsForClick(KZ(KZ({},e),{},{extraData:i(e)}),{}):[]}},{key:"render",value:function(){var e=this,t=this.props,n=t.actionButtons,r=t.className,i=t.showTitle,o=t.isDashboard,a=t.width,l=t.height,c=t.headerIcon,s=t.errorIcon,f=t.isSlow,d=t.expectedDuration,p=t.replacementContent,h=t.onOpenChartSettings,m=this.state.visualization,y=a<330,b=this.state,g=b.series,w=b.hovered,O=b.clicked,j=this.props.style,S=this.getClickActions(O);S.length>0&&(w=null);var E=this.props.error||this.state.error,_=!(g&&g.length>0&&x.ZP.every(g,(function(e){return e.data||x.ZP.isObject(e.card.visualization_settings.virtual_card)}))),P=!1,C=!1,k=this.props.settings||{};if(!_&&!E)if(k=this.props.settings||this.state.computedSettings,m)try{m.checkRenderable&&m.checkRenderable(g,k,this.props.query)}catch(t){E=t.message||(0,v.t)(MZ||(MZ=oL(["Could not display this chart with this data."]))),t instanceof Ju&&m.placeholderSeries&&!o?(E=null,g=m.placeholderSeries,k=(0,ey.eG)(g),C=!0):t instanceof Ju&&h?E=u.createElement("div",null,u.createElement("div",null,E),u.createElement("div",{className:"mt2"},u.createElement("button",{className:"Button Button--primary Button--medium",onClick:function(){return e.props.onOpenChartSettings(t.initial)}},t.buttonText))):t instanceof Wu&&(P=!0)}else E=(0,v.t)(qZ||(qZ=oL(["Could not find visualization"])));E||(P=x.ZP.every(g,(function(e){return e&&e.data&&(0,_a.Y2)(e.data)})));var A=u.createElement("span",{className:"flex align-center"},f&&!_&&u.createElement(An.Z,{size:18,className:Ze()("Visualization-slow-spinner","usually-slow"===f?"text-gold":"text-slate")}),n),D=this.props,R=D.gridSize,I=D.gridUnit;!R&&I&&null!=a&&null!=l&&(R={width:Math.round(a/(4*I)),height:Math.round(l/(3*I))}),C&&(w=null,j=KZ(KZ({},j),{},{opacity:.2,filter:"grayscale()",pointerEvents:"none"}));var T=m,N=k["card.title"]||A,q=!(m&&m.noHeader),M=i&&N&&(_||E||P||q)||p;return u.createElement("div",{className:Ze()(r,"flex flex-column full-height"),style:j},!!M&&u.createElement("div",{className:"p1 flex-no-shrink"},u.createElement($k,{series:g,settings:k,icon:c,actionButtons:A,onChangeCardAndRun:this.props.onChangeCardAndRun&&!p?this.handleOnChangeCardAndRun:null})),p||(o&&P?u.createElement("div",{className:"flex-full px1 pb1 text-centered flex flex-column layout-centered "+(o?"text-slate-light":"text-slate")},u.createElement($a.Z,{tooltip:(0,v.t)(ZZ||(ZZ=oL(["No results!"]))),isEnabled:y},u.createElement("img",{src:oD})),!y&&u.createElement("span",{className:"h4 text-bold"},"No results!")):E?u.createElement("div",{className:"flex-full px1 pb1 text-centered flex flex-column layout-centered "+(o?"text-slate-light":"text-slate")},u.createElement($a.Z,{tooltip:E,isEnabled:y},u.createElement(En.ZP,{className:"mb2",name:s||"warning",size:50})),!y&&u.createElement("span",{className:"h4 text-bold"},E)):_?u.createElement("div",{className:"flex-full p1 text-centered text-brand flex flex-column layout-centered"},f?u.createElement("div",{className:"text-slate"},u.createElement("div",{className:"h4 text-bold mb1"},(0,v.t)(LZ||(LZ=oL(["Still Waiting..."])))),"usually-slow"===f?u.createElement("div",null,(0,v.jt)(BZ||(BZ=oL(["This usually takes an average of ","."])),u.createElement("span",{style:{whiteSpace:"nowrap"}},(0,Ni.x9)(d))),u.createElement("br",null),(0,v.t)(zZ||(zZ=oL(["(This is a bit long for a dashboard)"])))):u.createElement("div",null,(0,v.t)(FZ||(FZ=oL(["This is usually pretty fast but seems to be taking a while right now."]))))):u.createElement(An.Z,{className:"text-slate"})):u.createElement(T,WZ({},this.props,{className:"CardVisualization flex-full flex-basis-none",series:g,settings:k,card:g[0].card,data:g[0].data,hovered:w,clicked:O,headerIcon:M?null:c,onHoverChange:this.handleHoverChange,onVisualizationClick:this.handleVisualizationClick,visualizationIsClickable:this.visualizationIsClickable,onRenderError:this.onRenderError,onRender:this.onRender,onActionDismissal:this.hideActions,gridSize:R,onChangeCardAndRun:this.props.onChangeCardAndRun?this.handleOnChangeCardAndRun:null}))),u.createElement(jS,{series:g,hovered:w,settings:k}),this.props.onChangeCardAndRun&&u.createElement(VZ,{clicked:O,clickActions:S,onChangeCardAndRun:this.handleOnChangeCardAndRun,onClose:this.hideActions}))}}],n&&JZ(t.prototype,n),r&&JZ(t,r),o}(u.PureComponent),iL(IZ,"defaultProps",{showTitle:!1,isDashboard:!1,isEditing:!1,isSettings:!1,isQueryBuilder:!1,onUpdateVisualizationSettings:function(){},onChangeLocation:function(e){window.location=e}}),aL=(RZ=TZ).prototype,uL="_getQuestionForCardCached",lL=[Jl.HP],cL=Object.getOwnPropertyDescriptor(RZ.prototype,"_getQuestionForCardCached"),sL=RZ.prototype,fL={},Object.keys(cL).forEach((function(e){fL[e]=cL[e]})),fL.enumerable=!!fL.enumerable,fL.configurable=!!fL.configurable,("value"in fL||fL.initializer)&&(fL.writable=!0),fL=lL.slice().reverse().reduce((function(e,t){return t(aL,uL,e)||e}),fL),sL&&void 0!==fL.initializer&&(fL.value=fL.initializer?fL.initializer.call(sL):void 0,fL.initializer=void 0),void 0===fL.initializer&&(Object.defineProperty(aL,uL,fL),fL=null),DZ=RZ))||DZ)||DZ,mL=n(1662),yL=n(5192),vL=n(59450);var bL=(0,De.Z)("button",{target:"eihzzlm0"})({name:"16q6746",styles:"display:flex;align-items:center;padding:0.5rem;margin:0.5rem 0"});function gL(e){return gL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gL(e)}var wL=["children","method","url","params","extensions","onDownloadStart","onDownloadResolved","onDownloadRejected"];function OL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SL(){return SL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SL.apply(this,arguments)}function EL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _L(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function xL(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_L(o,r,i,a,u,"next",e)}function u(e){_L(o,r,i,a,u,"throw",e)}a(void 0)}))}}function PL(){PL=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,i){var o=new RegExp(e,r);return t.set(o,i||t.get(e)),kL(o,n.prototype)}function r(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return CL(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=r(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!==gL(e[e.length-1])&&(e=[].slice.call(e)).push(r(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,n,i)},PL.apply(this,arguments)}function CL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kL(e,t)}function kL(e,t){return kL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kL(e,t)}function AL(e){switch(e){case"csv":return(0,f.$_)("accent7");case"xlsx":return(0,f.$_)("accent1");case"json":return(0,f.$_)("bg-dark");default:return(0,f.$_)("brand")}}var DL=function(e){var t,n=e.res,r=e.type,i=(n.headers.get("Content-Disposition")||"").match(PL(/filename="(.+)"/,{fileName:1}));return(null==i||null===(t=i.groups)||void 0===t?void 0:t.fileName)||"query_result_".concat((new Date).toISOString(),".").concat(r)},RL=function(){var e=xL(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,u,l,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.method,i=n.url,o=n.type,a=n.onDownloadStart,u=n.onDownloadResolved,l=n.onDownloadRejected,t.preventDefault(),a(),c=new URLSearchParams(new FormData(t.target)),s={method:r},"POST"===r?s.body=c:"GET"===r&&(s.query=c.toString()),fetch("POST"===r?i:i+"?"+s.query,s).then(function(){var e=xL(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.blob();case 2:n=e.sent,r=URL.createObjectURL(n),i=DL({res:t,type:o}),(a=document.createElement("a")).href=r,a.setAttribute("download",i),document.body.appendChild(a),a.click(),URL.revokeObjectURL(r),a.remove(),u();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){return l()}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),IL=function(e){var t=e.children,n=e.method,r=e.url,i=e.params,o=e.extensions,a=e.onDownloadStart,l=e.onDownloadResolved,c=e.onDownloadRejected,s=EL(e,wL);return u.createElement("div",null,u.createElement("form",{onSubmit:function(e){return RL(e,{method:n,url:r,type:t,onDownloadStart:a,onDownloadResolved:l,onDownloadRejected:c})}},i&&(0,yL.w_)(i).map(TL),u.createElement(bL,SL({className:"text-white-hover bg-brand-hover rounded cursor-pointer full hover-parent hover--inherit",onClick:function(e){window.OSX&&(e.preventDefault(),window.OSX.download(n,r,i,o))}},s),u.createElement(En.ZP,{name:t,size:32,mr:1,color:AL(t)}),u.createElement(vL.default,{my:0},".",t))))},TL=function(e){var t=OL(e,2),n=t[0],r=t[1];return u.createElement("input",{key:n,type:"hidden",name:n,value:r})};IL.propTypes={url:E().string.isRequired,method:E().string,params:E().object,extensions:E().array,onDownloadStart:E().func,onDownloadResolved:E().func,onDownloadRejected:E().func},IL.defaultProps={method:"POST",params:{},extensions:[]};var NL=IL;var qL,ML,ZL,LL,BL,zL,FL=(0,De.Z)("div",{target:"efi6noz3"})("padding:1rem;width:",(function(e){return e.isExpanded?"300px":"260px"}),";"),QL=(0,De.Z)("div",{target:"efi6noz2"})({name:"m1a2da",styles:"padding:0.5rem"}),VL=(0,De.Z)("div",{target:"efi6noz1"})({name:"bs4z70",styles:"padding:0 0.5rem"}),UL=(0,De.Z)("div",{target:"efi6noz0"})({name:"1d3w5wq",styles:"width:100%"});function HL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GL(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WL=yL.a2,$L=function(e){var t=e.className,n=e.classNameClose,r=e.card,i=e.result,o=e.uuid,a=e.token,l=e.dashcardId,c=e.icon,s=e.params,f=e.visualizationSettings,p=HL((0,u.useState)("idle"),2),h=p[0],m=p[1];return u.createElement(_n.Z,{triggerElement:function(){return nB({icon:c,status:h})},triggerClasses:Ze()(t,"text-brand-hover"),triggerClassesClose:n,disabled:"pending"===h||null},(function(e){var t=e.onClose;return u.createElement(FL,{isExpanded:i.data&&null!=i.data.rows_truncated},u.createElement(QL,null,u.createElement("h4",null,(0,v.t)(ML||(ML=GL(["Download full results"]))))),null!=i.data&&null!=i.data.rows_truncated&&u.createElement(VL,null,u.createElement("p",null,(0,v.t)(ZL||(ZL=GL(["Your answer has a large number of rows so it could take a while to download."])))),u.createElement("p",null,function(e){var t;return null!==(t=d.zI.getDownloadWidgetMessageOverride(e))&&void 0!==t?t:(0,v.t)(qL||(qL=GL(["The maximum download size is 1 million rows."])))}(i))),u.createElement("div",null,WL.map((function(e){return u.createElement(UL,{key:e},l&&a?u.createElement(tB,{key:e,type:e,dashcardId:l,token:a,card:r,params:s,onDownloadStart:function(){m("pending"),t()},onDownloadResolved:function(){return m("resolved")},onDownloadRejected:function(){return m("rejected")}}):o?u.createElement(XL,{key:e,type:e,uuid:o,result:i,onDownloadStart:function(){m("pending"),t()},onDownloadResolved:function(){return m("resolved")},onDownloadRejected:function(){return m("rejected")}}):a?u.createElement(eB,{key:e,type:e,token:a,onDownloadStart:function(){m("pending"),t()},onDownloadResolved:function(){return m("resolved")},onDownloadRejected:function(){return m("rejected")}}):r&&r.id?u.createElement(JL,{key:e,type:e,card:r,result:i,disabled:"pending"===h,onDownloadStart:function(){m("pending"),t()},onDownloadResolved:function(){return m("resolved")},onDownloadRejected:function(){return m("rejected")}}):r&&!r.id?u.createElement(KL,{key:e,type:e,result:i,visualizationSettings:f,onDownloadStart:function(){m("pending"),t()},onDownloadResolved:function(){return m("resolved")},onDownloadRejected:function(){return m("rejected")}}):null)}))))}))},KL=function(e){var t=e.type,n=e.result.json_query,r=void 0===n?{}:n,i=e.visualizationSettings,o=e.onDownloadStart,a=e.onDownloadResolved,l=e.onDownloadRejected;return u.createElement(NL,{url:"api/dataset/".concat(t),params:{query:JSON.stringify(x.ZP.omit(r,"constraints")),visualization_settings:JSON.stringify(i)},extensions:[t],onDownloadStart:o,onDownloadResolved:a,onDownloadRejected:l},t)},JL=function(e){var t=e.type,n=e.result.json_query,r=void 0===n?{}:n,i=e.card,o=e.onDownloadStart,a=e.onDownloadResolved,l=e.onDownloadRejected;return u.createElement(NL,{url:"api/card/".concat(i.id,"/query/").concat(t),params:{parameters:JSON.stringify(r.parameters)},extensions:[t],onDownloadStart:o,onDownloadResolved:a,onDownloadRejected:l},t)},XL=function(e){var t=e.type,n=e.uuid,r=e.result.json_query,i=void 0===r?{}:r,o=e.onDownloadStart,a=e.onDownloadResolved,l=e.onDownloadRejected;return u.createElement(NL,{method:"GET",url:yL.cF(n,t),params:{parameters:JSON.stringify(i.parameters)},extensions:[t],onDownloadStart:o,onDownloadResolved:a,onDownloadRejected:l},t)},eB=function(e){var t=e.type,n=e.token,r=e.onDownloadStart,i=e.onDownloadResolved,o=e.onDownloadRejected,a=(0,mL.parse)(window.location.href).query,l=a&&oM.parse(a);return u.createElement(NL,{method:"GET",url:yL._1(n,t),params:l,extensions:[t],onDownloadStart:r,onDownloadResolved:i,onDownloadRejected:o},t)},tB=function(e){var t=e.type,n=e.dashcardId,r=e.token,i=e.card,o=e.params,a=e.onDownloadStart,l=e.onDownloadResolved,c=e.onDownloadRejected;return u.createElement(NL,{method:"GET",url:"api/embed/dashboard/".concat(r,"/dashcard/").concat(n,"/card/").concat(i.id,"/").concat(t),extensions:[t],params:o,onDownloadStart:a,onDownloadResolved:l,onDownloadRejected:c},t)},nB=function(e){var t=e.icon,n=e.status;if(["idle","resolved","rejected"].includes(n))return u.createElement($a.Z,{tooltip:(0,v.t)(LL||(LL=GL(["Download full results"])))},u.createElement(En.ZP,{title:(0,v.t)(BL||(BL=GL(["Download this data"]))),name:t,size:20}));if("pending"===n)return u.createElement($a.Z,{tooltip:(0,v.t)(zL||(zL=GL(["Downloading"])))},u.createElement(An.Z,{size:18}));throw new Error("Unknown download status: ".concat(n))};$L.propTypes={card:E().object,result:E().object,uuid:E().string,icon:E().string,params:E().object},$L.defaultProps={result:{},icon:"download",params:{}},$L.shouldRender=function(e){var t=e.result;return!e.isResultDirty&&t&&!t.error&&d.zI.canDownloadResults(t)};var rB=$L,iB=n(30728);function oB(e){return oB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oB(e)}function aB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lB(e,t,n){return t&&uB(e.prototype,t),n&&uB(e,n),e}function cB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sB(e,t)}function sB(e,t){return sB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sB(e,t)}function fB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pB(e);if(t){var i=pB(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dB(this,n)}}function dB(e,t){return!t||"object"!==oB(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pB(e){return pB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pB(e)}var hB,mB,yB,vB=[],bB=x.ZP.debounce((function(){document.title=vB.sort((function(e,t){return(e._titleIndex||0)-(t._titleIndex||0)})).map((function(e){return e._documentTitle})).filter((function(e){return e})).reverse().join("  ")})),gB=function(e){return function(t){var n,r;return r=n=function(n){cB(i,n);var r=fB(i);function i(){return aB(this,i),r.apply(this,arguments)}return lB(i,[{key:"UNSAFE_componentWillMount",value:function(){vB.push(this),this._updateDocumentTitle()}},{key:"componentDidUpdate",value:function(){this._updateDocumentTitle()}},{key:"componentWillUnmount",value:function(){for(var e=0;e<vB.length;e++)if(vB[e]===this){vB.splice(e,1);break}this._updateDocumentTitle()}},{key:"_updateDocumentTitle",value:function(){var t=this;if("string"==typeof e)this._documentTitle=e;else if("function"==typeof e){var n=e(this.props);if(null==n)this._documentTitle="";else if(n instanceof String||"string"==typeof n)this._documentTitle=n;else if("object"===oB(n)){var r;this._documentTitle=n.title,null===(r=n.refresh)||void 0===r||r.then((function(){return t._updateDocumentTitle()})),n.titleIndex&&(this._titleIndex=n.titleIndex)}}bB()}},{key:"render",value:function(){return u.createElement(t,this.props)}}]),i}(u.Component),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n,"displayName","Title["+(t.displayName||t.name)+"]"),r}},wB=gB,OB=n(10209),jB=n(4356),SB={name:"public",drills:function(){return[jB.Z]}},EB=n(98399);function _B(e){return _B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_B(e)}function xB(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function PB(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){xB(o,r,i,a,u,"next",e)}function u(e){xB(o,r,i,a,u,"throw",e)}a(void 0)}))}}function CB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CB(Object(n),!0).forEach((function(t){qB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DB(e,t){return DB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DB(e,t)}function RB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NB(e);if(t){var i=NB(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return IB(this,n)}}function IB(e,t){return!t||"object"!==_B(t)&&"function"!=typeof t?TB(e):t}function TB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NB(e){return NB=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NB(e)}function qB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MB={setErrorPage:iZ.$J,addParamValues:eq.addParamValues,addFields:eq.addFields},ZB=(hB=(0,_.connect)((function(e){return{metadata:(0,tq.sd)(e)}}),MB),mB=wB((function(e){var t=e.card;return t&&t.name})),hB(yB=mB(yB=(0,ac.default)({refreshMode:"debounceLeading"})(yB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DB(e,t)}(a,e);var t,n,r,i,o=RB(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),qB(TB(t=o.call(this,e)),"setParameterValue",(function(e,n){t.setState({parameterValues:kB(kB({},t.state.parameterValues),{},qB({},e,n))},t.run)})),qB(TB(t),"run",PB(regeneratorRuntime.mark((function e(){var n,r,i,o,a,u,l,c,s,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.setErrorPage,i=n.params,o=i.uuid,a=i.token,u=t.state,l=u.card,c=u.parameterValues,l){e.next=4;break}return e.abrupt("return");case 4:if(s=(0,OB.dX)(l),e.prev=5,t.setState({result:null}),!a){e.next=13;break}return e.next=10,(0,k.maybeUsePivotEndpoint)(k.EmbedApi.cardQuery,l)(kB({token:a},(0,_I.og)(s,c)));case 10:f=e.sent,e.next=21;break;case 13:if(!o){e.next=20;break}return d=(0,vg.tq)(l,s,c),e.next=17,(0,k.maybeUsePivotEndpoint)(k.PublicApi.cardQuery,l)({uuid:o,parameters:JSON.stringify(d.parameters)});case 17:f=e.sent,e.next=21;break;case 20:throw{status:404};case 21:t.setState({result:f}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(5),EB.error("error",e.t0),r(e.t0);case 28:case"end":return e.stop()}}),e,null,[[5,24]])})))),t.state={card:null,result:null,initialized:!1,parameterValues:{}},t}return t=a,n=[{key:"UNSAFE_componentWillMount",value:(i=PB(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,u,l,c,s,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.setErrorPage,r=t.params,i=r.uuid,o=r.token,a=t.location.query,u=t.metadata,i?(0,k.setPublicQuestionEndpoints)(i):o&&(0,k.setEmbedQuestionEndpoints)(o),e.prev=2,!o){e.next=9;break}return e.next=6,k.EmbedApi.card({token:o});case 6:l=e.sent,e.next=16;break;case 9:if(!i){e.next=15;break}return e.next=12,k.PublicApi.card({uuid:i});case 12:l=e.sent,e.next=16;break;case 15:throw{status:404};case 16:l.param_values&&this.props.addParamValues(l.param_values),l.param_fields&&this.props.addFields(l.param_fields),c=(0,OB.a5)(l,u),s=(0,_I.QM)(c,a,this.props.metadata),this.setState({card:l,parameterValues:s},PB(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.run();case 2:f.setState({initialized:!0});case 3:case"end":return e.stop()}}),e)})))),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),EB.error("error",e.t0),n(e.t0);case 27:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.params,r=n.uuid,i=n.token,o=t.metadata,a=this.state,l=a.card,c=a.result,s=a.initialized,f=a.parameterValues,d=c&&u.createElement(rB,{className:"m1 text-medium-hover",uuid:r,token:i,result:c}),p=l&&(0,OB.a5)(l,o);return u.createElement(VM,{name:l&&l.name,description:l&&l.description,actionButtons:d,parameters:s?p:[],parameterValues:f,setParameterValue:this.setParameterValue},u.createElement(iB.default,{className:"flex-full",loading:!c||!s,error:"string"==typeof c?c:null,noWrapper:!0},(function(){return u.createElement(hL,{error:c&&c.error,rawSeries:[{card:l,data:c&&c.data}],className:"full flex-full z1",onUpdateVisualizationSettings:function(t){return e.setState({result:(0,b.updateIn)(c,["card","visualization_settings"],(function(e){return kB(kB({},e),t)}))})},gridUnit:12,showTitle:!1,isDashboard:!0,mode:SB,metadata:e.props.metadata,onChangeCardAndRun:function(){}})})))}}],n&&AB(t.prototype,n),r&&AB(t,r),a}(u.Component))||yB)||yB)||yB),LB=n(42037),BB=n(84121);function zB(e){return function(e){if(Array.isArray(e))return VB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||QB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QB(e,t){if(e){if("string"==typeof e)return VB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VB(e,t):void 0}}function VB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UB(Object(n),!0).forEach((function(t){YB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GB=["items","itemRenderer","breakpoints","layouts","cols","width","margin","rowHeight","isEditing","onLayoutChange"];function WB(){return WB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WB.apply(this,arguments)}function $B(e){return function(e){if(Array.isArray(e))return XB(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JB(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||JB(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JB(e,t){if(e){if("string"==typeof e)return XB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XB(e,t):void 0}}function XB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ez(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tz=function(e){var t=e.items,n=e.itemRenderer,r=e.breakpoints,i=e.layouts,o=e.cols,a=e.width,l=e.margin,c=e.rowHeight,s=e.isEditing,d=e.onLayoutChange,p=ez(e,GB),h=KB((0,u.useState)(BB.Responsive.utils.getBreakpointFromWidth(r,a)),2),m=h[0],y=h[1],v=(0,u.useCallback)((function(e){d({layout:e,breakpoint:BB.Responsive.utils.getBreakpointFromWidth(r,a)})}),[d,r,a]),b=(0,u.useCallback)((function(e){y(e)}),[]),g=(0,u.useMemo)((function(){return l[m]}),[l,m]),w=(0,u.useMemo)((function(){return i[m]}),[i,m]),O=(0,u.useMemo)((function(){return o[m]}),[o,m]),j=(0,u.useMemo)((function(){var e=O-1,t=KB(g,1)[0];return{width:(a-e*t)/O,height:c}}),[O,a,c,g]),S=(0,u.useCallback)((function(e){var t=w.find((function(t){return String(t.i)===String(e.id)})),r=j.width*t.w;return n({item:e,gridItemWidth:r,breakpoint:m,totalNumGridCols:O})}),[w,j,n,m,O]),E=(0,u.useMemo)((function(){var e=Math.max.apply(Math,$B(w.map((function(e){return e.y+e.h}))));s&&(e+=Math.ceil(window.innerHeight/j.height));var t=KB(g,2),n=(t[0],t[1]);return(j.height+n)*e}),[j.height,w,g,s]),_=(0,u.useMemo)((function(){return function(e){var t=e.cellSize,n=e.margin,r=e.cols,i=e.gridWidth,o=FB(n,2),a=o[0],u=o[1],l=t.height+u,c=(0,f.$_)("border"),s=t.width,d=t.height,p=(0,x.ZP)(r).times((function(e){var n=e*(t.width+a);return"<rect stroke='".concat(c,"' stroke-width='1' fill='none' x='").concat(n,"' y='").concat(0,"' width='").concat(s,"' height='").concat(d,"'/>")})),h=["<svg xmlns='".concat("http://www.w3.org/2000/svg","' width='").concat(i,"' height='").concat(l,"'>")].concat(zB(p),["</svg>"]).join("");return'url("data:image/svg+xml;utf8,'.concat(encodeURIComponent(h),'")')}({cellSize:j,margin:g,cols:O,gridWidth:a})}),[j,a,g,O]),P=(0,u.useMemo)((function(){return{width:a,height:E,background:s?_:""}}),[a,E,_,s]),C="mobile"===m,k=(0,u.useMemo)((function(){return t.map(S)}),[t,S]);return u.createElement(BB.Responsive,WB({breakpoints:r,cols:o,layouts:i,width:a,margin:g,rowHeight:c,isDraggable:s&&!C,isResizable:s&&!C},p,{autoSize:!1,onLayoutChange:v,onBreakpointChange:b,style:P}),k)},nz=n(12463),rz=n(92065),iz=n(92922),oz=n(30163),az=n(18591);var uz,lz=(0,De.Z)(iB.default,{target:"e9suwig6"})({name:"ksdwnd",styles:"flex:1;margin:0;padding:0;width:100%"}),cz=(0,De.Z)("ul",{target:"e9suwig5"})({name:"17ycxgu",styles:"margin:0;padding:0;width:100%"}),sz=(0,De.Z)("button",{target:"e9suwig4"})("align-items:center;color:",(0,f.$_)("brand"),";cursor:pointer;display:flex;font-family:var(--default-font-family);font-size:14px;font-weight:700;padding:0.25rem 1.5rem;"),fz=(0,De.Z)("li",{target:"e9suwig3"})({name:"3k4g2l",styles:"align-items:center;display:flex;justify-content:center;list-style:none;margin:0;padding:0;width:100%"}),dz=(0,De.Z)("div",{target:"e9suwig2"})("display:flex;flex-direction:row;align-items:center;flex:0;border-bottom:1px solid ",(0,f.$_)("border"),";"),pz=(0,De.Z)(az.Z,{target:"e9suwig1"})({name:"1d3w5wq",styles:"width:100%"}),hz=(0,De.Z)("div",{target:"e9suwig0"})({name:"1w1qal4",styles:"display:flex;align-items:center;justify-content:center;width:100%;height:100%"}),mz=n(88637),yz=(0,De.Z)("li",{target:"effzbei2"})("align-items:center;display:flex;margin:0;min-height:36px;opacity:",(function(e){return e.isDisabled?.5:1}),";padding:0.25rem 0.5rem 0.25rem 0.75rem;pointer-events:",(function(e){return e.isDisabled?"none":"all"}),";&:first-child{padding-top:0.5rem;}&:last-child{padding-bottom:0.5rem;}"),vz=(0,De.Z)("div",{target:"effzbei1"})("display:inline-block;padding:0 0.5rem 0 0;max-width:100%;width:",(function(e){return e.hasIcon?"calc(100% - 36px)":"100%"}),";"),bz=(0,De.Z)(En.ZP,{target:"effzbei0"})("color:",(0,f.$_)("text-light"),";cursor:pointer;margin-left:auto;max-width:36px;padding:0 0.5rem;&:hover{color:",(0,f.$_)("text-medium"),";}");function gz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}bz.defaultProps={size:20,name:"warning"};var wz,Oz,jz,Sz,Ez={question:E().object,onChange:E().func.isRequired,isEnabled:E().bool,isBad:E().bool,style:E().object},_z=u.memo((function(e){var t=e.question,n=e.onChange,r=e.isEnabled,i=e.isBad,o=e.style,a=t.isStructured(),l=t.displayName();return u.createElement(yz,{style:o,isDisabled:i},u.createElement(vz,{hasIcon:!a},u.createElement(mz.Z,{label:l,labelEllipsis:!0,checked:r,onChange:n})),!a&&u.createElement($a.Z,{tooltip:(0,v.t)(uz||(uz=gz(["We're not sure if this question is compatible"])))},u.createElement(bz,null)))}));function xz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Pz(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Cz(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Pz(o,r,i,a,u,"next",e)}function u(e){Pz(o,r,i,a,u,"throw",e)}a(void 0)}))}}function kz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Az(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Az(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Az(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_z.propTypes=Ez;var Dz={questions:E().object,badQuestions:E().object,enabledQuestions:E().object,error:E().string,onSelect:E().func,dashcard:E().object,dashcardData:E().object,loadMetadataForQueries:E().function,visualization:E().object,isLoadingMetadata:E().bool},Rz=u.memo((function(e){var t=e.questions,n=e.badQuestions,r=e.enabledQuestions,i=e.error,o=e.onSelect,a=e.dashcard,l=e.dashcardData,c=e.loadMetadataForQueries,s=e.visualization,f=e.isLoadingMetadata,d=kz((0,u.useState)(""),2),p=d[0],h=d[1],m=(0,iz.c)(p,oz.m6),y=(0,u.useMemo)((function(){var e=m.toLowerCase(),n=t.filter((function(t){return t.displayName().toLowerCase().includes(e)}));return n.sort((function(e,t){return e.isNative()?t.isNative()?0:-1:1})),n}),[t,m]),g=(0,u.useMemo)((function(){return null==y?void 0:y.filter((function(e){return function(e,t,n,r){var i={card:t.card,data:(0,b.getIn)(n,[t.id,t.card.id,"data"])};try{return r.id()!==t.card.id&&!(r.isStructured()&&!e.seriesAreCompatible(i,{card:r.card(),data:{cols:r.query().columns(),rows:[]}}))}catch(e){return!1}}(s,a,l,e)}))}),[a,l,y,s]),w=(0,u.useMemo)((function(){return y.filter((function(e){return e.isStructured()&&!e.query().hasMetadata()}))}),[y]),O=(0,u.useCallback)(Cz(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==w.length){e.next=2;break}return e.abrupt("return");case 2:return t=w.slice(0,15),e.next=5,c(t.map((function(e){return e.query()})));case 5:case"end":return e.stop()}}),e)}))),[c,w]);(0,u.useEffect)((function(){O()}),[y.length]);var j=!!(g.length>0),S=w.length>0?g.length+1:g.length;return u.createElement(u.Fragment,null,u.createElement(dz,null,u.createElement(pz,{value:p,colorScheme:"transparent",icon:u.createElement(En.ZP,{name:"search",size:16,pt:"0.25rem"}),placeholder:(0,v.t)(wz||(wz=xz(["Search for a question"]))),onFocus:function(){Jf.vF("Dashboard","Edit Series Modal","search")},onChange:function(e){return h(e)}})),u.createElement(lz,{className:"flex flex-full overflow-auto",loading:!y,error:i,noBackground:!0},u.createElement(cz,null,u.createElement(pc.qj,null,(function(e){var t=e.width,i=e.height;return u.createElement(pc.aV,{overscanRowCount:0,width:t,height:i,rowCount:S,rowHeight:36,rowRenderer:function(e){var t=e.index,i=e.key,a=e.style;if(t===g.length)return u.createElement(fz,{style:a},u.createElement(sz,{onClick:O,disabled:f},f?(0,v.t)(Oz||(Oz=xz(["Loading"]))):(0,v.t)(jz||(jz=xz(["Load more"])))));var l=g[t],c=r[l.id()],s=n[l.id()];return u.createElement(_z,{key:i,question:l,isEnabled:c,isBad:s,style:a,onChange:function(e){return o(l,e.target.checked)}})}})})),!j&&u.createElement(hz,null,u.createElement(iD.default,{message:(0,v.t)(Sz||(Sz=xz(["Nothing here"]))),icon:"all"})))))}));Rz.propTypes=Dz;var Iz,Tz,Nz,qz,Mz,Zz,Lz,Bz=n(98399);function zz(e){return zz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zz(e)}function Fz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Qz(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Vz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vz(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Vz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uz(Object(n),!0).forEach((function(t){tF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yz(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Gz(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Yz(o,r,i,a,u,"next",e)}function u(e){Yz(o,r,i,a,u,"throw",e)}a(void 0)}))}}function Wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $z(e,t){return $z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$z(e,t)}function Kz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=eF(e);if(t){var i=eF(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Jz(this,n)}}function Jz(e,t){return!t||"object"!==zz(t)&&"function"!=typeof t?Xz(e):t}function Xz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(e){return eF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eF(e)}function tF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nF,rF,iF,oF=(0,nz.createSelector)([tq.d6,function(e,t){return t.questions}],(function(e,t){return t&&t.map((function(t){return new xy.Z(t,e)}))})),aF=rz.Z.loadList({query:{f:"all"}})(Iz=(0,_.connect)((function(e,t){return{questions:oF(e,t)}}),{loadMetadataForQueries:eq.loadMetadataForQueries})((Nz=Tz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$z(e,t)}(o,e);var t,n,r,i=Kz(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),tF(Xz(n=i.call(this,e,t)),"handleQuestionSelectedChange",function(){var e=Gz(regeneratorRuntime.mark((function e(t,r){var i,o,a,u,l,c,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.props,o=i.dashcard,a=i.dashcardData,u=(0,Ii.getVisualizationRaw)([{card:o.card}]),l=u.visualization,c=t.card(),e.prev=3,!r){e.next=14;break}if(void 0!==(0,b.getIn)(a,[o.id,c.id])){e.next=9;break}return n.setState({state:"loading"}),e.next=9,n.props.fetchCardData(c,o,{reload:!1,clear:!0});case 9:s=(0,b.getIn)(n.props.dashcardData,[o.id,o.card.id]),f=(0,b.getIn)(n.props.dashcardData,[o.id,c.id]),l.seriesAreCompatible({card:o.card,data:s.data},{card:c,data:f.data})?(n.setState({state:null,series:n.state.series.concat(c)}),Jf.vF("Dashboard","Add Series",c.display+", success")):(n.setState({state:"incompatible",badQuestions:Hz(Hz({},n.state.badQuestions),{},tF({},c.id,!0))}),setTimeout((function(){return n.setState({state:null})}),2e3),Jf.vF("Dashboard","Add Series",c.dataset_query.type+", "+c.display+", fail")),e.next=16;break;case 14:n.setState({series:n.state.series.filter((function(e){return e.id!==c.id}))}),Jf.vF("Dashboard","Remove Series");case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),Bz.error("AddSeriesModal handleQuestionChange",e.t0),n.setState({state:"incompatible",badQuestions:Hz(Hz({},n.state.badQuestions),{},tF({},c.id,!0))}),setTimeout((function(){return n.setState({state:null})}),2e3);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,n){return e.apply(this,arguments)}}()),tF(Xz(n),"handleDone",(function(){n.props.setDashCardAttributes({id:n.props.dashcard.id,attributes:{series:n.state.series}}),n.props.onClose(),Jf.vF("Dashboard","Edit Series Modal","done")})),tF(Xz(n),"handleLoadMetadata",function(){var e=Gz(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoadingMetadata:!0}),e.next=3,n.props.loadMetadataForQueries(t);case 3:n.setState({isLoadingMetadata:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.state={error:null,series:e.dashcard.series||[],badQuestions:{},isLoadingMetadata:!1},n}return t=o,n=[{key:"handleRemoveSeries",value:function(e){this.setState({series:this.state.series.filter((function(t){return t.id!==e.id}))}),Jf.vF("Dashboard","Remove Series")}},{key:"render",value:function(){var e,t=this.props,n=t.dashcard,r=t.dashcardData,i=t.questions,o=this.state.badQuestions,a=(0,Ii.getVisualizationRaw)([{card:n.card}]).visualization,l=this.state.error,c={},s=Qz(this.state.series);try{for(s.s();!(e=s.n()).done;)c[e.value.id]=!0}catch(e){s.e(e)}finally{s.f()}var d=[n.card].concat(this.state.series).map((function(e){return{card:e,data:(0,b.getIn)(r,[n.id,e.id,"data"])}})).filter((function(e){return!!e.data}));return u.createElement("div",{className:"spread flex"},u.createElement("div",{className:"flex flex-column flex-full"},u.createElement("div",{className:"flex-no-shrink h3 pl4 pt4 pb2 text-bold"},"Edit data"),u.createElement("div",{className:"flex-full ml2 mr1 relative"},u.createElement(hL,{className:"spread",rawSeries:d,showTitle:!0,isDashboard:!0,isMultiseries:!0,onRemoveSeries:this.handleRemoveSeries}),this.state.state&&u.createElement("div",{className:"spred flex layout-centered",style:{backgroundColor:(0,f.$_)("bg-white")}},"loading"===this.state.state?u.createElement("div",{className:"h3 rounded bordered p3 bg-white shadowed"},(0,v.t)(qz||(qz=Fz(["Applying Question"])))):"incompatible"===this.state.state?u.createElement("div",{className:"h3 rounded bordered p3 bg-error border-error text-white"},(0,v.t)(Mz||(Mz=Fz(["That question isn't compatible"])))):null)),u.createElement("div",{className:"flex-no-shrink pl4 pb4 pt1"},u.createElement("button",{className:"Button Button--primary",onClick:this.handleDone},(0,v.t)(Zz||(Zz=Fz(["Done"])))),u.createElement("button",{"data-metabase-event":"Dashboard;Edit Series Modal;cancel",className:"Button ml2",onClick:this.props.onClose},(0,v.t)(Lz||(Lz=Fz(["Cancel"])))))),u.createElement("div",{className:"border-left flex flex-column",style:{width:370,backgroundColor:(0,f.$_)("bg-light"),borderColor:(0,f.$_)("border")}},u.createElement(Rz,{questions:i,badQuestions:o,enabledQuestions:c,error:l,onSelect:this.handleQuestionSelectedChange,dashcard:this.props.dashcard,dashcardData:this.props.dashcardData,loadMetadataForQueries:this.handleLoadMetadata,visualization:a,isLoadingMetadata:this.state.isLoadingMetadata})))}}],n&&Wz(t.prototype,n),r&&Wz(t,r),o}(u.Component),tF(Tz,"propTypes",{dashcard:E().object.isRequired,questions:E().array,dashcardData:E().object.isRequired,fetchCardData:E().func.isRequired,fetchDatabaseMetadata:E().func.isRequired,setDashCardAttributes:E().func.isRequired,onClose:E().func.isRequired}),tF(Tz,"defaultProps",{}),Iz=Nz))||Iz)||Iz;function uF(e){return uF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uF(e)}function lF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function cF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fF(e,t){return fF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fF(e,t)}function dF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hF(e);if(t){var i=hF(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return pF(this,n)}}function pF(e,t){return!t||"object"!==uF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hF(e){return hF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hF(e)}var mF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fF(e,t)}(o,e);var t,n,r,i=dF(o);function o(){return cF(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"onRemove",value:function(){this.props.removeCardFromDashboard({dashId:this.props.dashboard.id,dashcardId:this.props.dashcard.id}),this.props.onClose(),Jf.vF("Dashboard","Remove Card")}},{key:"render",value:function(){var e=this,t=this.props.onClose;return u.createElement(jn.default,{title:(0,v.t)(nF||(nF=lF(["Remove this question?"]))),onClose:function(){return t()}},u.createElement("div",{className:"flex-align-right"},u.createElement(Ce.Z,{onClick:t},(0,v.t)(rF||(rF=lF(["Cancel"])))),u.createElement(Ce.Z,{danger:!0,ml:2,onClick:function(){return e.onRemove()}},(0,v.t)(iF||(iF=lF(["Remove"]))))))}}])&&sF(t.prototype,n),r&&sF(t,r),o}(u.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mF,"propTypes",{dashcard:E().object.isRequired,dashboard:E().object.isRequired,removeCardFromDashboard:E().func.isRequired,onClose:E().func.isRequired});var yF,vF,bF,gF,wF=(0,n(66750).default)(_r),OF=function(e){var t=e.warnings,n=e.className,r=e.size,i=void 0===r?16:r;if(!t||0===t.length)return null;var o=u.createElement("ul",{className:"px2 pt2 pb1",style:{maxWidth:350}},t.map((function(e){return u.createElement("li",{className:"pb1",key:e},e)})));return u.createElement($a.Z,{tooltip:o},u.createElement(En.ZP,{className:n,name:"warning",size:i}))},jF=(0,De.Z)("div",{target:"e1em8gkx0"})(He.Z.RadioGroupVariants.join(", "),"{flex-wrap:wrap;}",He.Z.RadioContainerVariants.join(", "),"{margin-bottom:0.5rem;}");function SF(e){return SF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SF(e)}function EF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EF(Object(n),!0).forEach((function(t){BF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||CF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PF(e){return function(e){if(Array.isArray(e))return kF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||CF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CF(e,t){if(e){if("string"==typeof e)return kF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kF(e,t):void 0}}function kF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AF(){return AF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AF.apply(this,arguments)}function DF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function IF(e,t,n){return t&&RF(e.prototype,t),n&&RF(e,n),e}function TF(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NF(e,t)}function NF(e,t){return NF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},NF(e,t)}function qF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LF(e);if(t){var i=LF(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MF(this,n)}}function MF(e,t){return!t||"object"!==SF(t)&&"function"!=typeof t?ZF(e):t}function ZF(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LF(e){return LF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},LF(e)}function BF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zF(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FF=[(0,v.t)(yF||(yF=zF(["Display"])))],QF=function(e){TF(n,e);var t=qF(n);function n(e){var r;return DF(this,n),BF(ZF(r=t.call(this,e)),"handleShowSection",(function(e){r.setState({currentSection:e,currentWidget:null})})),BF(ZF(r),"handleShowWidget",(function(e){r.setState({currentWidget:e})})),BF(ZF(r),"handleEndShowWidget",(function(){r.setState({currentWidget:null})})),BF(ZF(r),"handleResetSettings",(function(){Jf.vF("Chart Settings","Reset Settings");var e=(0,Xi.di)(r._getSettings());r.props.onChange(e)})),BF(ZF(r),"handleChangeSettings",(function(e){r.props.onChange((0,Xi.VP)(r._getSettings(),e))})),BF(ZF(r),"handleDone",(function(){r.props.onDone(r._getSettings()),r.props.onClose()})),BF(ZF(r),"handleCancel",(function(){r.props.onClose()})),r.state={currentSection:e.initial&&e.initial.section||null,currentWidget:e.initial&&e.initial.widget||null},r}return IF(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.initial;x.ZP.isEqual(t,e.initial)||this.setState({currentSection:t&&t.section||null,currentWidget:t&&t.widget||null})}},{key:"_getSettings",value:function(){return this.props.settings||this.props.series[0].card.visualization_settings}},{key:"_getWidgets",value:function(){if(this.props.widgets)return this.props.widgets;var e=this.props.isDashboard,t=this._getTransformedSeries();return(0,ey.dr)(t,this.handleChangeSettings,e)}},{key:"_getRawSeries",value:function(){var e=this.props.series,t=this._getSettings();return(0,b.assocIn)(e,[0,"card","visualization_settings"],t)}},{key:"_getTransformedSeries",value:function(){var e=this._getRawSeries();return(0,Ii.getVisualizationTransformed)((0,Ii.extractRemappings)(e)).series}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,i=n.question,o=n.addField,a=n.noPreview,l=n.children,c=n.setSidebarPropsOverride,s=n.dashboard,f=this.state.currentWidget,d=this._getSettings(),p=this._getWidgets(),h=this._getRawSeries(),m={},y={},v=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=CF(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(p);try{for(v.s();!(e=v.n()).done;){var b=e.value;m[b.id]=b,b.widget&&!b.hidden&&(y[b.section]=y[b.section]||[],y[b.section].push(b))}}catch(e){v.e(e)}finally{v.f()}if(y[void 0]&&Object.values(y).length>1){var g,w=y[void 0];delete y[void 0],(g=Object.values(y)[0]).unshift.apply(g,PF(w))}var O=Object.keys(y),j=["data","display","axes","labels"].concat(PF(O.map((function(e){return e.toLowerCase()}))));O.sort((function(e,t){var n=xF([e,t].map((function(e){return j.indexOf(e.toLowerCase())})),2);return n[0]-n[1]}));var S,E=this.state.currentSection&&y[this.state.currentSection]?this.state.currentSection:x.ZP.find(FF,(function(e){return e in y}))||O[0],_=f&&m[f.id];S=_?[_=_F(_F({},_),{},{hidden:!1,props:_F(_F({},_.props||{}),f.props||{})})]:y[E]||[];var P=(y[E]||[]).some((function(e){return"column_settings"===e.id})),C={question:i,addField:o,onShowWidget:this.handleShowWidget,onEndShowWidget:this.handleEndShowWidget,currentSectionHasColumnSettings:P},k=u.createElement(jF,null,u.createElement(He.Z,{value:E,onChange:this.handleShowSection,options:O,optionNameFn:function(e){return e},optionValueFn:function(e){return e},optionKeyFn:function(e){return e},variant:"bubble"})),A=S.map((function(e){return u.createElement(mo,AF({key:"".concat(e.id)},e,C,{setSidebarPropsOverride:c}))})),D=x.ZP.isEqual(d,{})||null!=(d||{}).virtual_card?null:this.handleResetSettings;if(l)return l({sectionNames:O,sectionPicker:k,widgetList:A,onDone:this.handleDone,onCancel:this.handleCancel,onReset:D});var R=O.length>1&&!(1===S.length&&"column_settings"===S[0].id&&!P);return u.createElement("div",{className:Ze()(r,"flex flex-column")},R&&u.createElement("div",{className:"flex flex-no-shrink pl4 pt2 pb1"},k),a?u.createElement("div",{className:"full-height relative scroll-y scroll-show pt3 pb4"},A):u.createElement("div",{className:"Grid flex-full"},u.createElement("div",{className:"Grid-cell Cell--1of3 scroll-y scroll-show border-right py4","data-testid":"chartsettings-sidebar"},A),u.createElement("div",{className:"Grid-cell flex flex-column pt2"},u.createElement("div",{className:"mx4 flex flex-column"},u.createElement(OF,{className:"mx2 align-self-end text-gold",warnings:this.state.warnings,size:20})),u.createElement("div",{className:"mx4 flex-full relative"},u.createElement(hL,{className:"spread",rawSeries:h,showTitle:!0,isEditing:!0,isDashboard:!0,dashboard:s,isSettings:!0,showWarnings:!0,onUpdateVisualizationSettings:this.handleChangeSettings,onUpdateWarnings:function(e){return t.setState({warnings:e})}})),u.createElement(VF,{onDone:this.handleDone,onCancel:this.handleCancel,onReset:D}))))}}]),n}(u.Component),VF=function(e){var t=e.className,n=e.onDone,r=e.onCancel,i=e.onReset;return u.createElement("div",{className:Ze()("py2 px4",t)},u.createElement("div",{className:"float-right"},u.createElement(Ce.Z,{className:"ml2",onClick:r,"data-metabase-event":"Chart Settings;Cancel"},(0,v.t)(vF||(vF=zF(["Cancel"])))),u.createElement(Ce.Z,{primary:!0,className:"ml2",onClick:n,"data-metabase-event":"Chart Settings;Done"},(0,v.t)(bF||(bF=zF(["Done"]))))),i&&u.createElement(Ce.Z,{borderless:!0,icon:"refresh",className:"float-right ml2","data-metabase-event":"Chart Settings;Reset",onClick:i},(0,v.t)(gF||(gF=zF(["Reset to defaults"])))))},UF=function(e){var t,n;return n=t=function(t){TF(r,t);var n=qF(r);function r(e){var t;return DF(this,r),(t=n.call(this,e)).state={settings:e.settings},t}return IF(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.settings!==e.settings&&this.setState({settings:e.settings})}},{key:"render",value:function(){var t=this;return u.createElement(e,AF({},this.props,{settings:this.state.settings,onChange:function(e){return t.setState({settings:e})},onDone:function(e){return t.props.onChange(e||t.state.settings)}}))}}]),r}(u.Component),BF(t,"displayName","withTransientSettingState[".concat(e.displayName||e.name,"]")),n}(QF),HF=n(6697),YF=n(36939);function GF(e){return GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GF(e)}function WF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||aQ(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function JF(e,t){return JF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},JF(e,t)}function XF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tQ(e);if(t){var i=tQ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eQ(this,n)}}function eQ(e,t){return!t||"object"!==GF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tQ(e){return tQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tQ(e)}function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nQ(Object(n),!0).forEach((function(t){iQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oQ(e){return function(e){if(Array.isArray(e))return uQ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||aQ(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aQ(e,t){if(e){if("string"==typeof e)return uQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uQ(e,t):void 0}}function uQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lQ=function(e){function t(e){var t=e||{},n=t.click_behavior,r=t.column_settings,i=void 0===r?{}:r;return[n].concat(oQ(Object.values(i).map((function(e){return e.click_behavior})))).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.linkType;return"link"===t&&("question"===n||"dashboard"===n)})).map((function(e){var t=e.linkType,n=e.targetId;return{entity:"question"===t?rz.Z:YF.Z,entityId:n}}))}return(0,_.connect)((function(e,n){return{getExtraDataForClick:function(r){var i=x.ZP.chain(t(r.settings)).groupBy((function(e){return e.entity.name})).mapObject((function(t){return x.ZP.chain(t).map((function(t){var n=t.entity,r=t.entityId;return n.selectors.getObject(e,{entityId:r})})).filter((function(e){return null!=e})).indexBy((function(e){return e.id})).value()})).value();return rQ(rQ({},i),{},{parameterValuesBySlug:n.parameterValuesBySlug,dashboard:n.dashboard,userAttributes:(0,HF.tO)(e,n)})}}}),(function(e){return{dispatch:e}}))(function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JF(e,t)}(l,n);var r,i,o,a=XF(l);function l(){return $F(this,l),a.apply(this,arguments)}return r=l,(i=[{key:"dashcardSettings",value:function(e){return(WF(e.rawSeries||[{}],1)[0].card||{}).visualization_settings}},{key:"fetch",value:function(){var e=this;t(this.dashcardSettings(this.props)).forEach((function(t){var n=t.entity,r=t.entityId;return e.props.dispatch(n.actions.fetch({id:r},{noEvent:!0}))}))}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(e){x.ZP.isEqual(this.dashcardSettings(this.props),this.dashcardSettings(e))||this.fetch()}},{key:"render",value:function(){return u.createElement(e,x.ZP.omit(this.props,"dispatch"))}}])&&KF(r.prototype,i),o&&KF(r,o),l}(u.Component))},cQ=n(25289),sQ=n(46508);function fQ(e){return fQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fQ(e)}function dQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hQ(e,t){return hQ=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hQ(e,t)}function mQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bQ(e);if(t){var i=bQ(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yQ(this,n)}}function yQ(e,t){return!t||"object"!==fQ(t)&&"function"!=typeof t?vQ(e):t}function vQ(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bQ(e){return bQ=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bQ(e)}function gQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hQ(e,t)}(o,e);var t,n,r,i=mQ(o);function o(){var e;dQ(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gQ(vQ(e=i.call.apply(i,[this].concat(n))),"props",void 0),e}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.target,r=t.mappingOptions,i=x.ZP.groupBy(r,"sectionName"),o=x.ZP.any(r,(function(e){return!!e.isForeign})),a=x.ZP.map(i,(function(e){return{name:e[0].sectionName,items:e}}));return u.createElement(sQ.Z,{className:"text-brand",maxHeight:this.props.maxHeight||600,sections:a,onChange:function(t){return e.props.onChange(t.target)},itemIsSelected:function(e){return x.ZP.isEqual(e.target,n)},renderItemIcon:function(e){return u.createElement(En.ZP,{name:e.icon||"unknown",size:18})},alwaysExpanded:!0,hideSingleSectionTitle:!o})}}],n&&pQ(t.prototype,n),r&&pQ(t,r),o}(u.Component),OQ=n(33355),jQ=n(90060),SQ=n(81376);var EQ=(0,De.Z)("div",{target:"e1pk9b2k8"})("margin:",(0,Re.D)(1)," 0;display:flex;flex-direction:column;align-items:center;"),_Q=(0,De.Z)("div",{target:"e1pk9b2k7"})("font-size:0.83em;margin-bottom:",(0,Re.D)(1),";text-weight:bold;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100px;"),xQ=(0,De.Z)("h4",{target:"e1pk9b2k6"})("color:",(0,f.$_)("text-medium"),";margin-bottom:",(0,Re.D)(1),";"),PQ={name:"1jssabw",styles:"pointer-events:none;opacity:0.4;border-color:inherit"},CQ=(0,De.Z)("div",{target:"e1pk9b2k5"})("display:flex;align-items:center;justify-content:space-between;background-color:",(0,f.$_)("white"),";text-weight:bold;cursor:pointer;font-size:1.2em;border:2px solid ",(0,f.$_)("brand"),";border-radius:8px;min-height:30px;min-width:100px;padding:0.25em 0.5em;color:",(0,f.$_)("text-medium"),";",(function(e){return"disabled"===e.variant&&PQ})," ",(function(e){return"mapped"===e.variant&&(0,eo.iv)("border-color:",(0,f.$_)("brand"),";background-color:",(0,f.$_)("brand"),";color:",(0,f.$_)("white"),";","")})," ",(function(e){return"unauthed"===e.variant&&(0,eo.iv)("pointer-events:none;border-color:",(0,f.$_)("bg-light"),";background-color:",(0,f.$_)("bg-light"),";color:",(0,f.$_)("text-medium"),";","")}),";");CQ.defaultProps={tabIndex:0,role:"button"};var kQ=(0,De.Z)("span",{target:"e1pk9b2k4"})("text-align:center;margin-right:",(0,Re.D)(1),";"),AQ=(0,De.Z)(Ce.Z,{target:"e1pk9b2k3"})("color:",(0,f.$_)("white"),";background-color:transparent;border:none;padding:",(0,Re.D)(0),"!important;&:hover{color:",(0,f.$_)("white"),";background-color:",(0,f.$n)("brand",.2),";}");AQ.defaultProps={icon:"close",size:12};var DQ=(0,De.Z)(En.ZP,{target:"e1pk9b2k2"})({name:"s079uh",styles:"margin-top:2px"});DQ.defaultProps={name:"chevrondown",size:12};var RQ=(0,De.Z)(En.ZP,{target:"e1pk9b2k1"})({name:"82a6rk",styles:"flex:1"});RQ.defaultProps={name:"key",size:18};var IQ,TQ,NQ,qQ,MQ,ZQ,LQ=(0,De.Z)("span",{target:"e1pk9b2k0"})("margin-top:",(0,Re.D)(1),";margin-bottom:-",(0,Re.D)(1),";padding:",(0,Re.D)(4)," 0;text-align:center;");function BQ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function zQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QQ(e){var t=e.name,n=e.sectionName;return null==n?t:"".concat(n,".").concat(t)}var VQ={setParameterMapping:SQ.setParameterMapping};function UQ(e){var t=e.card,n=e.dashcard,r=e.editingParameter,i=e.target,o=(e.mappingsByParameter,e.mappingOptions),a=e.metadata,l=e.setParameterMapping,c=zQ((0,u.useState)(!1),2),s=c[0],f=c[1],d=n.series&&n.series.length>0,p=(0,OQ.V1)(i)&&!(0,nq.Is)(r),h=0===o.length,m=x.ZP.find(o,(function(e){return x.ZP.isEqual(e.target,i)})),y=(0,u.useCallback)((function(e){l(r.id,n.id,t.id,e)}),[t.id,n.id,r.id,l]),b=(0,u.useMemo)((function(){return new xy.Z(t,a).query().isEditable()}),[t,a]),g=(0,u.useMemo)((function(){return b?h?{variant:"disabled",tooltip:(0,v.t)(TQ||(TQ=BQ(["This card doesn't have any fields or parameters that can be mapped to this parameter type."]))),buttonText:(0,v.t)(NQ||(NQ=BQ(["No valid fields"]))),buttonIcon:null}:m?{variant:"mapped",tooltip:null,buttonText:QQ(m),buttonIcon:u.createElement(AQ,{onClick:function(e){y(null),e.stopPropagation()}})}:{variant:"default",tooltip:null,buttonText:(0,v.t)(qQ||(qQ=BQ(["Select"]))),buttonIcon:u.createElement(DQ,null)}:{variant:"unauthed",tooltip:(0,v.t)(IQ||(IQ=BQ(["You dont have permission to see this questions columns."]))),text:null,buttonIcon:u.createElement(RQ,null)}}),[b,h,m,y]),w=g.variant,O=g.tooltip,j=g.buttonText,S=g.buttonIcon;return u.createElement(EQ,null,d&&u.createElement(_Q,null,t.name),u.createElement(xQ,null,(0,v.t)(MQ||(MQ=BQ(["Column to filter on"])))),u.createElement($a.Z,{tooltip:O},u.createElement(vc.Z,{visible:s&&!h&&b,onClickOutside:function(){return f(!1)},placement:"bottom-start",content:u.createElement(wQ,{onChange:function(e){y(e),f(!1)},target:i,mappingOptions:o})},u.createElement(CQ,{variant:w,"aria-haspopup":"listbox","aria-expanded":s,"aria-disabled":h||!b,onClick:function(){f(!0)},onKeyDown:function(e){"Enter"===e.key&&f(!0)}},j&&u.createElement(kQ,null,j),S))),p&&u.createElement(LQ,null,(0,v.t)(ZQ||(ZQ=BQ(["This field only accepts a single value because it's used in a SQL query."])))))}UQ.propTypes={card:E().object.isRequired,dashcard:E().object.isRequired,editingParameter:E().object.isRequired,target:E().object,mappingOptions:E().array.isRequired,mappingsByParameter:E().object.isRequired,metadata:E().object.isRequired,setParameterMapping:E().func.isRequired};var HQ,YQ=(0,_.connect)((function(e,t){return{editingParameter:(0,jQ.ME)(e,t),target:(0,jQ.Z)(e,t),mappingOptions:(0,jQ.oV)()(e,t),mappingsByParameter:(0,jQ.jb)(e,t),metadata:(0,tq.sd)(e)}}),VQ)(UQ);var GQ,WQ,$Q,KQ,JQ,XQ,eV,tV,nV,rV=function(e){var t=e.dashcard;return u.createElement("div",{className:"relative flex-full flex flex-column layout-centered"},t.series&&t.series.length>0&&u.createElement("div",{className:"mx4 my1 p1 rounded",style:{backgroundColor:(0,f.$_)("bg-light"),color:(0,f.$_)("text-medium"),marginTop:-10}},(0,v.t)(HQ||(HQ=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Make sure to make a selection for each series, or the filter won't work on this card."])))),u.createElement("div",{className:"flex mx4 z1",style:{justifyContent:"space-around"}},[t.card].concat(t.series||[]).map((function(e){return u.createElement(YQ,{key:"".concat(t.id,",").concat(e.id),dashcard:t,card:e})}))))},iV=n(54479);function oV(e){return oV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oV(e)}function aV(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function uV(e){return function(e){if(Array.isArray(e))return lV(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cV(Object(n),!0).forEach((function(t){bV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fV(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function dV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pV(e,t){return pV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pV(e,t)}function hV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vV(e);if(t){var i=vV(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mV(this,n)}}function mV(e,t){return!t||"object"!==oV(t)&&"function"!=typeof t?yV(e):t}function yV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(e){return vV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vV(e)}function bV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gV={padding:4},wV=lQ((0,_.connect)(null,(function(e){return{dispatch:e}}))(hL)),OV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pV(e,t)}(l,e);var t,n,r,i,o,a=hV(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),bV(yV(t=a.call(this,e)),"handlePreviewToggle",(function(){t.setState((function(e){return{isPreviewingCard:!e.isPreviewingCard}}))})),bV(yV(t),"preventDragging",(function(e){e.stopPropagation()})),t.state={isPreviewingCard:!1},t}return t=l,n=[{key:"componentDidMount",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.dashcard,r=t.markNewCardSeen,n.justAdded&&((i=In.findDOMNode(this))&&i.scrollIntoView&&i.scrollIntoView({block:"nearest"}),r(n.id));case 2:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){fV(o,n,r,a,u,"next",e)}function u(e){fV(o,n,r,a,u,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.clearInterval(this.visibilityTimer)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.dashcard,o=r.dashcardData,a=r.slowCards,l=r.isEditing,c=r.clickBehaviorSidebarDashcard,s=r.isEditingParameter,f=r.isFullscreen,d=r.onAddSeries,p=r.onRemove,h=r.navigateToNewCardFromDashboard,m=r.metadata,y=r.dashboard,g=r.parameterValues,w=r.mode,O=r.headerIcon,j=sV(sV({},i.card),{},{visualization_settings:(0,Xi.Oc)(i.card.visualization_settings,i.visualization_settings)}),S=[j].concat(i.series||[]),E=i.dashboard_id,_=Ae.Z.isJWT(E),P=S.map((function(e){return sV(sV({},(0,b.getIn)(o,[i.id,e.id])),{},{card:e,isSlow:a[e.id],isUsuallyFast:e.query_average_duration&&e.query_average_duration<15e3})})),C=!(P.length>0&&x.ZP.every(P,(function(e){return e.data}))||(0,cQ.Mu)(i)),k=Math.max.apply(Math,uV(P.map((function(e){return e.card.query_average_duration||0})))),A=x.ZP.every(P,(function(e){return e.isUsuallyFast})),D=C&&x.ZP.some(P,(function(e){return e.isSlow}))&&(A?"usually-fast":"usually-slow"),R=P.map((function(e){return e.error})).filter((function(e){return e}));x.ZP.any(R,(function(e){return e&&403===e.status}))?(e=pL,t="key"):R.length>0&&(e=eI.L&&R[0]&&R[0].data||dL,t="warning");var I=(0,_I.og)(y.parameters,g),T=!l&&!1===j.visualization_settings["dashcard.background"],N=l&&null==c&&!s,q={width:i.sizeX,height:i.sizeY};return u.createElement("div",{className:Ze()("Card bordered rounded flex flex-column hover-parent hover--visibility",{"Card--slow":"usually-slow"===D}),style:T?{border:0,background:"transparent",boxShadow:"none"}:null},N?u.createElement(jV,{onMouseDown:this.preventDragging},u.createElement(SV,{series:P,isLoading:C,isVirtualDashCard:(0,cQ.Mu)(i),hasError:!!e,onRemove:p,onAddSeries:d,onReplaceAllVisualizationSettings:this.props.onReplaceAllVisualizationSettings,showClickBehaviorSidebar:function(){return n.props.showClickBehaviorSidebar(i.id)},isPreviewing:this.state.isPreviewingCard,onPreviewToggle:this.handlePreviewToggle,dashboard:y})):null,u.createElement(wV,{className:Ze()("flex-full overflow-hidden",{"pointer-events-none":N}),classNameWidgets:_&&"text-light text-medium-hover",error:e,headerIcon:O,errorIcon:t,isSlow:D,expectedDuration:k,rawSeries:P,showTitle:!0,isFullscreen:f,isDashboard:!0,dispatch:this.props.dispatch,dashboard:y,parameterValuesBySlug:I,isEditing:l,isPreviewing:this.state.isPreviewingCard,gridSize:q,totalNumGridCols:this.props.totalNumGridCols,actionButtons:_?u.createElement(rB,{className:"m1 text-brand-hover text-light",classNameClose:"hover-child",card:i.card,params:I,dashcardId:i.id,token:i.dashboard_id,icon:"download"}):null,onUpdateVisualizationSettings:this.props.onUpdateVisualizationSettings,replacementContent:(null!=c||s)&&(0,cQ.Mu)(i)?u.createElement("div",{className:"flex full-height align-center justify-center"},u.createElement("h4",{className:"text-medium"},(0,v.t)(GQ||(GQ=aV(["Text card"]))))):s?u.createElement(rV,{dashcard:i}):null!=c?u.createElement(RV,{dashcard:i,dashcardWidth:this.props.gridItemWidth,dashboard:y,showClickBehaviorSidebar:this.props.showClickBehaviorSidebar,isShowingThisClickBehaviorSidebar:c.id===i.id}):null,metadata:m,mode:w,onChangeCardAndRun:h?function(e){var t=e.nextCard,n=e.previousCard,r=e.objectId;h({nextCard:t,previousCard:n,dashcard:i,objectId:r})}:null,onChangeLocation:this.props.onChangeLocation}))}}],n&&dV(t.prototype,n),r&&dV(t,r),l}(u.Component);bV(OV,"propTypes",{dashcard:E().object.isRequired,gridItemWidth:E().number.isRequired,totalNumGridCols:E().number.isRequired,dashcardData:E().object.isRequired,slowCards:E().object.isRequired,parameterValues:E().object.isRequired,markNewCardSeen:E().func.isRequired,fetchCardData:E().func.isRequired,navigateToNewCardFromDashboard:E().func.isRequired,headerIcon:E().shape(En.sB)});var jV=(0,De.Z)("div",{target:"eumzn1k0"})({name:"1iuos5l",styles:"padding:0.125em 0.25em;position:absolute;background:white;transform:translateY(-50%);top:0;right:20px;border-radius:8px;box-shadow:0px 1px 3px rgb(0 0 0 / 13%);z-index:3;cursor:default;transition:opacity 200ms;opacity:0;pointer-events:none;.Card:hover &{opacity:1;pointer-events:all;}.Dash--dragging &{display:none;}"}),SV=function(e){var t=e.series,n=e.isLoading,r=e.isVirtualDashCard,i=e.hasError,o=e.onRemove,a=e.onAddSeries,l=e.onReplaceAllVisualizationSettings,c=e.showClickBehaviorSidebar,s=e.onPreviewToggle,f=e.isPreviewing,d=e.dashboard,p=[];return(0,Ii.getVisualizationRaw)(t).visualization.supportPreviewing&&p.push(u.createElement(PV,{key:"toggle-card-preview-button",isPreviewing:f,onPreviewToggle:s})),n||i||(l&&!(0,Ii.getVisualizationRaw)(t).visualization.disableSettingsConfig&&p.push(u.createElement(EV,{key:"chart-settings-button",series:t,onReplaceAllVisualizationSettings:l,dashboard:d})),r||p.push(u.createElement($a.Z,{key:"click-behavior-tooltip",tooltip:(0,v.t)(WQ||(WQ=aV(["Click behavior"])))},u.createElement("a",{className:"text-dark-hover drag-disabled mr1","data-metabase-event":"Dashboard;Open Click Behavior Sidebar",onClick:c,style:gV},u.createElement(En.ZP,{name:"click"})))),(0,Ii.getVisualizationRaw)(t).visualization.supportsSeries&&p.push(u.createElement(xV,{key:"add-series-button",series:t,onAddSeries:a}))),u.createElement("span",{className:"flex align-center text-medium",style:{lineHeight:1}},p,u.createElement($a.Z,{tooltip:(0,v.t)($Q||($Q=aV(["Remove"])))},u.createElement(_V,{className:"ml1",onRemove:o})))},EV=function(e){var t=e.series,n=e.onReplaceAllVisualizationSettings,r=e.dashboard;return u.createElement(wF,{wide:!0,tall:!0,triggerElement:u.createElement($a.Z,{tooltip:(0,v.t)(KQ||(KQ=aV(["Visualization options"])))},u.createElement(En.ZP,{name:"palette",size:16,style:gV})),triggerClasses:"text-dark-hover cursor-pointer flex align-center flex-no-shrink mr1 drag-disabled",enableMouseEvents:!0},u.createElement(UF,{className:"spread",series:t,onChange:n,isDashboard:!0,dashboard:r}))},_V=function(e){var t=e.onRemove;return u.createElement("a",{className:"text-dark-hover drag-disabled","data-metabase-event":"Dashboard;Remove Card Modal",onClick:t,style:gV},u.createElement(En.ZP,{name:"close",size:16}))},xV=function(e){var t=e.series,n=e.onAddSeries;return u.createElement("a",{"data-testid":"add-series-button","data-metabase-event":"Dashboard;Edit Series Modal;open",className:"text-dark-hover cursor-pointer h3 flex-no-shrink relative mr1 drag-disabled",onClick:n,style:gV},u.createElement($a.Z,{tooltip:t.length>1?(0,v.t)(JQ||(JQ=aV(["Edit series"]))):(0,v.t)(XQ||(XQ=aV(["Add series"])))},u.createElement("span",{className:"flex align-center"},u.createElement("span",{className:"flex"},u.createElement(En.ZP,{className:"absolute",name:"add",style:{top:0,left:1},size:8}),u.createElement(En.ZP,{name:CV(t),size:14})))))},PV=function(e){var t=e.isPreviewing,n=e.onPreviewToggle;return u.createElement("a",{"data-metabase-event":"Dashboard;Text;edit",className:"text-dark-hover cursor-pointer h3 flex-no-shrink relative mr1 drag-disabled",onClick:n,style:gV},u.createElement($a.Z,{tooltip:t?(0,v.t)(eV||(eV=aV(["Edit"]))):(0,v.t)(tV||(tV=aV(["Preview"])))},u.createElement("span",{className:"flex align-center"},u.createElement("span",{className:"flex",style:{width:18}},t?u.createElement(En.ZP,{name:"edit_document",size:16}):u.createElement(En.ZP,{name:"eye",size:18})))))};function CV(e){try{var t=e[0].card.display;return Ii.default.get("scalar"===t?"bar":t).iconName}catch(e){return"bar"}}var kV,AV,DV,RV=function(e){var t=e.dashcard,n=e.dashcardWidth,r=e.showClickBehaviorSidebar,i=e.isShowingThisClickBehaviorSidebar;return u.createElement("div",{className:"flex align-center justify-center full-height"},u.createElement("div",{className:Ze()("text-bold flex py1 px2 mb2 rounded cursor-pointer",{"bg-brand text-white":i,"bg-light text-medium":!i}),onClick:function(){return r(i?null:t.id)}},u.createElement(En.ZP,{name:"click",className:Ze()("mr1",{"text-light":!i})}),n>330&&u.createElement("div",{className:"mr2"},(0,v.t)(nV||(nV=aV(["On click"])))),u.createElement("div",{className:Ze()({"text-brand":!i})},(0,iV.jT)(t))))};function IV(e){return IV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IV(e)}function TV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NV(e,t){return NV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},NV(e,t)}function qV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=LV(e);if(t){var i=LV(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MV(this,n)}}function MV(e,t){return!t||"object"!==IV(t)&&"function"!=typeof t?ZV(e):t}function ZV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LV(e){return LV=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},LV(e)}function BV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zV=(0,ac.default)()((DV=AV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NV(e,t)}(o,e);var t,n,r,i=qV(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),BV(ZV(n=i.call(this,e,t)),"onLayoutChange",(function(e){var t=e.layout;if("desktop"===e.breakpoint){var r=n.props,i=r.dashboard,o=r.setMultipleDashCardAttributes,a=[];t.forEach((function(e){var t=i.ordered_cards.find((function(t){return String(t.id)===e.i})),r=["h","w","x","y"];!x.ZP.isEqual(x.ZP.pick(e,r),x.ZP.pick(n.getLayoutForDashCard(t),r))&&a.push({id:t.id,attributes:{col:e.x,row:e.y,sizeX:e.w,sizeY:e.h}})})),a.length>0&&(o(a),Jf.vF("Dashboard","Layout Changed"))}})),BV(ZV(n),"onDrag",(function(){n.state.isDragging||n.setState({isDragging:!0})})),BV(ZV(n),"onDragStop",(function(){n.setState({isDragging:!1})})),BV(ZV(n),"getDashboardCardIcon",(function(e){var t=d.rv.isRegularCollection,r=n.props.dashboard,i=t({authority_level:e.collection_authority_level});if(t({authority_level:r.collection_authority_level})&&!i){var o,a=e.collection_authority_level,u=d.rv.AUTHORITY_LEVEL[a];return{name:u.icon,color:(0,f.$_)(u.color),tooltip:null===(o=u.tooltips)||void 0===o?void 0:o.belonging,size:14,targetOffsetX:0===e.col?14:0}}})),BV(ZV(n),"renderGridItem",(function(e){var t=e.item,r=e.breakpoint,i=e.gridItemWidth,o=e.totalNumGridCols;return u.createElement("div",{key:String(t.id),className:"DashCard"},n.renderDashCard(t,{isMobile:"mobile"===r,gridItemWidth:i,totalNumGridCols:o}))})),n.state={layouts:n.getLayouts(e),dashcards:n.getSortedDashcards(e),removeModalDashCard:null,addSeriesModalDashCard:null,isDragging:!1},n}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({dashcards:this.getSortedDashcards(e),layouts:this.getLayouts(e)})}},{key:"getSortedDashcards",value:function(e){return e.dashboard&&e.dashboard.ordered_cards.sort((function(e,t){return e.row<t.row?-1:e.row>t.row?1:e.col<t.col?-1:e.col>t.col?1:0}))}},{key:"getLayoutForDashCard",value:function(e){var t=(0,Ii.getVisualizationRaw)([{card:e.card}]).visualization,n=LB.z3,r=t.minSize||LB.z3;return{i:String(e.id),x:e.col||0,y:e.row||0,w:e.sizeX||n.width,h:e.sizeY||n.height,dashcard:e,minW:r.width,minH:r.height}}},{key:"getLayouts",value:function(e){var t=e.dashboard.ordered_cards.map(this.getLayoutForDashCard),n=function(e){var t=e.desktopLayout,n=e.defaultCardHeight,r=e.heightByDisplayType,i=void 0===r?{}:r,o=[];return t.forEach((function(e){var t,r=e.dashcard.card,a=i[r.display]||n;o.push(HB(HB({},e),{},{x:0,y:(t=o,t.reduce((function(e,t){return e+t.h}),0)),h:a,w:1}))})),o}({desktopLayout:t,heightByDisplayType:{text:2,scalar:4},defaultCardHeight:6});return{desktop:t,mobile:n}}},{key:"getRowHeight",value:function(){var e=this.props.width,t=window.innerWidth>document.documentElement.offsetWidth,n=e/LB.aE/LB.SK,r=Math.max(n,LB.ii);return t?Math.ceil(r):Math.floor(r)}},{key:"renderRemoveModal",value:function(){var e=this,t=null!=this.state.removeModalDashCard;return u.createElement(_r,{isOpen:t},t&&u.createElement(mF,{dashcard:this.state.removeModalDashCard,dashboard:this.props.dashboard,removeCardFromDashboard:this.props.removeCardFromDashboard,onClose:function(){return e.setState({removeModalDashCard:null})}}))}},{key:"renderAddSeriesModal",value:function(){var e=this,t=null!=this.state.addSeriesModalDashCard;return u.createElement(_r,{className:"Modal AddSeriesModal",isOpen:t},t&&u.createElement(aF,{dashcard:this.state.addSeriesModalDashCard,dashboard:this.props.dashboard,dashcardData:this.props.dashcardData,databases:this.props.databases,fetchCardData:this.props.fetchCardData,fetchDatabaseMetadata:this.props.fetchDatabaseMetadata,removeCardFromDashboard:this.props.removeCardFromDashboard,setDashCardAttributes:this.props.setDashCardAttributes,onClose:function(){return e.setState({addSeriesModalDashCard:null})}}))}},{key:"onDashCardRemove",value:function(e){this.setState({removeModalDashCard:e})}},{key:"onDashCardAddSeries",value:function(e){this.setState({addSeriesModalDashCard:e})}},{key:"renderDashCard",value:function(e,t){var n=t.isMobile,r=t.gridItemWidth,i=t.totalNumGridCols;return u.createElement(OV,{dashcard:e,headerIcon:this.getDashboardCardIcon(e),dashcardData:this.props.dashcardData,parameterValues:this.props.parameterValues,slowCards:this.props.slowCards,fetchCardData:this.props.fetchCardData,gridItemWidth:r,totalNumGridCols:i,markNewCardSeen:this.props.markNewCardSeen,isEditing:this.props.isEditing,isEditingParameter:this.props.isEditingParameter,isFullscreen:this.props.isFullscreen,isMobile:n,onRemove:this.onDashCardRemove.bind(this,e),onAddSeries:this.onDashCardAddSeries.bind(this,e),onUpdateVisualizationSettings:this.props.onUpdateDashCardVisualizationSettings.bind(this,e.id),onReplaceAllVisualizationSettings:this.props.onReplaceAllDashCardVisualizationSettings.bind(this,e.id),mode:this.props.mode,navigateToNewCardFromDashboard:this.props.navigateToNewCardFromDashboard,onChangeLocation:this.props.onChangeLocation,metadata:this.props.metadata,dashboard:this.props.dashboard,showClickBehaviorSidebar:this.props.showClickBehaviorSidebar,clickBehaviorSidebarDashcard:this.props.clickBehaviorSidebarDashcard})}},{key:"isEditingLayout",get:function(){var e=this.props,t=e.isEditing,n=e.isEditingParameter,r=e.clickBehaviorSidebarDashcard;return t&&!n&&null==r}},{key:"renderGrid",value:function(){var e=this.props,t=e.dashboard,n=e.width,r=this.state.layouts,i=this.getRowHeight();return u.createElement(tz,{className:Ze()("DashboardGrid",{"Dash--editing":this.isEditingLayout,"Dash--dragging":this.state.isDragging}),layouts:r,breakpoints:LB.Y5,cols:LB.sv,width:n,margin:{desktop:[6,6],mobile:[6,10]},containerPadding:[0,0],rowHeight:i,onLayoutChange:this.onLayoutChange,onDrag:this.onDrag,onDragStop:this.onDragStop,isEditing:this.isEditingLayout,compactType:"vertical",items:t.ordered_cards,itemRenderer:this.renderGridItem})}},{key:"render",value:function(){var e=this.props.width;return u.createElement("div",{className:"flex layout-centered"},e>0?this.renderGrid():u.createElement("div",null),this.renderRemoveModal(),this.renderAddSeriesModal())}}],n&&TV(t.prototype,n),r&&TV(t,r),o}(u.Component),BV(AV,"propTypes",{isEditing:E().oneOfType([E().bool,E().object]).isRequired,isEditingParameter:E().bool.isRequired,dashboard:E().object.isRequired,parameterValues:E().object.isRequired,setDashCardAttributes:E().func.isRequired,setMultipleDashCardAttributes:E().func.isRequired,removeCardFromDashboard:E().func.isRequired,markNewCardSeen:E().func.isRequired,fetchCardData:E().func.isRequired,onUpdateDashCardVisualizationSettings:E().func.isRequired,onReplaceAllDashCardVisualizationSettings:E().func.isRequired,onChangeLocation:E().func.isRequired}),BV(AV,"defaultProps",{width:0,isEditing:!1,isEditingParameter:!1}),kV=DV))||kV,FV=n(8973),QV=n.n(FV),VV=n(98399);function UV(e){return UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UV(e)}function HV(){return HV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HV.apply(this,arguments)}function YV(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function GV(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){YV(o,r,i,a,u,"next",e)}function u(e){YV(o,r,i,a,u,"throw",e)}a(void 0)}))}}function WV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KV(e,t){return KV=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},KV(e,t)}function JV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tU(e);if(t){var i=tU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XV(this,n)}}function XV(e,t){return!t||"object"!==UV(t)&&"function"!=typeof t?eU(e):t}function eU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(e){return tU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tU(e)}function nU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rU,iU=n(59087),oU=n.n(iU);function aU(e){return aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aU(e)}var uU=["value","className","style"];function lU(){return lU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lU.apply(this,arguments)}function cU(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function sU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dU(e,t){return dU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dU(e,t)}function pU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yU(e);if(t){var i=yU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hU(this,n)}}function hU(e,t){return!t||"object"!==aU(t)&&"function"!=typeof t?mU(e):t}function mU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yU(e){return yU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yU(e)}var vU=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dU(e,t)}(o,e);var t,n,r,i=pU(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mU(t=i.call(this,e)),"onCopy",(function(){t.setState({copied:!0}),setTimeout((function(){return t.setState({copied:!1})}),2e3)})),t.state={copied:!1},t}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.className,r=e.style,i=sU(e,uU);return u.createElement(oU(),{text:t,onCopy:this.onCopy},u.createElement("div",{className:n,style:r,"data-testid":"copy-button"},u.createElement($a.Z,{tooltip:(0,v.t)(rU||(rU=cU(["Copied!"]))),isOpen:this.state.copied},u.createElement(En.ZP,lU({name:"copy"},i)))))}}],n&&fU(t.prototype,n),r&&fU(t,r),o}(u.Component);function bU(e){return bU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bU(e)}var gU=["value","onChange","style"];function wU(){return wU=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wU.apply(this,arguments)}function OU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EU(e,t){return EU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},EU(e,t)}function _U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=PU(e);if(t){var i=PU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xU(this,n)}}function xU(e,t){return!t||"object"!==bU(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PU(e){return PU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},PU(e)}var CU,kU,AU,DU=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EU(e,t)}(o,e);var t,n,r,i=_U(o);function o(){return jU(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.style,i=OU(e,gU);return u.createElement("div",{className:"flex relative",style:r},u.createElement("input",wU({className:Ze()("Form-input flex-full",{"no-focus":!n}),style:{paddingRight:40},onClick:n?null:function(e){return e.target.setSelectionRange(0,e.target.value.length)},value:t,onChange:n},i)),u.createElement(vU,{value:t,className:"absolute top bottom right Form-input-border p1 flex align-center text-brand bg-brand-hover text-white-hover",style:{borderBottomLeftRadius:0,borderTopLeftRadius:0,borderTop:"none",borderRight:"none",borderBottom:"none"}}))}}],n&&SU(t.prototype,n),r&&SU(t,r),o}(u.Component);function RU(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IU=function(){},TU=function(e){var t=e.title,n=e.content,r=e.message,i=void 0===r?(0,v.t)(CU||(CU=RU(["Are you sure you want to do this?"]))):r,o=e.onClose,a=void 0===o?IU:o,l=e.onAction,c=void 0===l?IU:l,s=e.onCancel,f=void 0===s?IU:s,d=e.confirmButtonText,p=void 0===d?(0,v.t)(kU||(kU=RU(["Yes"]))):d,h=e.cancelButtonText,m=void 0===h?(0,v.t)(AU||(AU=RU(["Cancel"]))):h;return u.createElement(jn.default,{title:t,formModal:!0,onClose:function(){f(),a()}},u.createElement("div",null,n),u.createElement("p",{className:"mb4"},i),u.createElement("div",{className:"ml-auto"},u.createElement(Ce.Z,{onClick:function(){f(),a()}},m),u.createElement(Ce.Z,{danger:!0,ml:2,onClick:function(){c(),a()}},p)))};function NU(e){return NU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NU(e)}function qU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MU(e,t){return MU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},MU(e,t)}function ZU(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=BU(e);if(t){var i=BU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return LU(this,n)}}function LU(e,t){return!t||"object"!==NU(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function BU(e){return BU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BU(e)}var zU=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MU(e,t)}(o,e);var t,n,r,i=ZU(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).modal=u.createRef(),t}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.children,i=t.title,o=t.content,a=t.triggerClasses;return u.createElement(wF,{ref:this.modal,triggerElement:r,triggerClasses:a},u.createElement(TU,{title:i,content:o,onClose:function(){e.modal.current.close()},onAction:n}))}}],n&&qU(t.prototype,n),r&&qU(t,r),o}(u.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zU,"propTypes",{action:E().func.isRequired,title:E().string.isRequired,children:E().any,content:E().any,triggerClasses:E().string});var FU=n(29529);function QU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QU(Object(n),!0).forEach((function(t){UU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o={resource:UU({},e,t),params:n,iat:Math.round((new Date).getTime()/1e3)};return i&&(o._embedding_params=i),FU.dQ.JWS.sign(null,{alg:"HS256",typ:"JWT"},o,{utf8:r})}function YU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,u=HU(t,n,r,o,a);return"".concat(e,"/embed/").concat(t,"/").concat(u).concat(WU(i))}function GU(e,t,n,r){return"".concat(e,"/public/").concat(t,"/").concat(n).concat(WU(r))}function WU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e=VU({},e))null!=e[t]&&""!==e[t]||delete e[t];var n=oM.stringify(e);return n?"#".concat(n):""}function $U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return KU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KU(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JU,XU,eH,tH,nH,rH,iH,oH,aH,uH=function(e){var t=e.iframeUrl;return[{name:"HTML",source:function(){return cH({iframeUrl:'"'.concat(t,'"')})},mode:"ace/mode/html"}]},lH=function(e){return[{name:"Node.js",source:function(){return dH(e)},mode:"ace/mode/javascript",embedOption:"Pug / Jade"},{name:"Ruby",source:function(){return pH(e)},mode:"ace/mode/ruby",embedOption:"ERB"},{name:"Python",source:function(){return hH(e)},mode:"ace/mode/python"},{name:"Clojure",source:function(){return mH(e)},mode:"ace/mode/clojure"}]},cH=function(e){var t=e.iframeUrl;return"<iframe\n    src=".concat(t,'\n    frameborder="0"\n    width="800"\n    height="600"\n    allowtransparency\n></iframe>')},sH=function(e){var t=e.iframeUrl;return"<iframe\n    src=".concat(t,"\n    frameBorder={0}\n    width={800}\n    height={600}\n    allowTransparency\n/>")},fH=function(e){var t=e.iframeUrl;return"iframe(\n    src=".concat(t,'\n    frameborder="0"\n    width="800"\n    height="600"\n    allowtransparency\n)')},dH=function(e){var t=e.siteUrl,n=e.secretKey,r=e.resourceType,i=e.resourceId,o=e.params,a=e.displayOptions;return"// you will need to install via 'npm install jsonwebtoken' or in your package.json\n\nvar jwt = require(\"jsonwebtoken\");\n\nvar METABASE_SITE_URL = ".concat(JSON.stringify(t),";\nvar METABASE_SECRET_KEY = ").concat(JSON.stringify(n),";\n\nvar payload = {\n  resource: { ").concat(r,": ").concat(i," },\n  params: ").concat(JSON.stringify(o,null,2).split("\n").join("\n  "),',\n  exp: Math.round(Date.now() / 1000) + (10 * 60) // 10 minute expiration\n};\nvar token = jwt.sign(payload, METABASE_SECRET_KEY);\n\nvar iframeUrl = METABASE_SITE_URL + "/embed/').concat(r,'/" + token').concat(WU(a)?" + "+JSON.stringify(WU(a)):"",";")},pH=function(e){var t=e.siteUrl,n=e.secretKey,r=e.resourceType,i=e.resourceId,o=e.params,a=e.displayOptions;return"# you will need to install 'jwt' gem first via 'gem install jwt' or in your project Gemfile\n\nrequire 'jwt'\n\nMETABASE_SITE_URL = ".concat(JSON.stringify(t),"\nMETABASE_SECRET_KEY = ").concat(JSON.stringify(n),"\n\npayload = {\n  :resource => {:").concat(r," => ").concat(i,"},\n  :params => {\n    ").concat(Object.entries(o).map((function(e){var t=$U(e,2),n=t[0],r=t[1];return JSON.stringify(n)+" => "+(null===r?"nil":JSON.stringify(r))})).join(",\n    "),'\n  },\n  :exp => Time.now.to_i + (60 * 10) # 10 minute expiration\n}\ntoken = JWT.encode payload, METABASE_SECRET_KEY\n\niframe_url = METABASE_SITE_URL + "/embed/').concat(r,'/" + token').concat(WU(a)?" + "+JSON.stringify(WU(a)):"")},hH=function(e){var t=e.siteUrl,n=e.secretKey,r=e.resourceType,i=e.resourceId,o=e.params,a=e.displayOptions;return"# You'll need to install PyJWT via pip 'pip install PyJWT' or your project packages file\n\nimport jwt\nimport time\n\nMETABASE_SITE_URL = ".concat(JSON.stringify(t),"\nMETABASE_SECRET_KEY = ").concat(JSON.stringify(n),'\n\npayload = {\n  "resource": {"').concat(r,'": ').concat(i,'},\n  "params": {\n    ').concat(Object.entries(o).map((function(e){var t=$U(e,2),n=t[0],r=t[1];return JSON.stringify(n)+": "+JSON.stringify(r)})).join(",\n    "),'\n  },\n  "exp": round(time.time()) + (60 * 10) # 10 minute expiration\n}\ntoken = jwt.encode(payload, METABASE_SECRET_KEY, algorithm="HS256")\n\niframeUrl = METABASE_SITE_URL + "/embed/').concat(r,'/" + token').concat(WU(a)?" + "+JSON.stringify(WU(a)):"")},mH=function(e){var t=e.siteUrl,n=e.secretKey,r=e.resourceType,i=e.resourceId,o=e.params,a=e.displayOptions;return"(require '[buddy.sign.jwt :as jwt])\n\n(def metabase-site-url   ".concat(JSON.stringify(t),")\n(def metabase-secret-key ").concat(JSON.stringify(n),")\n\n(def payload\n  {:resource {:").concat(r," ").concat(i,"}\n   :params   {").concat(Object.entries(o).map((function(e){var t=$U(e,2),n=t[0],r=t[1];return JSON.stringify(n)+" "+JSON.stringify(r)})).join(",\n              "),'}\n   :exp      (+ (int (/ (System/currentTimeMillis) 1000)) (* 60 10))}) ; 10 minute expiration\n\n(def token (jwt/sign payload metabase-secret-key))\n\n(def iframe-url (str metabase-site-url "/embed/').concat(r,'/" token').concat(WU(a)?" "+JSON.stringify(WU(a)):"","))")};function yH(e){return yH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yH(e)}function vH(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function bH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wH(e,t){return wH=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wH(e,t)}function OH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=EH(e);if(t){var i=EH(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jH(this,n)}}function jH(e,t){return!t||"object"!==yH(t)&&"function"!=typeof t?SH(e):t}function SH(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(e){return EH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},EH(e)}function _H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wH(e,t)}(o,e);var t,n,r,i=OH(o);function o(){var e;bH(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _H(SH(e=i.call.apply(i,[this].concat(n))),"state",{extension:null}),e}return t=o,(n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.resource,i=n.resourceType,o=n.onCreatePublicLink,a=n.onDisablePublicLink,l=n.extensions,c=n.getPublicUrl,s=n.onChangeEmbedType,f=n.isAdmin,d=n.isPublicSharingEnabled,p=n.isApplicationEmbeddingEnabled,h=c(r,this.state.extension),m=(e=c(r),cH({iframeUrl:JSON.stringify(e)}));return u.createElement("div",{className:"pt2 ml-auto mr-auto",style:{maxWidth:600}},f&&d&&u.createElement("div",{className:"pb2 mb4 border-bottom flex align-center"},u.createElement("h4",null,(0,v.t)(JU||(JU=vH(["Enable sharing"])))),u.createElement("div",{className:"ml-auto"},r.public_uuid?u.createElement(zU,{title:(0,v.t)(XU||(XU=vH(["Disable this public link?"]))),content:(0,v.t)(eH||(eH=vH(["This will cause the existing link to stop working. You can re-enable it, but when you do it will be a different link."]))),action:function(){Jf.vF("Sharing Modal","Public Link Disabled",i),a()}},u.createElement(Je.Z,{value:!0})):u.createElement(Je.Z,{value:!1,onChange:function(){Jf.vF("Sharing Modal","Public Link Enabled",i),o()}}))),u.createElement("div",{className:Ze()("mb4 flex align-center",{disabled:!r.public_uuid})},u.createElement("div",{style:{width:98,height:63},className:"bordered rounded shadowed flex layout-centered"},u.createElement(En.ZP,{name:"link",size:32})),u.createElement("div",{className:"ml2"},u.createElement("h3",{className:"text-brand mb1"},(0,v.t)(tH||(tH=vH(["Public link"])))),u.createElement("div",{className:"mb1"},(0,v.t)(nH||(nH=vH(["Share this "," with people who don't have a Metabase account using the URL below:"])),i)),u.createElement(DU,{value:h}),l&&l.length>0&&u.createElement("div",{className:"mt1"},l.map((function(e){return u.createElement("span",{key:e,className:Ze()("cursor-pointer text-brand-hover text-bold text-uppercase",e===t.state.extension?"text-brand":"text-light"),onClick:function(){return t.setState({extension:e===t.state.extension?null:e})}},e," ")}))))),u.createElement("div",{className:Ze()("mb4 flex align-center",{disabled:!r.public_uuid})},u.createElement("img",{width:98,src:"app/assets/img/simple_embed.png",srcSet:" app/assets/img/simple_embed.png     1x, app/assets/img/simple_embed@2x.png  2x "}),u.createElement("div",{className:"ml2"},u.createElement("h3",{className:"text-green mb1"},(0,v.t)(rH||(rH=vH(["Public embed"])))),u.createElement("div",{className:"mb1"},(0,v.t)(iH||(iH=vH(["Embed this "," in blog posts or web pages by copying and pasting this snippet:"])),i)),u.createElement(DU,{value:m}))),f&&u.createElement("div",{className:Ze()("mb4 flex align-center cursor-pointer",{disabled:!p}),onClick:function(){return s("application")}},u.createElement("img",{width:100,src:"app/assets/img/secure_embed.png",srcSet:" app/assets/img/secure_embed.png     1x, app/assets/img/secure_embed@2x.png  2x "}),u.createElement("div",{className:"ml2"},u.createElement("h3",{className:"text-purple mb1"},(0,v.t)(oH||(oH=vH(["Embed this "," in an application"])),i)),u.createElement("div",{className:""},(0,v.t)(aH||(aH=vH(["By integrating with your application server code, you can provide a secure stats "," limited to a specific user, customer, organization, etc."])),i)))))}}])&&gH(t.prototype,n),r&&gH(t,r),o}(u.Component);function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(n),!0).forEach((function(t){kH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_H(xH,"defaultProps",{extensions:[]});var AH,DH,RH,IH,TH=function(e){var t=e.style,n=e.className,r=e.value,i=e.onChange,o=e.textLeft,a=e.textRight;return u.createElement("div",{className:Ze()(n,"bg-medium flex relative text-bold",{"cursor-pointer":i}),style:CH({borderRadius:8},t),onClick:function(){return i({target:{value:!r}})}},u.createElement("div",{className:"absolute bg-white z1",style:kH({borderRadius:6,top:3,bottom:3,width:"50%"},r?"left":"right",3)}),u.createElement("div",{className:"flex-full flex layout-centered z2"},o),u.createElement("div",{className:"flex-full flex layout-centered z2"},a))},NH=n(39544),qH=function(e){var t=e.className,n=e.value,r=e.onChange,i=e.options;return u.createElement("div",{className:Ze()(t,"flex")},i.map((function(e){return u.createElement("div",{key:e.value,className:Ze()("flex-full flex layout-centered mx1 p1 border-bottom border-medium",{"border-brand cursor-default":n===e.value,"border-dark-hover cursor-pointer":n!==e.value}),onClick:function(){return r(e.value)}},e.icon&&u.createElement(En.ZP,{name:e.icon,className:"mr1"}),e.name)})),u.createElement("div",{className:"hide"}))};function MH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MH(Object(n),!0).forEach((function(t){LH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zH,FH,QH,VH,UH,HH,YH,GH,WH,$H,KH,JH,XH=[{name:(0,v.t)(AH||(AH=BH(["Light"]))),value:null,icon:"sun"},{name:(0,v.t)(DH||(DH=BH(["Dark"]))),value:"night",icon:"moon"}],eY=function(e){var t=e.className,n=e.displayOptions,r=e.onChangeDisplayOptions;return u.createElement("div",{className:t},u.createElement("div",{className:"flex align-center my1"},u.createElement(mz.Z,{label:(0,v.t)(RH||(RH=BH(["Border"]))),checked:n.bordered,onChange:function(e){return r(ZH(ZH({},n),{},{bordered:e.target.checked}))}})),u.createElement("div",{className:"flex align-center my1"},u.createElement(mz.Z,{label:(0,v.t)(IH||(IH=BH(["Title"]))),checked:n.titled,onChange:function(e){return r(ZH(ZH({},n),{},{titled:e.target.checked}))}})),u.createElement(qH,{value:n.theme,options:XH,onChange:function(e){return r(ZH(ZH({},n),{},{theme:e}))}}))};function tY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tY(Object(n),!0).forEach((function(t){rY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iY(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oY=function(e){return"category"===e.type?"string":0===e.type.indexOf("date/")?"calendar":"unknown"},aY=function(e){var t=e.className,n=e.title,r=e.children;return u.createElement("div",{className:Ze()(t,"mb3 pb4 border-row-divider border-medium")},u.createElement("h3",null,n),r)},uY=function(e){var t=e.className,n=e.embedType,r=e.resource,i=e.resourceType,o=e.resourceParameters,a=e.embeddingParams,l=e.onChangeEmbeddingParameters,c=e.displayOptions,s=e.onChangeDisplayOptions,d=e.onUnpublish,p=(e.pane,e.onChangePane,e.previewParameters),h=e.parameterValues,m=e.onChangeParameterValue,y=(0,u.useMemo)((function(){return(0,_I.Q8)(p,h)}),[p,h]);return u.createElement("div",{className:Ze()(t,"p4 full-height flex flex-column bg-light"),style:{width:400}},u.createElement(aY,{title:(0,v.t)(zH||(zH=iY(["Style"])))},u.createElement(eY,{className:"pt1",displayOptions:c,onChangeDisplayOptions:s})),"application"===n&&u.createElement(aY,{title:(0,v.t)(FH||(FH=iY(["Parameters"])))},o.length>0?u.createElement("p",null,(0,v.t)(QH||(QH=iY(["Which parameters can users of this embed use?"])))):u.createElement("p",null,(0,v.t)(VH||(VH=iY(["This "," doesn't have any parameters to configure yet."])),i)),o.map((function(e){return u.createElement("div",{key:e.id,className:"flex align-center my1"},u.createElement(En.ZP,{name:oY(e),className:"mr2",style:{color:(0,f.$_)("text-light")}}),u.createElement("h3",null,e.name),u.createElement(tt.ZP,{className:"ml-auto bg-white",value:a[e.slug]||"disabled",onChange:function(t){return l(nY(nY({},a),{},rY({},e.slug,t.target.value)))}},u.createElement(tt.Wx,{icon:"close",value:"disabled"},(0,v.t)(UH||(UH=iY(["Disabled"])))),u.createElement(tt.Wx,{icon:"pencil",value:"enabled"},(0,v.t)(HH||(HH=iY(["Editable"])))),u.createElement(tt.Wx,{icon:"lock",value:"locked"},(0,v.t)(YH||(YH=iY(["Locked"]))))))}))),"application"===n&&p.length>0&&u.createElement(aY,{title:(0,v.t)(GH||(GH=iY(["Preview Locked Parameters"])))},u.createElement("p",null,(0,v.t)(WH||(WH=iY(["Try passing some values to your locked parameters here. Your server will have to provide the actual values in the signed token when using this for real."])))),u.createElement(iM,{className:"mt2",vertical:!0,parameters:y,setParameterValue:m})),r.enable_embedding?u.createElement(aY,{title:(0,v.t)($H||($H=iY(["Danger zone"])))},u.createElement("p",null,(0,v.t)(KH||(KH=iY(["This will disable embedding for this ","."])),i)),u.createElement(Ce.Z,{medium:!0,warning:!0,onClick:d},(0,v.t)(JH||(JH=iY(["Unpublish"]))))):null)};function lY(e){return lY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lY(e)}function cY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sY(e,t){return sY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sY(e,t)}function fY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pY(e);if(t){var i=pY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dY(this,n)}}function dY(e,t){return!t||"object"!==lY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pY(e){return pY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pY(e)}var hY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sY(e,t)}(o,e);var t,n,r,i=fY(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={loading:!0},t}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.previewUrl!==this.props.previewUrl&&this.setState({loading:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.previewUrl;return u.createElement("div",{className:Ze()(n,"flex relative"),style:{minHeight:280}},u.createElement("iframe",{className:"flex-full",src:r,frameBorder:0,allowTransparency:!0,onLoad:function(){return e.setState({loading:!1})}}))}}],n&&cY(t.prototype,n),r&&cY(t,r),o}(u.Component);n(41965),n(75058),n(78534),n(21297);function mY(e){return mY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mY(e)}function yY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bY(e,t){return bY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bY(e,t)}function gY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jY(e);if(t){var i=jY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wY(this,n)}}function wY(e,t){return!t||"object"!==mY(t)&&"function"!=typeof t?OY(e):t}function OY(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jY(e){return jY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jY(e)}function SY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var EY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bY(e,t)}(o,e);var t,n,r,i=gY(o);function o(){var e;yY(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SY(OY(e=i.call.apply(i,[this].concat(n))),"onChange",(function(t){e._update(),e.props.onChange&&e.props.onChange(e.value)})),e}return t=o,n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._editor&&null!=e.value&&e.value!==this._editor.getValue()&&(this._editor.setValue(e.value),this._editor.clearSelection())}},{key:"_update",value:function(){var e=In.findDOMNode(this);null!=this._editor&&(this._updateValue(),this._editor.getSession().setMode(this.props.mode),this._editor.setTheme(this.props.theme),this._editor.setReadOnly(this.props.readOnly),e.classList[this.props.readOnly?"add":"remove"]("read-only"),this._updateSize())}},{key:"_updateValue",value:function(){this._editor&&(this.value=this._editor.getValue())}},{key:"_updateSize",value:function(){var e=this._editor.getSession().getDocument();In.findDOMNode(this).style.height=16+16*e.getLength()+"px",this._editor.resize()}},{key:"componentDidMount",value:function(){if("undefined"!=typeof ace&&ace&&ace.edit){var e=In.findDOMNode(this);this._editor=ace.edit(e),window.editor=this._editor,this._editor.getSession().on("change",this.onChange),this._editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0,showPrintMargin:!1,highlightActiveLine:!1,highlightGutterLine:!1,showLineNumbers:!0}),this._editor.renderer.setScrollMargin(8,8),this._editor.setValue((null!=this.props.value?this.props.value:this.props.defaultValue)||""),this._editor.clearSelection(),this._update()}}},{key:"componentDidUpdate",value:function(){this._update()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style;return u.createElement("div",{className:t,style:n})}}],n&&vY(t.prototype,n),r&&vY(t,r),o}(u.Component);function _Y(e){return _Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_Y(e)}function xY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function PY(e,t){return PY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},PY(e,t)}function CY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=AY(e);if(t){var i=AY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kY(this,n)}}function kY(e,t){return!t||"object"!==_Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function AY(e){return AY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},AY(e)}SY(EY,"propTypes",{mode:E().string,theme:E().string,value:E().string,defaultValue:E().string,onChange:E().func}),SY(EY,"defaultProps",{mode:"ace/mode/plain_text",theme:null});var DY,RY,IY,TY,NY,qY,MY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PY(e,t)}(o,e);var t,n,r,i=CY(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={name:Array.isArray(e.options)&&e.options.length>0?e.options[0].name:null},t}return t=o,n=[{key:"setOption",value:function(e){this.setState({name:e})}},{key:"handleChange",value:function(e){var t=this.props,n=t.options,r=t.onChangeOption;this.setState({name:e}),r&&r(x.ZP.findWhere(n,{name:e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.title,i=t.options,o=this.state.name,a=x.ZP.findWhere(i,{name:o}),l=a&&a.source();return u.createElement("div",{className:n},(r||i&&i.length>1)&&u.createElement("div",{className:"flex align-center"},u.createElement("h4",null,r),i&&i.length>1?u.createElement(tt.ZP,{className:"AdminSelect--borderless ml-auto pt1 pb1",value:o,onChange:function(t){return e.handleChange(t.target.value)}},i.map((function(e){return u.createElement(tt.Wx,{key:e.name,value:e.name},e.name)}))):null),u.createElement("div",{className:"bordered rounded shadowed relative"},u.createElement(EY,{className:"z1",value:l,mode:a&&a.mode,theme:"ace/theme/metabase",sizeToFit:!0,readOnly:!0}),l&&u.createElement("div",{className:"absolute top right text-brand-hover cursor-pointer z2"},u.createElement(vU,{className:"p1",value:l}))))}}],n&&xY(t.prototype,n),r&&xY(t,r),o}(u.Component);n(46113),n(88803),n(95720),n(87365),n(36448);function ZY(e){return ZY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZY(e)}function LY(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FY(e,t){return FY=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},FY(e,t)}function QY(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=UY(e);if(t){var i=UY(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return VY(this,n)}}function VY(e,t){return!t||"object"!==ZY(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function UY(e){return UY=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},UY(e)}var HY,YY,GY,WY,$Y,KY,JY,XY,eG,tG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FY(e,t)}(o,e);var t,n,r,i=QY(o);function o(){return BY(this,o),i.apply(this,arguments)}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.embedType,i=t.iframeUrl,o=t.siteUrl,a=t.secretKey,l=t.resource,c=t.resourceType,s=t.params,f=t.displayOptions;return u.createElement("div",{className:n},"application"===r?u.createElement("div",{key:"application"},u.createElement("p",null,(0,v.t)(DY||(DY=LY(["To embed this "," in your application:"])),c)),u.createElement(MY,{title:(0,v.t)(RY||(RY=LY(["Insert this code snippet in your server code to generate the signed embedding URL "]))),options:lH({siteUrl:o,secretKey:a,resourceType:c,resourceId:l.id,params:s,displayOptions:f}),onChangeOption:function(t){t&&t.embedOption&&e._embedSample&&e._embedSample.setOption&&e._embedSample.setOption(t.embedOption)}}),u.createElement(MY,{className:"mt2",ref:function(t){return e._embedSample=t},title:(0,v.t)(IY||(IY=LY(["Then insert this code snippet in your HTML template or single page app."]))),options:[{name:"Mustache",source:function(){return cH({iframeUrl:'"{{iframeUrl}}"',mode:"ace/mode/html"})}},{name:"Pug / Jade",source:function(){return fH({iframeUrl:"iframeUrl"})}},{name:"ERB",source:function(){return cH({iframeUrl:'"<%= @iframe_url %>"'})}},{name:"JSX",source:function(){return sH({iframeUrl:"{iframeUrl}",mode:"ace/mode/jsx"})}}]})):u.createElement("div",{key:"public"},u.createElement(MY,{title:(0,v.t)(TY||(TY=LY(["Embed code snippet for your HTML or Frontend Application"]))),options:uH({iframeUrl:i})})),u.createElement("div",{className:"text-centered my2"},u.createElement("h4",null,(0,v.jt)(NY||(NY=LY(["More ",""])),u.createElement(ie.Z,{href:"https://github.com/metabase/embedding-reference-apps"},(0,v.t)(qY||(qY=LY(["examples on GitHub"]))))))))}}],n&&zY(t.prototype,n),r&&zY(t,r),o}(u.Component);function nG(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rG,iG,oG,aG,uG=function(e){var t=e.pane,n=e.resource,r=e.resourceType,i=e.embedType,o=e.token,a=e.iframeUrl,l=e.siteUrl,c=e.secretKey,s=e.params,f=e.displayOptions,d=e.previewParameters,p=e.parameterValues,h=e.resourceParameters,m=e.embeddingParams,y=e.onChangeDisplayOptions,b=e.onChangeEmbeddingParameters,g=e.onChangeParameterValue,w=e.onChangePane,O=e.onSave,j=e.onUnpublish,S=e.onDiscard;return u.createElement("div",{className:"full flex"},u.createElement("div",{className:"flex-full p4 flex flex-column"},n.enable_embedding&&x.ZP.isEqual(n.embedding_params,m)?null:u.createElement("div",{className:"mb2 p2 bordered rounded flex align-center flex-no-shrink"},u.createElement("div",{className:"flex-full mr1"},n.enable_embedding?(0,v.t)(HY||(HY=nG(["Youve made changes that need to be published before they will be reflected in your application embed."]))):(0,v.t)(YY||(YY=nG(["You will need to publish this "," before you can embed it in another application."])),r)),u.createElement("div",{className:"flex-no-shrink"},n.enable_embedding&&!x.ZP.isEqual(n.embedding_params,m)?u.createElement(Ce.Z,{className:"ml1",medium:!0,onClick:S},(0,v.t)(GY||(GY=nG(["Discard Changes"])))):null,u.createElement(NH.default,{className:"ml1",primary:!0,medium:!0,actionFn:O,activeText:(0,v.t)(WY||(WY=nG(["Updating..."]))),successText:(0,v.t)($Y||($Y=nG(["Updated"]))),failedText:(0,v.t)(KY||(KY=nG(["Failed!"])))},(0,v.t)(JY||(JY=nG(["Publish"])))))),u.createElement(TH,{className:"mb2 flex-no-shrink",style:{width:244,height:34},value:"preview"===t,textLeft:(0,v.t)(XY||(XY=nG(["Preview"]))),textRight:(0,v.t)(eG||(eG=nG(["Code"]))),onChange:function(){return w("preview"===t?"code":"preview")}}),"preview"===t?u.createElement(hY,{className:"flex-full",previewUrl:a}):"code"===t?u.createElement(tG,{className:"flex-full",embedType:i,resource:n,resourceType:r,iframeUrl:a,token:o,siteUrl:l,secretKey:c,params:s,displayOptions:f}):null),u.createElement(uY,{pane:t,embedType:i,onChangePane:w,resource:n,resourceType:r,resourceParameters:h,embeddingParams:m,onChangeEmbeddingParameters:b,displayOptions:f,onChangeDisplayOptions:y,previewParameters:d,parameterValues:p,onChangeParameterValue:g,onUnpublish:j}))},lG=function(e){return e.settings.values["enable-public-sharing"]},cG=function(e){return e.settings.values["enable-embedding"]},sG=((0,nz.createSelector)([function(e){return e.settings.values["enable-xrays"]},function(e){return e.settings.values["show-homepage-xrays"]}],(function(e,t){return e&&t})),function(e){return e.settings.values["site-url"]}),fG=function(e){return e.settings.values["embedding-secret-key"]},dG=n(98399);function pG(e){return pG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pG(e)}function hG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hG(Object(n),!0).forEach((function(t){_G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yG(){return yG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yG.apply(this,arguments)}function vG(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function bG(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){vG(o,r,i,a,u,"next",e)}function u(e){vG(o,r,i,a,u,"throw",e)}a(void 0)}))}}function gG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wG(e,t){return wG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wG(e,t)}function OG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=EG(e);if(t){var i=EG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jG(this,n)}}function jG(e,t){return!t||"object"!==pG(t)&&"function"!=typeof t?SG(e):t}function SG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EG(e){return EG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},EG(e)}function _G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xG=(0,_.connect)((function(e,t){return{isAdmin:(0,HF.w3)(e,t),siteUrl:sG(e),secretKey:fG(e),isPublicSharingEnabled:lG(e),isApplicationEmbeddingEnabled:cG(e)}}))((aG=oG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wG(e,t)}(o,e);var t,n,r,i=OG(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),_G(SG(t=i.call(this,e)),"handleSave",bG(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.props.resource,r=t.state,i=r.embeddingParams,"application"!==r.embedType){e.next=11;break}if(n.enable_embedding){e.next=7;break}return e.next=7,t.props.onUpdateEnableEmbedding(!0);case 7:return e.next=9,t.props.onUpdateEmbeddingParams(i);case 9:e.next=14;break;case 11:if(n.public_uuid){e.next=14;break}return e.next=14,t.props.onCreatePublicLink();case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(0),dG.error(e.t0),e.t0;case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))),_G(SG(t),"handleUnpublish",bG(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.onUpdateEnableEmbedding(!1);case 2:case"end":return e.stop()}}),e)})))),_G(SG(t),"handleDiscard",(function(){var e=t.props.resource;t.setState({embeddingParams:e.embedding_params||{}})})),t.state={pane:"preview",embedType:null,embeddingParams:e.resource.embedding_params||{},displayOptions:{theme:null,bordered:!0,titled:!0},parameterValues:{}},t}return t=o,n=[{key:"getPreviewParameters",value:function(e,t){return e.filter((function(e){return"locked"===t[e.slug]}))}},{key:"getPreviewParamsBySlug",value:function(){var e=this.props.resourceParameters,t=this.state,n=t.embeddingParams,r=t.parameterValues,i=this.getPreviewParameters(e,n).map((function(e){var t=e.id in r?r[e.id]:null;return[e.slug,t]}));return Object.fromEntries(i)}},{key:"render",value:function(){var e=this,t=this.props,n=t.siteUrl,r=t.secretKey,i=t.resource,o=t.resourceType,a=t.resourceParameters,l=t.onClose,c=this.state,s=c.pane,d=c.embedType,p=c.embeddingParams,h=c.parameterValues,m=c.displayOptions,y=this.getPreviewParamsBySlug(),v=this.getPreviewParameters(a,p);return u.createElement("div",{className:"flex flex-column full-height"},u.createElement("div",{className:"px2 py1 z1 flex align-center",style:{boxShadow:"application"===d?"0px 8px 15px -9px ".concat((0,f.$_)("text-dark")):void 0}},u.createElement("h2",{className:"ml-auto"},u.createElement(PG,{onClick:function(){return e.setState({embedType:null})},type:d&&(0,LD.titleize)(d)})),u.createElement(En.ZP,{className:"text-light text-medium-hover cursor-pointer p2 ml-auto",name:"close",size:24,onClick:function(){Jf.vF("Sharing Modal","Modal Closed"),l()}})),null==d?u.createElement("div",{className:"flex-full"},u.createElement("div",{className:"ml-auto mr-auto",style:{maxWidth:1040}},u.createElement(xH,yG({},this.props,{publicUrl:GU(n,o,i.public_uuid,m),iframeUrl:GU(n,o,i.public_uuid,m),onChangeEmbedType:function(t){return e.setState({embedType:t})}})))):"application"===d?u.createElement("div",{className:"flex flex-full"},u.createElement(uG,{pane:s,resource:i,resourceType:o,embedType:d,token:HU(o,i.id,y,r,p),iframeUrl:YU(n,o,i.id,y,m,r,p),siteUrl:n,secretKey:r,params:y,displayOptions:m,previewParameters:v,parameterValues:h,resourceParameters:a,embeddingParams:p,onChangeDisplayOptions:function(t){return e.setState({displayOptions:t})},onChangeEmbeddingParameters:function(t){return e.setState({embeddingParams:t})},onChangeParameterValue:function(t,n){return e.setState({parameterValues:mG(mG({},h),{},_G({},t,n))})},onChangePane:function(t){return e.setState({pane:t})},onSave:this.handleSave,onUnpublish:this.handleUnpublish,onDiscard:this.handleDiscard})):null)}}],n&&gG(t.prototype,n),r&&gG(t,r),o}(u.Component),_G(oG,"defaultProps",{}),iG=aG))||iG,PG=function(e){var t=e.type,n=e.onClick;return u.createElement("a",{className:"flex align-center",onClick:n},u.createElement("span",{className:"text-brand-hover"},(0,v.t)(rG||(rG=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Sharing"])))),t&&u.createElement(En.ZP,{name:"chevronright",className:"mx1 text-medium"}),t)};function CG(e){return CG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CG(e)}var kG=["additionalClickActions","className","createPublicLink","dashboard","parameters","deletePublicLink","enabled","linkClassNames","linkText","isLinkEnabled","updateEnableEmbedding","updateEmbeddingParams"];function AG(){return AG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AG.apply(this,arguments)}function DG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function TG(e,t){return TG=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},TG(e,t)}function NG(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ZG(e);if(t){var i=ZG(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qG(this,n)}}function qG(e,t){return!t||"object"!==CG(t)&&"function"!=typeof t?MG(e):t}function MG(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZG(e){return ZG=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ZG(e)}function LG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var BG={createPublicLink:SQ.createPublicLink,deletePublicLink:SQ.deletePublicLink,updateEnableEmbedding:SQ.updateEnableEmbedding,updateEmbeddingParams:SQ.updateEmbeddingParams},zG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TG(e,t)}(o,e);var t,n,r,i=NG(o);function o(){var e;RG(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LG(MG(e=i.call.apply(i,[this].concat(n))),"_modal",void 0),e}return t=o,n=[{key:"render",value:function(){var e=this,t=this.props,n=t.additionalClickActions,r=t.className,i=t.createPublicLink,o=t.dashboard,a=t.parameters,l=t.deletePublicLink,c=t.enabled,s=t.linkClassNames,f=t.linkText,d=t.isLinkEnabled,p=t.updateEnableEmbedding,h=t.updateEmbeddingParams,m=DG(t,kG);return c?u.createElement(wF,{ref:function(t){return e._modal=t},full:!0,disabled:!d,triggerElement:u.createElement("a",{className:s,"aria-disabled":!d,onClick:function(){d&&Jf.vF("Sharing / Embedding","dashboard","Sharing Link Clicked")}},f),triggerClasses:Ze()(r,"text-brand-hover"),className:"scroll-y"},u.createElement(xG,AG({},m,{className:r,resource:o,resourceParameters:a,resourceType:"dashboard",onCreatePublicLink:function(){return i(o)},onDisablePublicLink:function(){return l(o)},onUpdateEnableEmbedding:function(e){return p(o,e)},onUpdateEmbeddingParams:function(e){return h(o,e)},onClose:function(){e._modal&&e._modal.close(),n()},getPublicUrl:function(e){var t=e.public_uuid;return yL.Ul(t)}}))):null}}],n&&IG(t.prototype,n),r&&IG(t,r),o}(u.Component);zG.defaultProps={isLinkEnabled:!0};var FG=(0,_.connect)((function(e,t){return{parameters:(0,jQ.ZS)(e,t)}}),BG)(zG),QG=["isFullscreen"];function VG(){return VG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VG.apply(this,arguments)}function UG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HG=function(e){var t=e.isFullscreen,n=UG(e,QG);return u.createElement(En.ZP,VG({name:t?"contract":"expand"},n))},YG=["isNightMode"];function GG(){return GG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GG.apply(this,arguments)}function WG(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $G,KG,JG,XG,eW,tW,nW,rW,iW,oW=function(e){var t=e.isNightMode,n=WG(e,YG);return u.createElement(En.ZP,GG({name:t?"sun":"moon"},n))},aW={popover:"_1PJaB",title:"_3oZM_",option:"_3sT2c _1a-AI",valueLabel:"UY_RI",on:"_1YWy_",selected:"BoMv1"},uW=function(e){var t=e.hour,n=void 0===t?12:t,r=e.minute,i=void 0===r?40:r,o=e.width,a=void 0===o?20:o,l=e.height,c=void 0===l?20:l,s=e.className;return u.createElement("svg",{width:a,height:c,className:s,viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"currentColor"}),u.createElement("line",{x1:"10",y1:"10",x2:"10",y2:"5",stroke:"white",strokeWidth:2,strokeLinecap:"round",transform:"rotate(".concat(n%12/12*360," 10 10)")}),u.createElement("line",{x1:"10",y1:"10",x2:"10",y2:"6",stroke:"white",strokeWidth:2,strokeLinecap:"round",transform:"rotate(".concat(i%60/60*360," 10 10)")}))},lW=function(e){var t=e.percent,n=void 0===t?.75:t,r=e.width,i=void 0===r?20:r,o=e.height,a=void 0===o?20:o,l=e.className;return u.createElement("svg",{width:i,height:a,className:l,viewBox:"0 0 32 32",style:{transform:"rotate(-"+(360*n+90)+"deg)",borderRadius:"50%"}},u.createElement("circle",{r:"16",cx:"16",cy:"16",fill:"currentColor",stroke:"currentColor",fillOpacity:"0.5",strokeWidth:"32",strokeDasharray:100*n+" 100"}))},cW=(0,De.Z)("button",{target:"e1gntnml0"})("display:flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:6px;color:",(function(e){return e.isActive?(0,f.$_)("brand"):(0,f.$_)("text-dark")}),";background-color:",(function(e){return e.isActive?(0,f.$_)("brand-light"):"transparent"}),";transition:all 200ms;&:hover:enabled{cursor:pointer;color:",(function(e){return e.isActive?(0,f.$_)("white"):(0,f.$_)("brand")}),";background-color:",(function(e){return e.isActive?(0,f.$_)("brand"):"transparent"}),";}&:disabled{color:",(0,f.$_)("text-light"),";}");function sW(e){return sW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sW(e)}function fW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dW(e,t){return dW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dW(e,t)}function pW(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yW(e);if(t){var i=yW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hW(this,n)}}function hW(e,t){return!t||"object"!==sW(t)&&"function"!=typeof t?mW(e):t}function mW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yW(e){return yW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yW(e)}function vW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gW,wW,OW,jW,SW,EW,_W,xW=[{name:(0,v.t)($G||($G=bW(["Off"]))),period:null},{name:(0,v.t)(KG||(KG=bW(["1 minute"]))),period:60},{name:(0,v.t)(JG||(JG=bW(["5 minutes"]))),period:300},{name:(0,v.t)(XG||(XG=bW(["10 minutes"]))),period:600},{name:(0,v.t)(eW||(eW=bW(["15 minutes"]))),period:900},{name:(0,v.t)(tW||(tW=bW(["30 minutes"]))),period:1800},{name:(0,v.t)(nW||(nW=bW(["60 minutes"]))),period:3600}],PW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dW(e,t)}(o,e);var t,n,r,i=pW(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),vW(mW(t=i.call(this,e)),"state",{elapsed:null}),t.popover=u.createRef(),t}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.setRefreshElapsedHook;t&&t((function(t){return e.setState({elapsed:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.setRefreshElapsedHook;n&&e.setRefreshElapsedHook!==n&&n((function(e){return t.setState({elapsed:e})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.period,r=t.onChangePeriod,i=t.className,o=this.state.elapsed,a=n-o;return u.createElement(_n.Z,{ref:this.popover,triggerElement:null==o?u.createElement($a.Z,{tooltip:(0,v.t)(rW||(rW=bW(["Auto-refresh"])))},u.createElement(cW,null,u.createElement(uW,{width:18,height:18,className:i}))):u.createElement($a.Z,{tooltip:(0,v.t)(iW||(iW=bW(["Refreshing in"])))+" "+Math.floor(a/60)+":"+(a%60<10?"0":"")+Math.round(a%60)},u.createElement(cW,null,u.createElement(lW,{width:18,height:18,className:"text-green",percent:Math.min(.95,(n-o)/n)}))),targetOffsetY:10},u.createElement("div",{className:aW.popover},u.createElement("div",{className:aW.title},"Auto Refresh"),u.createElement(CW,null,xW.map((function(t){return u.createElement(kW,{key:t.period,name:t.name,period:t.period,selected:t.period===n,onClick:function(){e.popover.current.close(),r(t.period)}})})))))}}],n&&fW(t.prototype,n),r&&fW(t,r),o}(u.Component),CW=function(e){var t=e.children;return u.createElement("ul",null,t)},kW=function(e){var t=e.name,n=e.period,r=e.selected,i=e.onClick;return u.createElement("li",{className:Ze()(aW.option,aW[null==n?"off":"on"],vW({},aW.selected,r)),onClick:i},u.createElement(En.ZP,{name:"check",size:14}),u.createElement("span",{className:aW.name},t.split(" ")[0]),u.createElement("span",{className:aW.nameSuffix}," ",t.split(" ")[1]))};function AW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var DW,RW,IW,TW=n(98399);function NW(e){return NW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NW(e)}function qW(){return qW=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qW.apply(this,arguments)}function MW(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function ZW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BW(e,t){return BW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BW(e,t)}function zW(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=QW(e);if(t){var i=QW(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FW(this,n)}}function FW(e,t){return!t||"object"!==NW(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function QW(e){return QW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},QW(e)}function VW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VW(Object(n),!0).forEach((function(t){HW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YW=UW(UW({},SQ),{},{fetchDatabaseMetadata:eq.fetchDatabaseMetadata,setErrorPage:iZ.$J,onChangeLocation:Mn.VF}),GW=(DW=(0,_.connect)((function(e,t){return{metadata:(0,tq.sd)(e,t),dashboardId:t.params.dashboardId||t.params.uuid||t.params.token,dashboard:(0,jQ.IG)(e,t),dashcardData:(0,jQ.VI)(e,t),slowCards:(0,jQ.gq)(e,t),parameters:(0,jQ.ZS)(e,t),parameterValues:(0,jQ.$c)(e,t)}}),YW),RW=wB((function(e){var t=e.dashboard;return t&&t.name})),DW(IW=RW(IW=function(e){var t,n;return(0,_.connect)(null,{replace:Mn.gx})((n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KV(e,t)}(a,t);var n,r,i,o=JV(a);function a(){var e;WV(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nU(eU(e=o.call.apply(o,[this].concat(n))),"state",{isFullscreen:!1,isNightMode:!1,refreshPeriod:null,hideParameters:null}),nU(eU(e),"loadDashboardParams",(function(){var t=e.props.location,n=(0,EI.kf)(t.hash);e.setRefreshPeriod(Number.isNaN(n.refresh)||0===n.refresh?null:n.refresh),e.setNightMode("night"===n.theme||n.night),e.setFullscreen(n.fullscreen),e.setHideParameters(n.hide_parameters)})),nU(eU(e),"updateDashboardParams",(function(){var t=e.props,n=t.location,r=t.replace,i=(0,EI.kf)(n.hash),o=function(e,t){t?i[e]=t:delete i[e]};o("refresh",e.state.refreshPeriod),o("fullscreen",e.state.isFullscreen),o("theme",e.state.isNightMode?"night":null),delete i.night,delete i.add,delete i.edit;var a=(0,EI.Cv)(i);(a=a?"#"+a:"")!==n.hash&&r({pathname:n.pathname,search:n.search,hash:a})})),nU(eU(e),"setRefreshPeriod",(function(t){e._clearRefreshInterval(),null!=t?(e._interval=setInterval(e._tickRefreshClock,1e3),e.setState({refreshPeriod:t}),e.setRefreshElapsed(0),Jf.vF("Dashboard","Set Refresh",t)):(e.setState({refreshPeriod:null}),e.setRefreshElapsed(null))})),nU(eU(e),"setNightMode",(function(t){t=!!t,e.setState({isNightMode:t})})),nU(eU(e),"setFullscreen",function(){var t=GV(regeneratorRuntime.mark((function t(n){var r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!(i.length>1&&void 0!==i[1])||i[1],(n=!!n)===e.state.isFullscreen){t.next=18;break}if(!QV().enabled||!r){t.next=17;break}if(!n){t.next=15;break}return t.prev=5,t.next=8,QV().request();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),VV.warn("Couldn't enable browser fullscreen: ".concat(t.t0));case 13:t.next=17;break;case 15:return t.next=17,QV().exit();case 17:e.setState({isFullscreen:n});case 18:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}()),nU(eU(e),"setHideParameters",(function(t){e.setState({hideParameters:t})})),nU(eU(e),"_tickRefreshClock",GV(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._refreshElapsed=(e._refreshElapsed||0)+1,!((n=e.state.refreshPeriod)&&e._refreshElapsed>=n)){t.next=7;break}return e._refreshElapsed=0,t.next=6,e.props.fetchDashboard(e.props.dashboardId,e.props.location.query,!0);case 6:e.props.fetchDashboardCardData({reload:!0,clear:!1});case 7:e.setRefreshElapsed(e._refreshElapsed);case 8:case"end":return t.stop()}}),t)})))),nU(eU(e),"_fullScreenChanged",(function(){e.setState({isFullscreen:!!QV().isFullscreen})})),nU(eU(e),"setRefreshElapsedHook",(function(t){e._refreshElapsedHook=t})),nU(eU(e),"setRefreshElapsed",(function(t){e._refreshElapsedHook&&e._refreshElapsedHook(t)})),e}return n=a,(r=[{key:"UNSAFE_componentWillMount",value:function(){QV().enabled&&document.addEventListener(QV().raw.fullscreenchange,this._fullScreenChanged),this.loadDashboardParams()}},{key:"componentDidUpdate",value:function(){this.updateDashboardParams(),this._showNav(!this.state.isFullscreen)}},{key:"componentWillUnmount",value:function(){this._showNav(!0),this._clearRefreshInterval(),QV().enabled&&document.removeEventListener(QV().raw.fullscreenchange,this._fullScreenChanged)}},{key:"_clearRefreshInterval",value:function(){null!=this._interval&&clearInterval(this._interval)}},{key:"_showNav",value:function(e){if(window.document){var t=window.document.querySelector(".Nav");e&&t?t.classList.remove("hide"):!e&&t&&t.classList.add("hide")}}},{key:"render",value:function(){return u.createElement(e,HV({},this.props,this.state,{setRefreshElapsedHook:this.setRefreshElapsedHook,loadDashboardParams:this.loadDashboardParams,updateDashboardParams:this.updateDashboardParams,onNightModeChange:this.setNightMode,onFullscreenChange:this.setFullscreen,onRefreshPeriodChange:this.setRefreshPeriod}))}}])&&$V(n.prototype,r),i&&$V(n,i),a}(u.Component),nU(t,"displayName","DashboardControls["+(e.displayName||e.name)+"]"),n))}(IW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BW(e,t)}(c,e);var t,n,r,i,o,a=zW(c);function c(){return ZW(this,c),a.apply(this,arguments)}return t=c,n=[{key:"UNSAFE_componentWillMount",value:(i=regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,u,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.initialize,r=t.fetchDashboard,i=t.fetchDashboardCardData,o=t.setErrorPage,a=t.location,u=t.params,l=u.uuid,c=u.token,l?(0,k.setPublicDashboardEndpoints)():c&&(0,k.setEmbedDashboardEndpoints)(),n(),e.prev=3,e.next=6,r(l||c,a.query);case 6:return e.next=8,i({reload:!1,clear:!0});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),TW.error(e.t0),o(e.t0);case 14:case"end":return e.stop()}}),e,this,[[3,10]])})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){MW(o,n,r,a,u,"next",e)}function u(e){MW(o,n,r,a,u,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.props.cancelFetchDashboardCardData()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){x.ZP.isEqual(this.props.parameterValues,e.parameterValues)||this.props.fetchDashboardCardData({reload:!1,clear:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.dashboard,r=t.parameters,i=t.parameterValues,o=t.isFullscreen,a=t.isNightMode,c=l.GG?[]:function(e,t){var n=t.dashboard,r=t.isAdmin,i=t.canManageSubscriptions,o=t.isEditing,a=void 0!==o&&o,l=t.isEmpty,c=void 0!==l&&l,s=t.isFullscreen,f=t.isNightMode,d=t.isPublic,p=void 0!==d&&d,h=t.onNightModeChange,m=t.onFullscreenChange,y=t.refreshPeriod,b=t.setRefreshElapsedHook,w=t.onRefreshPeriodChange,O=t.onSharingClick,j=g.Z.get("enable-public-sharing"),S=g.Z.get("enable-embedding"),E=[],_=!!n&&n.ordered_cards.length>0,x=_&&n.ordered_cards.some((function(e){return"text"!==e.card.display})),P=_;return a||c||p||(x&&i&&!s&&E.push(u.createElement($a.Z,{tooltip:(0,v.t)(gW||(gW=AW(["Subscriptions"]))),key:"dashboard-subscriptions"},u.createElement("span",null,u.createElement(cW,{disabled:!i,onClick:O,"data-metabase-event":"Dashboard;Subscriptions"},u.createElement(En.ZP,{size:18,name:"subscription"}))))),P&&E.push(u.createElement(FG,{key:"dashboard-embed",additionalClickActions:function(){return e.refs.popover.close()},dashboard:n,enabled:!a&&!s&&(j&&(r||n.public_uuid)||S&&r),isLinkEnabled:P,linkText:u.createElement($a.Z,{isLinkEnabled:P,tooltip:P?(0,v.t)(wW||(wW=AW(["Sharing"]))):(0,v.t)(OW||(OW=AW(["Add data to share this dashboard"])))},u.createElement(cW,null,u.createElement(En.ZP,{name:"share",className:Ze()({"text-brand-hover":P,"text-light":!P})})))}))),a||c||E.push(u.createElement(PW,{key:"refresh","data-metabase-event":"Dashboard;Refresh Menu Open",className:"text-brand-hover",period:y,setRefreshElapsedHook:b,onChangePeriod:w})),!a&&s&&E.push(u.createElement($a.Z,{key:"night",tooltip:f?(0,v.t)(jW||(jW=AW(["Daytime mode"]))):(0,v.t)(SW||(SW=AW(["Nighttime mode"])))},u.createElement("span",{"data-metabase-event":"Dashboard;Night Mode;"+!f},u.createElement(cW,null,u.createElement(oW,{className:"text-brand-hover cursor-pointer",isNightMode:f,onClick:function(){return h(!f)}}))))),a||c||E.push(u.createElement($a.Z,{key:"fullscreen",tooltip:s?(0,v.t)(EW||(EW=AW(["Exit fullscreen"]))):(0,v.t)(_W||(_W=AW(["Enter fullscreen"])))},u.createElement("span",{"data-metabase-event":"Dashboard;Fullscreen Mode;"+!s},u.createElement(cW,{onClick:function(e){return m(!s,!e.altKey)}},u.createElement(HG,{className:"text-brand-hover",isFullscreen:s}))))),E}(this,UW(UW({},this.props),{},{isPublic:!0}));return u.createElement(VM,{name:n&&n.name,description:n&&n.description,dashboard:n,parameters:r,parameterValues:i,setParameterValue:this.props.setParameterValue,actionButtons:c.length>0&&u.createElement("div",{className:"flex"},c)},u.createElement(iB.default,{className:Ze()("Dashboard p1 flex-full",{"Dashboard--fullscreen":o,"Dashboard--night":a}),loading:!n},(function(){return u.createElement(zV,qW({},e.props,{className:"spread",mode:SB,metadata:e.props.metadata,navigateToNewCardFromDashboard:function(){}}))})))}}],n&&LW(t.prototype,n),r&&LW(t,r),c}(u.Component))||IW)||IW)||IW),WW=n(33094),$W=n(73319),KW=n(95556),JW=n(51587),XW=Object.values(JW),e$=(0,KW.I2)(XW),t$=e$.entities,n$=e$.reducer,r$=e$.requestsReducer,i$=n$;(window.Metabase=window.Metabase||{}).entities=t$;var o$,a$,u$,l$,c$,s$,f$,d$,p$,h$,m$,y$,v$=n(40396),b$={app:iZ.ZP,currentUser:v$.ar,requests:(o$=WW.ZP,function(e,t){return o$(r$(e,t),t)}),settings:A.ZP,undo:$W.ZP,entities:i$};function g$(e){return g$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g$(e)}function w$(e){return function(e){if(Array.isArray(e))return O$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return O$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j$(Object(n),!0).forEach((function(t){E$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _$=(0,C.jZ)((E$(a$={},SQ.INITIALIZE,{next:function(e){return null}}),E$(a$,SQ.FETCH_DASHBOARD,{next:function(e,t){return t.payload.dashboardId}}),E$(a$,SQ.RESET,{next:function(e){return null}}),a$),null),x$=(0,C.jZ)((E$(u$={},SQ.INITIALIZE,{next:function(e){return null}}),E$(u$,SQ.SET_EDITING_DASHBOARD,{next:function(e,t){var n=t.payload;return n||null}}),E$(u$,SQ.RESET,{next:function(e){return null}}),u$),null),P$=(0,C.jZ)((E$(l$={},SQ.SET_DOCUMENT_TITLE,(function(e,t){var n=t.payload;return S$(S$({},e),{},{documentTitle:n})})),E$(l$,SQ.SET_SHOW_LOADING_COMPLETE_FAVICON,(function(e,t){var n=t.payload;return S$(S$({},e),{},{showLoadCompleteFavicon:n})})),E$(l$,SQ.RESET,{next:function(e){return{}}}),l$),{});var C$=(0,C.jZ)((E$(c$={},SQ.FETCH_DASHBOARD,{next:function(e,t){var n=t.payload;return S$(S$({},e),n.entities.dashboard)}}),E$(c$,SQ.SET_DASHBOARD_ATTRIBUTES,{next:function(e,t){var n=t.payload,r=n.id,i=n.attributes,o=n.isDirty;return S$(S$({},e),{},E$({},r,function(e,t,n){return S$(S$(S$({},e),t),{},{embedding_params:(0,cQ.ay)(e,t),isDirty:null==n||n})}(e[r],i,o)))}}),E$(c$,SQ.ADD_CARD_TO_DASH,(function(e,t){var n=t.payload;return S$(S$({},e),{},E$({},n.dashboard_id,S$(S$({},e[n.dashboard_id]),{},{ordered_cards:[].concat(w$(e[n.dashboard_id].ordered_cards),[n.id])})))})),E$(c$,SQ.CREATE_PUBLIC_LINK,{next:function(e,t){var n=t.payload;return(0,b.assocIn)(e,[n.id,"public_uuid"],n.uuid)}}),E$(c$,SQ.DELETE_PUBLIC_LINK,{next:function(e,t){var n=t.payload;return(0,b.assocIn)(e,[n.id,"public_uuid"],null)}}),E$(c$,SQ.UPDATE_EMBEDDING_PARAMS,{next:function(e,t){var n=t.payload;return(0,b.assocIn)(e,[n.id,"embedding_params"],n.embedding_params)}}),E$(c$,SQ.UPDATE_ENABLE_EMBEDDING,{next:function(e,t){var n=t.payload;return(0,b.assocIn)(e,[n.id,"enable_embedding"],n.enable_embedding)}}),c$),{}),k$=(0,C.jZ)((E$(s$={},SQ.FETCH_DASHBOARD,{next:function(e,t){var n=t.payload;return S$(S$({},e),n.entities.dashcard)}}),E$(s$,SQ.SET_DASHCARD_ATTRIBUTES,{next:function(e,t){var n=t.payload,r=n.id,i=n.attributes;return S$(S$({},e),{},E$({},r,S$(S$(S$({},e[r]),i),{},{isDirty:!0})))}}),E$(s$,SQ.SET_MULTIPLE_DASHCARD_ATTRIBUTES,{next:function(e,t){var n=t.payload,r=S$({},e);return n.forEach((function(t){var n=t.id,i=t.attributes;r[n]=S$(S$(S$({},e[n]),i),{},{isDirty:!0})})),r}}),E$(s$,SQ.UPDATE_DASHCARD_VISUALIZATION_SETTINGS,{next:function(e,t){var n=t.payload,r=n.id,i=n.settings;return(0,b.chain)(e).updateIn([r,"visualization_settings"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S$(S$({},e),i)})).assocIn([r,"isDirty"],!0).value()}}),E$(s$,SQ.UPDATE_DASHCARD_VISUALIZATION_SETTINGS_FOR_COLUMN,{next:function(e,t){var n=t.payload,r=n.column,i=n.id,o=n.settings;return(0,b.chain)(e).updateIn([i,"visualization_settings"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.updateIn)((0,b.merge)({column_settings:{}},e),["column_settings",r],(function(e){return S$(S$({},e),o)}))})).assocIn([i,"isDirty"],!0).value()}}),E$(s$,SQ.REPLACE_ALL_DASHCARD_VISUALIZATION_SETTINGS,{next:function(e,t){var n=t.payload,r=n.id,i=n.settings;return(0,b.chain)(e).assocIn([r,"visualization_settings"],i).assocIn([r,"isDirty"],!0).value()}}),E$(s$,SQ.ADD_CARD_TO_DASH,(function(e,t){var n=t.payload;return S$(S$({},e),{},E$({},n.id,S$(S$({},n),{},{isAdded:!0,justAdded:!0})))})),E$(s$,SQ.REMOVE_CARD_FROM_DASH,(function(e,t){var n=t.payload.dashcardId;return S$(S$({},e),{},E$({},n,S$(S$({},e[n]),{},{isRemoved:!0})))})),E$(s$,SQ.MARK_NEW_CARD_SEEN,(function(e,t){var n=t.payload;return S$(S$({},e),{},E$({},n,S$(S$({},e[n]),{},{justAdded:!1})))})),s$),{}),A$=(0,C.jZ)((E$(f$={},SQ.SHOW_ADD_PARAMETER_POPOVER,(function(){return!0})),E$(f$,SQ.HIDE_ADD_PARAMETER_POPOVER,(function(){return!1})),E$(f$,SQ.INITIALIZE,(function(){return!1})),E$(f$,SQ.RESET,(function(){return!1})),f$),!1),D$=(0,C.jZ)((E$(d$={},SQ.INITIALIZE,{next:function(e){return{}}}),E$(d$,SQ.FETCH_CARD_DATA,{next:function(e,t){var n=t.payload,r=n.dashcard_id,i=n.card_id,o=n.result;return(0,b.assocIn)(e,[r,i],o)}}),E$(d$,SQ.CLEAR_CARD_DATA,{next:function(e,t){var n=t.payload,r=n.cardId,i=n.dashcardId;return(0,b.assocIn)(e,[i,r])}}),E$(d$,SQ.UPDATE_DASHCARD_ID,{next:function(e,t){var n=t.payload,r=n.oldDashcardId,i=n.newDashcardId;return(0,b.chain)(e).assoc(i,e[r]).dissoc(r).value()}}),E$(d$,SQ.RESET,{next:function(e){return{}}}),d$),{}),R$=(0,C.jZ)(E$({},SQ.MARK_CARD_AS_SLOW,{next:function(e,t){var n=t.payload,r=n.id,i=n.result;return S$(S$({},e),{},E$({},r,i))}}),{}),I$=(0,C.jZ)((E$(p$={},SQ.INITIALIZE,{next:function(){return{}}}),E$(p$,SQ.SET_PARAMETER_VALUE,{next:function(e,t){var n=t.payload,r=n.id,i=n.value;return(0,b.assoc)(e,r,i)}}),E$(p$,SQ.REMOVE_PARAMETER,{next:function(e,t){var n=t.payload.id;return(0,b.dissoc)(e,n)}}),E$(p$,SQ.FETCH_DASHBOARD,{next:function(e,t){return t.payload.parameterValues}}),E$(p$,SQ.RESET,{next:function(e){return{}}}),p$),{}),T$=(0,C.jZ)((E$(h$={},SQ.INITIALIZE,{next:function(){return{}}}),E$(h$,SQ.SAVE_DASHBOARD_AND_CARDS,{next:function(){return{}}}),E$(h$,SQ.FETCH_DASHBOARD_PARAMETER_FIELD_VALUES,{next:function(e,t){var n=t.payload;return n?(0,b.assoc)(e,n.cacheKey,n.results):e}}),E$(h$,SQ.RESET,{next:function(e){return{}}}),h$),{}),N$=(0,C.jZ)((E$(m$={},SQ.INITIALIZE,{next:function(e){return S$(S$({},e),{},{loadingStatus:"idle"})}}),E$(m$,SQ.FETCH_DASHBOARD,{next:function(e,t){var n=t.payload,r=Object.values(n.entities.dashcard||{}).filter((function(e){return!(0,cQ.Mu)(e)})).map((function(e){return e.id}));return S$(S$({},e),{},{dashcardIds:r,loadingIds:r,loadingStatus:"idle"})}}),E$(m$,SQ.FETCH_DASHBOARD_CARD_DATA,{next:function(e){return S$(S$({},e),{},{loadingStatus:e.dashcardIds.length>0?"running":"idle",startTime:e.dashcardIds.length>0&&"object"===("undefined"==typeof performance?"undefined":g$(performance))?performance.now():null})}}),E$(m$,SQ.FETCH_CARD_DATA,{next:function(e,t){var n=t.payload.dashcard_id,r=e.loadingIds.filter((function(e){return e!==n}));return S$(S$({},e),{},{loadingIds:r},0===r.length?{startTime:null,loadingStatus:"complete"}:{})}}),E$(m$,SQ.CANCEL_FETCH_CARD_DATA,{next:function(e,t){var n=t.payload.dashcard_id,r=e.loadingIds.filter((function(e){return e!==n}));return S$(S$({},e),{},{loadingIds:r},0===r.length?{startTime:null}:{})}}),E$(m$,SQ.RESET,{next:function(e){return S$(S$({},e),{},{loadingStatus:"idle"})}}),m$),{dashcardIds:[],loadingIds:[],startTime:null,loadingStatus:"idle"}),q$={props:{}},M$=(0,C.jZ)((E$(y$={},SQ.INITIALIZE,{next:function(){return q$}}),E$(y$,SQ.SET_SIDEBAR,{next:function(e,t){var n=t.payload;return{name:n.name,props:n.props||{}}}}),E$(y$,SQ.CLOSE_SIDEBAR,{next:function(){return q$}}),E$(y$,SQ.SET_EDITING_DASHBOARD,{next:function(e,t){return t.payload?e:q$}}),E$(y$,SQ.REMOVE_PARAMETER,{next:function(){return q$}}),E$(y$,SQ.RESET,{next:function(){return q$}}),y$),q$),Z$=(0,C.UY)({dashboardId:_$,isEditing:x$,loadingControls:P$,dashboards:C$,dashcards:k$,dashcardData:D$,slowCards:R$,parameterValues:I$,loadingDashCards:N$,isAddParameterPopoverOpen:A$,sidebar:M$,parameterValuesSearchCache:T$});function L$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L$(Object(n),!0).forEach((function(t){z$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"loading"!==document.readyState?SI.apply(void 0,t):document.addEventListener("DOMContentLoaded",(function(){return SI.apply(void 0,t)}))}(B$(B$({},b$),{},{dashboard:Z$}),(function(e){return u.createElement(w.AW,null,u.createElement(w.AW,{path:"embed",component:rZ},u.createElement(w.AW,{path:"question/:token",component:ZB}),u.createElement(w.AW,{path:"dashboard/:token",component:GW}),u.createElement(w.AW,{path:"*",component:HM})),u.createElement(w.AW,{path:"*",component:HM}))}),(function(){l.GG&&(document.body.style.backgroundColor="transparent")}))},24336:function(e,t,n){"use strict";n.d(t,{x4:function(){return w},z3:function(){return O}});var r=n(95390),i=n(55446),o=n(11093),a=n(35463),u=n(24432),l=n(11319),c=n(96516),s=n(40396),f=n(31595),d=n(6697),p=n(97249),h=function(){(0,p.vF)("Auth","Login")},m=function(){(0,p.vF)("Auth","Google Auth Login")};function y(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,u,"next",e)}function u(e){y(o,r,i,a,u,"throw",e)}a(void 0)}))}}var b=(0,u.RU)("metabase/user/REFRESH_LOCALE",(function(){return function(){var e=v(regeneratorRuntime.mark((function e(t,n){var r,i,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(r=(0,d.PR)(n()))||void 0===r?void 0:r.locale,u=a.Z.get("site-locale"),e.next=4,(0,l.Uo)(null!==(i=null!=o?o:u)&&void 0!==i?i:"en");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),g=(0,u.RU)("metabase/auth/REFRESH_SESSION",(function(){return function(){var e=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t((0,s.H6)()),t((0,f.GC)())]);case 2:return e.next=4,t(b());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),w=(0,u.RU)("metabase/auth/LOGIN",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return function(){var n=v(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.SessionApi.create(e);case 2:return n.next=4,i(g());case 4:h(),i((0,r.VF)(t));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),O=(0,u.RU)("metabase/auth/LOGIN_GOOGLE",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return function(){var n=v(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.SessionApi.createWithGoogleAuth({token:e});case 3:return n.next=5,i(g());case 5:m(),i((0,r.VF)(t)),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,(0,c.UD)();case 13:throw n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}));(0,u.RU)("metabase/auth/LOGOUT",(function(){return function(){var e=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.SO)();case 2:return e.next=4,(0,c.UD)();case 4:return e.next=6,t((0,s.Ze)());case 6:return e.next=8,t(b());case 8:(0,p.vF)("Auth","Logout"),t((0,r.VF)("/auth/login")),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),(0,u.RU)("metabase/auth/FORGOT_PASSWORD",(function(e){return v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.SessionApi.forgot_password({email:e});case 2:case"end":return t.stop()}}),t)})))})),(0,u.RU)("metabase/auth/RESET_PASSWORD",(function(e,t){return function(){var n=v(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.SessionApi.reset_password({token:e,password:t});case 2:return n.next=4,r(g());case 4:(0,p.vF)("Auth","Password Reset");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),(0,u.RU)("metabase/auth/VALIDATE_PASSWORD",(function(e){return v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.UtilApi.password_check({password:e});case 2:case"end":return t.stop()}}),t)})))})),(0,u.RU)("metabase/auth/VALIDATE_TOKEN",(function(e){return v(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.SessionApi.password_reset_token_valid({token:e});case 2:if(n=t.sent,(0,i.getIn)(n,["valid"])){t.next=6;break}throw n;case 6:case"end":return t.stop()}}),t)})))}))},49870:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(32735),i=n(47679),o=n(6336),a=n(65844),u=n(4843);var l=(0,i.Z)(u.Z,{target:"eoyih6x3"})("cursor:pointer;color:",(0,o.$_)("text-dark"),";&:hover{color:",(0,o.$_)("brand"),";}"),c=(0,i.Z)(l,{target:"eoyih6x2"})("display:flex;justify-content:center;align-items:center;padding:1.25rem;background-color:",(0,o.$_)("white"),";box-shadow:0 3px 10px ",(0,o.$_)("shadow"),";border-radius:6px;"),s=(0,i.Z)(a.ZP,{target:"eoyih6x1"})({name:"u7ytkp",styles:"margin-right:0.5rem"}),f=(0,i.Z)("span",{target:"eoyih6x0"})({name:"1rib0n1",styles:"font-weight:700;line-height:1rem"}),d=function(e){var t=e.link,n=void 0===t?"":t,i=e.icon,o=e.isCard,a=e.children,u=e.onClick;return o?r.createElement(c,{to:n,onClick:u},i&&r.createElement(s,{name:i}),r.createElement(f,null,a)):r.createElement(l,{to:n,onClick:u},a)}},56673:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,i=n(32735),o=n(25312),a=n(49870);var u=function(e){var t,n,u=e.redirectUrl,l=u?"/auth/login/password?redirect=".concat(encodeURIComponent(u)):"/auth/login/password";return i.createElement(a.Z,{link:l},(0,o.t)(r||(t=["Sign in with email"],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))))}},21475:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(49155),i=n(96516),o=n(32735),a=n(25312),u=n(55446),l=n(49870),c=n(47679),s=n(6336);var f,d=(0,c.Z)("div",{target:"e1wl8nzh1"})("color:",(0,s.$_)("error"),";text-align:center;"),p=(0,c.Z)("div",{target:"e1wl8nzh0"})({name:"akdqam",styles:"margin-top:1rem"});function h(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=(0,u.getIn)(e,["data","errors"]);return t?Object.values(t):[]},b=function(e){var t,n,r=e.isCard,i=e.redirectUrl,u=e.onAttach,c=e.onLogin,s=(0,o.useRef)(null),y=m((0,o.useState)([]),2),b=y[0],g=y[1],w=(0,o.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g([]),e.next=4,c(t,i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),g(v(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,u,"next",e)}function u(e){h(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[c,i]),O=(0,o.useCallback)((function(e){g([e])}),[]);return(0,o.useEffect)((function(){s.current&&u(s.current,w,O)}),[u,w,O]),o.createElement("div",{ref:s},o.createElement(l.Z,{icon:"google",isCard:r},(0,a.t)(f||(t=["Sign in with Google"],n||(n=t.slice(0)),f=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))),b.length>0&&o.createElement(p,null,b.map((function(e,t){return o.createElement(d,{key:t},e)}))))},g={onLogin:n(24336).z3},w=(0,r.connect)((function(){return{onAttach:i.A6}}),g)(b)},56793:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(49155),i=n(24336),o=n(32735),a=n(25312),u=n(92528),l=n(49870),c=n(47679);var s,f,d=(0,c.Z)("div",{target:"e1m0eac11"})({name:"zyjw37",styles:"display:flex;flex-direction:column;align-items:center;margin-top:1.5rem"}),p=(0,c.Z)("div",{target:"e1m0eac10"})({name:"5iroc3",styles:"&:not(:last-child){margin-bottom:1rem;}"});function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var y=function(e){var t=e.providers,n=void 0===t?[]:t,r=e.redirectUrl,i=e.onLogin,c=(0,o.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,r);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,u,"next",e)}function u(e){m(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[i,r]);return o.createElement("div",null,o.createElement(u.ZP.Form,{form:u.ZP.forms.login(),submitTitle:(0,a.t)(s||(s=h(["Sign in"]))),submitFullWidth:!0,onSubmit:c}),o.createElement(d,null,o.createElement(p,null,o.createElement(l.Z,{link:"/auth/forgot_password"},(0,a.t)(f||(f=h(["I seem to have forgotten my password"]))))),n.map((function(e){return o.createElement(p,{key:e.name},o.createElement(e.Button,{redirectUrl:r}))}))))},v=n(10986),b={onLogin:i.x4},g=(0,r.connect)((function(e){return{providers:(0,v.IP)(e)}}),b)(y)},10986:function(e,t,n){"use strict";n.d(t,{IP:function(){return u}});var r=n(12463),i=n(40930),o=(0,r.createSelector)((function(e){return e.settings}),(function(e){return e.values})),a=(0,r.createSelector)([o],(function(){return i.kF.reduce((function(e,t){return t(e)}),[])})),u=(0,r.createSelector)([a],(function(e){return e.filter((function(e){return"password"!==e.name}))}))},59602:function(e,t,n){"use strict";n.d(t,{jV:function(){return o},Zn:function(){return a},ck:function(){return u}});n(25312);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return"number"==typeof e.personal_owner_id}function a(e,t){var n=function(e){var t,n;if(Array.isArray(e.effective_ancestors)){var i=r(e.effective_ancestors,2),o=(i[0],i[1]);return o?o.id:void 0}return u(null===(t=e.location)||void 0===t||null===(n=t.split("/"))||void 0===n?void 0:n[0])}(e);if(!n)return!1;var i=t.find((function(e){return e.id===n}));return Boolean(i&&!!i.personal_owner_id)}function u(e){return"root"===e||null==e?null:"number"==typeof e?e:parseInt(e,10)}},39544:function(e,t,n){"use strict";n.d(t,{default:function(){return k}});var r,i,o,a,u=n(32735),l=n(60216),c=n.n(l),s=n(65844),f=n(86147),d=n(9841),p=n(25312),h=n(40841),m=n.n(h),y=n(98399);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}var b=["normalText","activeText","failedText","successText","actionFn","className","successClassName","failedClassName","forceActiveStyle","children"];function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r,i=E(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),C(x(t=i.call(this,e)),"resetStateOnTimeout",(function(){clearTimeout(t.timeout),t.timeout=setTimeout((function(){return t.setState({active:!1,result:null})}),5e3)})),C(x(t),"onClick",(function(e){e.preventDefault(),t.setState({active:!0,result:null}),t.actionPromise=(0,d.L5)(t.props.actionFn()),t.actionPromise.then((function(e){t.setState({active:!1,result:"success"},t.resetStateOnTimeout)}),(function(e){e.isCanceled||(y.error(e),t.setState({active:!1,result:"failed"},t.resetStateOnTimeout))}))})),t.state={active:!1,result:null},t}return t=o,(n=[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),this.actionPromise&&this.actionPromise.cancel()}},{key:"render",value:function(){var e,t=this.props,n=t.normalText,r=t.activeText,i=t.failedText,o=t.successText,a=(t.actionFn,t.className),l=t.successClassName,c=t.failedClassName,d=t.forceActiveStyle,p=t.children,h=O(t,b),y=this.state,v=y.active,g=y.result,j=v||"success"===g;return u.createElement(f.Z,w({},h,{className:d?m()("Button","Button--waiting"):m()(a,(e={"Button--waiting":v},C(e,l,"success"===g),C(e,c,"failed"===g),C(e,"pointer-events-none",j),e)),onClick:this.onClick}),v?r:"success"===g?u.createElement("span",null,d?null:u.createElement(s.ZP,{name:"check",size:12}),u.createElement("span",{className:"ml1"},o)):"failed"===g?i:p||n)}}])&&j(t.prototype,n),r&&j(t,r),o}(u.Component);C(k,"propTypes",{actionFn:c().func.isRequired}),C(k,"defaultProps",{className:"Button",successClassName:"Button--success",failedClassName:"Button--danger",normalText:(0,p.t)(r||(r=g(["Save"]))),activeText:(0,p.t)(i||(i=g(["Saving..."]))),failedText:(0,p.t)(o||(o=g(["Save failed"]))),successText:(0,p.t)(a||(a=g(["Saved"]))),forceActiveStyle:!1})},56806:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(72711),u={className:o().string,children:o().node},l=function(e){var t=e.className,n=e.children;return r.createElement(a.BannerRoot,{className:t},n)};l.propTypes=u,t.default=l},72711:function(e,t,n){"use strict";n.d(t,{BannerRoot:function(){return o}});var r=n(47679),i=n(6336),o=(0,r.Z)("div",{target:"e1sukvww0"})("padding:0.75rem;border-radius:6px;color:",(0,i.$_)("text-medium"),";background-color:",(0,i.$_)("bg-light"),";")},39618:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var r=n(32735),i=n(60216),o=n.n(i),a=n(42881),u="_3_Ba_",l="_2TF9W",c="_2gIyS",s="_22hhf",f="_3fU6E",d="_3d7eA _38618 _3_Ba_",p="eVgJF _2TF9W",h=n(65844),m=n(95002),y=n(40841),v=n.n(y);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(y,e);var t,n,i,o=j(y);function y(){return g(this,y),o.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.crumbs,i=e.inSidebar,o=e.placeholder,y=i?p:l,b=i?d:u;return r.createElement("section",{className:v()(t,b)},n.length<=1&&o?r.createElement("span",{className:v()(y,f)},o):n.map((function(e){return Array.isArray(e)?e:[e]})).map((function(e,t){return r.createElement(m.default,{key:t,tooltip:e[0],tooltipMaxWidth:"100%",className:v()(y,e.length>1?s:f)},e.length>1&&"string"==typeof e[1]?r.createElement(a.rU,{to:e[1]},e[0]):r.createElement("span",{onClick:e[1]},e[0]))})).map((function(e,t,n){return t<n.length-1?[e,r.createElement(h.ZP,{key:"".concat(t,"-separator"),name:"chevronright",className:c,width:12,height:12})]:e})))}}])&&w(t.prototype,n),i&&w(t,i),y}(r.Component);_(x,"propTypes",{className:o().string,crumbs:o().array,inSidebar:o().bool,placeholder:o().string}),_(x,"defaultProps",{crumbs:[],inSidebar:!1,placeholder:null})},78930:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r,i,o,a,u,l,c,s=n(32735),f=n(40841),d=n.n(f),p=n(53806),h=n.n(p),m=n(25312),y=n(65844),v=n(6336),b=(0,n(47679).Z)("div",{target:"eb2a8sd0"})("background-color:",(function(e){var t=e.primaryColor,n=void 0===t?(0,v.$_)("brand"):t,r=e.isSelected,i=e.isInRange;return r?n:i?(0,v.Fq)(n,.1):"transparent"}),";color:",(function(e){var t=e.primaryColor,n=void 0===t?(0,v.$_)("brand"):t,r=e.isSelected,i=e.isInRange;return!r&&i?n:void 0}),";&:hover{background-color:",(function(e){var t=e.primaryColor;return void 0===t?(0,v.$_)("brand"):t}),";color:white;}");function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){E(n,e);var t=x(n);function n(e){var r;return O(this,n),A(C(r=t.call(this,e)),"onClickDay",(function(e){var t=r.props,n=t.selected,i=t.selectedEnd;t.isRangePicker&&n&&!i?i||(e.isAfter(n)?r.props.onChange(n.format("YYYY-MM-DD"),e.format("YYYY-MM-DD"),n,e):r.props.onChange(e.format("YYYY-MM-DD"),n.format("YYYY-MM-DD"),e,n)):r.props.onChange(e.format("YYYY-MM-DD"),null,e,null)})),A(C(r),"previous",(function(){r.setState({current:h()(r.state.current).add(-1,"M")})})),A(C(r),"next",(function(){r.setState({current:h()(r.state.current).add(1,"M")})})),r.state={current:h()(e.initial||void 0)},r}return S(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(null==e.selected!=(null==this.props.selected)||null==e.selectedEnd!=(null==this.props.selectedEnd)||null!=e.selected&&!h()(e.selected).isSame(this.props.selected,"day")||null!=e.selectedEnd&&!h()(e.selectedEnd).isSame(this.props.selectedEnd,"day")){var t=!1;null!=e.selected&&null!=e.selectedEnd?t=e.selected.isAfter(this.state.current,"month")&&e.selectedEnd.isBefore(this.state.current,"month"):null!=e.selected&&(t=e.selected.isAfter(this.state.current,"month")||e.selected.isBefore(this.state.current,"month")),t&&this.setState({current:e.selected})}}},{key:"renderMonthHeader",value:function(e,t){return e=e||h()(),s.createElement("div",{className:"Calendar-header flex align-center border-bottom"},"right"!==t&&s.createElement("div",{className:"cursor-pointer text-brand-hover",onClick:this.previous},s.createElement(y.ZP,{name:"chevronleft",size:10})),s.createElement("span",{className:"flex-full"}),s.createElement("h4",null,e.format("MMMM YYYY")),s.createElement("span",{className:"flex-full"}),"left"!==t&&s.createElement("div",{className:"cursor-pointer text-brand-hover",onClick:this.next},s.createElement(y.ZP,{name:"chevronright",size:10})))}},{key:"renderDayNames",value:function(){var e=[(0,m.t)(r||(r=w(["Su"]))),(0,m.t)(i||(i=w(["Mo"]))),(0,m.t)(o||(o=w(["Tu"]))),(0,m.t)(a||(a=w(["We"]))),(0,m.t)(u||(u=w(["Th"]))),(0,m.t)(l||(l=w(["Fr"]))),(0,m.t)(c||(c=w(["Sa"])))];return s.createElement("div",{className:"Calendar-day-names Calendar-week py1"},e.map((function(e){return s.createElement("span",{key:e,className:"Calendar-day-name text-centered"},e)})))}},{key:"renderWeeks",value:function(e){e=e||h()();for(var t=[],n=h()(e).startOf("month").day("Sunday"),r=!1,i=n.month(),o=0;!r;)t.push(s.createElement(R,{key:n.toString(),date:h()(n),month:e,onClickDay:this.onClickDay,isRangePicker:this.props.isRangePicker,selected:this.props.selected,primaryColor:this.props.primaryColor,selectedEnd:this.props.selectedEnd,selectAll:this.props.selectAll})),n.add(1,"w"),r=o++>2&&i!==n.month(),i=n.month();return s.createElement("div",{className:"Calendar-weeks relative"},t)}},{key:"renderCalender",value:function(e,t){return s.createElement("div",{className:d()("Calendar",{"Calendar--range":this.props.isRangePicker&&this.props.selected&&this.props.selectedEnd||this.props.selectAll})},this.renderMonthHeader(e,t),this.renderDayNames(),this.renderWeeks(e))}},{key:"render",value:function(){var e=this.state.current;return this.renderCalender(e)}}]),n}(s.Component);A(D,"defaultProps",{isRangePicker:!0});var R=function(e){E(n,e);var t=x(n);function n(){return O(this,n),t.apply(this,arguments)}return S(n,[{key:"render",value:function(){for(var e=[],t=this.props,n=t.date,r=t.month,i=t.selected,o=t.selectedEnd,a=t.primaryColor,u=(void 0===a&&(0,v.$_)("brand"),t.selectAll),l=t.isRangePicker,c=0;c<7;c++){var f=n.isSame(i,"day")||l&&(null==o?void 0:o.isAfter(i))&&n.isSame(o,"day"),p=!1;i&&n.isAfter(i,"day")&&o&&o.isAfter(n,"day")?p=!0:"after"===u?p=!(!i||!n.isAfter(i,"day")):"before"===u&&(p=!(!i||!i.isAfter(n,"day")));var m="before"===u&&n.isSame(i,"day"),y=d()("Calendar-day cursor-pointer text-centered",{"Calendar-day--this-month":n.month()===r.month(),"Calendar-day--selected":!m&&i&&n.isSame(i,"day"),"Calendar-day--selected-end":m||o&&n.isSame(o,"day"),"Calendar-day--week-start":0===c,"Calendar-day--week-end":6===c,"Calendar-day--in-range":u&&p||!(n.isSame(i,"day")||n.isSame(o,"day"))&&(n.isSame(i,"day")||n.isSame(o,"day")||o&&o.isAfter(n,"day")&&n.isAfter(i,"day"))});e.push(s.createElement(b,{key:n.toString(),className:y,onClick:this.props.onClickDay.bind(null,n),isInRange:p,isSelected:f,primaryColor:this.props.primaryColor},n.date())),n=h()(n).add(1,"d")}return s.createElement("div",{className:"Calendar-week",key:e[0].toString()},e)}}]),n}(s.Component)},50262:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(4426),u=n(86147),l=n(30421),c=n(6336);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){var t=e.color,n=e.size;return r.createElement("div",{style:{width:n,height:n,backgroundColor:t,borderRadius:n/8}})},b=function(e){var t=e.children;return r.createElement("div",null,t)},g=function(e){var t=e.children;return r.createElement("div",{className:"p1"},t)},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,i,o=p(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).colorPopover=r.createRef(),t}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.onChange,i=t.padding,o=t.size,s=t.triggerSize,f=t.value,d=t.fancy,p=this.props.colors||Object.values(c.mJ).slice(0,9);return r.createElement("div",{className:"inline-block"},r.createElement(a.Z,{ref:this.colorPopover,triggerElement:r.createElement("div",{className:"bordered rounded flex align-center",style:{padding:s/4}},r.createElement(v,{color:f,size:s}))},d?r.createElement(b,null,r.createElement("div",{className:"rounded overflow-hidden"},r.createElement(l.xS,{color:f,onChangeComplete:function(e){n(e.hex)}})),r.createElement("div",{className:"p1 border-top"},r.createElement(u.Z,{onClick:function(){return e.colorPopover.current.close()}},"Done"))):r.createElement(g,null,r.createElement("ol",{className:"flex flex-wrap",style:{maxWidth:120}},p.map((function(t,a){return r.createElement("li",{className:"cursor-pointer",style:{padding:i},key:a,onClick:function(){n(t),e.colorPopover.current.close()}},r.createElement(v,{color:t,size:o}))}))))))}}])&&f(t.prototype,n),i&&f(t,i),s}(r.Component);y(w,"defaultProps",{size:32,triggerSize:32,padding:4}),y(w,"propTypes",{colors:o().array,onChange:o().func.isRequired,size:o().number,triggerSize:o().number,value:o().string}),t.default=w},39516:function(e,t,n){"use strict";var r=n(32735),i=n(9304),o=n(65844);t.default=function(e){var t=e.open,n=e.className;return r.createElement(i.Motion,{defaultStyle:{deg:0},style:{deg:t?(0,i.spring)(0,i.presets.gentle):(0,i.spring)(-90,i.presets.gentle)}},(function(e){return r.createElement(o.ZP,{className:n,name:"expand_arrow",style:{transform:"rotate(".concat(e.deg,"deg)")}})}))}},95002:function(e,t,n){"use strict";n.d(t,{default:function(){return y}});var r=n(32735),i=n(69312),o=n(80932);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,n,a,u=f(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),m(p(n=u.call(this,e,t)),"_content",null),m(p(n),"_updateTruncated",(function(){var e=n._content.offsetWidth<n._content.scrollWidth;n.state.isTruncated!==e&&n.setState({isTruncated:e})})),n.state={isTruncated:!1},n}return t=d,(n=[{key:"componentDidMount",value:function(){o.Z.subscribe(this._content,this._updateTruncated),this._updateTruncated()}},{key:"componentWillUnmount",value:function(){o.Z.unsubscribe(this._content,this._updateTruncated)}},{key:"render",value:function(){var e=this,t=this.props,n=t.showTooltip,o=t.children,a=t.style,u=t.className,c=t.tooltip,s=t.alwaysShowTooltip,f=t.tooltipMaxWidth,d=this.state.isTruncated;return r.createElement(i.Z,{tooltip:c||o||" ",verticalAttachments:["top","bottom"],isEnabled:n&&(d||s)||!1,maxWidth:f},r.createElement("div",{ref:function(t){return e._content=t},className:u,style:l(l({},a),{},{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},o))}}])&&c(t.prototype,n),a&&c(t,a),d}(r.Component);m(y,"propTypes",{}),m(y,"defaultProps",{style:{},className:"",showTooltip:!0})},24613:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var r=n(32735),i=n(86147),o=n(65844),a=n(4843),u=n(84468),l=n(47679),c=n(47707);var s=(0,l.Z)("div",{target:"e1fazthg3"})({name:"z2rh5z",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center"}),f=(0,l.Z)("div",{target:"e1fazthg2"})({name:"pt12f9",styles:"display:flex;margin-top:1rem"}),d=(0,l.Z)("div",{target:"e1fazthg1"})({name:"1wisnmu",styles:"display:flex;align-items:center;margin:0 auto"}),p=(0,l.Z)("div",{target:"e1fazthg0"})("margin-bottom:1rem;",c._9,"{margin-bottom:2rem;}"),h=["title","message","action","link","illustrationElement","onActionClick"];function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=function(e){return e.icon?r.createElement(o.ZP,{name:e.icon,className:"text-light",size:40}):null},v=function(e){return e.image?r.createElement("img",{src:"".concat(e.image,".png"),width:"300px",height:e.imageHeight,alt:e.message,srcSet:"".concat(e.image,"@2x.png 2x"),className:e.imageClassName}):null},b=function(e){var t=e.title,n=e.message,o=e.action,l=e.link,c=e.illustrationElement,b=e.onActionClick,g=m(e,h);return r.createElement("div",null,r.createElement(s,null,c&&r.createElement(p,null,c),r.createElement("div",null,r.createElement(y,g),r.createElement(v,g)),t&&r.createElement("h2",{className:"text-medium"},t),n&&r.createElement(u.default,{color:"medium"},n)),r.createElement(f,null,r.createElement(d,null,o&&l&&r.createElement(a.Z,{to:l,target:l.startsWith("http")?"_blank":""},r.createElement(i.Z,{primary:!0},o)),o&&b&&r.createElement(i.Z,{onClick:b,primary:!0},o))))}},14383:function(e,t,n){"use strict";var r=n(32735);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){var t=e.children,n=e.disabled,o=e.enableMouseEvents,a=void 0!==o&&o,u=e.preventDefault,l=void 0!==u&&u,c=(0,r.useCallback)((function(e){!function(e,t){var n=t.preventDefault;e.stopPropagation(),n&&e.preventDefault()}(e,{preventDefault:l})}),[l]),s=(0,r.useMemo)((function(){return a?{}:{onMouseDown:c,onMouseEnter:c,onMouseLeave:c,onMouseMove:c,onMouseOver:c,onMouseOut:c,onMouseUp:c}}),[c,a]);return!0===n?r.createElement(r.Fragment,null,t):r.createElement("div",i({onClick:c,onContextMenu:c,onDoubleClick:c,onDrag:c,onDragEnd:c,onDragEnter:c,onDragExit:c,onDragLeave:c,onDragOver:c,onDragStart:c,onDrop:c,onKeyDown:c,onKeyPress:c,onKeyUp:c,onFocus:c,onBlur:c,onChange:c,onInput:c,onInvalid:c,onSubmit:c},s),t)}},3406:function(e,t,n){"use strict";var r=n(32735),i=n(40841),o=n.n(i),a=n(29502);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p,h,m,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,i,u=s(f);function f(e){var t,n=e.isInitiallyOpen;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=u.call(this)).state={isOpen:null==n||!!n,isTransitioning:!1},t}return t=f,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setOpen(e.isOpen)}},{key:"componentDidMount",value:function(){this.setOpen(this.props.isOpen)}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"setOpen",value:function(e){var t=this;e=!!e,this.state.isOpen!==e&&(this.clearTimer(),this.setState({isOpen:e,isTransitioning:!0},(function(){t._timer=setTimeout((function(){t.setState({isTransitioning:!1})}),t.props.duration)})))}},{key:"clearTimer",value:function(){null!=this._timer&&(clearTimeout(this._timer),this._timer=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.duration,u=t.animateHeight,l=t.animateOpacity,c=(0,a.Wg)()?"none":"all ".concat(i,"ms ease"),s=this.state,f=s.isOpen,d=s.isTransitioning?this._ref&&this._ref.scrollHeight||0:"none";return r.createElement("div",{ref:function(t){return e._ref=t},style:{transition:c,maxHeight:!u||f?d:0,opacity:!l||f?1:0},className:o()({"overflow-hidden":!f})},n)}}])&&l(t.prototype,n),i&&l(t,i),f}(r.Component);m={duration:300,opacity:!0,animateHeight:!0,animateOpacity:!0},(h="defaultProps")in(p=y)?Object.defineProperty(p,h,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[h]=m,t.default=y},95498:function(e,t,n){"use strict";var r=n(32735),i=n(12788),o=n(40841),a=n.n(o),u=n(30558),l=n(80932),c=n(57531);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var f=["className","style"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={throttle:function(e){return u.ZP.throttle(e,300)},debounce:function(e){return u.ZP.debounce(e,300)},debounceLeading:function(e){return u.ZP.debounce(e,300,!0)},none:function(e){return e}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selector,n=e.wrapped,o=e.refreshMode,u=void 0===o?"throttle":o;return function(e){var o=e.displayName||e.name,s=function(o){v(m,o);var s=g(m);function m(e,t){var n;if(h(this,m),S(O(n=s.call(this,e,t)),"_updateRefreshMode",(function(){var e=u(n.props);if(e!==n._refreshMode){l.Z.unsubscribe(n._currentElement,n._updateSize);var t=E[e];n._updateSize=t(n.__updateSize),l.Z.subscribe(n._currentElement,n._updateSize),n._refreshMode=e}})),S(O(n),"__updateSize",(function(){var e=n._getElement();if(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;n.state.width===r&&n.state.height===i||n.setState({width:r,height:i})}})),n.state={width:null,height:null},c.O)n._updateSize=n.__updateSize;else{n._refreshMode="function"==typeof u?u(e):u;var r=E[n._refreshMode];n._updateSize=r(n.__updateSize)}return n}return y(m,[{key:"_getElement",value:function(){var e=i.findDOMNode(this);return t&&e.querySelector(t)||e}},{key:"componentDidMount",value:function(){this._initMediaQueryListener(),this._initResizeObserver(),setTimeout(this._updateSize,0)}},{key:"componentDidUpdate",value:function(){this._updateResizeObserver(),"function"!=typeof u||c.O||this._updateRefreshMode()}},{key:"componentWillUnmount",value:function(){this._teardownResizeObserver(),this._teardownQueryMediaListener()}},{key:"_initResizeObserver",value:function(){this._currentElement=this._getElement(),l.Z.subscribe(this._currentElement,this._updateSize)}},{key:"_updateResizeObserver",value:function(){var e=this._getElement();this._currentElement!==e&&(l.Z.unsubscribe(this._currentElement,this._updateSize),this._currentElement=e,l.Z.subscribe(this._currentElement,this._updateSize))}},{key:"_teardownResizeObserver",value:function(){l.Z.unsubscribe(this._currentElement,this._updateSize)}},{key:"_initMediaQueryListener",value:function(){window.matchMedia&&(this._mql=window.matchMedia("print"),this._mql.addListener(this._updateSize))}},{key:"_teardownQueryMediaListener",value:function(){this._mql&&(this._mql.removeListener(this._updateSize),this._mql=null)}},{key:"render",value:function(){if(n){var t=this.props,i=t.className,o=t.style,u=void 0===o?{}:o,l=p(t,f),c=this.state,s=c.width,h=c.height;return r.createElement("div",{className:a()(i,"relative"),style:u},r.createElement(e,d({style:{position:"absolute",top:0,left:0,width:s,height:h}},l,this.state)))}return r.createElement(e,d({},this.props,this.state))}}]),m}(r.Component);return S(s,"displayName","ExplicitSize[".concat(o,"]")),s}}},24519:function(e,t,n){"use strict";n.d(t,{default:function(){return qe}});var r=n(32735),i=n(60216),o=n.n(i),a=n(49155),u=n(25312),l=n(30558),c=n(89186),s=n(92922),f=n(30163),d=n(88637),p=n(24613),h=n(47679),m=n(18591),y=n(6336);var v,b=(0,h.Z)("div",{target:"e1vl85b24"})({name:"1mdwmbw",styles:"padding:2rem 2rem 0 2rem"}),g=(0,h.Z)(m.Z,{target:"e1vl85b23"})("margin-bottom:",(function(e){return e.isDashboardFilter?"0":"0.5rem"}),";border:",(function(e){return e.isDashboardFilter?"1px solid ".concat((0,y.$_)("border")):"none"}),";"),w=(0,h.Z)("ul",{target:"e1vl85b22"})("overflow:auto;list-style:none;max-height:",(function(e){return e.isDashboardFilter?"300px":"none"}),";padding:",(function(e){return e.isDashboardFilter?"0.5rem":"0"}),";"),O=(0,h.Z)("li",{target:"e1vl85b21"})({name:"9g8p9a",styles:"padding:0.5rem 0.125rem"}),j=(0,h.Z)("div",{target:"e1vl85b20"})({name:"18tt7mj",styles:"padding-left:0.5rem"});function S(e,t){return String(e).toLowerCase().includes(t)}function E(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t,n,i=e.onChange,o=e.value,a=e.options,c=e.optionRenderer,h=e.placeholder,m=e.isDashboardFilter,y=_((0,r.useState)(new Set(o)),2),x=y[0],P=y[1],C=(0,r.useState)((function(){return function(e,t){var n=l.ZP.indexBy(t,"0");return e.filter((function(e){return!n[e]})).map((function(e){return[e]}))}(o,a)})),k=_(C,2),A=k[0],D=k[1],R=(0,r.useMemo)((function(){return[].concat(E(a.filter((function(e){return null!=e[0]}))),E(A))}),[A,a]),I=(0,r.useMemo)((function(){if(0===x.size)return R;var e=_(l.ZP.partition(R,(function(e){return x.has(e[0])})),2),t=e[0],n=e[1];return[].concat(E(t),E(n))}),[R.length]),T=_((0,r.useState)(""),2),N=T[0],q=T[1],M=(0,s.c)(N,f.m6),Z=(0,r.useMemo)((function(){var e=M.trim().toLowerCase();return 0===e.length?I:R.filter((function(t){return!(!t||0===t.length)&&(!!(t.length>1&&t[1]&&S(t[1],e))||S(t[0],e))}))}),[R,M,I]),L=R.length>0&&0===Z.length,B=function(e){var t=x.has(e)?Array.from(x).filter((function(t){return t!==e})):[].concat(E(x),[e]);P(new Set(t)),null==i||i(t)};return r.createElement(r.Fragment,null,r.createElement(g,{isDashboardFilter:m,padding:m?"md":"sm",borderRadius:m?"md":"sm",colorScheme:m?"transparent":"admin",placeholder:h,value:N,onChange:q,onKeyDown:function(e){"Enter"!==e.key||l.ZP.find(R,(function(e){return e[0]===N}))||D([].concat(E(A),[[N]]))},hasClearButton:!0,autoFocus:!0}),L&&r.createElement(b,null,r.createElement(p.default,{message:(0,u.t)(v||(t=["Didn't find anything"],n||(n=t.slice(0)),v=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))),icon:"search"})),r.createElement(w,{isDashboardFilter:m},Z.map((function(e){return r.createElement(O,{key:e[0]},r.createElement(d.Z,{"data-testid":"".concat(e[0],"-filter-value"),checkedColor:m?"brand":"accent7",checked:x.has(e[0]),label:r.createElement(j,null,c(e)),onChange:function(){return B(e[0])}}))}))))},k=n(44791),A=n(70069),D=n(95498);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne=n(11093),re=n(60006),ie=n(9841),oe=n(83360),ae=n(81376),ue=n(90060),le=n(67087),ce=n(98399);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ve(o,r,i,a,u,"next",e)}function u(e){ve(o,r,i,a,u,"throw",e)}a(void 0)}))}}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},we(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var i=Ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={addRemappings:o().func,expand:o().bool},Pe={message:o().string.isRequired},Ce={addRemappings:re.addRemappings,fetchFieldValues:re.fetchFieldValues,fetchDashboardParameterValues:ae.fetchDashboardParameterValues};var ke,Ae=(V=Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(a,e);var t,n,i,o=Oe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),_e(Se(t=o.call(this,e)),"fetchDashboardParamValues",be(regeneratorRuntime.mark((function e(){var n,r,i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loadingState:"LOADING",options:[]}),e.prev=1,r=t.props,i=r.dashboard,o=r.parameter,a=r.parameters,u={dashboardId:null==i?void 0:i.id,parameter:o,parameters:a},e.next=6,t.props.fetchDashboardParameterValues(u);case 6:n=t.props.dashboardParameterValuesCache.get(u);case 7:return e.prev=7,t.setState({loadingState:"LOADED",options:n}),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})))),_e(Se(t),"onInputChange",(function(e){return e&&t.isSearchable()&&t._search(e),e})),_e(Se(t),"searchField",(function(e){if(t.props.disablePKRemappingForSearch&&e.isPK())return e.isSearchable()?e:null;var n=e.remappedField();return n&&n.isSearchable()?n:e.isSearchable()?e:null})),_e(Se(t),"showRemapping",(function(){return 1===t.props.fields.length})),_e(Se(t),"search",function(){var e=be(regeneratorRuntime.mark((function e(n,r){var i,o,a,u,l,c,s,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=t.props.fields,!t.useChainFilterEndpoints()){e.next=11;break}return a=t.props,u=a.dashboard,l=a.parameter,c=a.parameters,s={dashboardId:null==u?void 0:u.id,parameter:l,parameters:c,query:n},e.next=8,t.props.fetchDashboardParameterValues(s);case 8:o=t.props.dashboardParameterValuesCache.get(s),e.next=17;break;case 11:return e.t0=De,e.next=14,Promise.all(i.map((function(e){return ne.MetabaseApi.field_search({value:n,fieldId:e.id,searchFieldId:t.searchField(e).id,limit:t.props.maxResults},{cancelled:r})})));case 14:e.t1=e.sent,o=(o=(0,e.t0)(e.t1)).map((function(e){return[].concat(e)}));case 17:return t.showRemapping()&&(f=me(i,1),(d=f[0]).remappedField()===t.searchField(d)&&t.props.addRemappings(d.id,o)),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_e(Se(t),"_search",(function(e){var n=t.state,r=n.lastValue,i=n.options;r&&e.slice(0,r.length)===r&&i.length<t.props.maxResults||(t.setState({loadingState:"LOADING"}),t._cancel&&t._cancel(),t._searchDebounced(e))})),_e(Se(t),"_searchDebounced",l.ZP.debounce(function(){var e=be(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loadingState:"LOADING"}),r=(0,ie.PQ)(),t._cancel=function(){t._cancel=null,r.resolve()},e.prev=3,e.next=6,t.search(n,r.promise);case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),ce.warn(e.t0);case 12:t._cancel=null,i?t.setState({loadingState:"LOADED",options:i,lastValue:n}):t.setState({loadingState:"INIT",options:[],lastValue:n});case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),500)),_e(Se(t),"renderValue",(function(e,n){var i=t.props,o=i.fields,a=i.formatOptions;return r.createElement(k.default,he({value:e,column:o[0],maximumFractionDigits:20,remap:t.showRemapping()},a,n))})),t.state={options:[],loadingState:"INIT",lastValue:""},t}return t=a,(n=[{key:"useChainFilterEndpoints",value:function(){return this.props.dashboard&&this.props.dashboard.id}},{key:"parameterId",value:function(){return this.props.parameter&&this.props.parameter.id}},{key:"componentDidMount",value:function(){if(this.shouldList())if(this.useChainFilterEndpoints())this.fetchDashboardParamValues();else{var e=this.props,t=e.fields,n=e.fetchFieldValues;t.forEach((function(e){return n(e.id)}))}}},{key:"componentWillUnmount",value:function(){this._cancel&&this._cancel()}},{key:"getSearchableTokenFieldPlaceholder",value:function(e,t){var n,r=this,i=new Set(e.map((function(e){return(0,oe.h4)(r.searchField(e).display_name)})));if(i.size>1)n=(0,u.t)(U||(U=pe(["Search"])));else{var o=me(i,1)[0];n=(0,u.t)(H||(H=pe(["Search by ",""])),o),t.isID()&&t!==this.searchField(t)&&(n+=(0,u.t)(Y||(Y=pe([" or enter an ID"]))))}return n}},{key:"getNonSearchableTokenFieldPlaceholder",value:function(e){return e.isID()?(0,u.t)(G||(G=pe(["Enter an ID"]))):e.isString()?(0,u.t)(W||(W=pe(["Enter some text"]))):e.isNumeric()?(0,u.t)($||($=pe(["Enter a number"]))):(0,u.t)(K||(K=pe(["Enter some text"])))}},{key:"getTokenFieldPlaceholder",value:function(){var e=this.props,t=e.fields,n=e.placeholder;if(n)return n;var r=me(t,1)[0];return this.hasList()?(0,u.t)(J||(J=pe(["Search the list"]))):this.isSearchable()?this.getSearchableTokenFieldPlaceholder(t,r):this.getNonSearchableTokenFieldPlaceholder(r)}},{key:"shouldList",value:function(){var e=this.props.fields.filter((function(e){return"number"==typeof e.id}));return!this.props.disableSearch&&e.every((function(e){return"list"===e.has_field_values}))}},{key:"hasList",value:function(){var e=function(e){return e&&e.length>0};return this.shouldList()&&(this.useChainFilterEndpoints()?"LOADED"===this.state.loadingState&&e(this.state.options):this.props.fields.every((function(t){return e(t.values)})))}},{key:"isSearchable",value:function(){var e=this.props,t=e.fields;return!e.disableSearch&&t.every(this.searchField)&&t.some((function(e){return"search"===e.has_field_values}))&&t.every((function(e){return"search"===e.has_field_values||"list"===e.has_field_values}))}},{key:"renderOptions",value:function(e){var t=e.optionsList,n=e.isFocused,i=e.isAllSelected,o=e.isFiltered,a=this.props,u=a.alwaysShowOptions,l=a.fields,c=this.state.loadingState;if(u||n){if(t)return t;if(this.hasList()){if(i)return r.createElement(Te,null)}else if(this.isSearchable()){if("LOADING"===c)return r.createElement(Re,null);if("LOADED"===c&&o)return r.createElement(Ie,{fields:l.map(this.searchField)})}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.onChange,o=t.fields,a=t.multi,u=t.autoFocus,l=t.color,s=t.className,f=t.style,d=t.parameter,p=t.prefix,h=this.state.loadingState,m=this.getTokenFieldPlaceholder(),y=[];y=this.hasList()&&!this.useChainFilterEndpoints()?De(o.map((function(e){return e.values}))):"LOADED"===h&&(this.isSearchable()||this.useChainFilterEndpoints())?this.state.options:[];var v="LOADING"===h,b=this.shouldList()&&v,g=this.hasList();return r.createElement("div",{style:{width:this.props.expand?this.props.maxWidth:null,minWidth:this.props.minWidth,maxWidth:this.props.maxWidth}},b&&r.createElement(Re,null),g&&r.createElement(C,{isDashboardFilter:d,placeholder:this.getTokenFieldPlaceholder(),value:n.filter((function(e){return null!=e})),onChange:i,options:y,optionRenderer:function(t){return e.renderValue(t[0],{autoLoad:!1})}}),!g&&!b&&r.createElement(c.default,{prefix:p,value:n.filter((function(e){return null!=e})),onChange:i,placeholder:m,updateOnInputChange:!0,multi:a,autoFocus:u,color:l,style:de(de({},f),{},{minWidth:"inherit"}),className:s,parameter:this.props.parameter,optionsStyle:d?{}:{maxHeight:"none"},options:y,valueKey:0,valueRenderer:function(t){return e.renderValue(t,{autoLoad:!0,compact:!1})},optionRenderer:function(t){return e.renderValue(t[0],{autoLoad:!1})},layoutRenderer:function(t){return r.createElement("div",null,t.valuesList,e.renderOptions(t))},filterOption:function(e,t){var n=t.toLowerCase();return e.some((function(e){return null!=e&&String(e).toLowerCase().includes(n)}))},onInputChange:this.onInputChange,parseFreeformValue:function(e){return(e=String(e||"").trim())?o[0].isNumeric()?/^-?\d+(\.\d+)?$/.test(e)?parseFloat(e):null:e:null}}))}}])&&ge(t.prototype,n),i&&ge(t,i),a}(r.Component),_e(Q,"defaultProps",{color:"purple",maxResults:100,alwaysShowOptions:!0,style:{},formatOptions:{},maxWidth:500,disableSearch:!1}),ke=F=V,(0,D.default)()(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(a,e);var t,n,i,o=M(a);function a(){var e;T(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(L(e=o.call.apply(o,[this].concat(n))),"state",{expand:!1}),e}return t=a,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){null!=e.width&&null!=this.props.width&&e.width>this.props.width&&this.setState({expand:!0})}},{key:"render",value:function(){return r.createElement(ke,I({},this.props,this.state))}}])&&N(t.prototype,n),i&&N(t,i),a}(r.Component))||F);function De(e){var t=new Map(e.flat().map((function(e){return[e[0],e]})));return Array.from(t.values())}Ae.propTypes=xe;var Re=function(){return r.createElement("div",{className:"flex layout-centered align-center border-bottom",style:{minHeight:82}},r.createElement(A.Z,{size:32}))},Ie=function(e){var t=e.fields;if(t.length>1)return r.createElement(Ne,{message:(0,u.t)(X||(X=pe(["No matching result"])))});var n=me(t,1)[0].display_name;return r.createElement(Ne,{message:(0,u.jt)(ee||(ee=pe(["No matching "," found."])),r.createElement("strong",null,"",n,""))})},Te=function(){return r.createElement(Ne,{message:(0,u.t)(te||(te=pe(["Including every option in your filter probably wont do much"])))})},Ne=function(e){var t=e.message;return r.createElement("div",{className:"flex layout-centered p4 border-bottom"},t)};Ne.propTypes=Pe;var qe=(0,a.connect)((function(e,t){var n=t.fields,r=void 0===n?[]:n;return{dashboardParameterValuesCache:(0,ue.wg)(e),fields:r.map((function(t){return le.ZP.selectors.getObject(e,{entityId:t.id})||t}))}}),Ce)(Ae)},7843:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n(32735),i=n(40841),o=n.n(i);function a(e){var t=e.className,n=e.style;return r.createElement("div",{className:o()("Grabber cursor-grab",t),style:n})}},65844:function(e,t,n){"use strict";n.d(t,{sB:function(){return I}});var r=n(47679),i=n(40841),o=n.n(i),a=n(60216),u=n.n(a),l=n(32735),c=n(71362),s=n(69312),f=n(916),d=n(6336),p=n(38908),h=n(87117),m=n(98399);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var v=["name","className","forwardedRef"],b=["uncheckedColor"],g=["_role"],w=["tooltip"];function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},P(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,r.Z)("div",{target:"e621b522"})(c.Dh,";display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:99px;cursor:pointer;color:",(function(e){return e.open?(0,d.$_)("brand"):"inherit"}),";&>.icon.icon-share{transform:translateY(-2px);}",c.Mr,";transition:all 300ms ease-in-out;@media (prefers-reduced-motion){transition:none;}").defaultProps={hover:{backgroundColor:(0,d.$_)("bg-medium"),color:(0,d.$_)("brand")}};var R=u().oneOfType([u().number,u().string]),I={name:u().string.isRequired,color:u().string,size:R,width:R,height:R,scale:R,tooltip:u().string,className:u().string,onClick:u().func},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i=C(a);function a(){return _(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.className,r=e.forwardedRef,i=E(e,v),a=(0,f.GL)(t)||(0,f.GL)("unknown");if(!a)return m.warn('Icon "'.concat(t,'" does not exist.')),l.createElement("span",{ref:r});for(var u=S(S(S({},a.attrs),(0,p.B)(i)),{},{className:o()(a.attrs.className,n)}),c=0,s=["width","height","size","scale"];c<s.length;c++){var d=s[c];"string"==typeof u[d]&&(u[d]=parseInt(u[d],10))}null!=u.size&&(u.width=u.size,u.height=u.size),null!=u.scale&&null!=u.width&&null!=u.height&&(u.width*=u.scale,u.height*=u.scale),delete u.size,u.scale,u.uncheckedColor;var h=E(u,b);if(a.img){u._role;var y=E(u,g);return l.createElement("img",O({ref:r,src:a.img,srcSet:"\n          ".concat(a.img,"    1x,\n          ").concat(a.img_2x," 2x\n        ")},y))}return a.svg?l.createElement(N,O({},h,{dangerouslySetInnerHTML:{__html:a.svg},ref:r})):a.path?l.createElement(N,O({},h,{ref:r}),l.createElement("path",{d:a.path})):(m.warn('Icon "'.concat(t,'" must have an img, svg, or path')),l.createElement("span",{ref:r}))}}])&&x(t.prototype,n),r&&x(t,r),a}(l.Component);D(T,"propTypes",I);var N=(0,r.Z)("svg",{shouldForwardProp:h.X,target:"e621b521"})(""),q=(0,l.forwardRef)((function(e,t){return l.createElement(T,O({},e,{forwardedRef:t}))})),M=(0,r.Z)(q,{target:"e621b520"})(c.Dh," ",c.$_," ",c.Mr," flex-shrink:0;"),Z=(0,l.forwardRef)((function(e,t){var n=e.tooltip,r=E(e,w);return n?l.createElement(s.Z,{tooltip:n},l.createElement(M,r)):l.createElement(M,O({ref:t},r))}));t.ZP=Object.assign(Z,{Root:M})},29464:function(e,t,n){"use strict";var r=(0,n(47679).Z)("button",{target:"e1fv70mk0"})("display:flex;align-items:center;justify-content:center;border-radius:",(function(e){return e.circle?"50%":"6px"}),";cursor:pointer;");r.defaultProps={type:"button"},t.default=r},27468:function(e,t,n){"use strict";n.d(t,{default:function(){return g}});var r=n(32735),i=n(60216),o=n.n(i),a=n(30558),u=n(47679),l=n(6336),c=(0,u.Z)("input",{target:"e4ci38n0"})("border:1px solid ",(0,l._j)("border",.1),";");function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,i,o=h(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=o.call(this,e,t)).onBlur=n.onBlur.bind(y(n)),n.onChange=n.onChange.bind(y(n)),n.state={value:e.value},n}return t=u,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"onChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){this.props.onBlurChange&&(this.props.value||"")!==e.target.value&&this.props.onBlurChange(e)}},{key:"render",value:function(){var e=a.ZP.omit(this.props,"onBlurChange","value","onBlur","onChange");return r.createElement(c,f({},e,{value:this.state.value,onBlur:this.onBlur,onChange:this.onChange}))}}])&&d(t.prototype,n),i&&d(t,i),u}(r.Component);b(g,"propTypes",{type:o().string,value:o().string,name:o().string,placeholder:o().string,onChange:o().func,onBlurChange:o().func}),b(g,"defaultProps",{type:"text"})},25666:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n(32735),i=n(65844),o=n(18591),a=["autoFocus"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){var t=e.autoFocus,n=l(e,a),c=(0,r.useRef)();return(0,r.useEffect)((function(){c.current&&t&&c.current.focus({preventScroll:!0})}),[]),r.createElement(o.Z,u({ref:c},n,{padding:"sm",borderRadius:"md",icon:r.createElement(i.ZP,{name:"search",size:16})}))}c.propTypes=o.Z.propTypes},30728:function(e,t,n){"use strict";n.d(t,{default:function(){return j}});var r,i,o=n(32735),a=n(60216),u=n.n(a),l=n(70069),c=n(25312),s=n(40841),f=n.n(s);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,i,a=v(u);function u(){var e;h(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(g(e=a.call.apply(a,[this].concat(n))),"state",{messageIndex:0,sceneIndex:0}),O(g(e),"loadingInterval",(function(){e.props.loading&&e.cycleLoadingMessage()})),O(g(e),"cycleLoadingMessage",(function(){e.setState({messageIndex:e.state.messageIndex+1<e.props.loadingMessages.length?e.state.messageIndex+1:0})})),e}return t=u,n=[{key:"renderError",value:function(e){return this.props.renderError?o.createElement("div",{className:"py4"},this.props.renderError(this.getErrorMessage())):o.createElement("div",{className:e},o.createElement("h2",{className:"text-normal text-light ie-wrap-content-fix"},this.getErrorMessage()))}},{key:"getErrorMessage",value:function(){var e=this.props.error,t=e.data&&(e.data.message?e.data.message:e.data)||e.statusText||e.message||e;return t&&"string"==typeof t||(t=(0,c.t)(r||(r=p(["An error occurred"])))),t}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loadingMessages,n=e.messageInterval;t.length>1&&(this.cycle=setInterval(this.loadingInterval,n))}},{key:"componentWillUnmount",value:function(){clearInterval(this.cycle)}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.children;return Array.isArray(e)?e.map(this.getChildren):"function"==typeof e?e():e}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.error,r=e.noBackground,i=e.noWrapper,a=e.showSpinner,u=e.loadingMessages,c=e.loadingScenes,s=this.state,d=s.messageIndex,p=s.sceneIndex,h=f()("wrapper py4 text-brand text-centered flex-full flex flex-column layout-centered",{"bg-white":!r});if(i&&!n&&!t){var m=this.getChildren();return null==m?null:o.Children.only(m)}return o.createElement("div",{className:this.props.className,style:this.props.style},n?this.renderError(h):t?o.createElement("div",{className:h},c&&c[p],!c&&a&&o.createElement(l.Z,null),o.createElement("h2",{className:"text-normal text-light mt1"},u[d])):this.getChildren())}}],n&&m(t.prototype,n),i&&m(t,i),u}(o.Component);O(j,"propTypes",{className:u().string,error:u().any,loading:u().any,noBackground:u().bool,noWrapper:u().bool,children:u().any,style:u().object,showSpinner:u().bool,loadingMessages:u().array,messageInterval:u().number,loadingScenes:u().array,renderError:u().func}),O(j,"defaultProps",{error:!1,loading:!1,noBackground:!0,noWrapper:!1,showSpinner:!0,loadingMessages:[(0,c.t)(i||(i=p(["Loading..."])))],messageInterval:6e3})},70069:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r,i=n(32735),o=n(29502),a=n(65844),u=n(47679);var l,c,s=(0,n(75246).F4)(r||(l=["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"],c||(c=l.slice(0)),r=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}})))),f=(0,u.Z)("div",{target:"e18x8sqv1"})({name:"lyel5l",styles:"font-size:0"}),d=(0,u.Z)("div",{target:"e18x8sqv0"})("display:inline-block;box-sizing:border-box;width:",(function(e){return"".concat(e.iconSize,"px")}),";height:",(function(e){return"".concat(e.iconSize,"px")}),";border:",(function(e){return"".concat(e.borderWidth,"px")})," solid transparent;border-top-color:currentColor;border-radius:",(function(e){return"".concat(e.iconSize/2,"px")}),";animation:",s,' 1.3s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);&::after{content:"";display:inherit;box-sizing:inherit;width:inherit;height:inherit;border:',(function(e){return"".concat(e.borderWidth,"px")})," solid currentColor;border-radius:",(function(e){return"".concat(e.iconSize/2,"px")}),";opacity:0.25;position:relative;top:",(function(e){return"-".concat(e.borderWidth,"px")}),";left:",(function(e){return"-".concat(e.borderWidth,"px")}),";}"),p=function(e){var t=e.className,n=e.size,r=void 0===n?32:n,u=e.borderWidth,l=void 0===u?4:u;return i.createElement(f,{className:t,"data-testid":"loading-spinner"},(0,o.Wg)()?i.createElement(a.ZP,{name:"hourglass",size:"24"}):i.createElement(d,{iconSize:r,borderWidth:l}))}},29995:function(e,t,n){"use strict";n.d(t,{default:function(){return v},ModalFooter:function(){return w}});var r=n(32735),i=n(60216),o=n.n(i),a=n(40841),u=n.n(a),l=n(65844);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,i,o=p(a);function a(){return s(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getChildContext",value:function(){return{isModal:!0}}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.centeredTitle,i=e.footer,o=e.onClose,a=e.children,c=e.className,s=e.fullPageModal,f=e.formModal;return r.createElement("div",{id:this.props.id,className:u()("ModalContent flex-full flex flex-column relative",c,{"full-height":s&&!f},{pb4:f&&!i})},o&&r.createElement(l.ZP,{className:"text-light text-medium-hover cursor-pointer absolute z2 m2 p2 top right",name:"close",size:s?24:16,onClick:o}),t&&r.createElement(b,{fullPageModal:s,centeredTitle:n,formModal:f},t),r.createElement(g,{fullPageModal:s,formModal:f},a),i&&r.createElement(w,{fullPageModal:s,formModal:f},i))}}])&&f(t.prototype,n),i&&f(t,i),a}(r.Component);y(v,"propTypes",{id:o().string,title:o().string,centeredTitle:o().bool,onClose:o().func,fullPageModal:o().bool,formModal:o().bool}),y(v,"defaultProps",{formModal:!0}),y(v,"childContextTypes",{isModal:o().bool});var b=function(e){var t=e.children,n=e.fullPageModal,i=e.centeredTitle;return r.createElement("div",{className:u()("ModalHeader flex-no-shrink px4 py4 full")},r.createElement("h2",{className:u()("text-bold",{"text-centered":n||i},{mr4:!n})},t))},g=function(e){var t=e.children,n=e.fullPageModal,i=e.formModal;return r.createElement("div",{className:u()("ModalBody",{px4:i,"flex flex-full flex-basis-auto":!i})},r.createElement("div",{className:"flex-full ml-auto mr-auto flex flex-column",style:{maxWidth:i&&n?564:void 0}},t))},w=function(e){var t=e.children,n=e.fullPageModal,i=e.formModal;return r.createElement("div",{className:u()("ModalFooter flex flex-no-shrink px4",n?"py4":"py3")},r.createElement("div",{className:"ml-auto flex align-center",style:{maxWidth:i&&n?564:void 0}},Array.isArray(t)?t.map((function(e,t){return r.createElement("span",{key:t,className:"ml2"},e)})):t))}},32935:function(e,t,n){"use strict";var r=n(32735),i=n(27468),o=["value","onChange"];function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.default=function(e){var t=e.value,n=e.onChange,l=u(e,o);return r.createElement(i.default,a({value:null==t?"":String(t),onBlurChange:function(e){var t=e.target.value;t=t?parseFloat(t):null,isNaN(t)||n(t)}},l))}},56337:function(e,t,n){"use strict";n.d(t,{default:function(){return v}});var r=n(32735),i=n(60216),o=n.n(i),a=n(12788),u=n(26517);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,i,o=d(l);function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=o.call.apply(o,[this].concat(n))),"_handleEvent",(function(t){(0,u.JB)(t,e.popoverData)&&e.popoverData.close()})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;this._timeout=setTimeout((function(){var t=a.findDOMNode(e);e.popoverData={contentEl:t,backdropEl:e.props.backdropElement,close:function(){return e.props.handleDismissal()}},u.Fh.push(e.popoverData),t.parentNode.style.zIndex=u.Fh.length+2,document.addEventListener("keydown",e._handleEvent,!1),window.addEventListener("mousedown",e._handleEvent,!0)}),0)}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("keydown",this._handleEvent,!1),window.removeEventListener("mousedown",this._handleEvent,!0),clearTimeout(this._timeout),setTimeout((function(){(0,u.kH)(e.popoverData)}),0)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}])&&s(t.prototype,n),i&&s(t,i),l}(r.Component);y(v,"propTypes",{children:o().node,backdropElement:o().object,handleDismissal:o().func.isRequired})},30002:function(e,t,n){"use strict";n.d(t,{default:function(){return _}});var r=n(32735),i=n(60216),o=n.n(i),a=n(12788),u=n(56337),l=n(99426),c=n.n(l),s=n(40841),f=n.n(s);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,i,o=w(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t)).state={width:null,height:null},n.handleDismissal=n.handleDismissal.bind(j(n)),n}return t=l,n=[{key:"_getPopoverElement",value:function(e){var t=this;return!this._popoverElement&&e&&(this._popoverElement=document.createElement("span"),this._popoverElement.className="PopoverContainer ".concat(this.props.containerClassName),document.body.appendChild(this._popoverElement),this._timer=setInterval((function(){var e=t._popoverElement.getBoundingClientRect(),n=e.width,r=e.height;t.state.width===n&&t.state.height===r||t.setState({width:n,height:r})}),100)),this._popoverElement}},{key:"componentDidMount",value:function(){this._renderPopover(this.props.isOpen)}},{key:"componentDidUpdate",value:function(){this._renderPopover(this.props.isOpen)}},{key:"componentWillUnmount",value:function(){this._tether&&(this._tether.destroy(),delete this._tether),this._popoverElement&&(this._renderPopover(!1),a.unmountComponentAtNode(this._popoverElement),this._popoverElement.parentNode&&this._popoverElement.parentNode.removeChild(this._popoverElement),delete this._popoverElement,clearInterval(this._timer),delete this._timer)}},{key:"handleDismissal",value:function(){var e;this.props.onClose&&(e=this.props).onClose.apply(e,arguments)}},{key:"_popoverComponent",value:function(){var e={maxHeight:this._getMaxHeight()},t=r.createElement("div",{id:this.props.id,className:f()("PopoverBody",{"PopoverBody--withBackground":this.props.hasBackground,"PopoverBody--withArrow":this.props.hasArrow&&this.props.hasBackground,"PopoverBody--autoWidth":this.props.autoWidth},this.props.className),role:this.props.role,style:this.props.style},"function"==typeof this.props.children?this.props.children(e):1!==r.Children.count(this.props.children)||Array.isArray(this.props.children)?this.props.children:r.cloneElement(r.Children.only(this.props.children),e));return this.props.noOnClickOutsideWrapper?t:r.createElement(u.default,{handleDismissal:this.handleDismissal,dismissOnEscape:this.props.dismissOnEscape,dismissOnClickOutside:this.props.dismissOnClickOutside},t)}},{key:"_setTetherOptions",value:function(e,t){t&&(e=v(v({},e),{},{attachment:"".concat(t.attachmentY," ").concat(t.attachmentX),targetAttachment:"".concat(t.targetAttachmentY," ").concat(t.targetAttachmentX),targetOffset:"".concat(t.offsetY,"px ").concat(t.offsetX,"px")})),this._tether?this._tether.setOptions(e):this._tether=new(c())(e)}},{key:"_getMaxHeight",value:function(){var e=this,t=this._getTargetElement().getBoundingClientRect(),n=t.top,r=t.bottom,i=(this.props.pinInitialAttachment&&this._best?[this._best.attachmentY]:this.props.verticalAttachments).map((function(t){return"top"===t?window.innerHeight-r-e.props.targetOffsetY-10:"bottom"===t?n-e.props.targetOffsetY-10:0}));return Math.max.apply(Math,p(i))-2}},{key:"_getBestAttachmentOptions",value:function(e,t,n,r,i){var o,a=this,u=v({},t),l=-1/0,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{var f=function(){var t=o.value,n=i(u,t);a._setTetherOptions(e,n);var s=c().Utils.getBounds(e.element),f=document.documentElement,d=(window.pageXOffset||f.scrollLeft)-(f.clientLeft||0),p=(window.pageYOffset||f.scrollTop)-(f.clientTop||0);s.top-=p,s.bottom+=p,s.left-=d,s.right+=d;var h=r.map((function(e){return Math.min(s[e],0)})).reduce((function(e,t){return e+t}));if(0===h)return u=n,"break";h>l&&(u=n,l=h)};for(s.s();!(o=s.n()).done&&"break"!==f(););}catch(e){s.e(e)}finally{s.f()}return u}},{key:"_getTargetElement",value:function(){var e;return this.props.targetEvent?((e=document.getElementById("popover-event-target"))||((e=document.createElement("div")).id="popover-event-target",document.body.appendChild(e)),e.style.left=this.props.targetEvent.clientX-3+"px",e.style.top=this.props.targetEvent.clientY-3+"px"):this.props.target&&(e="function"==typeof this.props.target?a.findDOMNode(this.props.target()):a.findDOMNode(this.props.target)),null==e&&(e=a.findDOMNode(this).parentNode),e}},{key:"_renderPopover",value:function(e){var t=this,n=this._getPopoverElement(e);n&&(e?(n.classList.add("PopoverContainer--open"),n.classList.add("popover"),n.dataset.state="visible"):(n.classList.remove("PopoverContainer--open"),n.classList.remove("popover"),n.dataset.state="hidden")),e?a.unstable_renderSubtreeIntoContainer(this,r.createElement("span",null,e?this._popoverComponent():null),n,(function(){var e={element:n,target:t._getTargetElement()};if(!t._best||!t.props.pinInitialAttachment){var r={attachmentX:"center",attachmentY:"top",targetAttachmentX:"center",targetAttachmentY:"bottom",offsetX:0,offsetY:0};r=t._getBestAttachmentOptions(e,r,t.props.horizontalAttachments,["left","right"],(function(e,n){return v(v({},e),{},{attachmentX:n,targetAttachmentX:t.props.alignHorizontalEdge?n:"center",offsetX:{center:0,left:-t.props.targetOffsetX,right:t.props.targetOffsetX}[n]})})),r=t._getBestAttachmentOptions(e,r,t.props.verticalAttachments,["top","bottom"],(function(e,n){return v(v({},e),{},{attachmentY:n,targetAttachmentY:(t.props.alignVerticalEdge?"bottom"===n:"top"===n)?"bottom":"top",offsetY:{top:t.props.targetOffsetY,bottom:-t.props.targetOffsetY}[n]})})),t._best=r}t.props.sizeToFit&&("top"===t._best.targetAttachmentY?t.constrainPopoverToBetweenViewportAndTarget(e,"top"):"bottom"===t._best.targetAttachmentY&&t.constrainPopoverToBetweenViewportAndTarget(e,"bottom")),t._setTetherOptions(e,t._best)})):this._popoverElement&&a.unmountComponentAtNode(this._popoverElement)}},{key:"constrainPopoverToBetweenViewportAndTarget",value:function(e,t){var n=e.element.querySelector(".PopoverBody"),r=this._getTargetElement(),i=n.getBoundingClientRect().height,o=("top"===t?r.getBoundingClientRect().top:window.innerHeight-r.getBoundingClientRect().bottom)-10;i>o&&(n.style.maxHeight=o+"px",n.classList.add("scroll-y"),n.classList.add("scroll-show"))}},{key:"render",value:function(){return r.createElement("span",{className:"hide"})}}],n&&b(t.prototype,n),i&&b(t,i),l}(r.Component);E(_,"propTypes",{id:o().string,isOpen:o().bool,hasArrow:o().bool,hasBackground:o().bool,tetherOptions:o().object,sizeToFit:o().bool,pinInitialAttachment:o().bool,autoWidth:o().bool,verticalAttachments:o().array,horizontalAttachments:o().array,alignVerticalEdge:o().bool,alignHorizontalEdge:o().bool,noOnClickOutsideWrapper:o().bool,targetOffsetX:o().number,targetOffsetY:o().number,onClose:o().func,containerClassName:o().string,className:o().string,style:o().object,children:o().oneOfType([o().element,o().func,o().array]),dismissOnClickOutside:o().func,dismissOnEscape:o().func,target:o().oneOfType([o().func,o().node]),targetEvent:o().object,role:o().string}),E(_,"defaultProps",{isOpen:!0,hasArrow:!1,hasBackground:!0,verticalAttachments:["top","bottom"],horizontalAttachments:["left","right"],alignVerticalEdge:!1,alignHorizontalEdge:!0,targetOffsetX:0,targetOffsetY:5,sizeToFit:!1,autoWidth:!1,noOnClickOutsideWrapper:!1,containerClassName:""})},23070:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(24274),u=n(6973),l=n(40841),c=n.n(l),s=n(55446),f=n(29502),d=n(14383),p=n(57531),h=n(26517),m=n(56020),y=["className","disableContentSandbox","content","delay","lazy","interactive","flip","sizeToFit","popperOptions","onShow","onHide","onClose"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=a.ZP,E=[0,5],_=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({disablContentSandbox:o().bool,lazy:o().bool},S.propTypes);function x(){return document.body}function P(e){var t=e.className,n=e.disableContentSandbox,i=e.content,o=e.delay,a=e.lazy,l=void 0===a||a,g=e.interactive,O=void 0===g||g,j=e.flip,_=void 0===j||j,P=e.sizeToFit,C=void 0!==P&&P,k=e.popperOptions,A=e.onShow,D=e.onHide,R=e.onClose,I=w(e,y);o=p.O?0:o;var T=(0,f.Wg)()?0:void 0,N=b((0,r.useState)(!l),2),q=N[0],M=N[1],Z=q&&null!=i,L=null!=I.visible,B=(0,h.ZP)(),z=B.setupCloseHandler,F=B.removeCloseHandler,Q=(0,r.useCallback)((function(e){if(z(e.popper,(function(){return L?null==R?void 0:R():e.hide()})),"function"==typeof A)return A(e)}),[z,A,L,R]),V=(0,r.useCallback)((function(e){if(F(),"function"==typeof D)return D(e)}),[D,F]),U=(0,r.useMemo)((function(){return{name:"lazy",fn:function(){return{onMount:function(){return M(!0)},onHidden:function(){return M(!l)}}}}}),[l]),H=(0,r.useMemo)((function(){return[U]}),[U]),Y=(0,r.useMemo)((function(){return function(e){var t=e.flip,n=e.sizeToFit,r=e.popperOptions,i=void 0===r?{}:r;return(0,s.merge)({modifiers:[{name:"flip",enabled:t},{name:"sizeToFit",phase:"beforeWrite",enabled:n,requiresIfExists:["offset","flip"],fn:function(e){var t=e.state,n=e.options,r=t.placement,i=t.rects.popper.height;if(r.startsWith("top")||r.startsWith("bottom")){var o=u.Z(t,n),a=i-(r.startsWith("top")?o.top:o.bottom)-10;t.styles.popper.maxHeight="".concat(a,"px")}}}]},i)}({flip:_,sizeToFit:C,popperOptions:k})}),[_,C,k]);return r.createElement(S,v({className:c()("popover",t),theme:"popover",zIndex:m.a,arrow:!1,offset:E,appendTo:x,plugins:H},I,{popperOptions:Y,interactive:O,duration:T,delay:o,content:Z?r.createElement(d.Z,{disabled:n},i):null,onShow:Q,onHide:V}))}P.propTypes=_,t.Z=P},56020:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r=4},20293:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.default}});var r=n(30002)},61134:function(e,t,n){"use strict";var r=n(66750),i=n(20293);t.default=(0,r.default)(i.Z)},4426:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.default}});var r=n(61134)},67744:function(e,t,n){"use strict";n.d(t,{default:function(){return K}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E=n(32735),_=n(60216),x=n.n(_),P=n(15065),C=n(50942),k=n(35463),A=n(83360),D=n(25312),R=n(30558);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var i=F(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var U=R.ZP.times(12,(function(e){return{name:(0===e?12:e)+":00",value:e}})),H=R.ZP.times(60,(function(e){return{name:e.toString(),value:e}})),Y=[{name:"AM",value:0},{name:"PM",value:1}],G=[{name:(0,D.t)(r||(r=V(["Sunday"]))),value:"sun"},{name:(0,D.t)(i||(i=V(["Monday"]))),value:"mon"},{name:(0,D.t)(o||(o=V(["Tuesday"]))),value:"tue"},{name:(0,D.t)(a||(a=V(["Wednesday"]))),value:"wed"},{name:(0,D.t)(u||(u=V(["Thursday"]))),value:"thu"},{name:(0,D.t)(l||(l=V(["Friday"]))),value:"fri"},{name:(0,D.t)(c||(c=V(["Saturday"]))),value:"sat"}],W=[{name:(0,D.t)(s||(s=V(["First"]))),value:"first"},{name:(0,D.t)(f||(f=V(["Last"]))),value:"last"},{name:(0,D.t)(d||(d=V(["15th (Midpoint)"]))),value:"mid"}],$={hourly:(0,D.t)(p||(p=V(["Hourly"]))),daily:(0,D.t)(h||(h=V(["Daily"]))),weekly:(0,D.t)(m||(m=V(["Weekly"]))),monthly:(0,D.t)(y||(y=V(["Monthly"])))},K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(o,e);var t,n,r,i=L(o);function o(){var e;q(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(z(e=i.call.apply(i,[this].concat(n))),"DEFAULT_DAY","mon"),e}return t=o,(n=[{key:"handleChangeProperty",value:function(e,t){var n=N(N({},this.props.schedule),{},Q({},e,t));"schedule_type"===e?("hourly"===t&&(n=N(N({},n),{},{schedule_day:null,schedule_frame:null,schedule_hour:null,schedule_minute:0})),"hourly"!==t&&(n=N(N({},n),{},{schedule_hour:n.schedule_hour||0})),"daily"===t&&(n=N(N({},n),{},{schedule_day:null,schedule_frame:null})),"weekly"===t&&(n=N(N({},n),{},{schedule_day:this.DEFAULT_DAY,schedule_frame:null})),"monthly"===t&&(n=N(N({},n),{},{schedule_frame:"first",schedule_day:this.DEFAULT_DAY}))):"schedule_frame"===e&&(n=N(N({},n),{},"mid"===t?{schedule_day:null}:{schedule_day:n.schedule_day||this.DEFAULT_DAY}));var r={name:e,value:t};this.props.onScheduleChange(n,r)}},{key:"renderMonthlyPicker",value:function(){var e=this,t=this.props.schedule,n=G.slice(0);return n.unshift({name:(0,D.t)(v||(v=V(["Calendar Day"]))),value:null}),E.createElement("div",{className:"flex align-center mt1"},E.createElement("span",{className:"text-bold",style:{minWidth:"48px"}},(0,D.t)(b||(b=V(["on the"])))),E.createElement(C.ZP,{value:t.schedule_frame,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_frame",n)},options:W}),"mid"!==t.schedule_frame&&E.createElement("span",{className:"mx1"},E.createElement(C.ZP,{value:t.schedule_day,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_day",n)},options:n})))}},{key:"renderDayPicker",value:function(){var e=this,t=this.props.schedule;return E.createElement("span",{className:"flex align-center"},E.createElement("span",{className:"text-bold mx1"},(0,D.t)(g||(g=V(["on"])))),E.createElement(C.ZP,{value:t.schedule_day,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_day",n)},options:G}))}},{key:"renderMinutePicker",value:function(){var e=this,t=this.props.schedule,n=isNaN(t.schedule_minute)?0:t.schedule_minute;return E.createElement("div",{className:"mt1"},E.createElement("div",{className:"flex align-center"},E.createElement("span",{className:"text-bold",style:{minWidth:"48px"}},(0,D.t)(w||(w=V(["at"])))),E.createElement(C.ZP,{className:"mr1",value:n,options:H,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_minute",n)}}),E.createElement("span",{className:"text-bold"},(0,D.t)(O||(O=V(["minutes past the hour"]))))))}},{key:"renderHourPicker",value:function(){var e=this,t=this.props,n=t.schedule,r=t.textBeforeSendTime,i=isNaN(n.schedule_hour)?8:n.schedule_hour,o=i%12,a=i>=12?1:0,u=k.Z.get("report-timezone-short");return E.createElement("div",{className:"mt1"},E.createElement("div",{className:"flex align-center"},E.createElement("span",{className:"text-bold",style:{minWidth:"48px"}},(0,D.t)(j||(j=V(["at"])))),E.createElement(C.ZP,{className:"mr1",value:o,options:U,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_hour",n+12*a)}}),E.createElement(P.SegmentedControl,{value:a,onChange:function(t){return e.handleChangeProperty("schedule_hour",o+12*t)},options:Y,fullWidth:!0})),r&&E.createElement("div",{className:"mt1 text-medium pt2"},r," ",0===o?12:o,":00"," ",a?"PM":"AM"," ",u,", ",(0,D.t)(S||(S=V(["your Metabase timezone"]))),"."))}},{key:"render",value:function(){var e=this,t=this.props,n=t.schedule,r=t.scheduleOptions,i=t.textBeforeInterval,o=n.schedule_type;return E.createElement("div",{className:"mt3"},E.createElement("div",{className:"flex align-center"},E.createElement("span",{className:"text-bold",style:{minWidth:"48px"}},i),E.createElement(C.ZP,{value:o,onChange:function(t){var n=t.target.value;return e.handleChangeProperty("schedule_type",n)},options:r,optionNameFn:function(e){return $[e]||(0,A.kC)(e)},optionValueFn:function(e){return e}}),"weekly"===o&&this.renderDayPicker()),"hourly"===o&&this.props.minutesOnHourPicker&&this.renderMinutePicker(),"monthly"===o&&this.renderMonthlyPicker(),("daily"===o||"weekly"===o||"monthly"===o)&&this.renderHourPicker())}}])&&M(t.prototype,n),r&&M(t,r),o}(E.Component);Q(K,"propTypes",{schedule:x().object.isRequired,scheduleOptions:x().array.isRequired,textBeforeInterval:x().string,textBeforeSendTime:x().string,onScheduleChange:x().func.isRequired,minutesOnHourPicker:x().bool})},15065:function(e,t,n){"use strict";n.d(t,{SegmentedControl:function(){return p}});var r=n(32735),i=n(60216),o=n.n(i),a=n(30558),u=n(43519),l=["name","value","options","onChange","fullWidth","inactiveColor","variant"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=o().shape({name:o().node,value:o().any,icon:o().string,iconSize:o().number,selectedColor:o().string}),d={name:o().string,value:o().any,options:o().arrayOf(f).isRequired,variant:o().oneOf(["fill-text","fill-background"]),inactiveColor:o().string,onChange:o().func,fullWidth:o().bool};function p(e){var t=e.name,n=e.value,i=e.options,o=e.onChange,f=e.fullWidth,d=void 0!==f&&f,p=e.inactiveColor,h=void 0===p?"text-medium":p,m=e.variant,y=void 0===m?"fill-text":m,v=s(e,l),b=(0,r.useMemo)((function(){return a.ZP.uniqueId("radio-")}),[]),g=t||b;return r.createElement(u.SegmentedList,c({},v,{fullWidth:d}),i.map((function(e,t){var a=e.value===n,l=0===t,c=t===i.length-1,s="".concat(g,"-").concat(e.value),f="".concat(g,"-").concat(e.value),p=!e.name,m=e.selectedColor||"brand";return r.createElement(u.SegmentedItem,{key:e.value,isSelected:a,isFirst:l,isLast:c,fullWidth:d,variant:y,selectedColor:m},r.createElement(u.SegmentedItemLabel,{id:f,isSelected:a,variant:y,selectedColor:m,inactiveColor:h,compact:p},e.icon&&r.createElement(u.ItemIcon,{name:e.icon,size:e.iconSize||16,iconOnly:p}),r.createElement(u.SegmentedControlRadio,{id:s,name:g,value:e.value,checked:a,onChange:function(){return o(e.value)},"aria-labelledby":f}),e.name))})))}p.propTypes=d},43519:function(e,t,n){"use strict";n.d(t,{SegmentedList:function(){return c},SegmentedItem:function(){return f},SegmentedItemLabel:function(){return d},SegmentedControlRadio:function(){return p},ItemIcon:function(){return m}});var r=n(47679),i=n(32735),o=n(30558),a=n(65844),u=n(6336);var l="8px",c=(0,r.Z)("ul",{target:"ey263z54"})("display:flex;width:",(function(e){return e.fullWidth?1:0}),";");function s(e,t){return"fill-text"===e.variant?t:e.isSelected?(0,u.$_)(e.selectedColor):t}var f=(0,r.Z)("li",{target:"ey263z53"})("display:flex;flex-grow:",(function(e){return e.fullWidth?1:0}),";background-color:",(function(e){return s(e,"transparent")}),";border:1px solid ",(function(e){return s(e,(0,u._j)((0,u.$_)("border"),.1))}),";border-right-width:",(function(e){return e.isLast?"1px":0}),";border-top-left-radius:",(function(e){return e.isFirst?l:0}),";border-bottom-left-radius:",(function(e){return e.isFirst?l:0}),";border-top-right-radius:",(function(e){return e.isLast?l:0}),";border-bottom-right-radius:",(function(e){return e.isLast?l:0}),";"),d=(0,r.Z)("label",{target:"ey263z52"})("display:flex;width:100%;align-items:center;justify-content:center;position:relative;font-weight:bold;color:",(function(e){var t=(0,u.$_)("fill-text"===e.variant?e.selectedColor:"white");return e.isSelected?t:(0,u.$_)(e.inactiveColor)}),";padding:",(function(e){return e.compact?"8px":"8px 12px"}),";cursor:pointer;:hover{color:",(function(e){return e.isSelected?null:(0,u.$_)(e.selectedColor)}),";}"),p=(0,r.Z)("input",{target:"ey263z51"})({name:"1ub1f5z",styles:"cursor:inherit;position:absolute;opacity:0;width:0;height:0;top:0;left:0;margin:0;padding:0;z-index:1"});function h(e){return i.createElement(a.ZP,o.ZP.omit(e,"iconOnly"))}p.defaultProps={type:"radio"};var m=(0,r.Z)(h,{target:"ey263z50"})("margin-right:",(function(e){return e.iconOnly?0:"4px"}),";")},18591:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(32735),i=n(25312),o=n(65844),a=n(47679),u=n(75246),l=n(6336);var c,s={sm:"0.5rem",md:"0.75rem"},f={sm:"4px",md:"8px"},d={default:function(){return(0,l.$_)("brand")},admin:function(){return(0,l.$_)("accent7")},transparent:function(){return"transparent"}},p={name:"1mz6xud",styles:"padding-left:36px"},h={name:"w8m5lm",styles:"padding-right:26px"},m=(0,a.Z)("input",{target:"e1uvkr1n3"})("border:1px solid ",(function(e){return t=e.colorScheme,e.invalid?(0,l.$_)("error"):"transparent"===t?"transparent":(0,l.$_)("border");var t}),";outline:none;width:100%;font-size:1.12em;font-weight:400;color:",(0,l.$_)("text-dark"),";min-width:200px;background-color:",(function(e){return"transparent"===e.colorScheme?"transparent":(0,l.$_)("white")}),";&:disabled{background-color:",(0,l.$_)("bg-light"),";}",(function(e){var t=e.borderRadius,n=e.padding;return(0,u.iv)("border-radius:",f[t],";padding:",s[n],";","")})," ",(function(e){return e.hasClearButton?h:null})," ",(function(e){return e.hasIcon?p:null})," &:focus{border-color:",(function(e){return d[e.colorScheme]()}),";}"),y=(0,a.Z)("div",{target:"e1uvkr1n2"})({name:"9iujih",styles:"position:relative;display:flex;align-items:center"}),v=(0,a.Z)("button",{target:"e1uvkr1n1"})("display:flex;position:absolute;right:12px;color:",(0,l.$_)("bg-dark"),";cursor:pointer;&:hover{color:",(0,l.$_)("text-dark"),";}"),b=(0,a.Z)("span",{target:"e1uvkr1n0"})("position:absolute;padding-left:0.75rem;color:",(0,l.$_)("text-light"),";"),g=["value","className","placeholder","onChange","hasClearButton","icon","type","colorScheme","autoFocus","padding","borderRadius","invalid"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var j=(0,r.forwardRef)((function(e,t){var n,a,u=e.value,l=void 0===u?"":u,s=e.className,f=e.placeholder,d=void 0===f?(0,i.t)(c||(n=["Find..."],a||(a=n.slice(0)),c=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(a)}})))):f,p=e.onChange,h=e.hasClearButton,j=void 0!==h&&h,S=e.icon,E=e.type,_=void 0===E?"text":E,x=e.colorScheme,P=void 0===x?"default":x,C=e.autoFocus,k=void 0!==C&&C,A=e.padding,D=void 0===A?"md":A,R=e.borderRadius,I=void 0===R?"md":R,T=e.invalid,N=O(e,g),q=j&&l.length>0;return r.createElement(y,{className:s},S&&r.createElement(b,null,S),r.createElement(m,w({ref:t,colorScheme:P,autoFocus:k,hasClearButton:j,hasIcon:!!S,placeholder:d,value:l,type:_,onChange:function(e){return p(e.target.value)},padding:D,borderRadius:I,invalid:T},N)),q&&r.createElement(v,{onClick:function(){p("")}},r.createElement(o.ZP,{name:"close",size:12})))})),S=Object.assign(j,{Input:m})},89186:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var r=n(32735),i=n(60216),o=n.n(i),a=n(12788),u=n(30558),l=n(40841),c=n.n(l),s=n(65844),f=n(23070),d=n(88880),p=n(4451),h=n(29502);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={fontSize:14,fontWeight:700},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,i,o=w(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),E(j(t=o.call(this,e)),"scrollElement",null),E(j(t),"_updateFilteredValues",(function(e){var n=e.options,r=void 0===n?[]:n,i=e.value,o=e.removeSelected,a=e.filterOption,l=t.state,c=l.searchValue,s=l.selectedOptionValue,f=new Set(i.map((function(e){return JSON.stringify(t._id(e))})));a||(a=function(e,n){return String(t._label(e)||"").indexOf(n)>=0});var d=0,p=r.filter((function(e){var n=f.has(JSON.stringify(t._id(t._value(e)))),r=t._isLastFreeformValue(t._value(e))&&t._isLastFreeformValue(c),i=a(e,c);return n&&d++,(!o||!n||r)&&i}));null!=s&&u.ZP.find(p,(function(e){return t._valueIsEqual(s,t._value(e))}))||(s=p.length>0?t._value(p[0]):null),t.setState({filteredOptions:p,selectedOptionValue:s,isAllSelected:r.length>0&&d===r.length})})),E(j(t),"onInputChange",(function(e){var n=e.target.value,r=t.props,i=r.updateOnInputChange,o=r.onInputChange,a=r.parseFreeformValue;if(o&&(n=o(n)||""),t.setInputValue(n),i&&a){var u=t._isLastFreeformValue(t.state.inputValue),l=a(n);null!=l?t.addValue(l,u):u&&t.removeValue(a(t.state.inputValue))}})),E(j(t),"onInputKeyDown",(function(e){t.props.onInputKeyDown&&t.props.onInputKeyDown(e);var n=e.key,r=e.keyCode,i=t.state,o=i.filteredOptions,a=i.selectedOptionValue;if(r===p.vR||r===p.OC||n===p.sY||r===p.E$)t.addSelectedOption(e)&&e.stopPropagation();else if(e.keyCode===p.rw){e.preventDefault();var l=u.ZP.findIndex(o,(function(e){return t._valueIsEqual(a,t._value(e))}));l>0&&t.setState({selectedOptionValue:t._value(o[l-1])})}else if(r===p.cS){e.preventDefault();var c=u.ZP.findIndex(o,(function(e){return t._valueIsEqual(a,t._value(e))}));c>=0&&c<o.length-1&&t.setState({selectedOptionValue:t._value(o[c+1])})}else if(r===p.bs){var s=t.props.value;!t.state.inputValue&&s.length>0&&t.removeValue(s[s.length-1])}})),E(j(t),"onInputFocus",(function(){t.props.onFocus&&t.props.onFocus(),t.setState({isFocused:!0,searchValue:t.state.inputValue},(function(){return t._updateFilteredValues(t.props)}))})),E(j(t),"onInputBlur",(function(){if(t.props.updateOnInputBlur&&t.props.parseFreeformValue){var e=t.inputRef.current,n=t.props.parseFreeformValue(e.value);null==n||!t.props.multi&&n===t.props.value[0]||(t.addValue(n),t.clearInputValue())}t.props.onBlur&&t.props.onBlur(),t.setState({isFocused:!1})})),E(j(t),"onInputPaste",(function(e){if(t.props.parseFreeformValue){e.preventDefault();var n=e.clipboardData.getData("Text"),r=t.props.multi?n.split(/\n|,/g).map(t.props.parseFreeformValue).filter((function(e){return e})):[n];r.length>0&&t.addValue(r)}})),E(j(t),"onMouseDownCapture",(function(e){var n=t.inputRef.current;n.focus(),n!==e.target&&e.preventDefault()})),E(j(t),"onClose",(function(){t.setState({isFocused:!1})})),E(j(t),"addOption",(function(e){var n=t._isLastFreeformValue(t.state.inputValue);t.addValue(t._value(e),n)})),t.state={inputValue:"",searchValue:"",filteredOptions:[],selectedOptionValue:null,isFocused:e.autoFocus||!1,isAllSelected:!1,listIsHovered:!1},t.inputRef=r.createRef(),t}return t=l,n=[{key:"UNSAFE_componentWillMount",value:function(){this._updateFilteredValues(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateFilteredValues(e)}},{key:"setInputValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={inputValue:e};n&&(r.searchValue=e),this.setState(r,(function(){return t._updateFilteredValues(t.props)}))}},{key:"clearInputValue",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setInputValue("",e)}},{key:"_id",value:function(e){var t=this.props.idKey;return"function"==typeof t?t(e):"string"==typeof t?e[t]:e}},{key:"_value",value:function(e){var t=this.props.valueKey;return"function"==typeof t?t(e):e[t]}},{key:"_label",value:function(e){var t=this.props.labelKey;return"function"==typeof t?t(e):e[t]}},{key:"_key",value:function(e){return JSON.stringify(this._value(e))}},{key:"_isLastFreeformValue",value:function(e){var t=this.props,n=t.value,r=t.parseFreeformValue,i=t.updateOnInputChange;if(r&&i){var o=r(e);return n[n.length-1]===o}}},{key:"addSelectedOption",value:function(e){var t=this,n=this.props.multi,r=this.state,i=r.filteredOptions,o=r.selectedOptionValue,a=this.inputRef.current,l=u.ZP.find(i,(function(e){return t._valueIsEqual(o,t._value(e))}));if(l)return this.addOption(l),this._isLastFreeformValue(this._value(l))?this.clearInputValue(!0):this.clearInputValue(1===i.length),!0;if(this.props.parseFreeformValue){if(this.props.updateOnInputChange)return n&&e.preventDefault(),this.clearInputValue(),!1;var c=this.props.parseFreeformValue(a.value);if(null!=c&&(n||c!==this.props.value[0]))return this.addValue(c),this.clearInputValue(),!0}}},{key:"addValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.value,i=n.onChange,o=n.multi;Array.isArray(e)||(e=[e]),i(o?P(t?r.slice(0,-1).concat(e):r.concat(e)):e.slice(0,1))}},{key:"removeValue",value:function(e){var t=this,n=this.props,r=n.value;(0,n.onChange)(r.filter((function(n){return!t._valueIsEqual(n,e)})))}},{key:"_valueIsEqual",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"componentDidUpdate",value:function(e,t){var n=this.inputRef.current;if(t.selectedOptionValue!==this.state.selectedOptionValue&&null!=this.scrollElement){var r=(0,a.findDOMNode)(this.scrollElement);r&&(0,h.Fw)(r)&&r.scrollIntoView({block:"nearest"})}this.props.value.length>e.value.length&&n&&(0,h.Fw)(n)&&n.scrollIntoView({block:"nearest"}),this.state.isFocused&&n.focus({preventScroll:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.placeholder,o=t.multi,a=t.validateValue,u=t.parseFreeformValue,l=t.updateOnInputChange,f=t.optionRenderer,p=t.valueRenderer,h=t.layoutRenderer,m=t.color,y=t.style,b=t.className,g=t.valueStyle,w=t.optionsStyle,O=t.optionsClassName,j=t.prefix,S=t.canAddItems,x=this.state,P=x.inputValue,C=x.searchValue,k=x.filteredOptions,A=x.isFocused,D=x.isAllSelected,R=x.selectedOptionValue;!o&&A&&(P=P||n[0],n=[]),n.length>0&&l&&u&&n[n.length-1]===u(P)&&(A?n=n.slice(0,-1):P=""),A||(R=null),n.length>0&&(i=null);var I=!!this.onInputChange;return h({valuesList:r.createElement("ul",{className:c()(b,"pl1 pt1 pb0 pr0 flex align-center flex-wrap bg-white scroll-x scroll-y"),style:v({maxHeight:130},y),onMouseDownCapture:this.onMouseDownCapture},!!j&&r.createElement("span",{className:"text-medium mb1 py1 pr1","data-testid":"input-prefix"},j),n.map((function(t,n){return r.createElement(d.TokenFieldItem,{key:n,isValid:a(t)},r.createElement("span",{style:v(v({},_),g),className:o?"pl1 pr0":"px1"},p(t)),o&&r.createElement(d.TokenFieldAddon,{isValid:a(t),onClick:function(n){n.preventDefault(),e.removeValue(t)},onMouseDown:function(e){return e.preventDefault()}},r.createElement(s.ZP,{name:"close",className:"flex align-center",size:12})))})),S&&r.createElement("li",{className:c()("flex-full flex align-center mr1 mb1 p1")},r.createElement("input",{ref:this.inputRef,style:v(v({},_),g),className:c()("full no-focus borderless px1"),size:10,placeholder:i,value:I?P:void 0,defaultValue:I?void 0:P,onKeyDown:this.onInputKeyDown,onChange:I?this.onInputChange:void 0,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onPaste:this.onInputPaste}))),optionsList:0===k.length?null:r.createElement("ul",{className:c()(O,"overflow-auto pl1 my1 scroll-hide"),style:v({maxHeight:300},w),onMouseEnter:function(){return e.setState({listIsHovered:!0})},onMouseLeave:function(){return e.setState({listIsHovered:!1})}},k.map((function(t){return r.createElement("li",{className:"mr1",key:e._key(t)},r.createElement("div",{className:c()("py1 pl1 pr2 block rounded text-bold text-".concat(m,"-hover inline-block full cursor-pointer"),"bg-light-hover",E({},"text-".concat(m," bg-light"),!e.state.listIsHovered&&e._valueIsEqual(R,e._value(t)))),onClick:function(n){e.addOption(t),e.clearInputValue(1===k.length),n.preventDefault()},onMouseDown:function(e){return e.preventDefault()}},f(t)))}))),isFocused:A,isAllSelected:D,isFiltered:!!C,onClose:this.onClose})}}],n&&b(t.prototype,n),i&&b(t,i),l}(r.Component);E(x,"defaultProps",{removeSelected:!0,valueKey:"value",labelKey:"label",valueRenderer:function(e){return r.createElement("span",null,e)},optionRenderer:function(e){return r.createElement("span",null,e)},layoutRenderer:function(e){return r.createElement(C,e)},validateValue:function(){return!0},color:"brand",canAddItems:!0,style:{},valueStyle:{},optionsStyle:{}});var P=function(e){return Array.from(new Set(e))},C=function(e){var t=e.valuesList,n=e.optionsList,i=e.isFocused;e.onClose;return r.createElement("div",null,r.createElement(f.Z,{visible:i&&!!n,content:r.createElement("div",null,n),placement:"bottom-start"},r.createElement("div",null,t)))};C.propTypes={valuesList:o().element.isRequired,optionsList:o().element,isFocused:o().bool,onClose:o().func}},88880:function(e,t,n){"use strict";n.d(t,{TokenFieldItem:function(){return o},TokenFieldAddon:function(){return a}});var r=n(47679),i=n(6336),o=(0,r.Z)("li",{target:"e1kzghsy1"})("display:flex;align-items:center;margin:0 0.25rem 0.25rem 0;padding:0.75rem 0.5rem;border-radius:0.5rem;color:",(function(e){return e.isValid?"":(0,i.$_)("error")}),";background-color:",(0,i.$_)("bg-medium"),";"),a=(0,r.Z)("a",{target:"e1kzghsy0"})("display:flex;align-items:center;padding:0 0.5rem;color:",(function(e){return e.isValid?"":(0,i.$_)("error")}),";&:hover{color:",(0,i.$_)("error"),";}")},19798:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(24274),u=n(19281),l=n(29502),c=n(56020);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var f=a.ZP;function d(e){return t=e,u.isElement(t)&&"string"==typeof t.type||u.isForwardRef(e)?e:r.createElement("span",{"data-testid":"tooltip-component-wrapper"},e);var t}function p(e){var t=e.tooltip,n=e.children,i=e.delay,o=e.reference,a=e.placement,u=e.offset,p=e.isEnabled,h=e.isOpen,m=e.maxWidth,y=void 0===m?200:m,v=null!=h?h:void 0,b=(0,l.Wg)()?0:void 0,g=!1===p,w=function(e,t){return e?{reference:e}:null!=t?{children:d(t)}:void 0}(o,n);return t&&w?r.createElement(f,s({theme:"tooltip",className:"popover",appendTo:function(){return document.body},content:t,visible:v,disabled:g,maxWidth:y,reference:o,duration:b,delay:i,placement:a,offset:u,zIndex:c.a},w)):r.createElement(r.Fragment,null,n)}p.propTypes={tooltip:o().node,children:o().node,reference:o().instanceOf(Element),placement:o().string,isEnabled:o().bool,isOpen:o().bool,offset:o().oneOfType([o().array,o().func]),maxWidth:o().oneOfType([o().number,o().string])},t.Z=p},69312:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(19798)},66750:function(e,t,n){"use strict";var r=n(47679),i=n(32735),o=n(29502),a=n(69312),u=n(40841),l=n.n(u);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,r.Z)("a",{target:"egqvz7l0"})("");t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(h,t);var n,r,u,c=p(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),v(m(n=c.call(this,e,t)),"open",(function(){n.toggle(!0)})),v(m(n),"close",(function(){n.toggle(!1)})),v(m(n),"toggle",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n.state.isOpen;n.setState({isOpen:e})})),n.state={isOpen:e.isInitiallyOpen||!1},n._startCheckObscured=n._startCheckObscured.bind(m(n)),n._stopCheckObscured=n._stopCheckObscured.bind(m(n)),n.onClose=n.onClose.bind(m(n)),n.trigger=i.createRef(),n}return n=h,(r=[{key:"onClose",value:function(e){e&&e.target&&this.trigger.current.contains(e.target)||(this.props.onClose&&this.props.onClose(e),this.close())}},{key:"target",value:function(){return this.props.target?this.props.target():this.trigger.current}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){this.state.isOpen&&this.props.closeOnObscuredTrigger?this._startCheckObscured():this._stopCheckObscured()}},{key:"componentWillUnmount",value:function(){this._stopCheckObscured()}},{key:"_startCheckObscured",value:function(){var e=this;null==this._offscreenTimer&&(this._offscreenTimer=setInterval((function(){var t=e.trigger.current;(0,o.Fw)(t)&&e.close()}),250))}},{key:"_stopCheckObscured",value:function(){null!=this._offscreenTimer&&(clearInterval(this._offscreenTimer),this._offscreenTimer=null)}},{key:"render",value:function(){var t=this,n=this.props,r=n.as,o=n.triggerId,u=n.triggerClasses,c=n.triggerStyle,f=n.triggerClassesOpen,d=n.triggerClassesClose,p=null!=this.props.isOpen?this.props.isOpen:this.state.isOpen,h=this.props.triggerElement;h&&h.type===a.Z&&(h=i.cloneElement(h,{isEnabled:h.props.isEnabled&&!p}));var m=this.props.children;return"function"==typeof m&&p?m=m({onClose:this.onClose}):1===i.Children.count(m)&&void 0===i.Children.only(m).props.onClose&&"string"!=typeof i.Children.only(m).type&&(m=i.cloneElement(m,{onClose:this.onClose})),i.createElement(b,{as:r,id:o,ref:this.trigger,onClick:function(e){e.preventDefault(),!t.props.disabled&&t.toggle()},className:l()(u,p&&f,!p&&d,"no-decoration",{"cursor-default":this.props.disabled}),"aria-disabled":this.props.disabled,style:c},"function"==typeof h?h({isTriggeredComponentOpen:p,open:this.open,close:this.close}):h,i.createElement(e,s({},this.props,{isOpen:p,onClose:this.onClose,target:function(){return t.target()}}),m))}}])&&f(n.prototype,r),u&&f(n,u),h}(i.Component),v(t,"displayName","Triggerable["+(e.displayName||e.name)+"]"),v(t,"defaultProps",{as:"a",closeOnObscuredTrigger:!1}),n}},44791:function(e,t,n){"use strict";n.d(t,{default:function(){return U}});var r=n(32735),i=n(83360),o=n(49155),a=n(81932),u=n(60006);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c=["metadata","fetchRemapping"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var b=function(e,t){return{metadata:(0,a.sd)(e,t)}},g={fetchRemapping:u.fetchRemapping},w=["value","column","displayValue","displayColumn","renderNormal","renderRemapped"],O=["autoLoad"];function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var P,C,k,A,D,R,I=function(e){var t=e.value;e.column;return r.createElement("span",{className:"text-bold"},t)},T=function(e){var t=e.value,n=e.displayValue,i=e.column;e.displayColumn;return r.createElement("span",null,r.createElement("span",{className:"text-bold"},n),i.isID()&&r.createElement("span",{style:{opacity:.5}}," - "+t))},N=function(e){var t=e.value,n=e.column,r=e.displayValue,o=e.displayColumn,a=e.renderNormal,u=void 0===a?I:a,l=e.renderRemapped,c=void 0===l?T:l,s=x(e,w);return null!=n&&(t=(0,i.Bw)(t,E(E({},s),{},{column:n,jsx:!0,remap:!1}))),null!=o&&(r=(0,i.Bw)(r,E(E({},s),{},{column:o,jsx:!0,remap:!1}))),null!=r?c({value:t,displayValue:r,column:n,displayColumn:o}):u({value:t,column:n})},q=(P=N,(0,o.connect)(b,g)((k=C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,i,o=m(a);function a(){return d(this,a),o.apply(this,arguments)}return t=a,n=[{key:"UNSAFE_componentWillMount",value:function(){this.props.column&&this.props.fetchRemapping(this.props.value,this.props.column.id)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.column||this.props.value===e.value&&this.props.column===e.column||this.props.fetchRemapping(e.value,e.column.id)}},{key:"render",value:function(){var e=this.props,t=e.metadata,n=(e.fetchRemapping,f(e,c)),i=t.field(n.column&&n.column.id),o=i&&i.remappedValue(n.value),a=null!=o&&i&&i.remappedField()||null;return r.createElement(P,s({},n,{displayValue:o,displayColumn:a}))}}],n&&p(t.prototype,n),i&&p(t,i),a}(r.Component),A=C,D="displayName",R="Remapped["+(P.displayName||P.name)+"]",D in A?Object.defineProperty(A,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):A[D]=R,k))),M=function(e){return r.createElement(N,j({},e,{displayValue:e.column.remappedValue(e.value),displayColumn:e.column.remappedField()}))},Z=function(e){var t=e.autoLoad,n=void 0===t||t,i=x(e,O);return n?r.createElement(q,i):r.createElement(M,i)},L=["value"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function V(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var U=function(e){var t=e.value,n=V(e,L);if(n.hide)return null;if(n.remap)return r.createElement(Z,Q({value:t},n));var o=(0,i.Bw)(t,z(z({},n),{},{jsx:!0}));return r.isValidElement(o)?o:r.createElement("span",null,o)}},23264:function(e,t,n){"use strict";n.d(t,{CustomFormField:function(){return z},CustomFormSubmit:function(){return F},CustomFormMessage:function(){return Q}});var r,i,o,a,u=n(32735),l=n(60216),c=n.n(l),s=n(31915),f=n(60195),d=n(27826),p=n(39516),h=n(86147),m=n(39544),y=n(30558),v=n(40841),b=n.n(v),g=n(25312),w=n(55446);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}var j=["children"];function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var i=q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(e){D(n,e);var t=I(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"getChildContext",value:function(){var e=this.props,t=e.fields,n=e.values,r=e.formObject,i=e.submitting,o=e.invalid,a=e.pristine,u=e.error,l=e.handleSubmit,c=e.submitTitle,s=e.renderSubmit,f=e.className,d=e.style,p=e.onChangeField,h=r.disablePristineSubmit,m=r.fields(n);return{handleSubmit:l,submitTitle:c,renderSubmit:s,className:f,style:d,fields:t,formFields:m,formFieldsByName:y.ZP.indexBy(m,"name"),values:n,submitting:i,invalid:o,pristine:a,error:u,onChangeField:p,disablePristineSubmit:h}}},{key:"render",value:function(){var e=this,t=this.props,n=t.formObject,r=t.values,i=t.children;return"function"==typeof i?i(P(P({},this.props),{},{form:n,formFields:n.fields(r),Form:L,FormField:z,FormSubmit:F,FormMessage:Q,FormFooter:V})):u.createElement(L,{formRef:function(t){return e._formRef=t}},i)}}]),n}(u.Component);M(Z,"childContextTypes",{handleSubmit:c().func,submitTitle:c().string,renderSubmit:c().func,className:c().string,style:c().object,fields:c().object,formFields:c().array,formFieldsByName:c().object,values:c().object,submitting:c().bool,invalid:c().bool,pristine:c().bool,error:c().string,onChangeField:c().func,disablePristineSubmit:c().bool});var L=function(e,t){var n=e.children,r=e.formRef,i=t.handleSubmit,o=t.className,a=t.style;return u.createElement("form",{onSubmit:i,ref:r,className:o,style:a},n)};L.contextTypes={handleSubmit:c().func,className:c().string,style:c().object};var B=function(e){D(n,e);var t=I(n);function n(){var e;C(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return M(N(e=t.call.apply(t,[this].concat(i))),"onChange",(function(){var t=e.props,n=t.name,r=t.onChange,i=e.context.fields,o=(0,w.getIn)(i,n.split("."));o.onChange.apply(o,arguments),r.apply(void 0,arguments)})),e}return A(n,[{key:"_getFieldDefinition",value:function(){return y.ZP.pick(this.props,"name","type","title","description","initial","validate","normalize")}},{key:"UNSAFE_componentWillMount",value:function(){this.context.registerFormField&&this.context.registerFormField(this._getFieldDefinition())}},{key:"componentWillUnmount",value:function(){this.context.unregisterFormField&&this.context.unregisterFormField(this._getFieldDefinition())}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.forwardedRef,r=this.context,i=r.fields,o=r.formFieldsByName,a=r.values,l=r.onChangeField,c=(0,w.getIn)(i,t.split(".")),d=o[t];if(!c||!d)return null;var p="function"==typeof this.props.onChange,h=P(P({},this.props),{},{values:a,onChangeField:l,formField:d,field:p?P(P({},c),{},{onChange:this.onChange}):c}),m=!d.type&&"function"==typeof d.widget?d.widget:f.default;return u.createElement(s.default,h,u.createElement(m,_({},h,{ref:n})))}}]),n}(u.Component);M(B,"contextTypes",{fields:c().object,formFieldsByName:c().object,values:c().object,onChangeField:c().func,registerFormField:c().func,unregisterFormField:c().func});var z=u.forwardRef((function(e,t){return u.createElement(B,_({},e,{forwardedRef:t}))})),F=function(e,t){var n=e.children,a=E(e,j),l=t.submitting,c=t.invalid,s=t.pristine,f=t.handleSubmit,d=t.submitTitle,p=t.renderSubmit,h=t.disablePristineSubmit,y=n||d||(0,g.t)(r||(r=S(["Submit"]))),v=!(l||c||s&&h);return p?p({canSubmit:v,title:y,handleSubmit:f}):u.createElement(m.default,_({normalText:y,activeText:y,failedText:(0,g.t)(i||(i=S(["Failed"]))),successText:(0,g.t)(o||(o=S(["Success"]))),primary:v,disabled:!v},a,{type:"submit",actionFn:f}))};F.contextTypes={values:c().object,submitting:c().bool,invalid:c().bool,pristine:c().bool,handleSubmit:c().func,submitTitle:c().string,renderSubmit:c().func,disablePristineSubmit:c().bool};var Q=function(e,t){var n=t.error;return n?u.createElement(d.default,_({},e,{message:n,formError:!0})):null};Q.contextTypes={error:c().string},t.default=Z;u.Component;var V=function(e,t){var n=e.submitTitle,r=e.cancelTitle,i=void 0===r?(0,g.t)(a||(a=S(["Cancel"]))):r,o=e.onCancel,l=e.footerExtraButtons,c=e.fullWidth,s=e.isModal,f=t.isModal;return u.createElement("div",{className:b()("flex align-center",{"flex-reverse":s||f})},u.createElement(F,{fullWidth:c},n),o&&u.createElement(h.Z,{className:"mx1",type:"button",onClick:o},i),u.createElement("div",{className:"flex-full"}),u.createElement(Q,{className:"ml1",noPadding:!0}),l)};V.contextTypes={isModal:c().bool}},31915:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var r=n(32735),i=n(60216),o=n.n(i),a=n(40841),u=n.n(a),l=n(69312),c=n(43992),s=function(e){var t=e.className,n=e.description;return"string"==typeof n?r.createElement("div",{className:t,dangerouslySetInnerHTML:{__html:n}}):r.createElement("div",{className:t},n)};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={title:o().string,description:o().string,descriptionPosition:o().oneOf(["top","bottom"]),info:o().string,hidden:o().bool,horizontal:o().bool},m=d(d({},h),{},{field:o().object,formField:o().shape(d(d({},h),{},{type:o().oneOfType([o().string,o().func])})),name:o().string,error:o().any,visited:o().bool,active:o().bool,children:o().oneOfType([o().arrayOf(o().node),o().node]),className:o().string}),y=/\./g;function v(e){var t=e.className,n=e.formField,i=e.title,o=void 0===i?n&&n.title:i,a=e.description,f=void 0===a?n&&n.description:a,p=e.descriptionPosition,h=void 0===p?h||n&&n.descriptionPosition||"top":p,m=e.info,v=void 0===m?n&&n.info:m,b=e.infoLabel,g=void 0===b?n&&n.infoLabel:b,w=e.infoLabelTooltip,O=void 0===w?n&&n.infoLabelTooltip:w,j=e.hidden,S=void 0===j?n&&(n.hidden||"hidden"===n.type):j,E=e.horizontal,_=void 0===E?n&&(n.horizontal||"boolean"===n.type):E,x=e.align,P=void 0===x?(null==n?void 0:n.align)||"right":x,C=e.children;if(S)return null;var k=d(d({},e.field||{}),e),A=k.name,D=k.error,R=k.visited,I=k.active,T="formField-".concat(A.replace(y,"-"));R&&!I||(D=null);var N=u()("Form-field",t,{"Form--fieldError":!!D,flex:_});return r.createElement("div",{id:T,className:N},"left"===P&&r.createElement(c.InputContainer,null,C),(o||f)&&r.createElement(c.FieldContainer,{horizontal:_,align:P},r.createElement(c.FieldRow,null,o&&r.createElement(c.Label,{id:"".concat(A,"-label"),htmlFor:A,horizontal:_},o,D&&r.createElement("span",{className:"text-error"},": ",D)),v&&r.createElement(l.Z,{tooltip:v},r.createElement(c.InfoIcon,{name:"info",size:12})),g&&r.createElement(l.Z,{tooltip:O,maxWidth:"100%"},r.createElement(c.InfoLabel,null,g))),f&&"top"===h&&r.createElement(s,{className:"mb1",description:f})),"left"!==P&&r.createElement(c.InputContainer,null,C),f&&"bottom"===h&&r.createElement(s,{className:"mt1",description:f}))}v.propTypes=m;var b=v},43992:function(e,t,n){"use strict";n.d(t,{FieldRow:function(){return a},Label:function(){return l},InfoIcon:function(){return c},InfoLabel:function(){return s},FieldContainer:function(){return f},InputContainer:function(){return p}});var r=n(47679),i=n(65844),o=n(6336);var a=(0,r.Z)("div",{target:"e16mlbqp5"})({name:"1qa24ep",styles:"display:flex;align-items:center;margin-bottom:0.5em"}),u={name:"1tx1l5v",styles:"margin-right:auto"},l=(0,r.Z)("label",{target:"e16mlbqp4"})("margin-bottom:0;",(function(e){return e.horizontal&&u}),";");l.defaultProps={className:"Form-label"};var c=(0,r.Z)(i.ZP,{target:"e16mlbqp3"})("margin-left:8px;color:",(0,o.$_)("bg-dark"),";&:hover{color:",(0,o.$_)("brand"),";}"),s=(0,r.Z)("span",{target:"e16mlbqp2"})("color:",(0,o.$_)("text-medium"),";font-size:0.88em;margin-left:auto;cursor:default;"),f=(0,r.Z)("div",{target:"e16mlbqp1"})("margin-right:",(function(e){return e.horizontal?"1rem":""}),";margin-left:",(function(e){return"left"===e.align?"0.5rem":""}),";"),d={name:"1o3nkn",styles:"margin-left:auto"},p=(0,r.Z)("div",{target:"e16mlbqp0"})("flex-shrink:0;",(function(e){return e.horizontal&&d}),";")},27826:function(e,t,n){"use strict";n.d(t,{default:function(){return b}});var r,i,o=n(32735),a=n(25312),u=n(45562);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=(0,a.t)(r||(r=m(["Server error encountered"]))),v=(0,a.t)(i||(i=m(["Unknown error encountered"]))),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=d(a);function a(){return c(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.message,r=e.formSuccess,i=e.noPadding,a=g(this.props);return o.createElement(u.FormMessageStyled,{className:t,visible:!!n,noPadding:i,hasSucceeded:r},a)}}])&&s(t.prototype,n),r&&s(t,r),a}(o.Component),g=function(e){var t=e.message,n=e.formError,r=e.formSuccess;return t||(n?w(n):O(r))},w=function(e){if(e)return e.data&&e.data.message?e.data.message:e.status>=400?y:v},O=function(e){if(e&&e.data.message)return e.data.message}},45562:function(e,t,n){"use strict";n.d(t,{FormMessageStyled:function(){return u}});var r=n(47679),i=n(7500),o=n(6336);var a={name:"1pnj8vd",styles:"opacity:1;transition:opacity 500ms linear"},u=(0,r.Z)("span",{target:"eadck1h0"})("color:",(function(e){return e.hasSucceeded?(0,o.$_)("success"):(0,o.$_)("error")}),";float:left;opacity:0;padding-bottom:",(function(e){return e.noPadding?"":(0,i.D)(2)}),";transition:none;width:100%;",(function(e){return e.visible&&a}),";")},60195:function(e,t,n){"use strict";n.d(t,{default:function(){return Ve}});var r,i=n(32735),o=n(40930),a=n(81777),u=n(33685),l=n(47667),c=n(53806),s=n.n(c),f=n(25312),d=n(20246),p=["value","inputRef","placeholder","hasTime","hasCalendar","dateFormat","timeFormat","error","fullWidth","onFocus","onBlur","onChange","onCalendarClick"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b="h:mm A",g=(0,i.forwardRef)((function(e,t){var n,o,a=e.value,u=(e.inputRef,e.placeholder,e.hasTime),l=e.hasCalendar,c=e.dateFormat,y=void 0===c?"MM/DD/YYYY":c,g=e.timeFormat,w=void 0===g?b:g,O=e.error,j=e.fullWidth,S=e.onFocus,E=e.onBlur,_=e.onChange,x=e.onCalendarClick,P=v(e,p),C=m((0,i.useState)(""),2),k=C[0],A=C[1],D=m((0,i.useState)(!1),2),R=D[0],I=D[1],T="".concat(y,", ").concat(w),N=(0,i.useMemo)((function(){return s()()}),[]),q=(0,i.useMemo)((function(){return N.format(y)}),[N,y]),M=(0,i.useMemo)((function(){return a?u?a.format(T):a.format(y):""}),[a,u,y,T]),Z=(0,i.useMemo)((function(){return[y,T,"".concat(y,", ").concat(b),"".concat(y,", ").concat("HH:mm")]}),[y,T]),L=(0,i.useCallback)((function(e){I(!0),A(M),null==S||S(e)}),[M,S]),B=(0,i.useCallback)((function(e){I(!1),null==E||E(e)}),[E]),z=(0,i.useCallback)((function(e){var t=e.target.value;A(t);var n=u?Z:[y],r=s()(t,n);r.isValid()?null==_||_(r):null==_||_(void 0)}),[u,y,Z,_]);return i.createElement(d.Z,h({},P,{ref:t,value:R?k:M,placeholder:q,error:O,fullWidth:j,rightIcon:l?"calendar":void 0,rightIconTooltip:(0,f.t)(r||(n=["Show calendar"],o||(o=n.slice(0)),r=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}})))),onFocus:L,onBlur:B,onChange:z,onRightIconClick:x}))})),w=n(69312),O=n(47679),j=n(6336),S=["value","onFocus","onBlur","onChange"];function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=(0,i.forwardRef)((function(e,t){var n=e.value,r=e.onFocus,o=e.onBlur,a=e.onChange,u=P(e,S),l=(0,i.useMemo)((function(){var e;return null!==(e=null==n?void 0:n.toString())&&void 0!==e?e:""}),[n]),c=_((0,i.useState)(l),2),s=c[0],f=c[1],p=_((0,i.useState)(!1),2),h=p[0],m=p[1],y=(0,i.useCallback)((function(e){m(!0),f(l),null==r||r(e)}),[l,r]),v=(0,i.useCallback)((function(e){m(!1),null==o||o(e)}),[o]),b=(0,i.useCallback)((function(e){var t=e.target.value,n=parseFloat(t);f(t),isNaN(n)?null==a||a(void 0):null==a||a(n)}),[a]);return i.createElement(d.Z,E({},u,{ref:t,value:h?s:l,onFocus:y,onBlur:v,onChange:b}))})),k=n(65844),A=n(29464);var D,R,I,T,N=(0,O.Z)("div",{target:"ezt8ns56"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),q=(0,O.Z)(C,{target:"ezt8ns55"})({name:"1msu6hs",styles:"width:3rem;text-align:center"}),M=(0,O.Z)("div",{target:"ezt8ns54"})("color:",(0,j.$_)("text-dark"),";margin:0 0.5rem;"),Z=(0,O.Z)(k.ZP,{target:"ezt8ns53"})("color:",(0,j.$_)("text-light"),";"),L=(0,O.Z)("div",{target:"ezt8ns52"})({name:"darsj2",styles:"display:flex;gap:0.5rem;margin-left:0.5rem"}),B=(0,O.Z)("button",{target:"ezt8ns51"})("color:",(function(e){return e.isSelected?(0,j.$_)("brand"):(0,j.$_)("text-light")}),";cursor:",(function(e){return e.isSelected?"":"pointer"}),";font-weight:",(function(e){return e.isSelected?"bold":""}),";"),z=(0,O.Z)(A.default,{target:"ezt8ns50"})({name:"1o3nkn",styles:"margin-left:auto"});function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Q=(0,i.forwardRef)((function(e,t){var n=e.value,r=e.is24HourMode,o=e.autoFocus,a=e.onChange,u=e.onClear,l=n.format(r?"HH":"hh"),c=n.format("mm"),d=n.hours()<12,p=!d,h=s().localeData().meridiem(0,0,!1),m=s().localeData().meridiem(12,0,!1),y=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.clone();r?t.hours(e%24):t.hours(e%12+(d?0:12)),null==a||a(t)}),[n,d,r,a]),v=(0,i.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=n.clone();t.minutes(e%60),null==a||a(t)}),[n,a]),b=(0,i.useCallback)((function(){if(p){var e=n.clone();e.hours(e.hours()-12),null==a||a(e)}}),[n,p,a]),g=(0,i.useCallback)((function(){if(d){var e=n.clone();e.hours(e.hours()+12),null==a||a(e)}}),[n,d,a]),O=(0,i.useCallback)((function(){var e=n.clone();e.hours(0),e.minutes(0),null==u||u(e)}),[n,u]);return i.createElement(N,{ref:t},i.createElement(q,{value:l,placeholder:"00",autoFocus:o,fullWidth:!0,"aria-label":(0,f.t)(D||(D=F(["Hours"]))),onChange:y}),i.createElement(M,null,":"),i.createElement(q,{value:c,placeholder:"00",fullWidth:!0,"aria-label":(0,f.t)(R||(R=F(["Minutes"]))),onChange:v}),!r&&i.createElement(L,null,i.createElement(B,{isSelected:d,onClick:b},h),i.createElement(B,{isSelected:p,onClick:g},m)),i.createElement(w.Z,{tooltip:(0,f.t)(I||(I=F(["Remove time"])))},i.createElement(z,{"aria-label":(0,f.t)(T||(T=F(["Remove time"]))),onClick:O},i.createElement(Z,{name:"close"}))))})),V=Q,U=n(78930),H=n(86147);var Y,G,W=(0,O.Z)("div",{target:"e15lk8af3"})({name:"1v3x4y8",styles:"margin:0 0.75rem"}),$=(0,O.Z)("div",{target:"e15lk8af2"})({name:"1jfypbb",styles:"display:flex;justify-content:space-between;align-items:center;margin:1rem 0.75rem 0.75rem"}),K=(0,O.Z)(H.Z,{target:"e15lk8af1"})({name:"127vvv2",styles:"padding-left:0;padding-right:0"}),J=(0,O.Z)(H.Z,{target:"e15lk8af0"})({name:"1o3nkn",styles:"margin-left:auto"});function X(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ee=(0,i.forwardRef)((function(e,t){var n=e.className,r=e.style,o=e.value,a=e.hasTime,u=e.is24HourMode,l=e.onChange,c=e.onHasTimeChange,d=e.onSubmit,p=(0,i.useMemo)((function(){return s()().startOf("date")}),[]),h=(0,i.useCallback)((function(e,t,n){var r,i,a=n.clone();a.hours(null!==(r=null==o?void 0:o.hours())&&void 0!==r?r:0),a.minutes(null!==(i=null==o?void 0:o.minutes())&&void 0!==i?i:0),null==l||l(a)}),[o,l]),m=(0,i.useCallback)((function(){null==l||l(null!=o?o:p),null==c||c(!0)}),[o,p,l,c]),y=(0,i.useCallback)((function(e){null==l||l(e),null==c||c(!1)}),[l,c]);return i.createElement("div",{ref:t,className:n,style:r},i.createElement(U.Z,{initial:o,selected:o,isRangePicker:!1,onChange:h}),o&&a&&i.createElement(W,null,i.createElement(V,{value:o,is24HourMode:u,onChange:l,onClear:y})),i.createElement($,null,!a&&i.createElement(K,{icon:"clock",borderless:!0,onClick:m},(0,f.t)(Y||(Y=X(["Add time"])))),i.createElement(J,{primary:!0,onClick:d},(0,f.t)(G||(G=X(["Done"]))))))})),te=n(23070),ne=["value","hasTime","dateFormat","timeFormat","is24HourMode","error","fullWidth","onChange","onHasTimeChange"];function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ue,le,ce=(0,i.forwardRef)((function(e,t){var n=e.value,r=e.hasTime,o=e.dateFormat,a=e.timeFormat,u=e.is24HourMode,l=e.error,c=e.fullWidth,s=e.onChange,f=e.onHasTimeChange,d=ae(e,ne),p=ie((0,i.useState)(!1),2),h=p[0],m=p[1],y=(0,i.useCallback)((function(){m(!0)}),[]),v=(0,i.useCallback)((function(){m(!1)}),[]);return i.createElement(te.Z,{visible:h,placement:"bottom-start",content:i.createElement(ee,{value:n,hasTime:r,is24HourMode:u,onChange:s,onHasTimeChange:f,onSubmit:v}),onHide:v},i.createElement(g,re({},d,{ref:t,value:n,hasTime:r,hasCalendar:!0,dateFormat:o,timeFormat:a,error:l,fullWidth:c,onChange:s,onCalendarClick:y})))})),se=(0,i.forwardRef)((function(e,t){var n=e.field,r=e.placeholder,o=e.values,a=e.readOnly,u=e.autoFocus,c=e.tabIndex,s=e.hasTimeField,f=void 0===s?"":s,d=e.onChangeField,p=(0,i.useMemo)((function(){return n.value?(0,l.ZB)(n.value):void 0}),[n]),h=(0,i.useCallback)((function(){var e;null===(e=n.onFocus)||void 0===e||e.call(n,n.value)}),[n]),m=(0,i.useCallback)((function(){var e;null===(e=n.onBlur)||void 0===e||e.call(n,n.value)}),[n]),y=(0,i.useCallback)((function(e){var t;null===(t=n.onChange)||void 0===t||t.call(n,null==e?void 0:e.format())}),[n]),v=(0,i.useCallback)((function(e){null==d||d(f,e)}),[f,d]);return i.createElement(ce,{ref:t,value:p,placeholder:r,hasTime:Boolean(o[f]),dateFormat:(0,l.DT)(),timeFormat:(0,l.ur)(),is24HourMode:(0,l.Qy)(),readOnly:a,autoFocus:u,error:n.visited&&!n.active&&null!=n.error,fullWidth:!0,tabIndex:c,"aria-labelledby":"".concat(n.name,"-label"),onFocus:h,onBlur:m,onChange:y,onHasTimeChange:v})})),fe=n(2693),de=n(34491),pe=n(19523),he=n(48010),me=n(83),ye=n(93095),ve=(0,O.Z)(H.Z,{target:"e1drxxtd0"})("color:",(0,j.$_)("brand"),";padding:0;border:none;border-radius:0;&:hover{background-color:transparent;}");function be(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ge=function(e){var t=e.field,n=t.value,r=t.onChange,o=(0,i.useCallback)((function(){r(!n)}),[n,r]);return i.createElement(ve,{type:"button",iconRight:n?"chevronup":"chevrondown",onClick:o},n?(0,f.t)(ue||(ue=be(["Hide advanced options"]))):(0,f.t)(le||(le=be(["Show advanced options"]))))},we=n(55282),Oe=n(68078),je=n(69731),Se=n(86444),Ee=n(39763),_e=n(35215);var xe,Pe=(0,O.Z)("label",{target:"e1whgdgv2"})({name:"zjik7",styles:"display:flex"}),Ce=(0,O.Z)("input",{target:"e1whgdgv1"})("color:",(0,j.$_)("text-dark"),";flex:1 1 auto;font-family:inherit;font-weight:",(function(e){return e.hasValue?"bold":""}),";order:1;&:active,&:focus{outline:none;}&::-webkit-file-upload-button{padding-top:0.5rem;padding-right:2rem;visibility:hidden;}"),ke=(0,O.Z)("span",{target:"e1whgdgv0"})("border:1px solid ",(0,j.$_)("border"),";border-radius:6px;box-sizing:border-box;color:",(0,j.$_)("text-dark"),";cursor:pointer;display:inline-block;font-family:inherit;font-size:0.875rem;font-weight:bold;padding:0.5rem 0.75rem;white-space:nowrap;user-select:none;",Ce,":focus+&{outline:2px solid ",(0,j.$_)("focus"),";}",Ce,":not(:focus-visible)+&{outline:none;}"),Ae=["name","autoFocus","onChange","onFocus","onBlur"];function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ne=(0,i.forwardRef)((function(e,t){var n,r,o=e.name,a=e.autoFocus,u=e.onChange,l=e.onFocus,c=e.onBlur,s=Te(e,Ae),d=Re((0,i.useState)(!1),2),p=d[0],h=d[1],m=(0,i.useCallback)((function(e){var t=e.target.files;h(null!=t&&(null==t?void 0:t.length)>0),u&&u(e)}),[u]);return i.createElement(Pe,De({ref:t},s),i.createElement(Ce,{type:"file",name:o,hasValue:p,autoFocus:a,onChange:m,onFocus:l,onBlur:c}),i.createElement(ke,null,(0,f.t)(xe||(n=["Select a file"],r||(r=n.slice(0)),xe=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))))))}));function qe(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qe(o,r,i,a,u,"next",e)}function u(e){qe(o,r,i,a,u,"throw",e)}a(void 0)}))}}var Ze=function(e,t){var n=e.files;return new Promise((function(e,r){if(null!=n&&n.length){var i=new FileReader;i.onload=function(){return e(String(i.result))},i.onerror=function(){return r()},"base64"===t?i.readAsDataURL(n[0]):i.readAsText(n[0])}else e("")}))},Le=function(e){var t=e.field,n=e.treatBeforePosting,r=t.name,o=t.autoFocus,a=t.onChange,u=t.onBlur,l=function(){var e=Me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,Ze(t.target,n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Me(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,Ze(t.target,n);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.createElement(Ne,{name:r,autoFocus:o,"aria-labelledby":"".concat(t.name,"-label"),onChange:l,onBlur:c})},Be=["field","formField"];function ze(){return ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Qe={info:a.default,input:u.default,date:se,email:fe.default,text:de.default,checkbox:me.default,color:ye.default,password:pe.default,radio:he.default,section:ge,select:we.default,integer:Oe.default,boolean:je.default,collection:Se.default,snippetCollection:Ee.default,hidden:_e.default,textFile:Le};var Ve=(0,i.forwardRef)((function(e,t){var n=e.field,r=e.formField,a=Fe(e,Be),l=function(e){return"string"==typeof e.type?Qe[e.type]||o.s[e.type]||u.default:e.type||u.default}(r);return i.createElement(l,ze({field:n},r,a,{ref:t}))}))},8846:function(e,t,n){"use strict";var r,i,o=n(32735),a=n(23264),u=n(25312),l=["onClose","submitTitle","submitFullWidth"];function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.default=function(e){var t=e.onClose,n=e.submitTitle,f=e.submitFullWidth,d=s(e,l);return o.createElement(a.default,d,(function(e){var a=e.values,l=e.formFields,s=e.Form,p=e.FormField,h=e.FormFooter;return o.createElement(s,null,l.map((function(e){return o.createElement(p,{key:e.name,name:e.name})})),o.createElement(h,{isModal:d.isModal,footerExtraButtons:d.footerExtraButtons,onCancel:t,submitTitle:n||(null!=a.id?(0,u.t)(r||(r=c(["Update"]))):(0,u.t)(i||(i=c(["Create"])))),fullWidth:f}))}))}},69731:function(e,t,n){"use strict";var r=n(32735),i=n(65629);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){var t=e.field;return r.createElement(i.Z,o({"aria-labelledby":"".concat(t.name,"-label"),"aria-checked":t.value,role:"switch"},t))}},83:function(e,t,n){"use strict";var r=n(88637),i=n(32735),o=n(24432);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.default=function(e){var t=e.field;return i.createElement(r.Z,a({},(0,o.K9)(t),{onChange:function(e){return t.onChange(e.target.checked)}}))}},86444:function(e,t,n){"use strict";var r=n(32735),i=n(29754);t.default=function(e){var t=e.field;return r.createElement(i.Z,t)}},93095:function(e,t,n){"use strict";var r=n(32735),i=n(50262);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){var t=e.field,n=e.initial;return r.createElement("div",null,r.createElement(i.default,o({},t,{value:t.value||n()})))}},2693:function(e,t,n){"use strict";var r=n(32735),i=n(33685);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){return r.createElement(i.default,o({},e,{type:"email"}))}},44957:function(e,t,n){"use strict";var r=n(32735),i=n(79001),o=n(56071),a=n(30558),u=n(37582),l=["id"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.default=o.Z.loadList()((function(e){var t=e.field,n=t.value,o=t.onChange,c=e.groups,f=a.ZP.find(c,u.YO),p=a.ZP.find(c,u.vK);n||(n=[{id:p.id,is_group_manager:!1}]);var m=n.reduce((function(e,t){var n=t.id,r=h(t,l);return null!=n&&e.set(n,r),e}),new Map),y=m.has(f.id);return r.createElement(i.Z,{groups:c,memberships:m,onAdd:function(e,t){var n=Array.from(m.entries()).map((function(e){var t=d(e,2);return s({id:t[0]},t[1])}));n.push(s({id:e},t)),o(n)},onRemove:function(e){var t=Array.from(m.entries()).map((function(t){var n=d(t,2),r=n[0],i=n[1];return r===e?null:s({id:r},i)})).filter(Boolean);o(t)},onChange:function(e,t){var n=Array.from(m.entries()).map((function(n){var r=d(n,2),i=r[0],o=r[1];return s({id:i},e===i?t:o)}));o(n)},isUserAdmin:y})}))},35215:function(e,t,n){"use strict";var r=n(32735),i=n(24432);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){var t=e.type,n=void 0===t?"hidden":t,a=e.field;return r.createElement("input",o({type:n},(0,i.K9)(a)))}},81777:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n(32735),i=n(60216),o=n.n(i),a=n(56806),u={placeholder:o().string},l=function(e){var t=e.placeholder;return r.createElement(a.default,null,t)};l.propTypes=u;var c=l},33685:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(24432),u=n(20246);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c={type:o().string,placeholder:o().string,field:o().object,readOnly:o().bool,autoFocus:o().bool,helperText:o().node,tabIndex:o().string},s=(0,r.forwardRef)((function(e,t){var n=e.type,i=void 0===n?"text":n,o=e.placeholder,c=e.field,s=e.readOnly,f=e.autoFocus,d=e.helperText,p=e.tabIndex;return r.createElement(u.Z,l({},(0,a.K9)(c),{type:i,placeholder:o,"aria-labelledby":"".concat(c.name,"-label"),readOnly:s,autoFocus:f,error:c.visited&&!c.active&&null!=c.error,rightIcon:d&&"info",rightIconTooltip:d,tabIndex:p,fullWidth:!0,ref:t}))}));s.propTypes=c,t.default=s},68078:function(e,t,n){"use strict";var r=n(32735),i=n(24432),o=n(32935);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.default=function(e){var t=e.placeholder,n=e.field;return r.createElement(o.default,a({className:"Form-input full",placeholder:t,"aria-labelledby":"".concat(n.name,"-label")},(0,i.K9)(n)))}},19523:function(e,t,n){"use strict";var r=n(32735),i=n(33685);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){return r.createElement(i.default,o({},e,{type:"password"}))}},48010:function(e,t,n){"use strict";var r=n(47679),i=n(32735),o=n(60216),a=n.n(o),u=n(98912);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,r.Z)(u.Z,{target:"e14vyppp0"})({name:"1efi8gv",styles:"font-weight:bold"}),s={field:a().object.isRequired,options:a().array.isRequired};function f(e){var t=e.field,n=e.options;return i.createElement(c,l({showButtons:!0,vertical:!0},t,{options:n}))}f.propTypes=s,t.default=f},55282:function(e,t,n){"use strict";var r=n(32735),i=n(50942);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.default=function(e){var t=e.placeholder,n=e.options,a=void 0===n?[]:n,u=e.field,l=e.disabled;return r.createElement(i.ZP,o({placeholder:t},u,{onChange:function(e){return u.onChange(e.target.value)},disabled:l,buttonProps:{style:{minWidth:200}}}),a.map((function(e){var t=e.name,n=e.value,o=e.icon;return r.createElement(i.Wx,{key:n,value:n,icon:o},t)})))}},39763:function(e,t,n){"use strict";var r=n(32735),i=n(37220),o=n(27506),a=n(82158),u=n(89289);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=(0,i.Z)(o.Z,u.Z.Name,"collection");t.default=function(e){var t=e.field;return r.createElement(c,l({entity:u.Z,showSearch:!1},t,{value:t.value||a.Zj.id}))}},34491:function(e,t,n){"use strict";var r=n(32735),i=n(40841),o=n.n(i),a=n(24432),u=n(45393);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}t.default=function(e){var t=e.placeholder,n=e.field,i=e.className,c=e.rows,s=e.autoFocus,f=e.helperText,d=e.tabIndex;return r.createElement(r.Fragment,null,r.createElement("textarea",l({autoFocus:s,className:o()(i,"Form-input full"),rows:c,placeholder:t,"aria-labelledby":"".concat(n.name,"-label"),tabIndex:d},(0,a.K9)(n))),f&&r.createElement(u.HelpText,{dangerouslySetInnerHTML:{__html:f}}))}},45393:function(e,t,n){"use strict";n.d(t,{HelpText:function(){return r}});var r=(0,n(47679).Z)("span",{target:"e9n3vh40"})({name:"17m98vu",styles:"font-size:12px;margin-top:0.5rem"})},59450:function(e,t,n){"use strict";var r=n(32735),i=n(84468),o=["children"];function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.default=function(e){var t=e.children,n=u(e,o);return r.createElement(i.default,a({mb:"8px",color:"dark"},n,{fontSize:"14px",fontWeight:700}),t)}},84468:function(e,t,n){"use strict";var r=n(47679),i=n(71362),o=n(6336),a=(0,r.Z)("div",{target:"e1n1nmg90"})(i.Dh,";",i.JB,";",i.Ue,";",i.rX,";",i.Nv,";color:",(function(e){return(0,o.$_)("text-".concat(e.color))}),";");a.defaultProps={fontSize:14,color:"medium",mb:"8px",mt:"4px"},a.propTypes={},t.default=a},27506:function(e,t,n){"use strict";var r=n(32735),i=n(60216),o=n.n(i),a=n(77726),u=["value","onChange"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.value,n=e.onChange,i=c(e,u);return r.createElement(a.Z,l({},i,{value:void 0===t?void 0:{model:"collection",id:t},onChange:function(e){return n(e?e.id:void 0)},models:["collection"]}))};s.propTypes={value:o().number,onChange:o().func.isRequired},t.Z=s},29754:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(82158),i=n(37220),o=n(27506),a=n(32735),u=function(e){var t=e.id;return"root"===t||null===t?a.createElement("span",null,r.Zj.name):void 0===t||isNaN(t)?null:a.createElement(r.ZP.Name,{id:t})},l=(0,i.Z)(o.Z,u,"collection"),c=r.ZP.loadList({loadingAndErrorWrapper:!1})(l)},70093:function(e,t,n){"use strict";n.d(t,{Wi:function(){return v.CustomFormField},Ow:function(){return v.CustomFormSubmit},zG:function(){return v.CustomFormMessage},ZP:function(){return F}});var r,i,o,a,u,l=n(32735),c=n(60216),s=n.n(c),f=n(49155),d=n(12463),p=n(72740),h=n(55446),m=n(30558),y=n(25312),v=n(23264),b=n(8846),g=n(98399),w=["handleSubmit","submitState"];function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function k(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function D(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function M(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){M(o,r,i,a,u,"next",e)}function u(e){M(o,r,i,a,u,"throw",e)}a(void 0)}))}}function L(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var B=0,z=(0,p.sx)()((function(e){var t=e.handleSubmit,n=e.submitState,r=L(e,w),i=r.formComponent||(r.children?v.default:b.default);return l.createElement(i,q({},r,{handleSubmit:Z(regeneratorRuntime.mark((function e(){var r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(void 0,r);case 2:if(!n.failed){e.next=6;break}throw n.result;case 6:return e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e)})))}))})),F=(0,f.connect)((function(){var e=B++;return function(t,n){var r=n.formName||"form_".concat(e);return{formName:r,values:(0,p.KX)(t.form[r])}}}))((o=i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(o,e);var t,n,r,i=_(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),N(P(t=i.call(this,e)),"_state",{submitting:!1,failed:!1,result:void 0}),N(P(t),"_registerFormField",(function(e){m.ZP.isEqual(t.state.inlineFields[e.name],e)||t.setState((function(t){return(0,h.assocIn)(t,["inlineFields",e.name],e)}))})),N(P(t),"_unregisterFormField",(function(e){t.state.inlineFields[e.name]})),N(P(t),"_validate",(function(e,n){return!t._state.submitting&&t._state.failed&&(t._state.failed=!1,n.stopSubmit()),t._getFormObject().validate(e,n)})),N(P(t),"_onSubmit",function(){var e=Z(regeneratorRuntime.mark((function e(n){var r,i,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._getFormObject(),t._state.submitting=!0,e.prev=2,i=r.normalize(n),e.next=6,t.props.onSubmit(i);case 6:return e.abrupt("return",t._state.result=e.sent);case 9:if(e.prev=9,e.t0=e.catch(2),g.error("Form submission error:",e.t0),t._state.failed=!0,t._state.result=e.t0,!(e.t0&&e.t0.data&&e.t0.data.errors)){e.next=22;break}try{document.activeElement.blur()}catch(e){}throw o=new Set(t._getFieldNames()),l=Object.keys(e.t0.data.errors),T({_error:l.some((function(e){return!o.has(e)}))?(0,y.t)(a||(a=j(["An error occurred"]))):null},e.t0.data.errors);case 22:if(!e.t0){e.next=24;break}throw{_error:(null===(c=e.t0.data)||void 0===c?void 0:c.message)||e.t0.message||e.t0.data||(0,y.t)(u||(u=j(["An error occurred"])))};case 24:return e.prev=24,setTimeout((function(){return t._state.submitting=!1})),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[2,9,24,27]])})));return function(t){return e.apply(this,arguments)}}()),N(P(t),"_handleSubmitSuccess",function(){var e=Z(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.props.onSubmitSuccess){e.next=3;break}return e.next=3,t.props.onSubmitSuccess(n);case 3:t.props.dispatch((0,p.j2)(t.props.formName,t.props.values,t._getFieldNames()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N(P(t),"_handleChangeField",(function(e,n){return t.props.dispatch((0,p.m)(t.props.formName,e,n))})),t.state={inlineFields:{}};var n=(0,d.createSelector)([function(e,t){return t.form},function(e,t){return t.validate},function(e,t){return t.initial},function(e,t){return t.normalize},function(e,t){return t.fields},function(e,t){return e.inlineFields}],(function(e,t,n,r,i,o){var a=e||{validate:t,initial:n,normalize:r,fields:i||Object.values(o)};return T(T({},a),{},{fields:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return V.apply(void 0,[a.fields].concat(t)).map((function(e){return T(T({},e),o[e.name])}))}})})),r=(0,d.createSelector)([n],(function(e){return function(e){var t=T(T({},e),{},{fields:function(t){return V(e.fields,t)},fieldNames:function(e){return["id"].concat(k(t.fields(e).map((function(e){return e.name}))))}});return Q(t,"validate",{},(function(e,t){return[e,t].filter((function(e){return e})).join(", ")})),Q(t,"initial"),Q(t,"normalize",(function(e){return e})),Q(t,"hidden"),t}(e)})),l=(0,d.createSelector)([r,function(e,t){return t.initialValues||{}},function(e,t){return t.values||{}}],(function(e,t,n){for(var r=e.initial(n),i={},o=0,a=Object.keys(t);o<a.length;o++){var u=a[o];"object"===O(t[u])&&"object"===O(r[u])&&(i[u]=T(T({},r[u]),t[u]))}return T(T(T({},t),r),i)})),c=(0,d.createSelector)([r,l,function(e,t){return t.values||{}}],(function(e,t,n){return e.fieldNames(T(T({},t),n))}));return t._getFormObject=function(){return r(t.state,t.props)},t._getFormDefinition=function(){return n(t.state,t.props)},t._getInitialValues=function(){return l(t.state,t.props)},t._getFieldNames=function(){return c(t.state,t.props)},t}return t=o,(n=[{key:"componentDidUpdate",value:function(e,t){var n=m.ZP.difference(Object.keys(this.state.inlineFields),Object.keys(t.inlineFields));n.length>0&&this.props.dispatch((0,p.j2)(this.props.formName,this._getInitialValues(),n))}},{key:"getChildContext",value:function(){return{registerFormField:this._registerFormField,unregisterFormField:this._unregisterFormField}}},{key:"render",value:function(){var e=this.props,t=e.formName,n=e.overwriteOnInitialValuesChange,r=this._getFormObject(),i=this._getInitialValues(),o=this._getFieldNames();return l.createElement(z,q({},this.props,{overwriteOnInitialValuesChange:n,formObject:r,form:t,fields:o,initialValues:i,validate:this._validate,onSubmit:this._onSubmit,onSubmitSuccess:this._handleSubmitSuccess,onChangeField:this._handleChangeField,submitState:this._state}))}}])&&S(t.prototype,n),r&&S(t,r),o}(l.Component),N(i,"propTypes",{form:s().object,onSubmit:s().func.isRequired,initialValues:s().object,formName:s().string,overwriteOnInitialValuesChange:s().bool}),N(i,"defaultProps",{overwriteOnInitialValuesChange:!1}),N(i,"childContextTypes",{registerFormField:s().func,unregisterFormField:s().func,fieldNames:s().array}),r=o))||r;function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=e[t];e[t]=function(o){for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];var c,s=T({},V.apply(void 0,[i,o].concat(u))||V.apply(void 0,[n,o].concat(u))),f=A(e.fields(o));try{for(f.s();!(c=f.n()).done;){var d=c.value,p=V.apply(void 0,[d[t],o&&H(o,d.name)].concat(u));void 0!==p&&Y(s,d.name,p,r)}}catch(e){f.e(e)}finally{f.f()}return s}}function V(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e}function U(e){return"string"==typeof e?e.split("."):e}function H(e,t){return(0,h.getIn)(e,U(t))}function Y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return t};t=U(t);for(var i=0;i<t.length;i++)i===t.length-1?e[t[i]]=r(e[t[i]],n):e=e[t[i]]=e[t[i]]||{}}},77726:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(32735),i=n(60216),o=n.n(i),a=n(40841),u=n.n(a),l=n(25312),c=n(30558),s=n(65844),f=n(39618),d=n(30728),p=n(6336),h=n(49155),m=n(59354),y=n(82158),v=n(47679);var b,g,w,O,j=(0,v.Z)("div",{target:"e1u5yeuo3"})({name:"1qkb62w",styles:"margin-top:0.5rem;padding:0.5rem"}),S=(0,v.Z)("div",{target:"e1u5yeuo2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),E=(0,v.Z)("div",{target:"e1u5yeuo1"})({name:"1j16od7",styles:"margin-bottom:1rem;padding-bottom:0.5rem"}),_=(0,v.Z)("div",{target:"e1u5yeuo0"})({name:"umwchj",styles:"overflow-y:auto"});function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(){return M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(this,arguments)}var Z=function(e){return"root"===e.id||null==e.id},L=(0,m.k)({entityType:function(e,t){return t.entity?t.entity.name:"collections"},loadingAndErrorWrapper:!1})(b=(0,h.connect)((function(e,t){return{collectionsById:(t.entity||y.ZP).selectors.getExpandedCollectionsById(e),getCollectionIcon:(t.entity||y.ZP).objectSelectors.getIcon}}))((w=g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,i,o=I(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={parentId:"root",searchMode:!1,searchString:!1},t}return t=a,(n=[{key:"getCrumbs",value:function(e,t){var n=this;return e&&e.path?[].concat(k(e.path.map((function(e){return[t[e].name,function(){return n.setState({parentId:e})}]}))),[[e.name]]):[[t.root.name,function(){return n.setState({parentId:t.root.id})}],["Unknown"]]}},{key:"checkHasWritePermissionForItem",value:function(e,t){var n=this.props.collectionsById;return t.has("collection")&&"collection"===e.model?e.can_write:(e.collection_id?n[e.collection_id]:n.root).can_write}},{key:"checkCanWriteToCollectionOrItsChildren",value:function(e){var t=this;return e.can_write||e.children.some((function(e){return t.checkCanWriteToCollectionOrItsChildren(e)}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,i=t.onChange,o=t.collectionsById,a=t.getCollectionIcon,c=t.style,h=t.className,y=t.showSearch,v=void 0===y||y,b=t.showScroll,g=void 0===b||b,w=this.state,j=w.parentId,S=w.searchMode,x=w.searchString,P=new Set(this.props.models),A=this.props.models.filter((function(e){return"collection"!==e})).length>0,D=o[j],R=this.getCrumbs(D,o),I=D&&D.children||[];D&&Z(D)&&P.has("collection")&&(I=[D].concat(k(I))),I=I.filter((function(t){return e.checkCanWriteToCollectionOrItsChildren(t)})),I=I.map((function(e){return C(C({},e),{},{model:"collection"})}));var T,N,q=function(e){return e&&("collection"===e.model&&null===e.id?"root":e.id)},M=function(e){return e&&n&&q(e)===q(n)&&(1===P.size||e.model===n.model)};return r.createElement(d.default,{loading:!o,className:u()({"scroll-y":g})},r.createElement("div",{style:c,className:u()(h,"scroll-y")},S?r.createElement(E,{className:"border-bottom flex align-center","data-testid":"item-picker-header"},r.createElement("input",{type:"search",className:"input rounded flex-full",placeholder:(0,l.t)(O||(T=["Search"],N||(N=T.slice(0)),O=Object.freeze(Object.defineProperties(T,{raw:{value:Object.freeze(N)}})))),autoFocus:!0,onKeyPress:function(t){"Enter"===t.key&&e.setState({searchString:t.target.value})}}),r.createElement(s.ZP,{name:"close",className:"ml-auto pl2 text-light text-medium-hover cursor-pointer",onClick:function(){return e.setState({searchMode:null,searchString:null})}})):r.createElement(E,{className:"border-bottom flex align-center","data-testid":"item-picker-header"},r.createElement(f.default,{crumbs:R}),v&&r.createElement(s.ZP,{name:"search",className:"ml-auto pl2 text-light text-medium-hover cursor-pointer",onClick:function(){return e.setState({searchMode:!0})}})),r.createElement(_,{"data-testid":"item-picker-list"},x?null:I.map((function(t){var n=t.children&&t.children.length>0&&!Z(t)||A,o=P.has("collection")&&t.can_write,u=a(t);return o||n?r.createElement(B,{key:"collection-".concat(t.id),item:t,name:t.name,color:(0,p.$_)(u.color)||(0,p.$_)("text-light"),icon:u,selected:o&&M(t),canSelect:o,hasChildren:n,onChange:function(e){return Z(e)?i({id:null,model:"collection"}):i(e)},onChangeParentId:function(t){return e.setState({parentId:t})}}):null})),(A||x)&&r.createElement(m.Z,{entityType:"search",entityQuery:C(C({},x?{q:x}:{collection:j}),1===P.size?{models:Array.from(P)}:{}),wrapped:!0},(function(t){var n=t.list;return r.createElement("div",null,n.map((function(t){var n=e.checkHasWritePermissionForItem(t,P);return n&&P.has(t.model)&&("collection"!==t.model||x)?r.createElement(B,{key:t.id,item:t,name:t.getName(),color:t.getColor(),icon:t.getIcon().name,selected:M(t),canSelect:n,onChange:i}):null})))})))))}}])&&D(t.prototype,n),i&&D(t,i),a}(r.Component),q(g,"propTypes",{value:o().number,types:o().array,showSearch:o().bool,showScroll:o().bool}),b=w))||b)||b,B=function(e){var t=e.item,n=e.name,i=e.icon,o=e.color,a=e.selected,l=e.canSelect,f=e.hasChildren,d=e.onChange,p=e.onChangeParentId,h=c.ZP.isObject(i)?i:{name:i};return r.createElement(j,{mt:1,p:1,onClick:l?function(){return d(t)}:f?function(){return p(t.id)}:null,className:u()("rounded",{"bg-brand text-white":a,"bg-brand-hover text-white-hover cursor-pointer":l||f}),"data-testid":"item-picker-item"},r.createElement(S,null,r.createElement(s.ZP,M({size:22},h,{color:a?"white":o})),r.createElement("h4",{className:"mx1"},n),f&&r.createElement(s.ZP,{name:"chevronright",className:u()("p1 ml-auto circular text-light border-grey-2 bordered bg-white-hover cursor-pointer",{"bg-brand-hover":!l}),onClick:function(e){e.stopPropagation(),p(t.id)}})))}},37220:function(e,t,n){"use strict";var r,i=n(32735),o=n(12788),a=n(60216),u=n.n(a),l=n(25312),c=n(4426),s=n(23808);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var d=["value","onChange","className","style","placeholder","inheritWidth"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=300;t.Z=function(e,t,n){var a,f,g,O;return f=a=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,n);var r,a,u,l=b(f);function f(){var e;m(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(w(e=l.call.apply(l,[this].concat(n))),"state",{width:S}),e}return r=f,(a=[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=o.findDOMNode(this).getBoundingClientRect().width;this.state.width!==e&&this.setState({width:e})}},{key:"render",value:function(){var n=this,r=this.props,o=r.value,a=r.onChange,u=r.className,l=r.style,f=r.placeholder,m=r.inheritWidth,y=h(r,d);return i.createElement(c.Z,{pinInitialAttachment:!0,triggerClasses:u,triggerElement:i.createElement(s.Z,{style:l},void 0!==o&&""!==o?i.createElement(t,{id:o}):f),sizeToFit:!0,autoWidth:!0},(function(t){var r=t.onClose;return i.createElement(e,p({},y,{style:m?{width:Math.max(n.state.width,S)}:{minWidth:S},className:"p2 overflow-auto",value:o,onChange:function(e){a(e),r()}}))}))}}])&&y(r.prototype,a),u&&y(r,u),f}(i.Component),j(a,"propTypes",{value:u().number,onChange:u().func.isRequired,field:u().object.isRequired,collectionId:u().number,inheritWidth:u().bool}),j(a,"defaultProps",{placeholder:(0,l.t)(r||(g=["Select a ",""],O||(O=g.slice(0)),r=Object.freeze(Object.defineProperties(g,{raw:{value:Object.freeze(O)}}))),n),inheritWidth:!0}),f}},46508:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(32735),i=n(12788),o=n(60216),a=n.n(o),u=n(17107),l=n(30558),c=n(55446),s=n(65844),f=n(2818),d=n(40841),p=n.n(d),h=n(6336),m=n(70069),y=n(25666);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var b=function(e){var t,n=e.style,i=e.sections,o=e.row,a=e.onChange,u=e.itemIsSelected,l=e.itemIsClickable,c=e.sectionIsExpanded,f=e.canToggleSections,d=e.alwaysExpanded,b=e.toggleSection,g=e.renderSectionIcon,w=e.renderSectionExtra,O=e.renderItemName,j=e.renderItemDescription,S=e.renderItemIcon,E=e.renderItemExtra,_=e.renderItemWrapper,x=e.searchText,P=e.onChangeSearchText,C=e.searchPlaceholder,k=e.showItemArrows,A=e.itemTestId,D=e.getItemClassName,R=e.searchInputProps,I=e.hasCursor,T=o.type,N=o.section,q=o.sectionIndex,M=o.item,Z=o.itemIndex,L=o.isLastItem;if("header"===T)if(d)t=r.createElement("div",{className:"pt2 mb1 mx2 h5 text-uppercase text-bold",style:{color:h.$_}},N.name);else{var B=g(N,q),z=w(N,q),F=N.name;t=r.createElement("div",{className:p()("List-section-header px2 py2 flex align-center hover-parent hover--opacity",{"List-section-header--cursor":I,"cursor-pointer":f,"text-brand":c(q)}),onClick:f?function(){return b(q)}:void 0},B&&r.createElement("span",{className:"List-section-icon mr1 flex align-center"},B),F&&r.createElement("h3",{className:"List-section-title text-wrap"},F),z,i.length>1&&N.items&&N.items.length>0&&r.createElement("span",{className:"flex-align-right ml1 hover-child"},r.createElement(s.ZP,{name:c(q)?"chevronup":"chevrondown",size:12})))}else if("header-hidden"===T)t=r.createElement("div",{className:"my1"});else if("loading"===T)t=r.createElement("div",{className:"m1 flex layout-centered"},r.createElement(m.Z,null));else if("search"===T)t=r.createElement(y.default,v({autoFocus:!0,hasClearButton:!0,className:"bg-white m1",onChange:P,value:x,placeholder:C},R));else if("item"===T){var Q=u(M,Z),V=l(M,Z),U=S(M,Z,Q),H=O(M,Z,Q),Y=j(M,Z,Q);t=r.createElement("div",{"data-testid":A,role:"option","aria-selected":Q,className:p()("List-item flex mx1",{"List-item--selected":Q,"List-item--disabled":!V,"List-item--cursor":I,mb1:L},D(M,Z))},r.createElement("span",{className:p()("p1 flex-auto flex align-center",V?"cursor-pointer":"cursor-default"),onClick:V?function(){return a(M)}:void 0},U&&r.createElement("span",{className:"List-item-icon text-default flex align-center"},U),r.createElement("div",null,H&&r.createElement("h4",{className:"List-item-title ml1 text-wrap"},H),Y&&r.createElement("p",{className:"List-item-description ml1 text-wrap"},Y))),E(M,Z,Q),k&&r.createElement("div",{className:"List-item-arrow flex align-center px1"},r.createElement(s.ZP,{name:"chevronright",size:8}))),_&&(t=_(t,M))}return r.createElement("div",{style:n,"aria-expanded":c,className:p()("List-section",N.className,{"List-section--expanded":c(q),"List-section--togglable":f})},t)};var g,w,O,j,S=(0,n(47679).Z)("div",{target:"efx97b50"})({name:"2886uo",styles:"outline:none;overflow:auto"}),E=function(e,t){return e.itemIndex===t.itemIndex&&e.sectionIndex===t.sectionIndex},_=function e(t,n,r,i,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!t)return e({sectionIndex:0,itemIndex:null},n,r,i,o,!1);for(var u=t.sectionIndex;u<n.length;u++){var l=n[u],c={sectionIndex:u,itemIndex:null},s=t.sectionIndex===u&&null!=t.itemIndex;if(!s&&(!a||!E(t,c))&&i)return c;if(r(u))for(var f=u===t.sectionIndex&&null!==(d=t.itemIndex)&&void 0!==d?d:0;f<l.items.length;f++){var d,p=l.items[f],h={sectionIndex:u,itemIndex:f};if((!a||!E(t,h))&&o(p))return h}}return t};function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=R(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function R(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z,F,Q,V,U,H,Y=(j=O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(s,e);var t,n,o,a=q(s);function s(e,t){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),B(Z(n=a.call(this,e,t)),"toggleSection",(function(e){var t=n.props,r=t.sections,i=t.onChangeSection;i&&!1===i(r[e],e)||(n.getOpenSection()===e&&(e=null),n.setState({openSection:e}))})),B(Z(n),"handleChange",(function(e){n.props.onChange&&n.props.onChange(e)})),B(Z(n),"handleChangeSearchText",(function(e){n.setState({searchText:e,cursor:null})})),B(Z(n),"searchPredicate",(function(e,t){var r=n.props,i=r.searchCaseInsensitive,o=r.searchFuzzy,a=n.state.searchText,u=t.split("."),l=String((0,c.getIn)(e,u)||"");return i&&(l=l.toLowerCase(),a=a.toLowerCase()),o?l.indexOf(a)>=0:l.startsWith(a)})),B(Z(n),"checkSectionHasItemsMatchingSearch",(function(e,t){return e.items.filter(t).length>0})),B(Z(n),"getFirstSelectedItemCursor",(function(){for(var e=n.props,t=e.sections,r=e.itemIsSelected,i=0;i<t.length;i++)for(var o=t[i],a=0;a<(null===(u=o.items)||void 0===u?void 0:u.length);a++){var u;if(r(o.items[a]))return{sectionIndex:i,itemIndex:a}}return null})),B(Z(n),"getInitialCursor",(function(){var e=n.state,t=e.cursor,r=e.searchText;return null!=t?t:0===r.length?n.getFirstSelectedItemCursor():null})),B(Z(n),"handleKeyDown",(function(e){if("ArrowUp"===e.key){e.preventDefault();var t=function(e,t,n,r,i){if(!e)return _({sectionIndex:0,itemIndex:null},t,n,r,i,!1);for(var o=e.sectionIndex;o>=0;o--){var a=t[o];if((e.sectionIndex!==o||null!=e.itemIndex)&&n(o))for(var u=o===e.sectionIndex?null!==(l=e.itemIndex)&&void 0!==l?l:0:a.items.length-1;u>=0;u--){var l,c=a.items[u],s={sectionIndex:o,itemIndex:u};if(!E(e,s)&&i(c))return s}var f={sectionIndex:o,itemIndex:null};if(!E(e,f)){if(r)return f;n(o)}}return e}(n.getInitialCursor(),n.props.sections,n.isSectionExpanded,!n.props.alwaysExpanded,n.searchFilter);return n.setState({cursor:t,scrollToAlignment:"auto"})}if("ArrowDown"===e.key){e.preventDefault();var r=_(n.getInitialCursor(),n.props.sections,n.isSectionExpanded,!n.props.alwaysExpanded,n.searchFilter);return n.setState({cursor:r,scrollToAlignment:"auto"})}if("Enter"===e.key){var i=n.state.cursor;if(!i)return;if(!(null!=i.sectionIndex&&null==i.itemIndex)){var o=n.props.sections[i.sectionIndex].items[i.itemIndex];return void n.props.onChange(o)}n.toggleSection(i.sectionIndex)}var a=n.getRows().findIndex((function(e){return"search"===e.type}));a>=0&&n._list.scrollToRow(a)})),B(Z(n),"searchFilter",(function(e){var t=n.props.searchProp,r=n.state.searchText;return!r||0===r.length||("string"==typeof t?n.searchPredicate(e,t):Array.isArray(t)?t.map((function(t){return n.searchPredicate(e,t)})).reduce((function(e,t){return e||t})):void 0)})),function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}(Z(n),"getRowsCached",w,Z(n)),B(Z(n),"isVirtualized",(function(){return n.props.maxHeight!==1/0})),B(Z(n),"canToggleSections",(function(){var e=n.props,t=e.alwaysTogglable,r=e.sections;return t||r.length>1})),B(Z(n),"isRowSelected",(function(e){if(!n.state.cursor)return!1;var t=n.state.cursor,r=t.sectionIndex,i=t.itemIndex;return e.sectionIndex===r&&(e.itemIndex===i||null==i&&null==e.itemIndex)})),B(Z(n),"isSectionExpanded",(function(e){var t=n.getOpenSection();return n.props.alwaysExpanded||t===e})),B(Z(n),"handleSearchRemoval",(function(){var e;null===(e=n.container)||void 0===e||e.focus()})),void 0!==e.initiallyOpenSection&&(r=e.initiallyOpenSection),void 0===r&&-1===(r=l.ZP.findIndex(e.sections,(function(e,t){return n.sectionIsSelected(e,t)})))&&(r=void 0),void 0===r&&(r=0),n.state={openSection:r,searchText:"",cursor:null,scrollToAlignment:"start"},n._cache=new u.t1({fixedWidth:!0,minHeight:10}),n}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.container=i.findDOMNode(this),this._forceUpdateList(),setTimeout((function(){!e.container.contains(document.activeElement)&&e.props.hasInitialFocus&&e.container.focus();var t=e._initialSelectedRowIndex;!e._list||null==t||t>=e._startIndex&&t<=e._stopIndex||e._list.scrollToRow(t)}),0)}},{key:"componentDidUpdate",value:function(e,t){this.state.openSection===t.openSection&&this.state.searchText===t.searchText||this._clearRowHeightCache()}},{key:"componentWillUnmount",value:function(){null!=this._forceUpdateTimeout&&(clearTimeout(this._forceUpdateTimeout),this._forceUpdateTimeout=null)}},{key:"_clearRowHeightCache",value:function(){var e=this;this._cache.clearAll(),this._forceUpdateTimeout=setTimeout((function(){e._forceUpdateTimeout=null,e._forceUpdateList()}))}},{key:"_forceUpdateList",value:function(){this._list&&(this._list.invalidateCellSizeAfterRender({columnIndex:0,rowIndex:0}),this._list.forceUpdateGrid(),this.forceUpdate())}},{key:"getOpenSection",value:function(){if(1===this.props.sections.length)return 0;var e=this.state.openSection;if(void 0===e){var t,n=D(this.props.sections.entries());try{for(n.s();!(t=n.n()).done;){var r=A(t.value,2),i=r[0],o=r[1];if(this.sectionIsSelected(o,i)){e=i;break}}}catch(e){n.e(e)}finally{n.f()}}return e}},{key:"sectionIsSelected",value:function(e,t){for(var n=this,r=this.props.sections,i=null,o=0;o<r.length;o++)if(l.ZP.some(r[o].items,(function(e){return n.props.itemIsSelected(e)}))){i=o;break}return i===t}},{key:"getRows",value:function(){var e=this.props,t=e.searchable,n=e.sections,r=e.alwaysTogglable,i=e.alwaysExpanded,o=e.hideSingleSectionTitle,a=e.itemIsSelected,u=e.hideEmptySectionsInSearch,l=this.getOpenSection();return this.getRowsCached(this.searchFilter,t,n,r,i,o,a,u,l)}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.style,o=t.className,a=t.sections,l=this.state,c=l.cursor,s=l.scrollToAlignment,f=this.getRows(),d=null!=c?f.findIndex(this.isRowSelected):void 0,p=f.findIndex((function(e){return"search"===e.type}));if(!this.isVirtualized())return r.createElement(S,{role:"tree",onKeyDown:this.handleKeyDown,tabIndex:-1,className:o,style:k({width:this.props.width},i)},f.map((function(t,n){return r.createElement(b,P({key:n},e.props,{row:t,sections:a,onChange:e.handleChange,searchText:e.state.searchText,onChangeSearchText:e.handleChangeSearchText,sectionIsExpanded:e.isSectionExpanded,canToggleSections:e.canToggleSections(),toggleSection:e.toggleSection,hasCursor:e.isRowSelected(f[n])}))})));var h=this.props.maxHeight>0&&this.props.maxHeight<1/0?this.props.maxHeight:window.innerHeight,m=this.props.width,y=Math.min(h,f.reduce((function(t,n,r){return t+e._cache.rowHeight({index:r})}),0));return r.createElement(u.aV,{id:n,ref:function(t){return e._list=t},className:o,style:k(k({},{overflowY:"auto",outline:"none"}),i),containerStyle:{pointerEvents:"auto"},width:m,height:y,rowCount:f.length,deferredMeasurementCache:this._cache,rowHeight:this._cache.rowHeight,overscanRowCount:100,scrollToIndex:d,scrollToAlignment:s,containerProps:{onKeyDown:this.handleKeyDown},rowRenderer:function(t){var n=t.key,i=t.index,o=t.parent,l=t.style;return r.createElement(u.Z8,{cache:e._cache,columnIndex:0,key:n,rowIndex:i,parent:o},(function(t){return t.measure,r.createElement(b,P({hasCursor:e.isRowSelected(f[i])},e.props,{style:l,row:f[i],sections:a,onChange:e.handleChange,searchText:e.state.searchText,onChangeSearchText:e.handleChangeSearchText,sectionIsExpanded:e.isSectionExpanded,canToggleSections:e.canToggleSections(),toggleSection:e.toggleSection}))}))},onRowsRendered:function(t){var n=t.startIndex,r=t.stopIndex;e._startIndex=n,e._stopIndex=r,(p<n||p>r)&&e.handleSearchRemoval()}})}}])&&T(t.prototype,n),o&&T(t,o),s}(r.Component),B(O,"propTypes",{style:a().object,className:a().string,id:a().string,width:a().oneOfType([a().string,a().number]),maxHeight:a().number,sections:a().array.isRequired,initiallyOpenSection:a().number,openSection:a().number,onChange:a().func,onChangeSection:a().func,renderSectionIcon:a().func,renderSectionExtra:a().func,renderSearchSection:a().func,itemIsSelected:a().func,itemIsClickable:a().func,renderItemName:a().func,renderItemDescription:a().func,renderItemIcon:a().func,renderItemExtra:a().func,renderItemWrapper:a().func,getItemClassName:a().func,alwaysTogglable:a().bool,alwaysExpanded:a().bool,hideSingleSectionTitle:a().bool,showItemArrows:a().bool,searchable:a().oneOfType([a().bool,a().func]),searchProp:a().oneOfType([a().string,a().array]),searchCaseInsensitive:a().bool,searchFuzzy:a().bool,searchPlaceholder:a().string,searchInputProps:a().object,hideEmptySectionsInSearch:a().bool,hasInitialFocus:a().bool,itemTestId:a().string}),B(O,"defaultProps",{style:{},width:300,searchable:function(e){return e.items&&e.items.length>10},searchProp:"name",searchCaseInsensitive:!0,searchFuzzy:!0,alwaysTogglable:!1,alwaysExpanded:!1,hideSingleSectionTitle:!1,hideEmptySectionsInSearch:!1,renderSectionIcon:function(e){return e.icon&&r.createElement(s.ZP,{name:e.icon,size:18})},renderSectionExtra:function(){return null},itemIsClickable:function(e){return!0},itemIsSelected:function(e){return!1},renderItemName:function(e){return e.name},renderItemDescription:function(e){return e.description},renderItemExtra:function(e){return null},renderItemIcon:function(e){return e.icon&&r.createElement(s.ZP,{name:e.icon,size:18})},getItemClassName:function(e){return e.className},hasInitialFocus:!0}),z=(g=j).prototype,F="getRowsCached",Q=[f.HP],V={configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,r,i,o,a,u,l,c){var s,f=function(e){return o||c===e},d=function(e){return n&&("function"!=typeof n||n(r[e]))},p=!1,h=[],m=D(r.entries());try{for(m.s();!(s=m.n()).done;){var y=A(s.value,2),v=y[0],b=y[1],g=v===r.length-1;if(b.name&&(!a||r.length>1||i)?n&&l&&!e.checkSectionHasItemsMatchingSearch(b,t)||h.push({type:"header",section:b,sectionIndex:v,isLastSection:g}):h.push({type:"header-hidden",section:b,sectionIndex:v,isLastSection:g}),d(v)&&f(v)&&b.items&&b.items.length>0&&!b.loading&&(o?p=!0:h.push({type:"search",section:b,sectionIndex:v,isLastSection:g})),f(v)&&b.items&&b.items.length>0&&!b.loading){var w,O=D(b.items.entries());try{for(O.s();!(w=O.n()).done;){var j=A(w.value,2),S=j[0],E=j[1];if(t(E)){var _=S===b.items.length-1;u(E)&&(e._initialSelectedRowIndex=h.length),h.push({type:"item",section:b,sectionIndex:v,isLastSection:g,item:E,itemIndex:S,isLastItem:_})}}}catch(e){O.e(e)}finally{O.f()}}f(v)&&b.loading&&h.push({type:"loading",section:b,sectionIndex:v,isLastSection:g})}}catch(e){m.e(e)}finally{m.f()}return p&&h.unshift({type:"search",section:{},sectionIndex:0,isLastSection:!1}),h}}},H={},Object.keys(V).forEach((function(e){H[e]=V[e]})),H.enumerable=!!H.enumerable,H.configurable=!!H.configurable,("value"in H||H.initializer)&&(H.writable=!0),H=Q.slice().reverse().reduce((function(e,t){return t(z,F,e)||e}),H),U&&void 0!==H.initializer&&(H.value=H.initializer?H.initializer.call(U):void 0,H.initializer=void 0),void 0===H.initializer&&(Object.defineProperty(z,F,H),H=null),w=H,g)},97832:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(47679),i=n(40841),o=n.n(i),a=n(32735),u=n(71362),l=n(30558),c=n(65844);var s=(0,r.Z)("button",{target:"emiw9oj2"})({name:"ozd7xs",styles:"flex-shrink:0"}),f=(0,r.Z)("div",{target:"emiw9oj1"})("display:flex;flex-direction:",(function(e){return e.iconVertical?"column":"row"}),";align-items:center;justify-content:center;min-width:",(function(e){return e.iconVertical?"60px":""}),";"),d={name:"1e4sizb",styles:"margin-top:0.5rem"},p={name:"1gok8e8",styles:"margin-bottom:0.5rem"},h={name:"uaob3j",styles:"margin-left:0.5rem"},m={name:"u7ytkp",styles:"margin-right:0.5rem"},y=(0,r.Z)("div",{target:"emiw9oj0"})((function(e){if(e.hasIcon)return e.iconVertical?d:h})," ",(function(e){if(e.hasRightIcon)return e.iconVertical?p:m}),";"),v=["className","icon","iconRight","iconSize","iconColor","iconVertical","labelBreakpoint","children"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w=["small","medium","large","round","primary","danger","warning","cancel","success","purple","white","borderless","onlyIcon","fullWidth"],O=(0,a.forwardRef)((function(e,t){var n,r,i,u=e.className,d=e.icon,p=e.iconRight,h=e.iconSize,m=e.iconColor,O=e.iconVertical,j=void 0!==O&&O,S=e.labelBreakpoint,E=e.children,_=g(e,v),x=w.filter((function(e){return _[e]})).map((function(e){return"Button--"+e}));return a.createElement(s,b({},l.ZP.omit.apply(l.ZP,[_].concat(w)),{className:o()("Button",u,x,{p1:!E}),ref:t}),a.createElement(f,{iconVertical:j},d&&a.createElement(c.ZP,{color:m,name:d,size:h||14}),E&&a.createElement(y,{hasIcon:!!d,hasRightIcon:!!p,iconVertical:j,className:o()((n={},r="hide ".concat(S,"-show"),i=!!S,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n))},E),p&&a.createElement(c.ZP,{color:m,name:p,size:h||14})))})),j=(0,r.Z)(O,{target:"eyw0xx60"})(u.$_,";",u.Dh,";");j.displayName="Button";var S=Object.assign(j,{Root:s,Content:f,TextContainer:y})},86147:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(97832)},88637:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(32735),i=n(69312),o=n(47679),a=n(65844),u=n(6336);var l=(0,o.Z)("label",{target:"ekqkkiz5"})({name:"4bgdod",styles:"display:block;position:relative"}),c=(0,o.Z)("input",{target:"ekqkkiz4"})("appearance:none;display:block;position:absolute;left:0;right:0;width:",(function(e){return"".concat(e.size,"px")}),";height:100%;margin:0;padding:0;cursor:",(function(e){return e.disabled?"":"pointer"}),";opacity:0;z-index:1;"),s=(0,o.Z)("span",{target:"ekqkkiz3"})("display:inline-flex;align-items:center;cursor:",(function(e){return e.disabled?"":"pointer"}),";max-width:100%;opacity:",(function(e){return e.disabled?"0.4":""}),";",c,":focus+&{outline:2px solid ",(0,u.$_)("focus"),";}",c,":focus:not(:focus-visible)+&{outline:none;}"),f=(0,o.Z)(a.ZP,{target:"ekqkkiz2"})("display:block;color:",(function(e){return(0,u.$_)(e.checked?"white":e.uncheckedColor)}),";width:",(function(e){return"".concat(e.size,"px")}),";height:",(function(e){return"".concat(e.size,"px")}),";"),d=(0,o.Z)("span",{target:"ekqkkiz1"})("display:flex;justify-content:center;align-items:center;min-width:",(function(e){return"".concat(e.size,"px")}),";width:",(function(e){return"".concat(e.size,"px")}),";height:",(function(e){return"".concat(e.size,"px")}),";border:0.125rem solid ",(function(e){return(0,u.$_)(e.checked?e.checkedColor:e.uncheckedColor)}),";border-radius:0.25rem;background-color:",(function(e){return(0,u.$_)(e.checked?e.checkedColor:"bg-white")}),";"),p=(0,o.Z)("span",{target:"ekqkkiz0"})("display:block;margin-left:0.5rem;",(function(e){return e.labelEllipsis?";\n         overflow: hidden;\n         text-overflow: ellipsis;\n         white-space: nowrap;\n         ":""}),";");var h=["label","labelEllipsis","checked","indeterminate","disabled","size","checkedColor","uncheckedColor","autoFocus","onChange","onFocus","onBlur"];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){var t=e.hasTooltip,n=e.tooltipLabel,o=e.children;return t?r.createElement(i.Z,{tooltip:n},o):r.createElement(r.Fragment,null,o)}var b=(0,r.forwardRef)((function(e,t){var n,i=e.label,o=e.labelEllipsis,a=void 0!==o&&o,u=e.checked,b=e.indeterminate,g=e.disabled,w=void 0!==g&&g,O=e.size,j=void 0===O?16:O,S=e.checkedColor,E=void 0===S?"brand":S,_=e.uncheckedColor,x=void 0===_?"text-light":_,P=e.autoFocus,C=e.onChange,k=e.onFocus,A=e.onBlur,D=y(e,h),R=!!C,I=(0,r.useRef)(null),T=I.current&&(n=I.current).offsetWidth<n.scrollWidth;return r.createElement(l,m({ref:t},D),r.createElement(v,{hasTooltip:!(!a||!T),tooltipLabel:i},r.createElement(c,{type:"checkbox",checked:R?!!u:void 0,defaultChecked:R?void 0:!!u,size:j,disabled:w,autoFocus:P,onChange:R?C:void 0,onFocus:k,onBlur:A}),r.createElement(s,{disabled:w},r.createElement(d,{checked:u,size:j,checkedColor:E,uncheckedColor:x},(u||b)&&r.createElement(f,{name:b?"dash":"check",checked:!!u,size:j-4,uncheckedColor:x})),i&&((0,r.isValidElement)(i)?i:r.createElement(p,{labelEllipsis:a,ref:I},i)))))})),g=Object.assign(b,{Label:p})},98111:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(32735),i=n(29502),o=n(47679),a=n(6336),u=(0,o.Z)("a",{target:"e1esz5s90"})("&:focus{outline:2px solid ",(0,a.$_)("focus"),";}&:focus:not(:focus-visible){outline:none;}"),l=["href","target","className","children"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=(0,r.forwardRef)((function(e,t){var n=e.href,o=e.target,a=void 0===o?(0,i.U2)(n):o,f=e.className,d=e.children,p=s(e,l);return r.createElement(u,c({ref:t,href:n,className:f||"link",target:a,rel:"noopener noreferrer",onClickCapture:function(e){return e.stopPropagation()}},p),d)}))},20246:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(32735),i=n(65844),o=n(69312),a=n(47679),u=n(75246),l=n(6336),c=n(29464);var s=(0,a.Z)("div",{target:"edcfyzd4"})("display:inline-flex;align-items:center;position:relative;width:",(function(e){return e.fullWidth?"100%":""}),";"),f={name:"1dsu7zv",styles:"padding-right:2.25rem"},d={name:"1v7037j",styles:"padding-left:2.25rem"},p={name:"1d3w5wq",styles:"width:100%"},h=(0,a.Z)("input",{target:"edcfyzd3"})("font-family:inherit;font-weight:700;font-size:1rem;color:",(0,l.$_)("text-dark"),";padding:0.75rem;border:1px solid ",(0,l._j)("border",.1),";border-radius:4px;background-color:",(function(e){return(0,l.$_)(e.readOnly?"bg-light":"bg-white")}),";outline:none;text-align:inherit;&:focus{border-color:",(0,l.$_)("brand"),";transition:border 300ms ease-in-out;}",(function(e){return e.hasError&&(0,u.iv)("border-color:",(0,l.$_)("error"),";","")}),";",(function(e){return e.fullWidth&&p})," ",(function(e){return e.hasLeftIcon&&d}),";",(function(e){return e.hasRightIcon&&f}),";"),m=(0,a.Z)(c.default,{target:"edcfyzd2"})("position:absolute;color:",(0,l.$_)("text-light"),";padding:0.75rem;border-radius:50%;"),y=(0,a.Z)(m,{target:"edcfyzd1"})({name:"1ode3cm",styles:"left:0"}),v=(0,a.Z)(m,{target:"edcfyzd0"})({name:"1wf8jf",styles:"right:0"}),b=["className","style","inputRef","error","fullWidth","leftIcon","leftIconTooltip","rightIcon","rightIconTooltip","onLeftIconClick","onRightIconClick"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var O=(0,r.forwardRef)((function(e,t){var n=e.className,a=e.style,u=e.inputRef,l=e.error,c=e.fullWidth,f=e.leftIcon,d=e.leftIconTooltip,p=e.rightIcon,m=e.rightIconTooltip,O=e.onLeftIconClick,j=e.onRightIconClick,S=w(e,b);return r.createElement(s,{ref:t,className:n,style:a,fullWidth:c},r.createElement(h,g({},S,{ref:u,hasError:l,fullWidth:c,hasRightIcon:Boolean(p)})),f&&r.createElement(o.Z,{tooltip:d,placement:"left",offset:[0,24]},r.createElement(y,{tabIndex:-1,onClick:O},r.createElement(i.ZP,{name:f}))),p&&r.createElement(o.Z,{tooltip:m,placement:"right",offset:[0,24]},r.createElement(v,{tabIndex:-1,onClick:j},r.createElement(i.ZP,{name:p}))))})),j=O},4843:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(32735),i=n(69312),o=n(47679),a=n(71362),u=n(42881),l=n(6336),c=n(87117),s=(0,o.Z)(u.rU,{shouldForwardProp:c.X,target:"emeibx70"})(a.jf,";",a.Dh,";",a.Mr,";",a.$_,";opacity:",(function(e){return e.disabled?"0.4":""}),";pointer-events:",(function(e){return e.disabled?"none":""}),";transition:opacity 0.3s linear;&:focus{outline:2px solid ",(0,l.$_)("focus"),";}&:focus:not(:focus-visible){outline:none;}"),f=["to","children","disabled","tooltip"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h=Object.assign((function(e){var t=e.to,n=e.children,o=e.disabled,a=e.tooltip,u=p(e,f),l=r.createElement(s,d({},u,{to:t,disabled:o,tabIndex:o?-1:void 0,"aria-disabled":o}),n);return a?r.createElement(i.Z,{tooltip:a},l):l}),{Root:s})},98912:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(32735),i=n(30558),o=n(47679),a=n(6336);var u=(0,o.Z)("div",{target:"e1wsrfy612"})("display:flex;flex-direction:",(function(e){return e.vertical?"column":"row"}),";"),l=(0,o.Z)(u,{target:"e1wsrfy611"})({name:"1efi8gv",styles:"font-weight:bold"}),c=(0,o.Z)(u,{target:"e1wsrfy610"})({name:"zjik7",styles:"display:flex"}),s=(0,o.Z)("label",{target:"e1wsrfy69"})({name:"4zleql",styles:"display:block"}),f=(0,o.Z)(s,{target:"e1wsrfy68"})("&:not(:last-child){margin-right:",(function(e){return e.vertical?"":"2rem"}),";margin-bottom:",(function(e){return e.vertical?"0.5rem":""}),";}"),d=(0,o.Z)(s,{target:"e1wsrfy67"})("&:not(:last-child){margin-right:",(function(e){return e.vertical?"":"0.5rem"}),";margin-bottom:",(function(e){return e.vertical?"0.5rem":""}),";}"),p=(0,o.Z)("input",{target:"e1wsrfy66"})({name:"ixhrh5",styles:"appearance:none;display:block;margin:0;padding:0"}),h=(0,o.Z)("div",{target:"e1wsrfy65"})("display:flex;align-items:center;cursor:",(function(e){return e.disabled?"":"pointer"}),";&:hover{color:",(function(e){return e.checked||e.showButtons?"":w(e.colorScheme)}),";}",p,":focus+&{outline:2px solid ",(0,a.$_)("focus"),";}",p,":focus:not(:focus-visible)+&{outline:none;}"),m=(0,o.Z)(h,{target:"e1wsrfy64"})("color:",(function(e){return e.checked?w(e.colorScheme):""}),";"),y=(0,o.Z)(h,{target:"e1wsrfy63"})("color:",(function(e){return e.checked?w(e.colorScheme):""}),";border-bottom:3px solid ",(function(e){return e.checked?w(e.colorScheme):"transparent"}),";padding:1rem 0;"),v=(0,o.Z)(h,{target:"e1wsrfy62"})("padding:0.5rem 1rem;border-radius:10rem;font-weight:bold;color:",(function(e){return e.checked?(0,a.$_)("white"):w(e.colorScheme)}),";background-color:",(function(e){return e.checked?w(e.colorScheme):(0,a.$n)(w(e.colorScheme))}),";&:hover{background-color:",(function(e){return e.checked?"":(0,a.$n)(w(e.colorScheme),.38)}),";transition:background-color 300ms linear;}"),b=(0,o.Z)("span",{target:"e1wsrfy61"})("display:block;flex:0 0 auto;width:0.75rem;height:0.75rem;margin-right:0.5rem;border:2px solid white;border-radius:0.75rem;box-shadow:0 0 0 2px ",(function(e){return e.checked?w(e.colorScheme):(0,a.$_)("text-medium")}),";background-color:",(function(e){return e.checked?w(e.colorScheme):"transparent"}),";"),g=(0,o.Z)("span",{target:"e1wsrfy60"})({name:"4zleql",styles:"display:block"}),w=function(e){switch(e){case"default":return(0,a.$_)("brand");case"accent7":return(0,a.$_)("accent7")}},O=["name","value","options","optionKeyFn","optionNameFn","optionValueFn","variant","colorScheme","disabled","vertical","showButtons","onChange","onOptionClick"];function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _={normal:{RadioGroup:l,RadioLabel:f,RadioContainer:m},underlined:{RadioGroup:l,RadioLabel:f,RadioContainer:y},bubble:{RadioGroup:c,RadioLabel:d,RadioContainer:v}};function x(e,t){var n=e.name,o=e.value,a=e.options,u=e.optionKeyFn,l=void 0===u?k:u,c=e.optionNameFn,s=void 0===c?A:c,f=e.optionValueFn,d=void 0===f?D:f,p=e.variant,h=void 0===p?"normal":p,m=e.colorScheme,y=void 0===m?"default":m,v=e.disabled,b=void 0!==v&&v,g=e.vertical,w=void 0!==g&&g,j=e.showButtons,x=void 0===j?w&&"bubble"!==h:j,P=e.onChange,R=e.onOptionClick,I=E(e,O),T=_[h].RadioGroup,N=(0,r.useMemo)((function(){return null!=n?n:i.ZP.uniqueId("radio-")}),[n]);return r.createElement(T,S({},I,{role:"radiogroup",ref:t,variant:h,vertical:w}),a.map((function(e){var t=l(e),n=s(e),i=d(e),a=o===i;return r.createElement(C,{key:t,name:N,checked:a,label:n,value:i,variant:h,colorScheme:y,disabled:b,vertical:w,showButtons:x,onChange:P,onOptionClick:R})})))}var P=(0,r.forwardRef)(x),C=function(e){var t=e.checked,n=e.name,i=e.label,o=e.value,a=e.variant,u=e.colorScheme,l=e.disabled,c=e.vertical,s=e.showButtons,f=e.onChange,d=e.onOptionClick,h=_[a],m=h.RadioLabel,y=h.RadioContainer,v=(0,r.useCallback)((function(){f&&f(o)}),[o,f]),w=(0,r.useCallback)((function(){d&&d(o)}),[o,d]);return r.createElement(m,{variant:a,vertical:c,onClick:w},r.createElement(p,{type:"radio",name:n,value:o,checked:t,disabled:l,onChange:v}),r.createElement(y,{checked:t,variant:a,colorScheme:u,disabled:l,showButtons:s},s&&r.createElement(b,{checked:t,colorScheme:u}),r.createElement(g,null,i)))},k=function(e){if(R(e))return e.value;throw new TypeError},A=function(e){if(R(e))return e.name;throw new TypeError},D=function(e){if(R(e))return e.value;throw new TypeError};function R(e){return"object"===j(e)}var I=Object.assign(P,{RadioGroupVariants:[c,l],RadioLabelVariants:[d,f,g],RadioContainerVariants:[v,m,y]})},50942:function(e,t,n){"use strict";n.d(t,{Wx:function(){return K},ZP:function(){return W}});var r=n(32735),i=n(60216),o=n.n(i),a=n(65844),u=n(4426),l=n(23808),c=n(30558),s=n(40841),f=n.n(s),d=n(46508),p=n(12463),h=n(6336);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x,P,C,k=function(){return function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(u,t);var n,i,o,a=O(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),_(S(t=a.call(this,e)),"handleChange",(function(e){t.setState({value:e.target.value})})),t.state={value:e.defaultValue},t}return n=u,(i=[{key:"render",value:function(){return void 0!==this.props.value?r.createElement(e,this.props):r.createElement(e,b({},this.props,{value:this.state.value,onChange:this.handleChange}))}}])&&g(n.prototype,i),o&&g(n,o),u}(r.Component),_(t,"displayName","Uncontrollable(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")),_(t,"propTypes",v(v({},e.propTypes),{},{value:o().any,onChange:o().func,defaultValue:o().any})),n}},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){"function"==typeof t&&t(e)}))}};function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Q(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var i=Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=k()((C=P=function(e){F(n,e);var t=V(n);function n(e){var i;L(this,n),G(H(i=t.call(this,e)),"itemIsSelected",(function(e){var t=i.props.optionValueFn(e);return i._getValuesSet().has(t)})),G(H(i),"itemIsClickable",(function(e){return!i.props.optionDisabledFn(e)})),G(H(i),"handleChange",(function(e){var t,n=i.props,r=n.multiple,o=n.onChange,a=i.props.optionValueFn(e);if(r){var u=i._getValues();t=i.itemIsSelected(e)?u.filter((function(e){return e!==a})):[].concat(q(u),[a])}else t=a;o({target:{value:t}}),r||(i._popover.close(),i.handleClose())})),G(H(i),"renderItemIcon",(function(e){var t=i.props.optionIconFn(e);return t?r.createElement(a.ZP,{name:t,size:e.iconSize||18,color:e.iconColor||(0,h.$_)("text-dark"),style:{minWidth:20}}):i.itemIsSelected(e)?r.createElement(a.ZP,{name:"check",size:14,color:(0,h.$_)("text-dark"),style:{minWidth:20}}):r.createElement("span",{style:{minWidth:20}})})),G(H(i),"handleClose",(function(){setTimeout((function(){var e;null===(e=i.selectButtonRef.current)||void 0===e||e.focus()}),0)}));var o=(0,p.createSelector)([function(e){return Object.prototype.hasOwnProperty.call(e,"defaultValue")&&null==e.value?e.defaultValue:e.value}],(function(e){return Array.isArray(e)?e:[e]})),u=(0,p.createSelector)([o],(function(e){return new Set(e)}));return i._getValues=function(){return o(i.props)},i._getValuesSet=function(){return u(i.props)},i.selectButtonRef=r.createRef(),i}return z(n,[{key:"_getSections",value:function(){var e=this.props,t=e.children,n=e.sections,i=e.options;if(t){var o=function(e){return e.props},a=Array.isArray(t)?t[0]:t;if(a&&a.type===$)return r.Children.map(t,(function(e){return N(N({},e.props),{},{items:r.Children.map(e.props.children,o)})}));if(a&&a.type===K)return[{items:r.Children.map(t,o)}]}else{if(i)return this.props.optionSectionFn?c.ZP.chain(i).groupBy(this.props.optionSectionFn).pairs().map((function(e){var t=I(e,2);return{name:t[0],items:t[1]}})).value():[{items:i}];if(n)return n}return[]}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonProps,i=t.className,o=t.placeholder,a=t.searchProp,c=t.searchCaseInsensitive,s=t.searchPlaceholder,p=t.searchFuzzy,h=t.hideEmptySectionsInSearch,m=t.isInitiallyOpen,y=t.onClose,v=t.disabled,b=this._getSections(),g=b.map((function(t){return t.items.filter(e.itemIsSelected).map(e.props.optionNameFn)})).flat().filter((function(e){return e}));return r.createElement(u.Z,{ref:function(t){return e._popover=t},triggerElement:this.props.triggerElement||r.createElement(l.Z,R({ref:this.selectButtonRef,className:"flex-full",hasValue:g.length>0,disabled:v},n),g.length>0?g.map((function(e,t){return r.createElement("span",{key:t},e,t<g.length-1?", ":"")})):o),onClose:A(y,this.handleClose),triggerClasses:f()("flex",i),isInitiallyOpen:m,disabled:v,verticalAttachments:["top","bottom"],pinInitialAttachment:!0},r.createElement(d.Z,{hasInitialFocus:!0,sections:b,className:"MB-Select text-brand",alwaysExpanded:!0,itemIsSelected:this.itemIsSelected,itemIsClickable:this.itemIsClickable,renderItemName:this.props.optionNameFn,getItemClassName:this.props.optionClassNameFn,renderItemDescription:this.props.optionDescriptionFn,renderItemIcon:this.renderItemIcon,onChange:this.handleChange,searchable:!!a,searchProp:a,searchCaseInsensitive:c,searchFuzzy:p,searchPlaceholder:s,hideEmptySectionsInSearch:h}))}}]),n}(r.Component),G(P,"propTypes",{className:o().string,options:o().any,sections:o().any,children:o().any,value:o().any.isRequired,defaultValue:o().any,onChange:o().func.isRequired,multiple:o().bool,placeholder:o().string,disabled:o().bool,isInitiallyOpen:o().bool,triggerElement:o().any,onClose:o().func,buttonProps:o().object,searchProp:o().string,searchCaseInsensitive:o().bool,searchPlaceholder:o().string,searchFuzzy:o().bool,hideEmptySectionsInSearch:o().bool,optionNameFn:o().func,optionValueFn:o().func,optionDescriptionFn:o().func,optionSectionFn:o().func,optionDisabledFn:o().func,optionIconFn:o().func,optionClassNameFn:o().func}),G(P,"defaultProps",{optionNameFn:function(e){return e.children||e.name},optionValueFn:function(e){return e.value},optionDescriptionFn:function(e){return e.description},optionDisabledFn:function(e){return e.disabled},optionIconFn:function(e){return e.icon}}),x=C))||x,$=function(e){F(n,e);var t=V(n);function n(){return L(this,n),t.apply(this,arguments)}return z(n,[{key:"render",value:function(){return null}}]),n}(r.Component);G($,"propTypes",{name:o().any,icon:o().any,children:o().any.isRequired});var K=function(e){F(n,e);var t=V(n);function n(){return L(this,n),t.apply(this,arguments)}return z(n,[{key:"render",value:function(){return null}}]),n}(r.Component);G(K,"propTypes",{value:o().any.isRequired,name:o().any,children:o().any,icon:o().any,disabled:o().bool})},23808:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(32735),i=n(47679),o=n(6336),a=n(65844);var u=(0,i.Z)("button",{target:"emphlav2"})("cursor:pointer;display:flex;width:",(function(e){return e.fullWidth?"100%":"unset"}),";align-items:center;padding:0.6em;border:1px solid ",(0,o.$_)("border"),";background-color:",(0,o.$_)("white"),";border-radius:8px;font-weight:700;min-width:104px;transition:all 200ms;color:",(function(e){return e.hasValue?(0,o.$_)("text-dark"):(0,o.$_)("text-light")}),";&:focus{border-color:",(0,o.$_)("brand"),";outline:2px solid ",(0,o.$_)("focus"),";}&:not(:focus-visible){outline:none;}&:disabled{background-color:",(0,o.$_)("bg-light"),";color:",(0,o.$_)("text-medium"),";pointer-events:none;}"),l=(0,i.Z)(a.ZP,{target:"emphlav1"})("display:flex;margin-left:auto;color:",(0,o.$_)("text-medium"),";"),c=(0,i.Z)("span",{target:"emphlav0"})({name:"u7ytkp",styles:"margin-right:0.5rem"}),s=["className","style","children","left","hasValue","disabled","fullWidth","onClear"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=(0,r.forwardRef)((function(e,t){var n=e.className,i=e.style,o=e.children,a=e.left,p=e.hasValue,h=void 0===p||p,m=e.disabled,y=e.fullWidth,v=void 0===y||y,b=e.onClear,g=d(e,s),w=(0,r.useCallback)((function(e){b&&(e.stopPropagation(),b())}),[b]),O=(0,r.useMemo)((function(){return h&&b?"close":"chevrondown"}),[h,b]);return r.createElement(u,f({type:"button","data-testid":"select-button",ref:t,className:n,style:i,hasValue:h,disabled:m,fullWidth:v},g),r.isValidElement(a)&&a,r.createElement(c,{"data-testid":"select-button-content"},o),r.createElement(l,{name:O,size:12,onClick:b?w:void 0}))})),h=Object.assign(p,{Root:u})},65629:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(32735),i=n(47679),o=n(6336),a=(0,i.Z)("input",{target:"e1j36t5d0"})("appearance:none;position:relative;display:inline-block;color:",(function(e){var t;return null!==(t=e.currentColor)&&void 0!==t?t:(0,o.$_)("brand")}),";cursor:pointer;width:",(function(e){return e.small?"28px":"48px"}),";height:",(function(e){return e.small?"17px":"24px"}),";border-radius:99px;border:1px solid ",(0,o.$_)("border"),";background-color:",(0,o.$_)("bg-medium"),";background-color:",(function(e){var t=e.checked,n=e.currentColor;return t?null!=n?n:(0,o.$_)("brand"):(0,o.$_)("bg-medium")}),';transition:background-color 0.3s;&:after{content:"";width:',(function(e){return e.small?"13px":"20px"}),";height:",(function(e){return e.small?"13px":"20px"}),";border-radius:99px;position:absolute;top:1px;transform:translateX(",(function(e){var t=e.checked,n=e.small;return t?n?"12px":"25px":"1px"}),");background-color:",(0,o.$_)("white"),";transition:transform 0.3s;box-shadow:2px 2px 6px ",(0,o.$_)("shadow"),";}&:focus{outline:2px solid ",(0,o.$_)("focus"),";}&:focus:not(:focus-visible){outline:none;}"),u=["className","value","small","color","onChange"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=(0,r.forwardRef)((function(e,t){var n=e.className,i=e.value,o=e.small,s=e.color,f=e.onChange,d=c(e,u),p=(0,r.useCallback)((function(e){f&&f(e.currentTarget.checked)}),[f]);return r.createElement(a,l({},d,{ref:t,className:n,type:"checkbox",role:"switch",checked:i,"aria-checked":i,small:o,currentColor:s,onChange:p}))}))},81376:function(e,t,n){"use strict";n.r(t),n.d(t,{INITIALIZE:function(){return z},RESET:function(){return F},SET_EDITING_DASHBOARD:function(){return Q},FETCH_DASHBOARD:function(){return V},SAVE_DASHBOARD_AND_CARDS:function(){return U},SET_DASHBOARD_ATTRIBUTES:function(){return H},ADD_CARD_TO_DASH:function(){return Y},REMOVE_CARD_FROM_DASH:function(){return G},SET_DASHCARD_ATTRIBUTES:function(){return W},SET_MULTIPLE_DASHCARD_ATTRIBUTES:function(){return $},UPDATE_DASHCARD_VISUALIZATION_SETTINGS:function(){return K},UPDATE_DASHCARD_VISUALIZATION_SETTINGS_FOR_COLUMN:function(){return J},REPLACE_ALL_DASHCARD_VISUALIZATION_SETTINGS:function(){return X},UPDATE_DASHCARD_ID:function(){return ee},FETCH_DASHBOARD_CARD_DATA:function(){return te},FETCH_CARD_DATA:function(){return ne},CANCEL_FETCH_DASHBOARD_CARD_DATA:function(){return re},CANCEL_FETCH_CARD_DATA:function(){return ie},MARK_CARD_AS_SLOW:function(){return oe},CLEAR_CARD_DATA:function(){return ae},MARK_NEW_CARD_SEEN:function(){return ue},ADD_PARAMETER:function(){return le},REMOVE_PARAMETER:function(){return ce},SET_PARAMETER_MAPPING:function(){return se},SET_PARAMETER_NAME:function(){return fe},SET_PARAMETER_VALUE:function(){return de},SET_PARAMETER_INDEX:function(){return pe},SET_PARAMETER_DEFAULT_VALUE:function(){return he},SHOW_ADD_PARAMETER_POPOVER:function(){return me},HIDE_ADD_PARAMETER_POPOVER:function(){return ye},FETCH_DASHBOARD_PARAMETER_FIELD_VALUES:function(){return ve},SET_SIDEBAR:function(){return be},CLOSE_SIDEBAR:function(){return ge},SET_SHOW_LOADING_COMPLETE_FAVICON:function(){return we},SET_DOCUMENT_TITLE:function(){return Oe},SET_LOADING_DASHCARDS_COMPLETE:function(){return Se},initialize:function(){return Ee},reset:function(){return _e},setEditingDashboard:function(){return xe},setSidebar:function(){return Pe},closeSidebar:function(){return Ce},setShowLoadingCompleteFavicon:function(){return ke},setSharing:function(){return Ae},showClickBehaviorSidebar:function(){return De},setEditingParameter:function(){return Re},openAddQuestionSidebar:function(){return Ie},markNewCardSeen:function(){return Te},showAddParameterPopover:function(){return Ne},hideAddParameterPopover:function(){return qe},setDashboardAttributes:function(){return Me},setDashCardAttributes:function(){return Ze},setMultipleDashCardAttributes:function(){return Le},addCardToDashboard:function(){return Qe},addDashCardToDashboard:function(){return Ve},addTextDashCardToDashboard:function(){return Ue},saveDashboardAndCards:function(){return He},removeCardFromDashboard:function(){return Ye},clearCardData:function(){return We},fetchDashboardCardData:function(){return $e},cancelFetchDashboardCardData:function(){return Je},cancelFetchCardData:function(){return et},fetchCardData:function(){return nt},markCardAsSlow:function(){return it},fetchDashboard:function(){return ot},UPDATE_ENABLE_EMBEDDING:function(){return at},updateEnableEmbedding:function(){return ut},UPDATE_EMBEDDING_PARAMS:function(){return lt},updateEmbeddingParams:function(){return ct},onUpdateDashCardVisualizationSettings:function(){return st},onUpdateDashCardColumnSettings:function(){return ft},onReplaceAllDashCardVisualizationSettings:function(){return dt},setParameterMapping:function(){return pt},addParameter:function(){return yt},removeParameter:function(){return vt},setParameter:function(){return bt},setParameterName:function(){return gt},setParameterFilteringParameters:function(){return wt},setParameterDefaultValue:function(){return Ot},setParameterIndex:function(){return jt},setParameterValue:function(){return St},setOrUnsetParameterValues:function(){return Et},CREATE_PUBLIC_LINK:function(){return _t},createPublicLink:function(){return xt},DELETE_PUBLIC_LINK:function(){return Pt},deletePublicLink:function(){return Ct},navigateToNewCardFromDashboard:function(){return kt},fetchDashboardParameterValues:function(){return Dt}});var r,i,o=n(55446),a=n(30558),u=n(25312),l=n(24432),c=n(9841),s=n(64671),f=n(11217),d=n(36939),p=n(92065),h=n(15712),m=n(68147),y=n(14178),v=n(98007),b=n(5192),g=n(55433),w=n(38908),O=n(42037),j=n(54479),S=n(46078),E=n(60006),_=n(11093),x=n(90060),P=n(81932),C=n(63614),k=n(25289);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){M(o,r,i,a,u,"next",e)}function u(e){M(o,r,i,a,u,"throw",e)}a(void 0)}))}}var L=new s.fK.Entity("dashcard"),B=new s.fK.Entity("dashboard",{ordered_cards:[L]}),z="metabase/dashboard/INITIALIZE",F="metabase/dashboard/RESET",Q="metabase/dashboard/SET_EDITING_DASHBOARD",V="metabase/dashboard/FETCH_DASHBOARD",U="metabase/dashboard/SAVE_DASHBOARD_AND_CARDS",H="metabase/dashboard/SET_DASHBOARD_ATTRIBUTES",Y="metabase/dashboard/ADD_CARD_TO_DASH",G="metabase/dashboard/REMOVE_CARD_FROM_DASH",W="metabase/dashboard/SET_DASHCARD_ATTRIBUTES",$="metabase/dashboard/SET_MULTIPLE_DASHCARD_ATTRIBUTES",K="metabase/dashboard/UPDATE_DASHCARD_VISUALIZATION_SETTINGS",J="metabase/dashboard/UPDATE_DASHCARD_VISUALIZATION_SETTINGS_FOR_COLUMN",X="metabase/dashboard/REPLACE_ALL_DASHCARD_VISUALIZATION_SETTINGS",ee="metabase/dashboard/UPDATE_DASHCARD_ID",te="metabase/dashboard/FETCH_DASHBOARD_CARD_DATA",ne="metabase/dashboard/FETCH_CARD_DATA",re="metabase/dashboard/CANCEL_FETCH_DASHBOARD_CARD_DATA",ie="metabase/dashboard/CANCEL_FETCH_CARD_DATA",oe="metabase/dashboard/MARK_CARD_AS_SLOW",ae="metabase/dashboard/CLEAR_CARD_DATA",ue="metabase/dashboard/MARK_NEW_CARD_SEEN",le="metabase/dashboard/ADD_PARAMETER",ce="metabase/dashboard/REMOVE_PARAMETER",se="metabase/dashboard/SET_PARAMETER_MAPPING",fe="metabase/dashboard/SET_PARAMETER_NAME",de="metabase/dashboard/SET_PARAMETER_VALUE",pe="metabase/dashboard/SET_PARAMETER_INDEX",he="metabase/dashboard/SET_PARAMETER_DEFAULT_VALUE",me="metabase/dashboard/SHOW_ADD_PARAMETER_POPOVER",ye="metabase/dashboard/HIDE_ADD_PARAMETER_POPOVER",ve="metabase/dashboard/FETCH_DASHBOARD_PARAMETER_FIELD_VALUES",be="metabase/dashboard/SET_SIDEBAR",ge="metabase/dashboard/CLOSE_SIDEBAR",we="metabase/dashboard/SET_SHOW_LOADING_COMPLETE_FAVICON",Oe="metabase/dashboard/SET_DOCUMENT_TITLE",je=(0,l.PH)(Oe),Se="metabase/dashboard/SET_LOADING_DASHCARDS_COMPLETE",Ee=(0,l.PH)(z),_e=(0,l.PH)(F),xe=(0,l.PH)(Q),Pe=(0,l.PH)(be),Ce=(0,l.PH)(ge),ke=(0,l.PH)(we),Ae=function(e){return function(t){t(e?Pe({name:g.T.sharing}):Ce())}},De=function(e){return function(t){t(null!=e?Pe({name:g.T.clickBehavior,props:{dashcardId:e}}):Ce())}},Re=function(e){return function(t){t(null!=e?Pe({name:g.T.editParameter,props:{parameterId:e}}):Ce())}},Ie=function(){return function(e){e(Pe({name:g.T.addQuestion}))}},Te=(0,l.PH)(ue),Ne=(0,l.PH)(me),qe=(0,l.PH)(ye),Me=(0,l.PH)(H),Ze=(0,l.PH)(W),Le=(0,l.PH)($);function Be(){return Math.random()}function ze(e){return e.id<1&&e.id>=0}function Fe(e,t){return e.id!==t.card_id&&!t.series.some((function(t){return t.id===e.id}))}var Qe=function(e){var t=e.dashId,n=e.cardId;return function(){var e=Z(regeneratorRuntime.mark((function e(r,i){var o,a,u,c,s,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(p.Z.actions.fetch({id:n}));case 2:o=p.Z.selectors.getObject(i(),{entityId:n}),a=i().dashboard,u=a.dashboards,c=a.dashcards,s=u[t],f=s.ordered_cards.map((function(e){return c[e]})).filter((function(e){return!e.isRemoved})),d=N(N({id:Be(),dashboard_id:t,card_id:o.id,card:o,series:[]},(0,O.jN)(f)),{},{parameter_mappings:[],visualization_settings:{}}),r((0,l.PH)(Y)(d)),r(nt(o,d,{reload:!0,clear:!0})),r(At([d]));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ve=function(e){var t=e.dashId,n=e.dashcardOverrides;return function(e,r){var i=r().dashboard,o=i.dashboards,u=i.dashcards,c=o[t].ordered_cards.map((function(e){return u[e]})).filter((function(e){return!e.isRemoved})),s=N(N({id:Be(),card_id:null,card:null,dashboard_id:t,series:[]},(0,O.jN)(c)),{},{parameter_mappings:[],visualization_settings:{}});a.ZP.extend(s,n),e((0,l.PH)(Y)(s))}},Ue=function(e){var t=e.dashId,n=(0,S.LH)();return n.display="text",n.archived=!1,Ve({dashId:t,dashcardOverrides:{card:n,visualization_settings:{virtual_card:n}}})},He=(0,l.RU)(U,(function(){return function(){var e=Z(regeneratorRuntime.mark((function e(t,n){var r,i,u,l,c,s,f,p,h,m,y,v,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=r.dashboard,u=i.dashboards,l=i.dashcards,c=i.dashboardId,s=N(N({},u[c]),{},{ordered_cards:u[c].ordered_cards.map((function(e){return l[e]}))}),f=(0,x.wA)(r),p=["visualization_settings","click_behavior"],s.ordered_cards=s.ordered_cards.map((function(e,t){if(!(0,j.v8)((0,o.getIn)(e,p))){var n=(0,o.getIn)(f,["ordered_cards",t].concat(p));return null==n?(0,o.dissocIn)(e,p):(0,o.assocIn)(e,p,n)}return e})),e.next=8,Promise.all(s.ordered_cards.filter((function(e){return e.isRemoved&&!e.isAdded})).map((function(e){return _.DashboardApi.removecard({dashId:s.id,dashcardId:e.id})})));case 8:return e.next=10,Promise.all(s.ordered_cards.filter((function(e){return!e.isRemoved})).map(function(){var e=Z(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isAdded){e.next=8;break}return e.next=3,_.DashboardApi.addcard({dashId:s.id,cardId:n.card_id});case 3:return r=e.sent,t(Ge(n.id,r.id)),e.abrupt("return",N(N({},r),{},{col:n.col,row:n.row,sizeX:n.sizeX,sizeY:n.sizeY,series:n.series,parameter_mappings:n.parameter_mappings,visualization_settings:n.visualization_settings,isAdded:!0}));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return h=e.sent,e.next=13,Promise.all(s.ordered_cards.filter((function(e){return e.card.isDirty})).map(function(){var e=Z(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.CardApi.update(t.card));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:if(!s.isDirty){e.next=17;break}return m=s.id,y=s.name,v=s.description,b=s.parameters,e.next=17,t(d.Z.actions.update({id:m},{name:y,description:v,parameters:b}));case 17:if(!a.ZP.some(h,(function(e){return e.isDirty||e.isAdded}))){e.next=24;break}return g=h.map((function(e){var t=e.id,n=e.card_id,r=e.row,i=e.col,o=e.sizeX,u=e.sizeY,l=e.series,c=e.parameter_mappings,f=e.visualization_settings;return{id:t,card_id:n,row:r,col:i,sizeX:o,sizeY:u,series:l,visualization_settings:f,parameter_mappings:c&&c.filter((function(e){return a.ZP.findWhere(s.parameters,{id:e.parameter_id})&&(n===e.card_id||a.ZP.findWhere(l,{id:e.card_id}))}))}})),e.next=21,_.DashboardApi.reposition_cards({dashId:s.id,cards:g});case 21:if("ok"===(w=e.sent).status){e.next=24;break}throw new Error(w.status);case 24:return e.next=26,t(d.Z.actions.update(s));case 26:t(ot(s.id,null));case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),Ye=(0,l.PH)(G),Ge=(0,l.PH)(ee,(function(e,t){return{oldDashcardId:e,newDashcardId:t}})),We=(0,l.PH)(ae,(function(e,t){return{cardId:e,dashcardId:t}})),$e=(0,l.RU)(te,(function(e){return function(t,n){var i=(0,x.IG)(n()),o=(0,k.nO)(i).map((function(n){var r=n.card,i=n.dashcard;if(!(0,k.Mu)(i))return t(nt(r,i,e)).then((function(){return t(rt())}))})).filter((function(e){return!!e}));t(je((0,u.t)(r||(r=I(["0/"," loaded"])),o.length))),Promise.all(o).then((function(){t(Ke())}))}})),Ke=(0,l.RU)(Se,(function(){return function(e){e(ke(!0)),document.hidden?(e(je((0,u.t)(i||(i=I(["Your dashboard is ready"]))))),document.addEventListener("visibilitychange",(function(){e(je("")),setTimeout((function(){e(ke(!1))}),3e3)}),{once:!0})):(e(je("")),setTimeout((function(){e(ke(!1))}),3e3))}})),Je=(0,l.RU)(re,(function(){return function(e,t){var n,r=(0,x.IG)(t()),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}((0,k.nO)(r));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.card,u=o.dashcard;e(et(a.id,u.id))}}catch(e){i.e(e)}finally{i.f()}}})),Xe={},et=(0,l.PH)(ie,(function(e,t){var n=Xe["".concat(t,",").concat(e)];return n&&(n.resolve(),Xe["".concat(t,",").concat(e)]=null),{dashcard_id:t,card_id:e}}));function tt(e,t,n){Xe["".concat(t,",").concat(e)]=n}var nt=(0,l.RU)(ne,(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.reload,i=n.clear,a=n.ignoreCache;return function(){var n=Z(regeneratorRuntime.mark((function n(u,l){var s,f,d,p,h,m,b,g,O,j,S,E,x,P,C;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.dataset_query){n.next=2;break}return n.abrupt("return",{dashcard_id:t.id,card_id:e.id,result:{error:{status:403}}});case 2:if(s=(0,k.J9)(t.dashboard_id),f=l().dashboard,d=f.dashboardId,p=f.dashboards,h=f.parameterValues,m=f.dashcardData,b=p[d],g=(0,y.tq)(e,b.parameters,h,t&&t.parameter_mappings),r){n.next=10;break}if(!(O=(0,o.getIn)(m,[t.id,e.id]))||!w.Z.equals((0,k.u1)(O.json_query),(0,k.u1)(g))){n.next=10;break}return n.abrupt("return",{dashcard_id:t.id,card_id:e.id,result:O});case 10:if(et(e.id,t.id),i&&u(We(e.id,t.id)),j=null,S=setTimeout((function(){null===j&&u(it(e,g))}),15e3),E=(0,c.PQ)(),tt(e.id,t.id,E),x=!1,E.promise.then((function(){x=!0})),P={cancelled:E.promise},"endpoint"!==g.type){n.next=25;break}return n.next=22,(0,k.Sq)(_.MetabaseApi.datasetEndpoint({endpoint:g.endpoint,parameters:g.parameters},P));case 22:j=n.sent,n.next=47;break;case 25:if("public"!==s){n.next=31;break}return n.next=28,(0,k.Sq)((0,_.maybeUsePivotEndpoint)(_.PublicApi.dashboardCardQuery,e)({uuid:t.dashboard_id,dashcardId:t.id,cardId:e.id,parameters:g.parameters?JSON.stringify(g.parameters):void 0,ignore_cache:a},P));case 28:j=n.sent,n.next=47;break;case 31:if("embed"!==s){n.next=37;break}return n.next=34,(0,k.Sq)((0,_.maybeUsePivotEndpoint)(_.EmbedApi.dashboardCardQuery,e)(N(N({token:t.dashboard_id,dashcardId:t.id,cardId:e.id},(0,v.og)(b.parameters,h)),{},{ignore_cache:a}),P));case 34:j=n.sent,n.next=47;break;case 37:if("transient"!==s&&"inline"!==s){n.next=43;break}return n.next=40,(0,k.Sq)((0,_.maybeUsePivotEndpoint)(_.MetabaseApi.dataset,e)(N(N({},g),{},{ignore_cache:a}),P));case 40:j=n.sent,n.next=47;break;case 43:return C=ze(t)||Fe(e,t)?_.CardApi.query:_.DashboardApi.cardQuery,n.next=46,(0,k.Sq)((0,_.maybeUsePivotEndpoint)(C,e)({dashboardId:t.dashboard_id,dashcardId:t.id,cardId:e.id,parameters:g.parameters,ignore_cache:a,dashboard_id:t.dashboard_id},P));case 46:j=n.sent;case 47:return tt(e.id,t.id,null),clearTimeout(S),n.abrupt("return",{dashcard_id:t.id,card_id:e.id,result:x?null:j});case 50:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),rt=(0,l.RU)(Oe,(function(){return function(e,t){var n=(0,x.TU)(t()),r=n.dashcardIds.length,i=r-n.loadingIds.length;return"".concat(i,"/").concat(r," loaded")}})),it=(0,l.PH)(oe,(function(e){return{id:e.id,result:!0}})),ot=(0,l.RU)(V,(function(e,t,n){var r;return function(){var i=Z(regeneratorRuntime.mark((function i(o,a){var u,l,c,f,d,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("public"!==(u=(0,k.J9)(e))){i.next=8;break}return i.next=4,_.PublicApi.dashboard({uuid:e});case 4:r=N(N({},r=i.sent),{},{id:e,ordered_cards:r.ordered_cards.map((function(t){return N(N({},t),{},{dashboard_id:e})}))}),i.next=31;break;case 8:if("embed"!==u){i.next=15;break}return i.next=11,_.EmbedApi.dashboard({token:e});case 11:r=N(N({},r=i.sent),{},{id:e,ordered_cards:r.ordered_cards.map((function(t){return N(N({},t),{},{dashboard_id:e})}))}),i.next=31;break;case 15:if("transient"!==u){i.next=23;break}return l=e.split("/").slice(3).join("/"),i.next=19,_.AutoApi.dashboard({subPath:l});case 19:r=N(N({},r=i.sent),{},{id:e,ordered_cards:r.ordered_cards.map((function(t){return N(N({},t),{},{dashboard_id:e})}))}),i.next=31;break;case 23:if("inline"!==u){i.next=28;break}r=(0,k.xX)(e),e=r.id=String(e),i.next=31;break;case 28:return i.next=30,_.DashboardApi.get({dashId:e});case 30:r=i.sent;case 31:if("normal"!==u&&"transient"!==u){i.next=34;break}return i.next=34,o(At(r.ordered_cards));case 34:return r.ordered_cards.forEach((function(e){e.visualization_settings.virtual_card&&(e.card=Object.assign(e.card||{},e.visualization_settings.virtual_card))})),r.param_values&&o((0,E.addParamValues)(r.param_values)),r.param_fields&&o((0,E.addFields)(r.param_fields)),c=(0,P.sd)(a()),f=(0,m.jb)(c,r),d=(0,m.li)(c,r,f),p=n?(0,x.$c)(a()):(0,v.QM)(d,t,c,{forcefullyUnsetDefaultedParametersWithEmptyStringValue:!0}),i.abrupt("return",N(N({},(0,s.Fv)(r,B)),{},{dashboardId:e,parameterValues:p}));case 42:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()})),at="metabase/dashboard/UPDATE_ENABLE_EMBEDDING",ut=(0,l.PH)(at,(function(e,t){var n=e.id;return _.DashboardApi.update({id:n,enable_embedding:t})})),lt="metabase/dashboard/UPDATE_EMBEDDING_PARAMS",ct=(0,l.PH)(lt,(function(e,t){var n=e.id;return _.DashboardApi.update({id:n,embedding_params:t})})),st=(0,l.PH)(K,(function(e,t){return{id:e,settings:t}})),ft=(0,l.PH)(J,(function(e,t,n){return{id:e,column:t,settings:n}})),dt=(0,l.PH)(X,(function(e,t){return{id:e,settings:t}})),pt=(0,l.RU)(se,(function(e,t,n,r){return function(i,o){var a=o().dashboard.dashcards[t].parameter_mappings||[];a=a.filter((function(t){return t.card_id!==n||t.parameter_id!==e})),r&&(a=a.concat({parameter_id:e,card_id:n,target:r})),i(Ze({id:t,attributes:{parameter_mappings:a}}))}}));function ht(e,t,n,r){var i=(0,x.Ll)(t()),u=a.ZP.findIndex(i&&i.parameters,(function(e){return e.id===n}));if(u>=0){var l=(0,o.assoc)(i.parameters,u,r(i.parameters[u]));e(Me({id:i.id,attributes:{parameters:l}}))}}function mt(e,t,n){var r=(0,x.Ll)(t());if(r){var i=n(r.parameters||[]);e(Me({id:r.id,attributes:{parameters:i}}))}}var yt=(0,l.RU)(le,(function(e){return function(t,n){var r;mt(t,n,(function(t){return r=(0,m.yi)(e,t),t.concat(r)})),t(Pe({name:g.T.editParameter,props:{parameterId:r.id}}))}})),vt=(0,l.RU)(ce,(function(e){return function(t,n){mt(t,n,(function(t){return t.filter((function(t){return t.id!==e}))}))}})),bt=(0,l.RU)(fe,(function(e,t){return function(n,r){return ht(n,r,e,(function(){return t})),N({id:e},t)}})),gt=(0,l.RU)(fe,(function(e,t){return function(n,r){return ht(n,r,e,(function(e){return(0,m.qX)(e,t)})),{id:e,name:t}}})),wt=(0,l.RU)(fe,(function(e,t){return function(n,r){return ht(n,r,e,(function(e){return N(N({},e),{},{filteringParameters:t})})),{id:e,filteringParameters:t}}})),Ot=(0,l.RU)(he,(function(e,t){return function(n,r){return ht(n,r,e,(function(e){return(0,m.qg)(e,t)})),{id:e,defaultValue:t}}})),jt=(0,l.RU)(pe,(function(e,t){return function(n,r){var i=(0,x.Ll)(r()),o=a.ZP.findIndex(i.parameters,(function(t){return t.id===e}));if(o>=0){var u=i.parameters.slice();u.splice(t,0,u.splice(o,1)[0]),n(Me({id:i.id,attributes:{parameters:u}}))}return{id:e,index:t}}})),St=(0,l.RU)(de,(function(e,t){return function(n,r){return{id:e,value:t}}})),Et=function(e){return function(t,n){var r=(0,x.$c)(n());e.map((function(e){var t=A(e,2),n=t[0],i=t[1];return St(n,i===r[n]?null:i)})).forEach(t)}},_t="metabase/dashboard/CREATE_PUBLIC_LINK",xt=(0,l.PH)(_t,function(){var e=Z(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,_.DashboardApi.createPublicLink({id:n});case 3:return r=e.sent,i=r.uuid,e.abrupt("return",{id:n,uuid:i});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pt="metabase/dashboard/DELETE_PUBLIC_LINK",Ct=(0,l.PH)(Pt,function(){var e=Z(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,_.DashboardApi.deletePublicLink({id:n});case 3:return e.abrupt("return",{id:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),kt=(0,l.RU)("metabase/dashboard/NAVIGATE_TO_NEW_CARD",(function(e){var t=e.nextCard,n=e.previousCard,r=e.dashcard,i=e.objectId;return function(e,o){var a=(0,P.sd)(o()),u=o().dashboard,l=u.dashboardId,c=u.dashboards,s=u.parameterValues,d=c[l],p=(0,C.wz)(t,n),y=new f.Z(p,a);y=y.query().isEditable()?y.setDisplay(p.display||n.display).setSettings(r.card.visualization_settings).lockDisplay():y.setCard(r.card).setDashboardProps({dashboardId:d.id,dashcardId:r.id});var v=(0,m.Yo)(d,r),g=new f.Z(n,a),w=g.isDataset()&&g.isNative(),O=y.isObjectDetail()?b.jf(y.card()):y.getUrlWithParameters(v,s,{clean:!w,objectId:i});e((0,h.Yo)(O))}})),At=function(e){return function(t,n){var r=(0,P.sd)(n()),i=e.filter((function(e){return!(0,k.Mu)(e)&&e.card.dataset_query})).flatMap((function(e){return[e.card].concat(e.series||[])})).map((function(e){return new f.Z(e,r)}));return t((0,E.loadMetadataForQueries)(i.map((function(e){return e.query()})),i.map((function(e){return e.dependentMetadata()}))))}},Dt=(0,l.RU)(ve,(function(e){var t=e.dashboardId,n=e.parameter,r=e.parameters,i=e.query;return function(){var e=Z(regeneratorRuntime.mark((function e(o,a){var u,l,c,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,x.xP)(a()),l=(0,m.Bn)(n,r),c=(0,m.wk)({dashboardId:t,parameterId:n.id,query:i,filteringParameterValues:l}),!u[c]){e.next=5;break}return e.abrupt("return");case 5:return s=i?_.DashboardApi.parameterSearch:_.DashboardApi.parameterValues,e.next=8,s(N({paramId:n.id,dashId:t,query:i},l));case 8:return f=e.sent,e.abrupt("return",{cacheKey:c,results:f.map((function(e){return[].concat(e)}))});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}))},55433:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r={addQuestion:"addQuestion",clickBehavior:"clickBehavior",editParameter:"editParameter",sharing:"sharing"}},90060:function(e,t,n){"use strict";n.d(t,{VI:function(){return O},Ll:function(){return _},wA:function(){return g},IG:function(){return P},wg:function(){return q},xP:function(){return N},ME:function(){return k},TU:function(){return x},jb:function(){return R},Z:function(){return D},$c:function(){return S},ZS:function(){return I},gq:function(){return j},oV:function(){return T}});var r=n(30558),i=n(12463),o=n(81932),a=(n(33388),n(68147)),u=n(11217),l=n(55799),c=n(35555);function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return e.items.map((function(t){var n=t.dimension;return{sectionName:e.name,name:n.displayName(),icon:n.icon(),target:["dimension",n.mbql()],isForeign:!(n instanceof l.gK||!n.fk()&&!n.joinAlias())}}))}function p(e){return e.items.map((function(e){var t=e.dimension;return{name:t.displayName(),icon:t.icon(),isForeign:!1,target:["dimension",t.mbql()]}}))}function h(e){return{name:e.displayName(),icon:e.icon(),isForeign:!1,target:["variable",e.mbql()]}}var m=n(55433);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){return e.dashboard.isEditing},w=function(e){return e.dashboard.dashcards},O=function(e){return e.dashboard.dashcardData},j=function(e){return e.dashboard.slowCards},S=function(e){return e.dashboard.parameterValues},E=function(e){return e.dashboard.sidebar},_=((0,i.createSelector)([E],(function(e){return e.name===m.T.sharing})),(0,i.createSelector)([E],(function(e){return e.name===m.T.addQuestion})),(0,i.createSelector)([function(e){return e.dashboard.dashboardId},function(e){return e.dashboard.dashboards}],(function(e,t){return t[e]}))),x=function(e){return e.dashboard.loadingDashCards},P=(0,i.createSelector)([_,w],(function(e,t){return e&&v(v({},e),{},{ordered_cards:e.ordered_cards.map((function(e){return t[e]})).filter((function(e){return!e.isRemoved}))})})),C=((0,i.createSelector)([_,w],(function(e,t){return!(!e||!e.isDirty&&!r.ZP.some(e.ordered_cards,(function(e){return!(t[e].isAdded&&t[e].isRemoved)&&(t[e].isDirty||t[e].isAdded||t[e].isRemoved)})))})),(0,i.createSelector)([E],(function(e){var t;return e.name===m.T.editParameter?null===(t=e.props)||void 0===t?void 0:t.parameterId:null}))),k=((0,i.createSelector)([C],(function(e){return null!=e})),(0,i.createSelector)([_,C],(function(e,t){return null!=t?r.ZP.findWhere(e.parameters,{id:t}):null}))),A=function(e,t){return t.card},D=(0,i.createSelector)([k,A,function(e,t){return t.dashcard}],(function(e,t,n){if(null==e)return null;var i=r.ZP.findWhere(n.parameter_mappings,{card_id:t.id,parameter_id:e.id});return i&&i.target})),R=(0,i.createSelector)([o.sd,P],a.jb),I=(0,i.createSelector)([o.sd,_,R],a.li),T=function(){var e=(0,i.createSelector)([o.sd,k,A],(function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=[];if("text"===n.display)return[];var i=new u.Z(n,e),o=i.query();return i.isStructured()?r.push.apply(r,s(o.dimensionOptions(t?(0,c.su)(t):void 0).sections().flatMap((function(e){return d(e)})))):(r.push.apply(r,s(o.variables(t?(0,c.e)(t):void 0).map(h))),r.push.apply(r,s(o.dimensionOptions(t?(0,c.su)(t):void 0,t?(0,c._F)(t):void 0).sections().flatMap((function(e){return p(e)}))))),r}(e,t,n)}));return e},N=((0,i.createSelector)([_],(function(e){return(e&&e.parameters||[]).reduce((function(e,t){return t.default&&(e[t.id]=t.default),e}),{})})),function(e){return e.dashboard.parameterValuesSearchCache}),q=function(e){return{get:function(t){var n=t.dashboardId,r=t.parameter,i=t.parameters,o=t.query;if(r){var u=e.dashboard.parameterValuesSearchCache,l=(0,a.Bn)(r,i);return u[(0,a.wk)({dashboardId:n,parameterId:r.id,query:o,filteringParameterValues:l})]}}}}},25289:function(e,t,n){"use strict";n.d(t,{ay:function(){return h},xX:function(){return m},Mu:function(){return v},nO:function(){return b},J9:function(){return g},Sq:function(){return w},u1:function(){return j}});var r=n(30558),i=n(38908);function o(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,l,"next",e)}function l(e){o(a,r,i,u,l,"throw",e)}u(void 0)}))}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return t.parameters&&e.embedding_params?Object.keys(e.embedding_params).reduce((function(n,i){var o=r.ZP.find(e.parameters,(function(e){return e.slug===i}));if(o){var a=o&&o.id,u=r.ZP.findWhere(t.parameters,{id:a});u&&(n[u.slug]=e.embedding_params[i])}return n}),{}):e.embedding_params}function m(e){return d(d({name:"",parameters:[]},e),{},{ordered_cards:e.ordered_cards.map((function(e){return d(d({visualization_settings:{},parameter_mappings:[]},e),{},{id:r.ZP.uniqueId("dashcard"),card:y(e.card),series:(e.series||[]).map((function(e){return y(e)}))})}))})}function y(e){return d(d({name:"",visualization_settings:{}},e),{},{id:r.ZP.uniqueId("card")})}function v(e){return r.ZP.isObject(e.visualization_settings.virtual_card)}function b(e){var t=[];if(e){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(e.ordered_cards);try{var i=function(){var e=n.value,r=[e.card].concat(e.series||[]);t.push.apply(t,l(r.map((function(t){return{card:t,dashcard:e}}))))};for(r.s();!(n=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}}return t}function g(e){return null==e||"object"===u(e)?"inline":i.Z.isUUID(e)?"public":i.Z.isJWT(e)?"embed":/\/auto\/dashboard/.test(e)?"transient":"normal"}function w(e){return O.apply(this,arguments)}function O(){return(O=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function j(e){var t=e.type,n=e.query,r=e.native,i=e.parameters;return{type:t,query:n,native:r,parameters:void 0===i?[]:i}}},27656:function(e,t,n){"use strict";var r,i,o,a,u,l,c=n(25312),s=n(95556),f=n(11093),d=n(73319);function p(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m="metabase/entities/alerts/unsubscribe",y=(0,s.JP)({name:"alerts",nameOne:"alert",path:"/api/alert",actionTypes:{UNSUBSCRIBE:m},objectActions:{setArchived:function(e,t,n){var a=e.id;return y.actions.update({id:a},{archived:t},(0,s.Yw)(n,(0,c.t)(r||(r=h(["alert"]))),t?(0,c.t)(i||(i=h(["deleted"]))):(0,c.t)(o||(o=h(["restored"])))))},unsubscribe:function(e){var t=e.id;return function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.AlertApi.unsubscribe({id:t});case 2:n((0,d.nx)({message:(0,c.t)(a||(a=h(["Successfully unsubscribed"])))})),n({type:m,payload:{id:t}}),n({type:y.actionTypes.INVALIDATE_LISTS_ACTION});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,u,"next",e)}function u(e){p(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()},setChannels:function(e,t,n){var r=e.id;return y.actions.update({id:r},{channels:t},(0,s.Yw)(n,(0,c.t)(u||(u=h(["alert"]))),(0,c.t)(l||(l=h(["updated"])))))}}});t.Z=y},91478:function(e,t,n){"use strict";var r=n(95556),i=n(82158),o=n(36939),a=n(92065),u=n(40242),l=n(11093);function c(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,u,"next",e)}function u(e){c(o,r,i,a,u,"throw",e)}a(void 0)}))}}var f,d,p=(0,r.JP)({name:"bookmarks",nameOne:"bookmark",path:"/api/bookmark",schema:u.ci,api:{create:(d=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.type,e.abrupt("return",l.BookmarkApi[r].create({id:n}));case 2:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),delete:(f=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.type,e.abrupt("return",l.BookmarkApi[r].delete({id:n}));case 2:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},objectSelectors:{getIcon:function(e){return(t=e.type,{card:a.Z,collection:i.ZP,dashboard:o.Z}[t]).objectSelectors.getIcon(e);var t}},actions:{reorder:function(e){var t=e.map((function(e){return{type:e.type,item_id:e.item_id}}));l.BookmarkApi.reorder({orderings:{orderings:t}},{bodyParamName:"orderings"})}},reducer:function(){var e,t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,l=u.type,c=u.payload;u.error;return l===a.Z.actionTypes.UPDATE&&null!=c&&null!==(e=c.object)&&void 0!==e&&e.archived?(i["card-".concat(null==c||null===(n=c.object)||void 0===n?void 0:n.id)]=void 0,i):l===o.Z.actionTypes.UPDATE&&null!=c&&null!==(t=c.object)&&void 0!==t&&t.archived?(i["dashboard-".concat(null==c||null===(r=c.object)||void 0===r?void 0:r.id)]=void 0,i):i}});t.Z=p},82158:function(e,t,n){"use strict";n.d(t,{Zj:function(){return v},ZP:function(){return X},hq:function(){return M},q6:function(){return ee},Hh:function(){return T}});var r,i,o,a=n(25312);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,c,s,f,d,p,h,m,y,v={id:"root",name:(0,a.t)(r||(r=u(["Our analytics"]))),location:"",path:[]},b={id:void 0,name:(0,a.t)(i||(i=u(["My personal collection"]))),location:"/",path:[v.id],can_write:!0},g={id:"personal",name:(0,a.t)(o||(o=u(["All personal collections"]))),location:"/",path:[v.id],can_write:!1},w=(n(30558),n(95556)),O=n(5192),j=n(40242),S=n(12463),E=n(90635),_=n(6697),x=n(59602),P=n(40930),C=n(6336);function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=(0,S.createSelector)([function(e,t){return t.collection||{}},function(e,t){return t.formValues||{}},function(e){return e.entities.collections||{}},_.PR],(function(e,t,n,r){var i=Object.values(n),o=[],u=n[!e.id?t.parent_id:e.parent_id],v=r.is_superuser&&!(0,x.jV)(e)&&!function(e,t){return!!e&&((0,x.jV)(e)||(0,x.Zn)(e,t))}(u,i);v&&o.push.apply(o,A(P.rv.authorityLevelFormFields));var b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).extraFields,t=void 0===e?[]:e;return{fields:function(){return arguments.length>0&&void 0!==arguments[0]||(0,C.$_)("brand"),[{name:"name",title:(0,a.t)(l||(l=k(["Name"]))),placeholder:(0,a.t)(c||(c=k(["My new fantastic collection"]))),autoFocus:!0,validate:function(e){return!e&&(0,a.t)(s||(s=k(["Name is required"])))||e&&e.length>100&&(0,a.t)(f||(f=k(["Name must be 100 characters or less"])))}},{name:"description",title:(0,a.t)(d||(d=k(["Description"]))),type:"text",placeholder:(0,a.t)(p||(p=k(["It's optional but oh, so helpful"]))),normalize:function(e){return e||null}},{name:"color",title:(0,a.t)(h||(h=k(["Color"]))),type:"hidden",initial:function(){return(0,C.$_)("brand")},validate:function(e){return!e&&(0,a.t)(m||(m=k(["Color is required"])))}},{name:"parent_id",title:(0,a.t)(y||(y=k(["Collection it's saved in"]))),type:"collection"}].concat(A(t))}}}({extraFields:o});return b}));function I(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.tooltip,i=void 0===r?"default":r;if(e.id===g.id)return{name:"group"};if((0,x.jV)(e))return{name:"person"};var o=P.rv.AUTHORITY_LEVEL[e.authority_level];return o?{name:o.icon,color:(0,C.$_)(o.color),tooltip:null===(t=o.tooltips)||void 0===t?void 0:t[i]}:{name:"folder"}}function T(e){return null===(0,x.ck)(e.id)?v:e}var N,q,M=function(e,t){return null===e||"root"===e?"root":e===(0,_.to)(t)?"personal":void 0!==e?"other":null};function Z(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G,W,$=(0,E.HT)("/api/collection/tree"),K=(0,E.HT)("/api/collection"),J=(0,w.JP)({name:"collections",path:"/api/collection",schema:j.Ok,displayNameOne:(0,a.t)(N||(N=Y(["collection"]))),displayNameMany:(0,a.t)(q||(q=Y(["collections"]))),api:{list:(G=regeneratorRuntime.mark((function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=o.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=o[i];return e.abrupt("return",t&&t.tree?$.apply(void 0,[t].concat(r)):K.apply(void 0,[t].concat(r)));case 2:case"end":return e.stop()}}),e)})),W=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=G.apply(e,t);function o(e){H(i,n,r,o,a,"next",e)}function a(e){H(i,n,r,o,a,"throw",e)}o(void 0)}))},function(e){return W.apply(this,arguments)})},objectActions:{setArchived:function(e,t,n){var r=e.id;return J.actions.update({id:r},{archived:t},(0,w.Yw)(n,"collection",t?"archived":"unarchived"))},setCollection:function(e,t,n){var r=e.id;return J.actions.update({id:r},{parent_id:(0,x.ck)(t&&t.id)},(0,w.Yw)(n,"collection","moved"))},delete:null},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return O.hJ(e)},getIcon:function(e,t){return I(e.collection||e,t)}},selectors:{getForm:R,getExpandedCollectionsById:(0,S.createSelector)([function(e){return e.entities.collections},function(e){return(e.entities.collections_list.null||{}).list||[]},_.PR],(function(e,t,n){return ee(t.map((function(t){return e[t]})),n&&n.personal_collection_id)})),getInitialCollectionId:(0,S.createSelector)([function(e){return e.entities.collections},function(e,t){return t.collectionId},function(e,t){var n=t.params;return n&&n.collectionId},function(e,t){var n=t.params,r=t.location;return n&&n.slug&&r&&O.Cw(r.pathname)&&O.B9(n.slug)},function(e,t){var n=t.location;return n&&n.query&&n.query.collectionId},function(){return v.id},_.to],(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i],u=e[a];if(u&&u.can_write)return(0,x.ck)(a)}return(0,x.ck)(v.id)}))},getAnalyticsMetadata:function(e,t,n){var r=Q(e,1)[0],i=(t.action,r&&M(r.parent_id,n()));return i&&"collection=".concat(i)}}),X=J;function ee(e,t){var n,r={},i=F(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o.id]=B(B({},o),{},{path:"root"===o.id?[]:null!=o.location?["root"].concat(Z(o.location.split("/").filter((function(e){return e})))):null,parent:null,children:[],is_personal:null!=o.personal_owner_id})}}catch(e){i.e(e)}finally{i.f()}if(r[v.id]=B(B({},v),{},{parent:null,children:[]},r[v.id]||{}),null!=t){var a=r[t];r[v.id].children.push(B(B({},b),{},{id:t,parent:r[v.id],children:(null==a?void 0:a.children)||[],is_personal:!0}))}r[g.id]=B(B({},g),{},{parent:r[v.id],children:[],is_personal:!0}),r[v.id].children.push(r[g.id]);var u,l=F(e);try{for(l.s();!(u=l.n()).done;){var c=r[u.value.id];if(c.path&&c.id!==v.id){var s=void 0,f=null==(s=null!=c.personal_owner_id?g.id:c.path[c.path.length-1]?c.path[c.path.length-1]:v.id)?null:r[s];c.parent=f,f&&f.children.push(c)}}}catch(e){l.e(e)}finally{l.f()}return r[g.id].children.length<=1&&(delete r[g.id],r[v.id].children=r[v.id].children.filter((function(e){return e.id!==g.id}))),r}},56458:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,i,o=n(32735),a=n(25312),u=n(70093),l=n(29995),c=n(76699);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var f=["entityDef","entityObject","form","update","create","onSubmit","onSaved"],d=["modal"];function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var O=function(e){var t=e.entityDef,n=e.entityObject,r=e.form,i=void 0===r?function(e){return e.form||Object.values(e.forms)[0]}(t):r,a=e.update,l=e.create,c=e.onSubmit,s=void 0===c?function(e){return e.id?a(e):l(e)}:c,d=e.onSaved,p=w(e,f);return o.createElement(u.ZP,g({},p,{form:i,initialValues:n,onSubmit:s,onSubmitSuccess:function(e){return d&&d(e.payload.object)}}))},j=function(e){var t,n,i=e.children,u=e.title,c=e.entityDef,s=e.entityObject,f=e.onClose,d=u||(null!=s&&s.id?c.objectSelectors.getName(s):(0,a.t)(r||(t=["New ",""],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),c.displayNameOne));return o.createElement(l.default,{title:d,onClose:f},i)},S=(0,c.Z)()(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=y(a);function a(){return p(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.modal,n=w(e,d),r=o.createElement(O,n);return t?o.createElement(j,this.props,r):r}}])&&h(t.prototype,n),r&&h(t,r),a}(o.Component))||i},19895:function(e,t,n){"use strict";var r=n(32735),i=n(4843),o=n(21497),a=["entityType","entityId","name","LinkComponent","dispatchApiErrorEvent","fallback"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(e){var t=e.entityType,n=e.entityId,c=e.name,s=void 0===c?"name":c,f=e.LinkComponent,d=void 0===f?i.Z:f,p=e.dispatchApiErrorEvent,h=void 0===p||p,m=e.fallback,y=void 0===m?null:m,v=l(e,a);return r.createElement(o.Z,{entityType:t,entityId:n,properties:[s],loadingAndErrorWrapper:!1,dispatchApiErrorEvent:h,wrapped:!0},(function(e){var t=e.object;return t?r.createElement(d,u({},v,{to:t.getUrl()}),r.createElement("span",null,t.getName())):y}))}},59354:function(e,t,n){"use strict";n.d(t,{Z:function(){return U},k:function(){return H}});var r=n(32735),i=n(60216),o=n.n(i),a=n(49155),u=n(30558),l=n(12463),c=n(24432),s=n(76699);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){return function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,t);var n,i,o,a=v(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),O(g(t=a.call(this,e)),"handleChangeHasMorePages",(function(e){t.setState({hasMorePages:e})})),O(g(t),"handleNextPage",(function(){t.setState({page:t.state.page+1,hasMorePages:null})})),O(g(t),"handlePreviousPage",(function(){t.setState({page:t.state.page-1,hasMorePages:!0})})),O(g(t),"handleResetPagination",(function(){t.setState({page:0,hasMorePages:null})})),t.state={page:e.initialPage||0,hasMorePages:null},t}return n=u,(i=[{key:"render",value:function(){var t="number"==typeof this.props.pageSize?h(h({},this.state),{},{onChangeHasMorePages:this.handleChangeHasMorePages,onNextPage:this.state.hasMorePages?this.handleNextPage:null,onPreviousPage:this.state.page>0?this.handlePreviousPage:null}):{};return r.createElement(e,d({},t,this.props))}}])&&m(n.prototype,i),o&&m(n,o),u}(r.Component)}},S=n(30728),E=n(83360);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var x,P=["children","entityDef","wrapped","list","listName","loading","reload","keepListWhileLoading"];function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=q(e);if(t){var i=q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B={entityType:o().string,entityQuery:o().oneOfType([o().func,o().object]),reload:o().bool,reloadInterval:o().oneOfType([o().number,o().func]),wrapped:o().bool,debounced:o().bool,loadingAndErrorWrapper:o().bool,LoadingAndErrorWrapper:o().elementType,keepListWhileLoading:o().bool,listName:o().string,selectorName:o().string,children:o().func,entityDef:o().object,list:o().arrayOf(o().object),metadata:o().object,loading:o().bool,loaded:o().bool,fetched:o().bool,error:o().any,allLoading:o().bool,allLoaded:o().bool,allFetched:o().bool,allError:o().bool,dispatch:o().func},z={loadingAndErrorWrapper:!0,LoadingAndErrorWrapper:S.default,keepListWhileLoading:!1,reload:!1,wrapped:!1,debounced:!1},F=["entityType","entityQuery","reloadInterval","wrapped","debounced","loadingAndErrorWrapper","LoadingAndErrorWrapper","selectorName"],Q=(0,c.Fz)([function(e,t){return"function"==typeof t.entityQuery?t.entityQuery(e,t):t.entityQuery}],(function(e){return e})),V=(0,s.Z)()(x=j()(x=(0,a.connect)((function(e,t){var n=t.entityDef,r=t.entityQuery,i=t.reloadInterval,o=t.page,a=t.pageSize,u=t.allLoading,l=t.allLoaded,c=t.allFetched,s=t.allError,f=t.selectorName,d=void 0===f?"getList":f;"function"==typeof r&&(r=r(e,t)),"number"==typeof a&&"number"==typeof o&&(r=Z({limit:a,offset:a*o},r)),r=Q(e,{entityQuery:r});var p=n.selectors[d](e,{entityQuery:r});"function"==typeof i&&(i=i(e,t,p));var h=n.selectors.getLoading(e,{entityQuery:r}),m=n.selectors.getLoaded(e,{entityQuery:r}),y=n.selectors.getFetched(e,{entityQuery:r}),v=n.selectors.getError(e,{entityQuery:r});return{list:p,entityQuery:r,reloadInterval:i,metadata:n.selectors.getListMetadata(e,{entityQuery:r}),loading:h,loaded:m,fetched:y,error:v,allLoading:h||null!=u&&u,allLoaded:m&&(null==l||l),allFetched:y&&(null==c||c),allError:v||(null==s?null:s)}}))(x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,i,o=I(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),L(N(t=o.call(this,e)),"state",{previousList:[],isReloading:t.props.reload}),L(N(t),"fetchList",t.maybeDebounce(function(){var e,n=(e=regeneratorRuntime.mark((function e(n,r){var i,o,a,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.fetchList,o=n.entityQuery,a=n.pageSize,u=n.onChangeHasMorePages,e.next=3,i(o,r);case 3:return l=e.sent,t.setState({isReloading:!1}),"number"==typeof a&&u&&u(!l.payload.result||l.payload.result.length===a),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,u,"next",e)}function u(e){A(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),250)),L(N(t),"renderChildren",(function(){var e,n=t.props,r=n.children,i=n.entityDef,o=n.wrapped,a=n.list,l=n.listName,c=void 0===l?i.nameMany:l,s=n.loading,f=(n.reload,n.keepListWhileLoading),d=k(n,P),p=t.state.previousList,h=f&&s?p:a,m=o?t._getWrappedList(Z(Z({},t.props),{},{list:h})):h;return r(Z(Z({},u.ZP.omit.apply(u.ZP,[d].concat(F))),{},(L(e={list:m,loading:s},c,m),L(e,"reload",t.reload),L(e,"reload".concat((0,E.kC)(c)),t.reload),e)))})),L(N(t),"reload",(function(){t.fetchList(t.props,{reload:!0})})),t._getWrappedList=(0,l.createSelector)([function(e){return e.list},function(e){return e.dispatch},function(e){return e.entityDef}],(function(e,t,n){return e&&e.map((function(e){return n.wrapEntity(e,t)}))})),t}return t=a,n=[{key:"maybeDebounce",value:function(e){if(this.props.debounced){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.ZP.debounce.apply(u.ZP,[e].concat(n))}return e}},{key:"componentDidMount",value:function(){var e=this.props,t=e.loaded,n=e.reload,r=e.reloadInterval;this.fetchList(this.props,{reload:n}),t&&r&&(this.reloadTimeout=setTimeout(this.reload,r))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){u.ZP.isEqual(e.entityQuery,this.props.entityQuery)?!this.props.loaded||e.loaded||e.loading||this.fetchList(e):this.fetchList(e,{reload:e.reload})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.loaded,r=t.reloadInterval,i=t.keepListWhileLoading,o=this.state.previousList;i&&Array.isArray(e.list)&&o!==e.list&&this.setState({previousList:e.list}),n&&!e.loaded&&(clearTimeout(this.reloadTimeout),r&&(this.reloadTimeout=setTimeout(this.reload,r)))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.reloadTimeout)}},{key:"render",value:function(){var e=this.props,t=e.allFetched,n=e.allError,i=e.loadingAndErrorWrapper,o=e.LoadingAndErrorWrapper,a=this.state.isReloading;return i?r.createElement(o,{loading:!t||a,error:n,noWrapper:!0},this.renderChildren):this.renderChildren()}}],n&&D(t.prototype,n),i&&D(t,i),a}(r.Component))||x)||x)||x;V.propTypes=B,V.defaultProps=z;var U=V,H=function(e){return function(t){function n(n){return r.createElement(V,C({},n,e),(function(e){return r.createElement(t,C({},u.ZP.omit.apply(u.ZP,[n].concat(F)),e))}))}return n.displayName=t.displayName,n}}},21497:function(e,t,n){"use strict";n.d(t,{Z:function(){return k},B:function(){return A}});var r=n(32735),i=n(49155),o=n(12463),a=n(30558),u=n(76699),l=n(24432),c=n(30728);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var f,d,p,h=["entityDef","entityId","entityQuery","selectorName"],m=["children","entityDef","entityAlias","wrapped","object"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}var P=["entityType","entityId","entityQuery","entityAlias","wrapped","properties","loadingAndErrorWrapper","LoadingAndErrorWrapper","selectorName"],C=(0,l.Fz)((function(e,t){return t}),(function(e){return e})),k=(0,u.Z)()(f=(0,i.connect)((function(e,t){var n=t.entityDef,r=t.entityId,i=t.entityQuery,o=t.selectorName,a=void 0===o?"getObject":o,u=_(t,h);return"function"==typeof r&&(r=r(e,u)),"function"==typeof i&&(i=i(e,u)),{entityId:r,entityQuery:C(e,i),object:n.selectors[a](e,{entityId:r}),fetched:n.selectors.getFetched(e,{entityId:r}),loading:n.selectors.getLoading(e,{entityId:r}),error:n.selectors.getError(e,{entityId:r})}}))((p=d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,i,u=w(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),E(j(t=u.call(this,e)),"_getWrappedObject",void 0),E(j(t),"renderChildren",(function(){var e,n=t.props,r=n.children,i=n.entityDef,o=n.entityAlias,u=n.wrapped,l=n.object,c=_(n,m);return u&&(l=t._getWrappedObject(t.props)),r(v(v({},a.ZP.omit.apply(a.ZP,[c].concat(P))),{},(E(e={object:l},o||i.nameOne,l),E(e,"reload",t.reload),E(e,"remove",t.remove),e)))})),E(j(t),"reload",(function(){return t.props.fetch({id:t.props.entityId},{reload:!0,properties:t.props.properties,noEvent:!t.props.dispatchApiErrorEvent})})),E(j(t),"remove",(function(){return t.props.delete(t.props.object)})),t._getWrappedObject=(0,o.createSelector)([function(e){return e.object},function(e){return e.dispatch},function(e){return e.entityDef}],(function(e,t,n){return e&&n.wrapEntity(e,t)})),t}return t=l,(n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.entityId,n=e.entityQuery,r=e.fetch,i=e.dispatchApiErrorEvent;null!=t&&r(v({id:t},n),{reload:this.props.reload,properties:this.props.properties,noEvent:!i})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.entityId!==this.props.entityId&&null!=e.entityId&&e.fetch(v({id:e.entityId},e.entityQuery),{reload:e.reload,properties:e.properties})}},{key:"render",value:function(){var e=this.props,t=e.entityId,n=e.fetched,i=e.error,o=e.loadingAndErrorWrapper,a=e.LoadingAndErrorWrapper;return o?r.createElement(a,{loading:!n&&null!=t,error:i,noWrapper:!0},this.renderChildren):this.renderChildren()}}])&&b(t.prototype,n),i&&b(t,i),l}(r.Component),E(d,"defaultProps",{loadingAndErrorWrapper:!0,LoadingAndErrorWrapper:c.default,reload:!1,wrapped:!1,dispatchApiErrorEvent:!0}),f=p))||f)||f,A=function(e){return function(t){return function(n){return r.createElement(k,x({},n,e),(function(e){return r.createElement(t,x({},a.ZP.omit.apply(a.ZP,[n].concat(P)),e))}))}}}},76699:function(e,t,n){"use strict";var r=n(32735),i=n(49155),o=n(34159);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return function(t){var a,f;return(0,i.connect)((function(t,r){return{entityDef:n(51587)[e||("function"==typeof r.entityType?r.entityType(t,r):r.entityType)]}}))((f=a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var n,i,a,f=s(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),h(d(t=f.call(this,e)),"_boundActionCreators",{}),t._bindActionCreators(e),t}return n=p,(i=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.entityDef===this.props.entityDef&&e.dispatch===this.props.dispatch||(this._bindActionCreators(e),this.forceUpdate())}},{key:"_bindActionCreators",value:function(e){var t=e.entityDef,n=e.dispatch;this._boundActionCreators=(0,o.bindActionCreators)(t.actions,n)}},{key:"render",value:function(){return r.createElement(t,u({},this.props,this._boundActionCreators))}}])&&l(n.prototype,i),a&&l(n,a),p}(r.Component),h(a,"displayName","EntityType"),f))}}},39113:function(e,t,n){"use strict";n.d(t,{S:function(){return j}});var r=n(32735),i=n(59354),o=n(21497),a=function(e){var t=e.entityType,n=e.entityId,i=e.name,a=void 0===i?"name":i;return r.createElement(o.Z,{entityType:t,entityId:n,properties:[a],loadingAndErrorWrapper:!1,wrapped:!0},(function(e){var t=e.object;return t?r.createElement("span",null,t.getName()):null}))},u=n(56458),l=n(19895),c=["id","query"],s=["id"],f=["query"],d=["query"],p=["id"],h=["id"],m=["object"],y=["object"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(e){var t=e.nameOne;e.load=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.query,i=O(t,c);return(0,o.B)(g({entityType:e.name,entityId:n,entityQuery:r},i))},e.Loader=function(t){var n=t.id,i=O(t,s);return r.createElement(o.Z,v({entityType:e.name,entityId:n},i))},e.Loader.displayName="".concat(t,".Loader"),e.loadList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.query,r=O(t,f);return(0,i.k)(g({entityType:e.name,entityQuery:n},r))},e.ListLoader=function(t){var n=t.query,o=O(t,d);return r.createElement(i.Z,v({entityType:e.name,entityQuery:n},o))},e.ListLoader.displayName="".concat(t,".ListLoader"),e.Name=function(t){var n=t.id,i=O(t,p);return r.createElement(a,v({entityType:e.name,entityId:n},i))},e.Name.displayName="".concat(t,".Name"),e.Link=function(t){var n=t.id,i=O(t,h);return r.createElement(l.Z,v({entityType:e.name,entityId:n},i))},e.Link.displayName="".concat(t,".Link"),e.Form=function(t){var n=t.object,i=O(t,m);return r.createElement(u.Z,v({entityType:e.name,entityObject:n||i[e.nameOne]},i))},e.Form.displayName="".concat(t,".Form"),e.ModalForm=function(t){var n=t.object,i=O(t,y);return r.createElement(u.Z,v({modal:!0,entityType:e.name,entityObject:n||i[e.nameOne]},i))},e.ModalForm.displayName="".concat(t,".ModalForm")}},36939:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r,i,o,a,u,l,c,s,f=n(24432),d=n(95556),p=n(5192),h=n(6336),m=n(55446),y=n(25312),v=n(73319),b=n(90635),g=n(82158),w=n(59602),O=n(35463),j=n(40930);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P,C,k=[{name:"name",title:(0,y.t)(r||(r=x(["Name"]))),placeholder:(0,y.t)(i||(i=x(["What is the name of your dashboard?"]))),autoFocus:!0,validate:function(e){return e?null:(0,y.t)(o||(o=x(["Name is required"])))}},{name:"description",title:(0,y.t)(a||(a=x(["Description"]))),type:"text",placeholder:(0,y.t)(u||(u=x(["It's optional but oh, so helpful"])))},{name:"collection_id",title:(0,y.t)(l||(l=x(["Which collection should this go in?"]))),type:"collection",validate:function(e){return void 0===e?(0,y.t)(c||(c=x(["Collection is required"]))):null}}],A={create:{fields:k},edit:{fields:function(){var e=[].concat(k);return O.Z.get("enable-query-caching")&&j.bd.cacheTTLFormField&&e.push(E(E({},j.bd.cacheTTLFormField),{},{type:"dashboardCacheTTL",message:(0,y.t)(s||(s=x(["Cache all question results for"])))})),e}}};function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){q(o,r,i,a,u,"next",e)}function u(e){q(o,r,i,a,u,"throw",e)}a(void 0)}))}}function Z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L,B="metabase/entities/dashboards/FAVORITE",z="metabase/entities/dashboards/UNFAVORITE",F="metabase/entities/dashboards/COPY",Q=(0,d.JP)({name:"dashboards",nameOne:"dashboard",path:"/api/dashboard",displayNameOne:(0,y.t)(P||(P=Z(["dashboard"]))),displayNameMany:(0,y.t)(C||(C=Z(["dashboards"]))),api:{favorite:(0,b.a4)("/api/dashboard/:id/favorite"),unfavorite:(0,b.yY)("/api/dashboard/:id/favorite"),save:(0,b.a4)("/api/dashboard/save"),copy:(0,b.a4)("/api/dashboard/:id/copy")},objectActions:{setArchived:function(e,t,n){var r=e.id;return Q.actions.update({id:r},{archived:t},(0,d.Yw)(n,"dashboard",t?"archived":"unarchived"))},setCollection:function(e,t,n){var r=e.id;return Q.actions.update({id:r},{collection_id:(0,w.ck)(t&&t.id)},(0,d.Yw)(n,"dashboard","moved"))},setPinned:function(e,t,n){var r=e.id;return Q.actions.update({id:r},{collection_position:"number"==typeof t?t:t?1:null},n)},setFavorited:(L=M(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,!n){e.next=7;break}return e.next=4,Q.api.favorite({id:r});case 4:return e.abrupt("return",{type:B,payload:r});case 7:return e.next=9,Q.api.unfavorite({id:r});case 9:return e.abrupt("return",{type:z,payload:r});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return L.apply(this,arguments)}),copy:(0,f.qC)((0,f.$e)(F),(0,f.JA)((function(e){return["entities","dashboard",e.id,"copy"]})),(0,f.wi)("entities","dashboard","copy"))((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.notify;return function(){var n=M(regeneratorRuntime.mark((function n(i,o){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Q,n.next=3,Q.api.copy(T({id:e.id},t));case 3:return n.t1=n.sent,a=n.t0.normalize.call(n.t0,n.t1),r&&i((0,v.nx)(r)),i({type:Q.actionTypes.INVALIDATE_LISTS_ACTION}),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}))},actions:{save:function(e){return function(){var t=M(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.api.save(e);case 2:return r=t.sent,n({type:Q.actionTypes.INVALIDATE_LISTS_ACTION}),t.abrupt("return",{type:"metabase/entities/dashboards/SAVE_DASHBOARD",payload:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,i=t.error;return n!==B||i?n!==z||i?n===F&&!i&&e[""]?T(T({},e),{},{"":e[""].concat([r.result])}):e:(0,m.assocIn)(e,[r,"favorite"],!1):(0,m.assocIn)(e,[r,"favorite"],!0)},objectSelectors:{getFavorited:function(e){return e&&e.favorite},getName:function(e){return e&&e.name},getUrl:function(e){return e&&p.sI(e)},getCollection:function(e){return e&&(0,g.Hh)(e.collection)},getIcon:function(e){return{name:"dashboard"}},getColor:function(){return(0,h.$_)("dashboard")}},getAnalyticsMetadata:function(e,t,n){var r=D(e,1)[0],i=(t.action,r&&(0,g.hq)(r.collection_id,n()));return i&&"collection=".concat(i)},forms:A}),V=Q},57212:function(e,t,n){"use strict";var r=n(95556),i=n(11093);function o(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var a,u,l=(0,r.JP)({name:"databaseCandidates",api:{list:(a=regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.abrupt("return",t.id?i.AutoApi.db_candidates(t):[]);case 2:case"end":return e.stop()}}),e)})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function u(e){o(i,n,r,u,l,"next",e)}function l(e){o(i,n,r,u,l,"throw",e)}u(void 0)}))},function(){return u.apply(this,arguments)})}});t.Z=l},96049:function(e,t,n){"use strict";n.d(t,{ZP:function(){return yn}});var r,i=n(64671),o=n(30558),a=n(95556),u=n(5192),l=n(6336),c=n(24432),s=n(11093),f=n(40242),d=n(67087),p=n(39410),h=n(81932),m=n(12463),y=n(32735),v=n(25312),b=n(35463),g=n(99584),w=n(98111),O=n(40930),j=n(4843),S=n(67744);function E(e){var t,n,i=e.field;return y.createElement(S.default,{schedule:o.ZP.isString(i.value)?{schedule_day:"mon",schedule_frame:null,schedule_hour:0,schedule_type:"daily"}:i.value,scheduleOptions:["hourly","daily"],onScheduleChange:i.onChange,textBeforeInterval:(0,v.t)(r||(t=["Scan"],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))),minutesOnHourPicker:!0})}var _,x,P,C,k,A=n(40841),D=n.n(A);function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function I(e){var t=e.field,n=e.values,r=e.onChangeField,i=function(e,t){r("is_full_sync",e),r("is_on_demand",t)};return y.createElement("ol",{className:"bordered shadowed mt3"},y.createElement("li",{className:"border-bottom"},y.createElement(ue,{selected:n.is_full_sync,name:(0,v.t)(_||(_=R(["Regularly, on a schedule"]))),select:function(){return i(!0,!1)}},y.createElement("div",{className:"flex align-center"},y.createElement(S.default,{schedule:o.ZP.isString(t.value)?{schedule_day:"mon",schedule_frame:null,schedule_hour:0,schedule_type:"daily"}:t.value,scheduleOptions:["daily","weekly","monthly"],onScheduleChange:t.onChange,textBeforeInterval:(0,v.t)(x||(x=R(["Scan"])))})))),y.createElement("li",{className:"border-bottom pr2"},y.createElement(ue,{selected:!n.is_full_sync&&n.is_on_demand,name:(0,v.t)(P||(P=R(["Only when adding a new filter widget"]))),select:function(){return i(!1,!0)}},y.createElement("p",{className:"text-paragraph text-measure"},(0,v.t)(C||(C=R(["When a user adds a new filter to a dashboard or a SQL question, Metabase will\n                                                  scan the field(s) mapped to that filter in order to show the list of selectable values."])))))),y.createElement("li",null,y.createElement(ue,{selected:!n.is_full_sync&&!n.is_on_demand,name:(0,v.t)(k||(k=R(["Never, I'll do this manually if I need to"]))),select:function(){return i(!1,!1)}})))}var T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue=function(e){var t=e.selected,n=e.name,r=e.children,i=e.select;return y.createElement("div",{className:D()("py3 relative",{"cursor-pointer":!t}),onClick:function(){return i(n.toLowerCase())}},y.createElement("div",{className:D()("circle ml2 flex align-center justify-center absolute"),style:{width:18,height:18,borderWidth:2,borderColor:t?(0,l.$_)("brand"):(0,l.$_)("text-light"),borderStyle:"solid"}},t&&y.createElement("div",{className:"circle",style:{width:8,height:8,backgroundColor:t?(0,l.$_)("brand"):(0,l.$_)("text-light")}})),y.createElement("div",{className:"ml4 pl2"},y.createElement("div",{className:D()({"text-brand":t})},y.createElement("h3",null,n)),t&&r&&y.createElement("div",{className:"mt2"},r)))};function le(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fe,de;function pe(e){var t=e.field,n=t.value,r=t.onChange,i=e.values.details,o=y.createElement(w.Z,{href:"https://developers.google.com/identity/protocols/OAuth2ServiceAccount"},(0,v.t)(T||(T=se(["Service Accounts"])))),a=["client-id","client-secret"].every((function(e){return null==i[e]}));return!n&&a||!0===n?y.createElement("div",null,y.createElement("p",null,(0,v.jt)(N||(N=se(["Metabase connects to Big Query via ","."])),o)),!0===n&&y.createElement(j.Z,{className:"link",onClick:function(){return r(!1)}},(0,v.t)(q||(q=se(["Continue using an OAuth application to connect"]))))):y.createElement("div",{style:{borderLeftWidth:3,borderLeftStyle:"solid",borderLeftColor:(0,l.$_)("brand")},className:"pl1"},y.createElement("p",null,(0,v.jt)(M||(M=se(["We recommend switching to use "," instead of an OAuth application to connect to BigQuery"])),o)),y.createElement(j.Z,{className:"link",onClick:function(){return r(!0)}},(0,v.t)(Z||(Z=se(["Connect to a Service Account instead"])))))}function he(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ve(e){var t=e.field,n=t.value,r=t.onChange;return y.createElement("div",null,y.createElement(j.Z,{className:"link",onClick:function(){return r(!n)}},!1===n?(0,v.t)(fe||(fe=ye(["Paste a connection string"]))):(0,v.t)(de||(de=ye(["Fill out individual fields"])))))}var be=n(18591),ge=n(47679),we=n(47707),Oe=n(86147),je=n(65844);var Se,Ee,_e,xe,Pe,Ce,ke,Ae=(0,ge.Z)("div",{target:"e1mai05p10"})({name:"4zleql",styles:"display:block"}),De=(0,ge.Z)("ul",{target:"e1mai05p9"})("display:grid;grid-template-columns:1fr;gap:1.5rem;margin:1.5rem 0;",we._9,"{grid-template-columns:repeat(3, 1fr);}"),Re=(0,ge.Z)("li",{target:"e1mai05p8"})("display:flex;flex:1 1 auto;flex-direction:column;align-items:center;justify-content:center;height:5.375rem;padding:1rem;border:1px solid ",(0,l.$_)("bg-medium"),";border-radius:0.375rem;background-color:",(0,l.$_)("white"),";cursor:pointer;outline:",(function(e){return e.isActive?"2px solid ".concat((0,l.$_)("focus")):""}),";&:hover{border-color:",(0,l.$_)("brand"),";background-color:",(0,l.$n)("brand",.6),";}"),Ie=(0,ge.Z)("div",{target:"e1mai05p7"})("color:",(0,l.$_)("text-dark"),";margin-top:0.5rem;"),Te=(0,ge.Z)(je.ZP,{target:"e1mai05p6"})("color:",(0,l.$_)("text-medium"),";width:1rem;height:1rem;padding:0.5rem;"),Ne=(0,ge.Z)("img",{target:"e1mai05p5"})({name:"1n5jvhm",styles:"width:2rem;height:2rem"}),qe=(0,ge.Z)("div",{target:"e1mai05p4"})({name:"mioo63",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:12.25rem;margin:1.5rem 0"}),Me=(0,ge.Z)(je.ZP,{target:"e1mai05p3"})("color:",(0,l.$_)("text-medium"),";margin-bottom:0.5rem;"),Ze=(0,ge.Z)("div",{target:"e1mai05p2"})("color:",(0,l.$_)("text-light"),";font-weight:bold;line-height:1.5rem;max-width:26rem;text-align:center;"),Le=(0,ge.Z)(Oe.Z,{target:"e1mai05p1"})("padding:0.8125rem 0.75rem;",Oe.Z.Content,"{justify-content:space-between;}"),Be=(0,ge.Z)(Oe.Z,{target:"e1mai05p0"})({name:"1d3w5wq",styles:"width:100%"});function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut,lt,ct,st,ft,dt,pt,ht,mt,yt,vt,bt,gt,wt,Ot,jt,St,Et=function(e){var t=e.field,n=e.options.find((function(e){return e.value===t.value})),r=(0,y.useCallback)((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,void 0)}),[t]);return y.createElement(Le,{type:"button",primary:!0,autoFocus:!0,fullWidth:!0,iconRight:"close","aria-label":(0,v.t)(Se||(Se=Qe(["Remove database"]))),onClick:r},n?n.name:t.value)},_t=function(e){var t=e.field,n=e.options,r=e.isHosted,i=(0,y.useMemo)((function(){return o.ZP.uniqueId()}),[]),a=ze((0,y.useState)(""),2),u=a[0],l=a[1],c=ze((0,y.useState)(),2),s=c[0],f=c[1],d=ze((0,y.useState)(!1),2),p=d[0],h=d[1],m=u.length>0,b=null!=s,g=n.length>6,w=(0,y.useMemo)((function(){return At(n)}),[n]),O=(0,y.useMemo)((function(){return Dt(w,p,m,u)}),[w,p,m,u]),j=O.length,S=b?O[s]:void 0,E=(0,y.useCallback)((function(e){l(e),f(void 0)}),[]),_=(0,y.useCallback)((function(e){var n;switch(e.key){case"Enter":S&&(null===(n=t.onChange)||void 0===n||n.call(t,S.value)),e.preventDefault();break;case"ArrowUp":case"ArrowDown":h(!0),f(Nt(e.key,s,j)),e.preventDefault()}}),[t,s,S,j]);return y.createElement(Ae,{role:"combobox","aria-expanded":"true"},y.createElement(be.Z,{value:u,placeholder:(0,v.t)(Ee||(Ee=Qe(["Search for a database"]))),autoFocus:!0,"aria-autocomplete":"list","aria-controls":It(i),"aria-activedescendant":Tt(i,S),onChange:E,onKeyDown:_}),O.length?y.createElement(xt,{rootId:i,options:O,activeIndex:s,onOptionChange:t.onChange}):y.createElement(Ct,{isHosted:r}),!m&&g&&y.createElement(kt,{isExpanded:p,onExpandedChange:h}))},xt=function(e){var t=e.rootId,n=e.options,r=e.activeIndex,i=e.onOptionChange;return y.createElement(De,{role:"listbox",id:It(t)},n.map((function(e,n){return y.createElement(Pt,{key:e.value,rootId:t,option:e,isActive:n===r,onOptionChange:i})})))},Pt=function(e){var t=e.rootId,n=e.option,r=e.isActive,i=e.onOptionChange,o=(0,g.Ov)(n.value),a=(0,y.useCallback)((function(){null==i||i(n.value)}),[n,i]);return y.createElement(Re,{role:"option",id:Tt(t,n),isActive:r,onClick:a},o?y.createElement(Ne,{src:o}):y.createElement(Te,{name:"database"}),y.createElement(Ie,null,n.name))},Ct=function(e){var t=e.isHosted;return y.createElement(qe,null,y.createElement(Me,{name:"search",size:32}),t?y.createElement(Ze,null,(0,v.t)(_e||(_e=Qe(["Didnt find anything"])))):y.createElement(Ze,null,(0,v.jt)(xe||(xe=Qe(["Dont see your database? Check out our "," page to see if its available for self-hosting."])),y.createElement(w.Z,{key:"link",href:b.Z.docsUrl("developers-guide-drivers")},(0,v.t)(Pe||(Pe=Qe(["Community Drivers"])))))))},kt=function(e){var t=e.isExpanded,n=e.onExpandedChange,r=(0,y.useCallback)((function(){n(!t)}),[t,n]);return y.createElement(Be,{primary:!0,iconRight:t?"chevronup":"chevrondown",onClick:r},t?(0,v.t)(Ce||(Ce=Qe(["Show fewer options"]))):(0,v.t)(ke||(ke=Qe(["Show more options"]))))},At=function(e){return e.sort((function(e,t){return e.index>=0&&t.index>=0?e.index-t.index:e.index>=0?-1:t.index>=0?1:e.name.localeCompare(t.name)}))},Dt=function(e,t,n,r){return n?e.filter((function(e){return Rt(e.name,r)})):t?e:e.slice(0,6)},Rt=function(e,t){return e.toLowerCase().includes(t.toLowerCase())},It=function(e){return"".concat(e,"-listbox")},Tt=function(e,t){return t?"".concat(e,"-option-").concat(t.value):void 0},Nt=function(e,t,n){switch(e){case"ArrowDown":return null!=t?Math.min(t+1,n-1):0;case"ArrowUp":return null!=t?Math.max(t-1,0):n;default:return t}},qt=function(e){var t=e.field,n=e.options,r=e.isHosted;return t.value?y.createElement(Et,{field:t,options:n}):y.createElement(_t,{field:t,options:n,isHosted:r})};function Mt(e){return function(e){if(Array.isArray(e))return Qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ft(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Ft(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ut={"tunnel-enabled":function(){return{title:(0,v.t)(Ve||(Ve=Vt(["Use an SSH-tunnel"]))),description:(e=y.createElement(w.Z,{href:b.Z.docsUrl("administration-guide/ssh-tunnel-for-database-connections")},(0,v.t)(lt||(lt=Vt(["Learn more"])))),(0,v.jt)(ct||(ct=Vt(["If a direct connection to your database isn't possible, you may want to use an SSH tunnel. ","."])),e))};var e},"use-jvm-timezone":function(){return{title:(0,v.t)(Ue||(Ue=Vt(["Use the Java Virtual Machine (JVM) timezone"]))),description:(0,v.t)(He||(He=Vt(["We suggest you leave this off unless you plan on doing a lot of manual timezone casting with this data."])))}},"include-user-id-and-hash":function(){return{title:(0,v.t)(Ye||(Ye=Vt(["Include User ID and query hash in queries"]))),description:(0,v.t)(Ge||(Ge=Vt(["This can be useful for auditing and debugging, but prevents BigQuery from caching results and may increase your costs."])))}},"use-srv":function(){return{title:(0,v.t)(We||(We=Vt(["Connect using DNS SRV"]))),description:(0,v.t)($e||($e=Vt(["If you're connecting to an Atlas cluster, you might need to turn this on. Note that your provided host must be a fully qualified domain name."])))}},"client-id":function(e,t){return{description:Kt(e,t)}},"auth-code":function(e,t){return{description:y.createElement("div",null,y.createElement("div",null,Jt(e,t)))}},"service-account-json":function(e,t,n){return{validate:function(e){if(n)return null;if(!e)return(0,v.t)(Ke||(Ke=Vt(["required"])));try{JSON.parse(e)}catch(e){return(0,v.t)(Je||(Je=Vt(["invalid JSON"])))}return null}}},"tunnel-private-key":function(){return{title:(0,v.t)(Xe||(Xe=Vt(["SSH private key"]))),placeholder:(0,v.t)(et||(et=Vt(["Paste the contents of your ssh private key here"]))),type:"text"}},"tunnel-private-key-passphrase":function(){return{title:(0,v.t)(tt||(tt=Vt(["Passphrase for the SSH private key"])))}},"tunnel-auth-option":function(){return{title:(0,v.t)(nt||(nt=Vt(["SSH authentication"]))),options:[{name:(0,v.t)(rt||(rt=Vt(["SSH Key"]))),value:"ssh-key"},{name:(0,v.t)(it||(it=Vt(["Password"]))),value:"password"}]}},"ssl-cert":function(){return{title:(0,v.t)(ot||(ot=Vt(["Server SSL certificate chain"]))),placeholder:(0,v.t)(at||(at=Vt(["Paste the contents of the server's SSL certificate chain here"]))),type:"text"}},"schedules.metadata_sync":function(){return{name:"schedules.metadata_sync",type:E,normalize:function(e){return e}}},"schedules.cache_field_values":function(){return{name:"schedules.cache_field_values",type:I,normalize:function(e){return e}}},auto_run_queries:function(){return{name:"auto_run_queries",initial:void 0}},refingerprint:function(){return{name:"refingerprint"}}};function Ht(e){var t=tn[e];return null!=t?t["driver-name"]:(0,v.t)(ut||(ut=Vt(["Database"])))}function Yt(e,t,n){var r=(b.Z.get("engines")||{})[e];switch(e){case"bigquery":return function(e){var t=null==e["use-service-account"]?["client-id","client-secret"].every((function(t){return null==e[t]})):e["use-service-account"];return{"details-fields":[{name:"use-service-account",type:pe,hidden:!0}].concat(le(t?[]:[{name:"project-id","display-name":(0,v.t)(L||(L=se(["Project ID"]))),"helper-text":(0,v.t)(B||(B=se(["Project ID to be used for authentication. You can omit this field if you are only querying datasets owned by your organization."]))),placeholder:"1w08oDRKPrOqBt06yxY8uiCz2sSvOp3u",required:!0}]),[{name:"dataset-id","display-name":(0,v.t)(z||(z=se(["Dataset ID"]))),"helper-text":(0,v.t)(F||(F=se(['Make sure to leave out the Project ID prefix in "project_name:dataset_id" and only enter dataset_id']))),placeholder:"dataset_id",required:!0}],le(t?[{name:"service-account-json","display-name":(0,v.t)(Q||(Q=se(["Service account JSON file"]))),"helper-text":(0,v.t)(V||(V=se(["This JSON file contains the credentials Metabase needs to read and query your dataset."]))),type:"textFile",required:!0}]:[{name:"client-id","display-name":(0,v.t)(U||(U=se(["Client ID"]))),placeholder:"1201327674725-y6ferb0feo1hfssr7t40o4aikqll46d4.apps.googleusercontent.com",required:!0},{name:"client-secret","display-name":(0,v.t)(H||(H=se(["Client Secret"]))),placeholder:"dJNi4utWgMzyIFo2JbnsK6Np",required:!0},{name:"auth-code","display-name":(0,v.t)(Y||(Y=se(["Auth Code"]))),placeholder:"4/HSk-KtxkSzTt61j5zcbee2Rmm5JHkRFbL5gD5lgkXek",required:!0}]),[{name:"advanced-options",type:"section",default:!1},{name:"use-jvm-timezone","display-name":(0,v.t)(G||(G=se(["Use the Java Virtual Machine (JVM) timezone"]))),default:!1,type:"boolean","visible-if":{"advanced-options":!0}},{name:"include-user-id-and-hash","display-name":(0,v.t)(W||(W=se(["Include User ID and query hash in queries"]))),default:!0,type:"boolean","visible-if":{"advanced-options":!0}},{name:"auto_run_queries",type:"boolean",default:!0,"display-name":(0,v.t)($||($=se(["Rerun queries for simple explorations"]))),description:(0,v.t)(K||(K=se(["We execute the underlying query when you explore data using Summarize or Filter. This is on by default but you can turn it off if performance is slow."]))),"visible-if":{"advanced-options":!0}},{name:"let-user-control-scheduling",type:"boolean","display-name":(0,v.t)(J||(J=se(["Choose when syncs and scans happen"]))),description:(0,v.t)(X||(X=se(["By default, Metabase does a lightweight hourly sync and an intensive daily scan of field values. If you have a large database, turn this on to make changes."]))),"visible-if":{"advanced-options":!0}},{name:"schedules.metadata_sync","display-name":(0,v.t)(ee||(ee=se(["Database syncing"]))),type:E,description:(0,v.t)(te||(te=se(["This is a lightweight process that checks for updates to this databases schema. In most cases, you should be fine leaving this set to sync hourly."]))),"visible-if":{"let-user-control-scheduling":!0}},{name:"schedules.cache_field_values","display-name":(0,v.t)(ne||(ne=se(["Scanning for Filter Values"]))),type:I,description:(0,v.t)(re||(re=se(["Metabase can scan the values present in each field in this database to enable checkbox filters in dashboards and questions. This can be a somewhat resource-intensive process, particularly if you have a very large database."])))+" "+(0,v.t)(ie||(ie=se(["When should Metabase automatically scan and cache field values?"]))),"visible-if":{"let-user-control-scheduling":!0}},{name:"refingerprint",type:"boolean","display-name":(0,v.t)(oe||(oe=se(["Periodically refingerprint tables"]))),description:(0,v.t)(ae||(ae=se(["This enables Metabase to scan for additional field values during syncs allowing smarter behavior, like improved auto-binning on your bar charts."]))),"visible-if":{"advanced-options":!0}}])}}(t);case"mongo":return function(e,t,n){var r=null==e["use-connection-uri"]||e["use-connection-uri"],i=["host","dbname","port","user","pass","authdb","additional-options","use-srv","ssl"],o=t["details-fields"].filter((function(e){return!(r&&i.includes(e.name)||!r&&"conn-uri"===e.name)})).map((function(e){return"conn-uri"===e.name&&n&&(e.type="password"),e}));return{"details-fields":[{name:"use-connection-uri",type:ve,hidden:!0,default:!1}].concat(he(o))}}(t,r,n);default:return r}}var Gt={bigquery:"https://accounts.google.com/o/oauth2/auth?redirect_uri=urn:ietf:wg:oauth:2.0:oob&response_type=code&scope=https://www.googleapis.com/auth/bigquery&client_id=",bigquery_with_drive:"https://accounts.google.com/o/oauth2/auth?redirect_uri=urn:ietf:wg:oauth:2.0:oob&response_type=code&scope=https://www.googleapis.com/auth/bigquery%20https://www.googleapis.com/auth/drive&client_id="},Wt={bigquery:"https://console.developers.google.com/apis/credentials/oauthclient?project="};function $t(e,t){return(e||"").trim()+(t||"").trim()}function Kt(e,t){if(Wt[e]){var n=$t(Wt[e],t["project-id"]||"");return y.createElement("span",null,(0,v.jt)(st||(st=Vt([""," to generate a Client ID and Client Secret for your project."])),y.createElement(w.Z,{className:"link",href:n},(0,v.t)(ft||(ft=Vt(["Click here"])))))," ",(0,v.t)(dt||(dt=Vt(['Choose "Desktop App" as the application type. Name it whatever you\'d like.']))))}}function Jt(e,t){if(Gt[e]&&t["client-id"]){var n=$t(Gt[e],t["client-id"]),r=$t(Gt.bigquery_with_drive,t["client-id"]);return y.createElement("span",null,(0,v.jt)(pt||(pt=Vt([""," to get an auth code."])),y.createElement(w.Z,{href:n},(0,v.t)(ht||(ht=Vt(["Click here"]))))),"bigquery"===e&&y.createElement("span",null," ","(",(0,v.t)(mt||(mt=Vt(["or"])))," ",y.createElement(w.Z,{href:r},(0,v.t)(yt||(yt=Vt(["with Google Drive permissions"])))),")"))}}function Xt(e){return"default"in e?e.default:null}function en(e,t,n){var r=Yt(e,t,n),i=r?r["details-fields"]:[],o=O.bd.databaseCacheTTLFormField&&b.Z.get("enable-query-caching")?O.bd.databaseCacheTTLFormField:null;return i.map((function(r){var i=Ut[r.name];return Lt({name:"details.".concat(r.name),title:r["display-name"],type:r.type,description:r.description,placeholder:r.placeholder||r.default,options:r.options,validate:function(e){return r.required&&!e?(0,v.t)(vt||(vt=Vt(["required"]))):null},normalize:function(e){return function(e,t){if(""===e||null==e)return Xt(t);if("string"==typeof e&&"password"!==t.type){var n=e.trim();return""===n?Xt(t):n}return e}(e,r)},horizontal:"boolean"===r.type,initial:r.default,readOnly:r.readOnly||!1,helperText:r["helper-text"],visibleIf:r["visible-if"],treatBeforePosting:r["treat-before-posting"]},i&&i(e,t,n))})).concat(o?[o]:[]).filter((function(e){return function(e,t){var n=e.visibleIf;if(n)return Object.entries(n).every((function(e){var n=zt(e,2),r=n[0],i=n[1];return Array.isArray(i)?i.includes(t[r]):t[r]===i}));return!0}(e,t)}))}var tn=b.Z.get("engines",{}),nn=(0,g.pD)(),rn=Object.entries(tn).map((function(e){var t,n=zt(e,2),r=n[0],i=n[1];return{value:r,name:i["driver-name"],official:null===(t=i.official)||void 0===t||t,index:nn.indexOf(r)}})).sort((function(e,t){return e.name.localeCompare(t.name)})),on=Object.keys(tn).reduce((function(e,t){var n=tn[t]["superseded-by"];return n&&(e.supersedes[n]=t,e.superseded_by[t]=n),e}),{supersedes:{},superseded_by:{}});function an(e){return rn.filter((function(t){var n=t.value,r=on.superseded_by[n];return void 0===r||r===e||n===e}))}var un={details:{fields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.engine,r=e.details,i=void 0===r?{}:r;return[{name:"engine",title:(0,v.t)(bt||(bt=Vt(["Database type"]))),type:"select",options:an(n),placeholder:(0,v.t)(gt||(gt=Vt(["Select a database"]))),isHosted:b.Z.isHosted()},{name:"name",title:(0,v.t)(wt||(wt=Vt(["Display name"]))),placeholder:(0,v.t)(Ot||(Ot=Vt(["Our ",""])),Ht(n)),validate:function(e){return!e&&(0,v.t)(jt||(jt=Vt(["required"])))},hidden:!n,helperText:(0,v.t)(St||(St=Vt(["Choose what this data will be called in Metabase."])))}].concat(Mt(en(n,i,t)||[]),[{name:"is_full_sync",type:"hidden"},{name:"is_on_demand",type:"hidden"}]).filter(Boolean)},normalize:function(e){return e.details["let-user-control-scheduling"]?e:Lt(Lt({},e),{},{is_full_sync:!0})}}};un.setup=Lt(Lt({},un.details),{},{fields:function(){var e;return(e=un.details).fields.apply(e,arguments).map((function(e){return Lt(Lt({},e),{},{type:"engine"===e.name?qt:e.type,title:"engine"===e.name?null:e.title,hidden:e.hidden||ln.has(e.name)})}))}}),un.connection=Lt(Lt({},un.details),{},{fields:function(){var e;return(e=un.details).fields.apply(e,arguments).map((function(e){return Lt(Lt({},e),{},{hidden:e.hidden})}))}});var ln=new Set(["auto_run_queries","details.let-user-control-scheduling","cache_ttl"]),cn=un;function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pn(o,r,i,a,u,"next",e)}function u(e){pn(o,r,i,a,u,"throw",e)}a(void 0)}))}}var mn=(0,a.JP)({name:"databases",path:"/api/database",schema:f.Gn,nameOne:"database",nameMany:"databases",objectActions:{fetchDatabaseMetadata:(0,c.RU)("metabase/entities/database/FETCH_DATABASE_METADATA",(function(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.reload,o=void 0!==r&&r,a=n.params;return function(e,n){return(0,c.rQ)({dispatch:e,getState:n,requestStatePath:["metadata","databases",t],existingStatePath:["metadata","databases",t],getData:(r=hn(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.MetabaseApi.db_metadata(fn({dbId:t},a));case 2:return n=e.sent,e.abrupt("return",(0,i.Fv)(n,f.Gn));case 4:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),reload:o});var r}})),fetchIdfields:(0,c.RU)("metabase/entities/database/FETCH_DATABASE_IDFIELDS",(function(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return hn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.Fv,e.next=3,s.MetabaseApi.db_idfields(fn({dbId:t},n));case 3:return e.t1=e.sent,e.t2=[d.ZP.schema],e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))})),fetchSchemas:function(e){var t=e.id;return p.Z.actions.fetchList({dbId:t})}},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return e&&u.nk(e)},getIcon:function(e){return{name:"database"}},getColor:function(e){return(0,l.$_)("database")}},selectors:{getObject:function(e,t){var n=t.entityId;return(0,h.sd)(e).database(n)},getHasSampleDatabase:function(e){return o.ZP.any(mn.selectors.getList(e),(function(e){return e.is_sample}))},getIdfields:(0,m.createSelector)([function(e){return(0,h.VN)(e)},function(e,t){return t.databaseId}],(function(e,t){return Object.values(e).filter((function(e){return(e.table||{}).db_id===t&&e.isPK()}))}))},forms:cn}),yn=mn},67087:function(e,t,n){"use strict";var r,i,o=n(25312),a=n(95556),u=n(24432),l=n(64671),c=n(55446),s=n(40242),f=n(11093),d=n(81932),p=n(12207),h=n(1861),m=n(91664);function y(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,u,"next",e)}function u(e){y(o,r,i,a,u,"throw",e)}a(void 0)}))}}function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="metabase/entities/fields/ADD_REMAPPINGS",E="metabase/entities/fields/ADD_PARAM_VALUES",_=(0,a.JP)({name:"fields",path:"/api/field",schema:s.WU,selectors:{getObject:function(e,t){var n=t.entityId;return(0,d.sd)(e).field(n)},getObjectUnfiltered:function(e,t){var n=t.entityId,r=e.entities.fields[n];return r&&O(O({},r),{},{values:(0,h.W6)(r),remapping:new Map((0,h.LP)(r)),target:e.entities.fields[r.fk_target_field_id]})},getFieldValues:function(e,t){var n=t.entityId,r=e.entities.fields[n];return r?(0,h.W6)(r):[]}},objectActions:{fetchFieldValues:(0,u.qC)((0,u.$e)("metabase/entities/fields/FETCH_FIELD_VALUES"),(0,u.jY)((function(e){var t=e.id;return b(_.getObjectStatePath(t))}),(function(e){var t=e.id;return[].concat(b(_.getObjectStatePath(t)),["values"])}),(function(e){return _.getQueryKey(e)})),(0,u.IL)(s.WU))((function(e){var t=e.id;return function(){var e=v(regeneratorRuntime.mark((function e(n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.MetabaseApi.field_values({fieldId:t});case 2:return i=e.sent,o=i.field_id,a=i.values,e.abrupt("return",{id:o,values:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),updateField:function(e,t){return function(){var n=v(regeneratorRuntime.mark((function n(i){var u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i(_.actions.update({id:e.id},e,(0,a.h4)(t,e.display_name,(0,o.t)(r||(l=["updated"],(c=void 0)||(c=l.slice(0)),r=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(c)}})))))));case 2:return u=n.sent,n.next=5,i(_.actions.fetchFieldValues(e,{reload:!0}));case 5:return n.abrupt("return",u);case 6:case"end":return n.stop()}var l,c}),n)})));return function(e){return n.apply(this,arguments)}}()},updateFieldValues:(0,u.RU)("metabase/entities/fields/UPDATE_FIELD_VALUES",(function(e,t){var n=e.id;return function(e,r){return(0,u.VA)({dispatch:e,getState:r,requestStatePath:["entities","fields",n,"dimension"],existingStatePath:["entities","fields",n],putData:function(){return f.MetabaseApi.field_values_update({fieldId:n,values:t})}})}})),updateFieldDimension:(0,u.RU)("metabase/metadata/UPDATE_FIELD_DIMENSION",(function(e,t){var n=e.id;return function(e,r){return(0,u.VA)({dispatch:e,getState:r,requestStatePath:["entities","fields",n,"dimension"],existingStatePath:["entities","fields",n],putData:function(){return f.MetabaseApi.field_dimension_update(O({fieldId:n},t))}})}})),deleteFieldDimension:(0,u.RU)("metabase/metadata/DELETE_FIELD_DIMENSION",(function(e){var t=e.id;return function(e,n){return(0,u.VA)({dispatch:e,getState:n,requestStatePath:["entities","fields",t,"dimension"],existingStatePath:["entities","fields",t],putData:function(){return f.MetabaseApi.field_dimension_delete({fieldId:t})}})}})),addRemappings:(0,u.PH)(S,(function(e,t){return{fieldId:e.id,remappings:t}}))},actions:{addParamValues:(0,u.PH)(E),addFields:(0,u.PH)("metabase/entities/fields/ADD_FIELDS",(function(e){return(0,l.Fv)(e,[s.WU])}))},reducer:(0,u.jZ)((i={},j(i,E,{next:function(e,t){for(var n=t.payload,r=0,i=Object.values(n);r<i.length;r++){var o=i[r];e=(0,c.assocIn)(e,[o.field_id,"values"],o)}return e}}),j(i,S,(function(e,t){var n=t.payload,r=n.fieldId,i=n.remappings;return(0,c.updateIn)(e,[r,"remappings"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(new Map(e.concat(i)))}))})),i),{}),form:{fields:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"display_name"},{name:"description"},{name:"visibility_type",type:"select",options:p.IX.map((function(e){return{name:e.name,value:e.id}}))},{name:"semantic_type",type:"select",options:p.$6.map((function(e){return{name:e.name,value:e.id}}))},e.semantic_type===m.wD.FK&&{name:"fk_target_field_id"},{name:"has_field_values",type:"select",options:p.wW}].filter((function(e){return e}))}}});t.ZP=_},56071:function(e,t,n){"use strict";var r=(0,n(95556).JP)({name:"groups",path:"/api/permissions/group",form:{fields:[{name:"name"}]}});t.Z=r},51587:function(e,t,n){"use strict";n.r(t),n.d(t,{alerts:function(){return r.Z},collections:function(){return i.ZP},snippetCollections:function(){return o.Z},dashboards:function(){return a.Z},databaseCandidates:function(){return u.Z},pulses:function(){return l.Z},questions:function(){return c.Z},timelines:function(){return s.Z},timelineEvents:function(){return f.Z},revisions:function(){return d.Z},bookmarks:function(){return p.Z},databases:function(){return h.ZP},schemas:function(){return m.Z},tables:function(){return y.ZP},fields:function(){return v.ZP},metrics:function(){return b.Z},segments:function(){return g.Z},tasks:function(){return w.Z},loginHistory:function(){return O.Z},users:function(){return j.ZP},groups:function(){return S.Z},search:function(){return E.Z},recentItems:function(){return _.ZP},popularItems:function(){return x.ZP},snippets:function(){return P.Z}});var r=n(27656),i=n(82158),o=n(89289),a=n(36939),u=n(57212),l=n(48270),c=n(92065),s=n(82616),f=n(61604),d=n(98861),p=n(91478),h=n(96049),m=n(39410),y=n(33572),v=n(67087),b=n(95745),g=n(87181),w=n(70238),O=n(56883),j=n(92528),S=n(56071),E=n(77525),_=n(97991),x=n(19667),P=n(47988)},56883:function(e,t,n){"use strict";var r=n(40242),i=(0,n(95556).JP)({name:"loginHistory",path:"/api/login-history/current",schema:r.g0});t.Z=i},95745:function(e,t,n){"use strict";var r=n(95556),i=n(40242),o=n(6336),a=n(5192),u=n(81932),l=(0,r.JP)({name:"metrics",nameOne:"metric",path:"/api/metric",schema:i.$C,objectActions:{setArchived:function(e,t){var n=e.id,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.revision_message,o=void 0===i?t?"(Archive)":"(Unarchive)":i;return l.actions.update({id:n},{archived:t,revision_message:o})},delete:null},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return a._B(e.database_id,e.table_id,e.id)},getColor:function(e){return(0,o.$_)("accent1")},getIcon:function(e){return{name:"sum"}}},selectors:{getObject:function(e,t){var n=t.entityId;return(0,u.sd)(e).metric(n)}},form:{fields:[{name:"name"},{name:"description",type:"text"}]}});t.Z=l},19667:function(e,t,n){"use strict";var r=n(95556),i=n(58914),o=n(40242),a=function(e){return n(51587)[(0,i.mL)(e)]},u=(0,r.JP)({name:"popularItems",nameOne:"popularItem",path:"/api/activity/popular_items",schema:o.$7,wrapEntity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a(e);return n.wrapEntity(e,t)},objectSelectors:{getName:function(e){return e.model_object.display_name||e.model_object.name},getIcon:function(e){return a(e).objectSelectors.getIcon(e.model_object)}}});t.ZP=u},48270:function(e,t,n){"use strict";var r,i,o,a,u,l,c,s,f=n(25312),d=n(95556),p=n(5192),h=n(6336),m=n(11093),y=n(73319),v=n(82158),b=n(59602);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S="metabase/entities/pulses/unsubscribe",E=(0,d.JP)({name:"pulses",nameOne:"pulse",path:"/api/pulse",actionTypes:{UNSUBSCRIBE:S},objectActions:{setArchived:function(e,t,n){var a=e.id;return E.actions.update({id:a},{archived:t},(0,d.Yw)(n,(0,f.t)(r||(r=j(["subscription"]))),t?(0,f.t)(i||(i=j(["deleted"]))):(0,f.t)(o||(o=j(["restored"])))))},setChannels:function(e,t,n){var r=e.id;return E.actions.update({id:r},{channels:t},(0,d.Yw)(n,(0,f.t)(a||(a=j(["subscription"]))),(0,f.t)(u||(u=j(["updated"])))))},setCollection:function(e,t,n){var r=e.id;return E.actions.update({id:r},{collection_id:(0,b.ck)(t&&t.id)},(0,d.Yw)(n,(0,f.t)(l||(l=j(["subscription"]))),(0,f.t)(c||(c=j(["moved"])))))},setPinned:function(e,t,n){var r=e.id;return E.actions.update({id:r},{collection_position:"number"==typeof t?t:t?1:null},n)},unsubscribe:function(e){var t=e.id;return function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.PulseApi.unsubscribe({id:t});case 2:n((0,y.nx)({message:(0,f.t)(s||(s=j(["Successfully unsubscribed"])))})),n({type:S,payload:{id:t}}),n({type:E.actionTypes.INVALIDATE_LISTS_ACTION});case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){O(o,r,i,a,u,"next",e)}function u(e){O(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()}},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return e&&p.dC(e.id)},getIcon:function(e){return{name:"pulse"}},getColor:function(e){return(0,h.$_)("pulse")}},form:{fields:[{name:"name"},{name:"collection_id",title:"Collection",type:"collection"}]},getAnalyticsMetadata:function(e,t,n){var r=g(e,1)[0],i=(t.action,r&&(0,v.hq)(r.collection_id,n()));return i&&"collection=".concat(i)}});t.Z=E},92065:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r,i,o,a,u,l=n(95556),c=n(5192),s=n(6336),f=n(82158),d=n(59602),p=n(25312),h=n(35463),m=n(40930);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=[{name:"name",title:(0,p.t)(r||(r=g(["Name"])))},{name:"description",title:(0,p.t)(i||(i=g(["Description"]))),type:"text",placeholder:(0,p.t)(o||(o=g(["It's optional but oh, so helpful"])))}],O={create:{fields:[].concat(w,[{name:"collection_id",title:(0,p.t)(a||(a=g(["Collection"]))),type:"collection"}])},edit:{fields:function(){var e=[].concat(w);return h.Z.get("enable-query-caching")&&m.bd.cacheTTLFormField&&e.push(v(v({},m.bd.cacheTTLFormField),{},{title:(0,p.t)(u||(u=g(["Caching"]))),type:"questionCacheTTL"})),e}}};function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var _=(0,l.JP)({name:"questions",nameOne:"question",path:"/api/card",objectActions:{setArchived:function(e,t,n){var r=e.id,i=e.model;return _.actions.update({id:r},{archived:t},(0,l.Yw)(n,"dataset"===i?"model":"question",t?"archived":"unarchived"))},setCollection:function(e,t,n){var r=e.id,i=e.model;return function(){var e,o=(e=regeneratorRuntime.mark((function e(o){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(_.actions.update({id:r},{collection_id:(0,d.ck)(t&&t.id)},(0,l.Yw)(n,"dataset"===i?"model":"question","moved")));case 2:return a=e.sent,o(f.ZP.actions.fetchList({tree:!0},{reload:!0})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){E(o,r,i,a,u,"next",e)}function u(e){E(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}()},setPinned:function(e,t,n){var r=e.id;return _.actions.update({id:r},{collection_position:"number"==typeof t?t:t?1:null},n)}},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return e&&c.wv(e)},getColor:function(){return(0,s.$_)("text-medium")},getCollection:function(e){return e&&(0,f.Hh)(e.collection)},getIcon:function(e){var t;if(e.dataset||"dataset"===e.model)return{name:"model"};var r=n(26864).default.get(e.display);return{name:null!==(t=null==r?void 0:r.iconName)&&void 0!==t?t:"beaker"}}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t.type,t.payload,t.error;return e},writableProperties:["name","cache_ttl","dataset","dataset_query","display","description","visualization_settings","archived","enable_embedding","embedding_params","collection_id","collection_position","result_metadata"],getAnalyticsMetadata:function(e,t,n){var r=j(e,1)[0],i=(t.action,r&&(0,f.hq)(r.collection_id,n()));return i&&"collection=".concat(i)},forms:O});var x=_},97991:function(e,t,n){"use strict";var r=n(95556),i=n(58914),o=n(40242),a=function(e){return n(51587)[(0,i.mL)(e)]},u=(0,r.JP)({name:"recentItems",nameOne:"recentItem",path:"/api/activity/recent_views",schema:o.ad,wrapEntity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a(e);return n.wrapEntity(e,t)},objectSelectors:{getName:function(e){return e.model_object.display_name||e.model_object.name},getIcon:function(e){return a(e).objectSelectors.getIcon(e.model_object)}}});t.ZP=u},98861:function(e,t,n){"use strict";var r=n(95556),i=n(90635);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,i.HT)("/api/revision"),f=["questions","dashboards"],d=(0,r.JP)({name:"revisions",api:{list:function(e,t){var n=e.model_type,r=e.model_id;return s({entity:n,id:r}).then((function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({model_type:n,model_id:r},e)}))}))},revert:(0,i.a4)("/api/revision/revert")},objectActions:{revert:function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.api.revert({entity:e.model_type,id:e.model_id,revision_id:e.id});case 2:return t.abrupt("return",n(d.actions.invalidateLists()));case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()}},actionShouldInvalidateLists:function(e){var t,r=n(51587),i=o(f);try{for(i.s();!(t=i.n()).done;){if(r[t.value].actionShouldInvalidateLists(e))return!0}}catch(e){i.e(e)}finally{i.f()}return e.type===this.actionTypes.INVALIDATE_LISTS_ACTION}});t.Z=d},39410:function(e,t,n){"use strict";var r=n(55446),i=n(95556),o=n(90635),a=n(19269),u=n(58914),l=n(40242),c=n(92065);function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,u,"next",e)}function u(e){h(o,r,i,a,u,"throw",e)}a(void 0)}))}}var y,v,b=(0,o.HT)("/api/database/:dbId/schemas"),g=(0,o.HT)("/api/database/:dbId/schema/:schemaName"),w=(0,o.HT)("/api/database/:dbId/datasets/:schemaName");function O(e,t,n){return Object.values(e).find((function(e){return e.id!==t&&(e.tables||[]).includes(n)}))}function j(e,t,n){return(0,r.updateIn)(e,[t,"tables"],(function(e){return e.filter((function(e){return e!==n}))}))}function S(e,t){return Array.isArray(e)?e.includes(t)?e:[].concat(s(e),[t]):[t]}t.Z=(0,i.JP)({name:"schemas",schema:l.a$,api:{list:(v=m(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dbId){e.next=3;break}throw new Error("Schemas can only be listed for a particular dbId");case 3:return e.next=5,b({dbId:n});case 5:return r=e.sent,e.abrupt("return",r.map((function(e){return{id:(0,u.E3)(n,e),name:e,database:{id:n}}})));case 7:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)}),get:(y=m(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=(0,u.gS)(n),i=f(r,3),o=i[0],a=i[1],l=i[2],o&&void 0!==a){e.next=4;break}throw new Error("Schemas ID is of the form dbId:schemaName");case 4:if(null==l||!l.isDatasets){e.next=10;break}return e.next=7,w({dbId:o,schemaName:a});case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,g({dbId:o,schemaName:a});case 12:e.t0=e.sent;case 13:return c=e.t0,e.abrupt("return",{id:n,name:a,tables:c,database:{id:o}});case 15:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.payload;if(n===c.Z.actionTypes.CREATE){var o=i.question,u=i.status,l=i.data;if(o){var s=(0,a.rM)(o.collection);if(!e[s])return e;var f=(0,a.eD)(o);return(0,r.updateIn)(e,[s,"tables"],(function(e){return S(e,f)}))}if(400===u&&null!=l&&l.message)throw new Error(l.message)}if(n===c.Z.actionTypes.UPDATE){var d=i.question,p=(0,a.rM)(d.collection),h=(0,a.eD)(d),m=O(e,p,h);return m&&(e=j(e,m.id,h)),e[p]?(0,r.updateIn)(e,[p,"tables"],(function(e){return d.archived?e.filter((function(e){return e!==h})):S(e,h)})):e}return e}})},77525:function(e,t,n){"use strict";var r=n(95556),i=n(90635),o=n(58914),a=n(40242),u=n(59602),l=n(98399),c=["collection","archived","models","namespace","pinned_state","limit","offset","sort_column","sort_direction"],s=["data"];function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var b,g,w=Object.keys(a.XA),O=(0,i.HT)("/api/search"),j=(0,i.HT)("/api/collection/:collection/items");t.Z=(0,r.JP)({name:"search",path:"/api/search",api:{list:(b=regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,l,f,d,p,m,v,b,g,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=w.length>0&&void 0!==w[0]?w[0]:{}).collection){e.next=13;break}if(n=t.collection,r=t.archived,i=t.models,o=t.namespace,a=t.pinned_state,l=t.limit,f=t.offset,d=t.sort_column,p=t.sort_direction,m=y(t,c),!(Object.keys(m).length>0)){e.next=5;break}throw new Error("search with `collection` filter does not support these filters: "+Object.keys(m).join(", "));case 5:return e.next=7,j({collection:n,archived:r,models:i,namespace:o,pinned_state:a,limit:l,offset:f,sort_column:d,sort_direction:p});case 7:return v=e.sent,b=v.data,g=y(v,s),e.abrupt("return",h(h({},g),{},{data:b?b.map((function(e){return h({collection_id:(0,u.ck)(n),archived:r||!1},e)})):[]}));case 13:return e.abrupt("return",O(t));case 14:case"end":return e.stop()}}),e)})),g=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=b.apply(e,t);function o(e){v(i,n,r,o,a,"next",e)}function a(e){v(i,n,r,o,a,"throw",e)}o(void 0)}))},function(){return g.apply(this,arguments)})},schema:a.Vt,wrapEntity:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n(51587),i=r[(0,o.mL)(e)];return i?i.wrapEntity(e,t):(l.warn("Couldn't find entity for object",e),e)},actionShouldInvalidateLists:function(e){var t,r=n(51587),i=f(w);try{for(i.s();!(t=i.n()).done;){if(r[t.value].actionShouldInvalidateLists(e))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}})},87181:function(e,t,n){"use strict";var r=n(95556),i=n(40242),o=n(6336),a=n(5192),u=n(81932),l=(0,r.JP)({name:"segments",nameOne:"segment",path:"/api/segment",schema:i.KD,objectActions:{setArchived:function(e,t){var n=e.id,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.revision_message,o=void 0===i?t?"(Archive)":"(Unarchive)":i;return l.actions.update({id:n},{archived:t,revision_message:o})},delete:null},selectors:{getObject:function(e,t){var n=t.entityId;return(0,u.sd)(e).segment(n)}},objectSelectors:{getName:function(e){return e&&e.name},getUrl:function(e){return a._B(e.database_id,e.table_id,null,e.id)},getColor:function(e){return(0,o.$_)("accent7")},getIcon:function(e){return{name:"segment"}}},form:{fields:[{name:"name"},{name:"description",type:"text"}]}});t.Z=l},89289:function(e,t,n){"use strict";var r,i,o,a,u,l,c,s,f,d,p,h=n(30558),m=n(25312),y=n(12463),v=n(6336),b=n(95556),g=n(40242),w=n(82158),O=n(59602);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=(0,b.JP)({name:"snippetCollections",schema:g.Ic,api:h.ZP.mapObject(w.ZP.api,(function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,[x(x({},t),{},{namespace:"snippets"})].concat(r))}})),displayNameOne:(0,m.t)(r||(r=E(["snippet collection"]))),displayNameMany:(0,m.t)(i||(i=E(["snippet collections"]))),objectActions:{setArchived:function(e,t,n){var r=e.id;return C.actions.update({id:r},{archived:t},(0,b.Yw)(n,"folder",t?"archived":"unarchived"))},setCollection:function(e,t,n){var r=e.id;return C.actions.update({id:r},{parent_id:(0,O.ck)(t&&t.id)},(0,b.Yw)(n,"folder","moved"))},delete:null},selectors:{getExpandedCollectionsById:(0,y.createSelector)([function(e){return e.entities.snippetCollections},function(e){return(e.entities.snippetCollections_list.null||{}).list||[]}],(function(e,t){return(0,w.q6)(t.map((function(t){return e[t]})),null)}))},createSelectors:function(e){var t=e.getObject,n=e.getFetched;return{getFetched:function(e,r){return n(e,r)||t(e,r)}}},objectSelectors:{getIcon:function(e){return{name:"folder"}}},form:{fields:[{name:"name",title:(0,m.t)(o||(o=E(["Give your folder a name"]))),placeholder:(0,m.t)(a||(a=E(["Something short but sweet"]))),validate:function(e){return!e&&(0,m.t)(u||(u=E(["Name is required"])))||e&&e.length>100&&(0,m.t)(l||(l=E(["Name must be 100 characters or less"])))}},{name:"description",title:(0,m.t)(c||(c=E(["Add a description"]))),type:"text",placeholder:(0,m.t)(s||(s=E(["It's optional but oh, so helpful"]))),normalize:function(e){return e||null}},{name:"color",title:(0,m.t)(f||(f=E(["Color"]))),type:"hidden",initial:function(){return(0,v.$_)("brand")},validate:function(e){return!e&&(0,m.t)(d||(d=E(["Color is required"])))}},{name:"parent_id",title:(0,m.t)(p||(p=E(["Folder this should be in"]))),type:"snippetCollection",normalize:O.ck}]},getAnalyticsMetadata:function(e,t,n){j(e,1)[0],t.action}});t.Z=C},47988:function(e,t,n){"use strict";var r,i,o,a,u,l,c=n(25312),s=n(95556),f=n(69696),d=n(59602);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=[{name:"content",title:(0,c.t)(r||(r=p(["Enter some SQL here so you can reuse it later"]))),placeholder:"AND canceled_at IS null\nAND account_type = 'PAID'",type:"text",className:"Form-input full text-monospace text-normal text-small bg-light text-spaced",rows:4,autoFocus:!0,validate:f.Z.required().maxLength(1e4)},{name:"name",title:(0,c.t)(i||(i=p(["Give your snippet a name"]))),placeholder:(0,c.t)(o||(o=p(["Current Customers"]))),validate:f.Z.required().maxLength(100)},{name:"description",title:(0,c.t)(a||(a=p(["Add a description"]))),placeholder:(0,c.t)(u||(u=p(["It's optional but oh, so helpful"]))),validate:f.Z.maxLength(500)}],m=(0,s.JP)({name:"snippets",nameOne:"snippet",path:"/api/native-query-snippet",createSelectors:function(e){var t=e.getObject,n=e.getFetched;return{getFetched:function(e,r){return n(e,r)||t(e,r)}}},forms:{withoutVisibleCollectionPicker:{fields:[].concat(h,[{name:"collection_id",hidden:!0}])},withVisibleCollectionPicker:{fields:[].concat(h,[{name:"collection_id",title:(0,c.t)(l||(l=p(["Folder this should be in"]))),type:"snippetCollection",normalize:d.ck}])}}});t.Z=m},33572:function(e,t,n){"use strict";var r,i=n(25312),o=n(95556),a=n(24432),u=n(30558),l=n(5192),c=n(6336),s=n(12463),f=n(11093),d=n(40242),p=n(95745),h=n(87181),m=n(67087),y=n(92065),v=n(90635),b=n(19269),g=n(81932);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,u,"next",e)}function u(e){_(o,r,i,a,u,"throw",e)}a(void 0)}))}}var P,C=(0,v.HT)("/api/table"),k=function(){var e=x(regeneratorRuntime.mark((function e(){var t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.HT)("/api/database/:dbId/metadata").apply(void 0,t);case 2:return e.abrupt("return",e.sent.tables);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=(0,v.HT)("/api/database/:dbId/schema/:schemaName"),D=(0,v.uO)("/api/table/:id/fields/order"),R=(0,v.uO)("/api/table"),I=(0,o.JP)({name:"tables",nameOne:"table",path:"/api/table",schema:d.po,api:{list:(P=x(regeneratorRuntime.mark((function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=o.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=o[i];if(!t.dbId||!t.schemaName){e.next=5;break}return e.abrupt("return",A.apply(void 0,[t].concat(r)));case 5:if(!t.dbId){e.next=9;break}return e.abrupt("return",k.apply(void 0,[t].concat(r)));case 9:return e.abrupt("return",C.apply(void 0,[t].concat(r)));case 10:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})},actions:{bulkUpdate:(0,a.qC)((0,a.$e)("metabase/entities/TABLES_BULK_UPDATE"),(0,a.IL)([d.po]))((function(e){return function(){var t=x(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",R(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}))},objectActions:{updateProperty:function(e,t,n,a){return I.actions.update(e,E({},t,n),(0,o.h4)(a,"Table ".concat(t),(0,i.t)(r||(u=["updated"],l||(l=u.slice(0)),r=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(l)}}))))));var u,l},fetchMetadata:(0,a.qC)((0,a.$e)("metabase/entities/FETCH_METADATA"),(0,a.jY)((function(e){var t=e.id;return j(I.getObjectStatePath(t))}),(function(e){var t=e.id;return[].concat(j(I.getObjectStatePath(t)),["fetchMetadata"])}),(function(e){return I.getQueryKey(e)})),(0,a.IL)(d.po))((function(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,r){return f.MetabaseApi.table_query_metadata(O({tableId:t},n.params))}})),fetchMetadataAndForeignTables:(0,a.RU)("metabase/entities/FETCH_TABLE_METADATA",(function(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var e=x(regeneratorRuntime.mark((function e(r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(I.actions.fetchMetadata({id:t},n));case 2:return o=I.selectors[n.selectorName||"getObjectUnfiltered"](i(),{entityId:t}),e.next=5,Promise.all(T(o).map((function(e){return r(I.actions.fetchMetadata({id:e},n))})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),fetchForeignKeys:(0,a.qC)((0,a.$e)("metabase/entities/FETCH_TABLE_FOREIGN_KEYS"),(0,a.jY)((function(e){var t=e.id;return j(I.getObjectStatePath(t))}),(function(e){var t=e.id;return[].concat(j(I.getObjectStatePath(t)),["fetchForeignKeys"])}),(function(e){return I.getQueryKey(e)})),(0,a.IL)(d.po))((function(e){return function(){var t=x(regeneratorRuntime.mark((function t(n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.MetabaseApi.table_fks({tableId:e.id});case 2:return i=t.sent,t.abrupt("return",{id:e.id,fks:i});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),setFieldOrder:(0,a.qC)((0,a.$e)("metabase/entities/UPDATE_TABLE_FIELD_ORDER"))((function(e,t){var n=e.id;return function(e,r){return D({id:n,fieldOrder:t},{bodyParamName:"fieldOrder"})}}))},form:{fields:[{name:"name"},{name:"description",type:"text"}]},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;t.error;if(n===y.Z.actionTypes.CREATE){var i=r.question,o=(0,b.qr)(i);return e[o.id]?e:O(O({},e),{},E({},o.id,o))}if(n===y.Z.actionTypes.UPDATE){var a=r.question,u=(0,b.eD)(a);return a.archived&&e[u]?(delete e[u],e):e[u]?e:O(O({},e),{},E({},u,(0,b.qr)(a)))}if(n===h.Z.actionTypes.CREATE){var l=r.segment,c=l.table_id,s=l.id,f=e[c];if(f)return O(O({},e),{},E({},c,O(O({},f),{},{segments:[s].concat(j(f.segments))})))}if(n===p.Z.actionTypes.CREATE){var d=r.metric,m=d.table_id,v=d.id,g=e[m];if(g)return O(O({},e),{},E({},m,O(O({},g),{},{metrics:[v].concat(j(g.metrics))})))}if(n===h.Z.actionTypes.UPDATE){var w=r.segment,S=w.table_id,_=w.archived,x=w.id,P=e[S];if(_&&P&&P.segments)return O(O({},e),{},E({},S,O(O({},P),{},{segments:P.segments.filter((function(e){return e!==x}))})))}if(n===p.Z.actionTypes.UPDATE){var C=r.metric,k=C.table_id,A=C.archived,D=C.id,R=e[k];if(A&&R&&R.metrics)return O(O({},e),{},E({},k,O(O({},R),{},{metrics:R.metrics.filter((function(e){return e!==D}))})))}return e},objectSelectors:{getUrl:function(e){return l._B(e.database_id,e.table_id,null)},getIcon:function(e){return{name:"table"}},getColor:function(e){return(0,c.$_)("accent2")}},selectors:{getObject:function(e,t){var n=t.entityId;return(0,g.sd)(e).table(n)},getObjectUnfiltered:function(e,t){var n=t.entityId,r=e.entities.tables[n];return r&&O(O({},r),{},{fields:(r.fields||[]).map((function(t){return m.ZP.selectors.getObjectUnfiltered(e,{entityId:t})})),metrics:(r.metrics||[]).map((function(t){return e.entities.metrics[t]})),segments:(r.segments||[]).map((function(t){return e.entities.segments[t]}))})},getListUnfiltered:function(e,t){var n=e.entities,r=t.entityQuery;return((n.tables_list[JSON.stringify(r)]||{}).list||[]).map((function(e){return n.tables[e]}))},getTable:(0,s.createSelector)([function(e){return(0,g.sd)(e)},function(e,t){return t.entityId}],(function(e,t){return e.table(t)}))}});function T(e){return u.ZP.chain(e.fields).filter((function(e){return e.target})).map((function(e){return e.target.table_id})).uniq().value()}t.ZP=I},70238:function(e,t,n){"use strict";var r=n(95556);t.Z=(0,r.JP)({name:"tasks",path:"/api/task"})},61604:function(e,t,n){"use strict";var r,i,o,a,u,l=n(25312),c=n(40242),s=n(95556),f=n(39405);function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=(0,s.JP)({name:"timelineEvents",nameOne:"timelineEvent",path:"/api/timeline-event",schema:c.p8,forms:f.Z,objectActions:{setTimeline:function(e,t,n){var o=e.id;return p.actions.update({id:o},{timeline_id:t.id},(0,s.Yw)(n,(0,l.t)(r||(r=d(["event"]))),(0,l.t)(i||(i=d(["moved"])))))},setArchived:function(e,t,n){var r=e.id;return p.actions.update({id:r},{archived:t},(0,s.Yw)(n,(0,l.t)(o||(o=d(["event"]))),t?(0,l.t)(a||(a=d(["archived"]))):(0,l.t)(u||(u=d(["unarchived"])))))}}});t.Z=p},39405:function(e,t,n){"use strict";var r,i,o,a,u,l,c,s,f=n(25312),d=n(88961),p=n(69696);function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=function(e){var t=e.timelines;return[{name:"name",title:(0,f.t)(r||(r=h(["Event name"]))),placeholder:(0,f.t)(i||(i=h(["Product launch"]))),autoFocus:!0,validate:p.Z.required().maxLength(255)},{name:"timestamp",title:(0,f.t)(o||(o=h(["Date"]))),type:"date",hasTimeField:"time_matters",validate:p.Z.required()},{name:"description",title:(0,f.t)(a||(a=h(["Description"]))),type:"text",validate:p.Z.maxLength(255),infoLabel:(0,f.t)(u||(u=h(["Markdown supported"]))),infoLabelTooltip:(0,f.t)(l||(l=h(["Add links and formatting via markdown"])))},{name:"icon",title:(0,f.t)(c||(c=h(["Icon"]))),type:"select",options:(0,d.CI)(),validate:p.Z.required()},{name:"timeline_id",title:(0,f.t)(s||(s=h(["Timeline"]))),type:t.length>1?"select":"hidden",options:t.map((function(e){return{name:(0,d.Si)(e),value:e.id}}))},{name:"source",type:"hidden"},{name:"question_id",type:"hidden"},{name:"timezone",type:"hidden"},{name:"time_matters",type:"hidden"}]};t.Z={details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.timelines,n=void 0===t?[]:t;return{fields:m({timelines:n})}}}},82616:function(e,t,n){"use strict";var r,i,o,a,u,l=n(25312),c=n(55446),s=n(30558),f=n(40242),d=n(11093),p=n(95556),h=n(88961),m=n(59602),y=n(61604),v=n(56760);function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var _=(0,p.JP)({name:"timelines",nameOne:"timeline",path:"/api/timeline",schema:f.t1,forms:v.Z,api:{list:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.collectionId?d.TimelineApi.listForCollection.apply(d.TimelineApi,[e].concat(n)):d.TimelineApi.list.apply(d.TimelineApi,[e].concat(n))}},actions:{createWithEvent:function(e,t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.TimelineApi.create((0,h.CG)(t));case 2:return i=n.sent,n.next=5,d.TimelineEventApi.create(j(j({},e),{},{timeline_id:i.id}));case 5:r({type:_.actionTypes.INVALIDATE_LISTS_ACTION}),r({type:y.Z.actionTypes.INVALIDATE_LISTS_ACTION});case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){E(o,r,i,a,u,"next",e)}function u(e){E(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}},objectActions:{setCollection:function(e,t,n){return _.actions.update({id:e.id},{name:(0,h.Si)(e),collection_id:(0,m.ck)(t&&t.id),default:!1},(0,p.Yw)(n,(0,l.t)(r||(r=w(["timeline"]))),(0,l.t)(i||(i=w(["moved"])))))},setArchived:function(e,t,n){return _.actions.update({id:e.id},{archived:t,default:!1},(0,p.Yw)(n,(0,l.t)(o||(o=w(["timeline"]))),t?(0,l.t)(a||(a=w(["archived"]))):(0,l.t)(u||(u=w(["unarchived"])))))}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===y.Z.actionTypes.CREATE){var n=y.Z.HACK_getObjectFromAction(t);return(0,c.updateIn)(e,[n.timeline_id,"events"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(b(e),[n.id])}))}if(t.type===y.Z.actionTypes.UPDATE){var r=y.Z.HACK_getObjectFromAction(t);return s.ZP.mapObject(e,(function(e){var t,n=null===(t=e.events)||void 0===t?void 0:t.includes(r.id),i=r.timeline_id===e.id;return(0,c.updateIn)(e,["events"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n&&!i?s.ZP.without(e,r.id):!n&&i?[].concat(b(e),[r.id]):e}))}))}if(t.type===y.Z.actionTypes.DELETE){var i=t.payload.result;return s.ZP.mapObject(e,(function(e){return(0,c.updateIn)(e,["events"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s.ZP.without(e,i)}))}))}return e}});t.Z=_},56760:function(e,t,n){"use strict";var r,i,o,a,u=n(25312),l=n(88961),c=n(69696);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.Z={details:{fields:[{name:"name",title:(0,u.t)(r||(r=s(["Name"]))),placeholder:(0,u.t)(i||(i=s(["Product releases"]))),autoFocus:!0,validate:c.Z.required().maxLength(255)},{name:"description",title:(0,u.t)(o||(o=s(["Description"]))),type:"text",validate:c.Z.maxLength(255)},{name:"icon",title:(0,u.t)(a||(a=s(["Default icon"]))),type:"select",options:(0,l.CI)(),validate:c.Z.required()},{name:"collection_id",type:"hidden"},{name:"default",type:"hidden"}]}}},92528:function(e,t,n){"use strict";n.d(t,{ZP:function(){return he}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D=n(55446),R=n(97249),I=n(35463),T=n(38908),N=n(95556),q=n(11093),M=n(30558),Z=n(25312),L=n(40930),B=n(69696),z=n(44957);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y=function(){return[{name:"first_name",title:(0,Z.t)(r||(r=H(["First name"]))),placeholder:"Johnny",autoFocus:!0,validate:B.Z.required().maxLength(100)},{name:"last_name",title:(0,Z.t)(i||(i=H(["Last name"]))),placeholder:"Appleseed",validate:B.Z.required().maxLength(100)}]},G=function(){return{name:"email",title:(0,Z.t)(o||(o=H(["Email"]))),placeholder:"youlooknicetoday@email.com",validate:B.Z.required().email()}},W=function(){return[{name:"password",title:(0,Z.t)(l||(l=H(["Create a password"]))),type:"password",placeholder:(0,Z.t)(c||(c=H(["Shhh..."]))),validate:B.Z.required().passwordComplexity()},{name:"password_confirm",title:(0,Z.t)(s||(s=H(["Confirm your password"]))),type:"password",placeholder:(0,Z.t)(f||(f=H(["Shhh... but one more time so we get it right"]))),validate:function(e,t){var n=t.values,r=(n=void 0===n?{}:n).password;return e?e!==r?(0,Z.t)(p||(p=H(["passwords do not match"]))):void 0:(0,Z.t)(d||(d=H(["required"])))}}]},$={admin:{fields:[].concat(Q(Y()),[G(),{name:"user_group_memberships",title:(0,Z.t)(h||(h=H(["Groups"]))),type:z.default}],Q(L.vJ))},user:{fields:[].concat(Q(Y()),[G(),{name:"locale",title:(0,Z.t)(a||(a=H(["Language"]))),type:"select",options:[[null,(0,Z.t)(u||(u=H(["Use site default"])))]].concat(Q(M.ZP.sortBy(I.Z.get("available-locales")||[["en","English"]],(function(e){var t=F(e,2);return t[0],t[1]})))).map((function(e){var t=F(e,2),n=t[0];return{name:t[1],value:n}}))}]),disablePristineSubmit:!0},setup:function(){return{fields:[].concat(Q(Y()),[G(),{name:"site_name",title:(0,Z.t)(m||(m=H(["Company or team name"]))),placeholder:(0,Z.t)(y||(y=H(["Department of Awesome"]))),validate:B.Z.required()}],Q(W()))}},setup_invite:function(e){return{fields:[].concat(Q(Y()),[{name:"email",title:(0,Z.t)(v||(v=H(["Email"]))),placeholder:"youlooknicetoday@email.com",validate:function(t){return t?T.Z.isEmail(t)?t===e.email?(0,Z.t)(w||(w=H(["must be different from the email address you used in setup"]))):void 0:(0,Z.t)(g||(g=H(["must be a valid email address"]))):(0,Z.t)(b||(b=H(["required"])))}}])}},login:function(){var e=I.Z.ldapEnabled(),t=I.Z.get("session-cookies");return{fields:[{name:"username",type:e?"input":"email",title:e?(0,Z.t)(O||(O=H(["Username or email address"]))):(0,Z.t)(j||(j=H(["Email address"]))),placeholder:(0,Z.t)(S||(S=H(["youlooknicetoday@email.com"]))),validate:e?B.Z.required():B.Z.required().email(),autoFocus:!0},{name:"password",type:"password",title:(0,Z.t)(E||(E=H(["Password"]))),placeholder:(0,Z.t)(_||(_=H(["Shhh..."]))),validate:B.Z.required()},{name:"remember",type:"checkbox",title:(0,Z.t)(x||(x=H(["Remember me"]))),initial:!0,hidden:t,horizontal:!0,align:"left"}]}},password:{fields:[{name:"old_password",type:"password",title:(0,Z.t)(P||(P=H(["Current password"]))),placeholder:(0,Z.t)(C||(C=H(["Shhh..."]))),validate:B.Z.required()}].concat(Q(W()))},password_forgot:{fields:[{name:"email",title:(0,Z.t)(k||(k=H(["Email address"]))),placeholder:(0,Z.t)(A||(A=H(["The email you use for your Metabase account"]))),validate:B.Z.required().email()}]},password_reset:{fields:Q(W())},newsletter:{fields:[{name:"email",placeholder:"youlooknicetoday@email.com",autoFocus:!0,validate:B.Z.required().email()}]}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ee(o,r,i,a,u,"next",e)}function u(e){ee(o,r,i,a,u,"throw",e)}a(void 0)}))}}var ne="metabase/entities/users/DEACTIVATE",re="metabase/entities/users/REACTIVATE",ie="metabase/entities/users/PASSWORD_RESET_EMAIL",oe="metabase/entities/users/RESET_PASSWORD_MANUAL",ae="metabase/entities/users/RESEND_INVITE";function ue(){return n(64849).wh()}var le,ce,se,fe,de,pe=(0,N.JP)({name:"users",nameOne:"user",path:"/api/user",objectSelectors:{getName:function(e){return e.common_name||"".concat(e.first_name," ").concat(e.last_name)}},actionTypes:{DEACTIVATE:ne,REACTIVATE:re,PASSWORD_RESET_EMAIL:ie,PASSWORD_RESET_MANUAL:oe,RESEND_INVITE:ae},actionDecorators:{create:function(e){return function(t){return function(){var n=te(regeneratorRuntime.mark((function n(r,i){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I.Z.isEmailConfigured()||(t=J(J({},t),{},{password:T.Z.generatePassword()})),n.next=3,e(t)(r,i);case 3:return o=n.sent,r(ue()),n.abrupt("return",J({id:o.result,password:t.password},o));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},update:function(e){return function(t){return function(){var n=te(regeneratorRuntime.mark((function n(r,i){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(t)(r,i);case 2:return o=n.sent,t.user_group_memberships&&r(ue()),n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}},objectActions:{resentInvite:(de=te(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,R.vF("People Admin","Resent Invite"),e.next=4,q.UserApi.send_invite({id:n});case 4:return e.abrupt("return",{type:ae});case 5:case"end":return e.stop()}}),e)}))),function(e){return de.apply(this,arguments)}),passwordResetEmail:(fe=te(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,R.vF("People Admin","Trigger User Password Reset"),e.next=4,q.SessionApi.forgot_password({email:n});case 4:return e.abrupt("return",{type:ie});case 5:case"end":return e.stop()}}),e)}))),function(e){return fe.apply(this,arguments)}),passwordResetManual:(se=te(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=i.length>1&&void 0!==i[1]?i[1]:T.Z.generatePassword(),R.vF("People Admin","Manual Password Reset"),e.next=5,q.UserApi.update_password({id:n,password:r});case 5:return e.abrupt("return",{type:oe,payload:{id:n,password:r}});case 6:case"end":return e.stop()}}),e)}))),function(e){return se.apply(this,arguments)}),deactivate:(ce=te(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,R.vF("People Admin","User Removed"),e.next=4,q.UserApi.delete({userId:n});case 4:return e.abrupt("return",{type:ne,payload:{id:n}});case 5:case"end":return e.stop()}}),e)}))),function(e){return ce.apply(this,arguments)}),reactivate:(le=te(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,R.vF("People Admin","User Reactivated"),e.next=4,q.UserApi.reactivate({userId:n});case 4:return r=e.sent,e.abrupt("return",{type:re,payload:r});case 6:case"end":return e.stop()}}),e)}))),function(e){return le.apply(this,arguments)})},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,i=t.error;return n!==ne||i?n!==re||i?n!==oe||i?e:(0,D.assocIn)(e,[r.id,"password"],r.password):(0,D.assocIn)(e,[r.id,"is_active"],!0):(0,D.assocIn)(e,[r.id,"is_active"],!1)},forms:$}),he=pe},57531:function(e,t,n){"use strict";n.d(t,{O:function(){return r},y:function(){return i}});var r=!!window.Cypress,i=!0},33388:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});n(32735),n(30558),n(35463);var r="app/assets/img/blue_check.png"},96170:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});n(32735);function r(){var e=document.getElementById("root");return!(!e||!e.firstChild)&&e.firstChild.classList.contains("spread")}},92922:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(32735);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=i((0,r.useState)(e),2),o=n[0],a=n[1];return(0,r.useEffect)((function(){var n=setTimeout((function(){a(e)}),t);return function(){return clearTimeout(n)}}),[t,e]),o}},26517:function(e,t,n){"use strict";n.d(t,{Fh:function(){return a},kH:function(){return c},JB:function(){return s},ZP:function(){return f}});var r=n(32735),i=n(30558),o=n(98399),a=[];function u(e){return e instanceof Element}function l(e,t){return u(e.target)&&t.contains(e.target)}function c(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)}function s(e,t){var n=i.ZP.last(a);return e instanceof MouseEvent?n&&n===t&&!l(e,n.contentEl)&&(!t.backdropEl||l(e,t.backdropEl)):e instanceof KeyboardEvent?n&&n===t&&"Escape"===e.key:(o.warn("Unsupported event type",e),!1)}function f(){var e=(0,r.useRef)(),t=(0,r.useCallback)((function(t){e.current&&s(t,e.current)&&e.current.close(t)}),[]),n=(0,r.useCallback)((function(){e.current&&(c(e.current),e.current=void 0),document.removeEventListener("keydown",t),window.removeEventListener("mousedown",t,!0)}),[t]);return{setupCloseHandler:(0,r.useCallback)((function(r,i){if(n(),u(r)){var o={contentEl:r,close:i};a.push(o),e.current=o,document.addEventListener("keydown",t),window.addEventListener("mousedown",t,!0)}}),[t,n]),removeCloseHandler:n}}},974:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(32735);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useState)(e),n=i(t,2),o=n[0],a=n[1],u=(0,r.useCallback)((function(){return a(!0)}),[]),l=(0,r.useCallback)((function(){return a(!1)}),[]),c=(0,r.useCallback)((function(){return a((function(e){return!e}))}),[]);return[o,{turnOn:u,turnOff:l,toggle:c}]}},916:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{kg:function(){return l},GL:function(){return c}});var l={add:"M12.4285714,12.4285714 L12.4285714,0 L19.5714286,0 L19.5714286,12.4285714 L32,12.4285714 L32,19.5714286 L19.5714286,19.5714286 L19.5714286,32 L12.4285714,32 L12.4285714,19.5714286 L0,19.5714286 L0,12.4285714 L12.4285714,12.4285714 Z",add_data:"M0 8h5.926v6.208H0V8zm7.704 0h5.926v6.208H7.704V8zM0 16.07h5.926v6.209H0V16.07zm7.704 0h5.926v6.209H7.704V16.07zm7.703 0h5.926v6.209h-5.926V16.07zM0 24.142h5.926v6.208H0v-6.208zm7.704 0h5.926v6.208H7.704v-6.208zm7.703 0h5.926v6.208h-5.926v-6.208zM23.08 8.08V3h4.064v5.08h5.08v4.063h-5.08v5.08h-4.064v-5.08H18V8.079h5.08z",add_to_dash:{path:"M21,23 L16,23 L16,27 L21,27 L21,32 L25,32 L25,27 L30,27 L30,23 L25,23 L25,18 L21,18 L21,23 Z M32,7 L32,14 L28,14 L28,8 L0,8 L0,4 L0,4 C-2.705415e-16,1.790861 1.790861,4.05812251e-16 4,0 L4,0 L28,0 C30.209139,-4.05812251e-16 32,1.790861 32,4 L32,7 Z M0,8 L4,8 L4,28 L0,28 L0,8 Z M0,28 L12,28 L12,32 L4,32 C1.790861,32 2.705415e-16,30.209139 0,28 Z",attrs:{fillRule:"evenodd"}},alert:{path:"M14.677 7.339c-4.77.562-5.23 4.75-5.23 7.149 0 2.576 0 3.606-.53 4.121-.352.344-1.058.515-2.117.515V21.7h18v-2.576c-1.059 0-1.588 0-2.118-.515-.353-.343-.53-2.06-.53-5.151-.316-3.705-2.06-5.745-5.23-6.12a1.52 1.52 0 0 0 .466-1.093c0-.853-.71-1.545-1.588-1.545-.877 0-1.588.692-1.588 1.545 0 .427.178.814.465 1.094zM16.05 0c2.473 0 5.57 1.851 6.22 4.12 3.057 1.58 4.868 4.503 5.223 8.706l.013.158v.157c0 .905.014 1.682.042 2.327H30.6V25.73H1.5V15.468h3.091c.002-.326.003-.725.003-1.222 0-2.308.316-4.322 1.26-6.233.881-1.784 2.223-2.988 3.976-3.893C10.48 1.85 13.576 0 16.05 0zM13.1 25.8c.25 1.6 1.166 2.4 2.75 2.4s2.5-.8 2.75-2.4h-5.5zm-4.35-3.16h14.191l-.586 3.261c-.497 3.607-2.919 6.001-6.51 6.001-3.59 0-6.012-2.394-6.508-6L8.75 22.64z",attrs:{fillRule:"nonzero"}},alert_confirm:{path:"M24.326 7.184a9.604 9.604 0 0 0-.021-.034c-.876-1.39-2.056-2.47-3.518-3.19-.509-2.269-2.51-3.96-4.9-3.96-2.361 0-4.344 1.652-4.881 3.88C7.113 5.63 5.68 9.55 5.68 14.424c0 .88-.003 1.473-.01 1.902H2.8v9.605h26.175v-9.602h-3.297v6.257H6.097V19.67c1.152 0 1.92-.194 2.304-.583.576-.583.576-1.75.576-4.664 0-2.716.5-7.456 5.69-8.091a1.754 1.754 0 0 1-.507-1.238c0-.966.773-1.749 1.727-1.749.955 0 1.728.783 1.728 1.75 0 .483-.194.92-.507 1.237 2.2.27 3.768 1.308 4.705 3.112.037-.04.874-.793 2.513-2.26zm-11.312 18.7H9.741C10.214 29.398 12.48 32 15.887 32c3.409 0 5.674-2.602 6.147-6.116H18.76c-.27 1.911-1.228 2.77-2.874 2.77-1.645 0-2.603-.859-2.873-2.77zm.297-12.466l2.504-2.707 3.819 4.106 7.653-8.254L29.8 9.38 19.636 20.295l-6.325-6.877z",attrs:{fillRule:"nonzero"}},all:"M30.595 13.536c1.85.755 1.879 2.05.053 2.9l-11.377 5.287c-1.82.846-4.763.858-6.583.022L1.344 16.532c-1.815-.835-1.785-2.131.05-2.89l1.637-.677 8.977 4.125c2.194 1.009 5.74.994 7.934-.026l9.022-4.193 1.63.665zm-1.63 7.684l1.63.666c1.85.755 1.879 2.05.053 2.898l-11.377 5.288c-1.82.847-4.763.859-6.583.022L1.344 24.881c-1.815-.834-1.785-2.131.05-2.89l1.637-.677 8.977 4.126c2.194 1.008 5.74.993 7.934-.026l9.022-4.194zM12.686 1.576c1.843-.762 4.834-.77 6.687-.013l11.22 4.578c1.85.755 1.88 2.05.054 2.899l-11.377 5.288c-1.82.846-4.763.858-6.583.022L1.344 9.136c-1.815-.834-1.785-2.13.05-2.89l11.293-4.67z",archive:{path:"M6.857 2.762c0-.42.341-.762.762-.762h16.762a.762.762 0 0 1 0 1.524H7.619a.762.762 0 0 1-.762-.762zM0 11.809a6 6 0 0 1 6-6h20a6 6 0 0 1 6 6v12.382a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6V11.81zm10.62 3.097a1.143 1.143 0 0 1 1.617 0L16 18.67l3.763-3.763a1.143 1.143 0 0 1 1.617 1.616l-4.572 4.572a1.143 1.143 0 0 1-1.616 0l-4.572-4.572a1.143 1.143 0 0 1 0-1.616z",attrs:{fillRule:"evenodd"}},area:"M31.154 28.846l.852.004V8.64l-1.15 2.138-6.818 6.37c-.13.122-9.148 1.622-9.148 1.622l-.545.096-.383.4-7.93 8.31-1.016 1.146 2.227.017 23.91.107L7.25 28.74l7.93-8.31 9.615-1.684 7.211-6.737v15.984a.855.855 0 0 1-.852.854zM0 28.74l11.79-13.362 11.788-3.369 8.077-8.07c.194-.193.351-.128.351.15V28.85L0 28.74z",attachment:{path:"M22.162 8.704c.029 8.782-.038 14.123-.194 15.926-.184 2.114-2.922 4.322-5.9 4.322-3.06 0-5.542-1.98-5.836-4.376-.294-2.392-.195-14.266.01-18.699.077-1.661 1.422-2.83 3.548-2.83 2.067 0 3.488 1.335 3.594 3.164.06 1.052.074 3.49.053 7.107-.006.928-.013 1.891-.023 3.072l-.023 2.527c-.006.824-.01 1.358-.01 1.718 0 1.547-.39 2.011-1.475 2.011-.804 0-1.202-.522-1.202-1.38V8.699a1.524 1.524 0 0 0-3.048 0v12.567c0 2.389 1.554 4.428 4.25 4.428 2.897 0 4.523-1.934 4.523-5.06 0-.348.003-.875.01-1.691l.022-2.526c.01-1.184.018-2.15.024-3.082.021-3.697.008-6.155-.058-7.3C20.227 2.592 17.469 0 13.79 0c-3.695 0-6.438 2.382-6.593 5.737-.213 4.613-.312 16.585.01 19.21C7.697 28.94 11.53 32 16.067 32c4.482 0 8.61-3.327 8.937-7.106.168-1.935.235-7.302.206-16.2a1.524 1.524 0 0 0-3.048.01z",attrs:{fillRule:"nonzero"}},arrow_up:{path:"M16 34.23a2.5 2.5 0 002.5-2.5V9.036l8.732 8.732a2.5 2.5 0 003.405.122l.13-.122a2.5 2.5 0 000-3.536l-13-13a2.5 2.5 0 00-3.535 0l-13 13a2.5 2.5 0 103.536 3.536L13.5 9.036V31.73a2.5 2.5 0 002.336 2.495z",attrs:{viewBox:"0 0 32 34"}},arrow_down:{path:"M16 .5A2.5 2.5 0 0118.5 3v22.694l8.732-8.732a2.5 2.5 0 013.405-.122l.13.122a2.5 2.5 0 010 3.536l-13 13a2.5 2.5 0 01-3.535 0l-13-13a2.5 2.5 0 113.536-3.536l8.732 8.732V3A2.5 2.5 0 0115.836.505z",attrs:{viewBox:"0 0 32 34"}},arrow_left:{path:"M14.502 1.232a2.5 2.5 0 113.536 3.536l-8.732 8.731L32 13.5a2.5 2.5 0 012.495 2.336L34.5 16a2.5 2.5 0 01-2.5 2.5l-22.696-.001 8.734 8.733a2.5 2.5 0 01.122 3.405l-.122.13a2.5 2.5 0 01-3.536 0l-13-13a2.5 2.5 0 010-3.535z",attrs:{viewBox:"0 0 35 32"}},arrow_left_to_line:{path:"M1,1v10 M3,6h8 M6,3L3,6L6,9",attrs:{viewBox:"0 0 12 12",style:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,stroke:"currentColor"}}},badge:{path:"M14.7368 28.421L6.31579 24.2105L0 36.8421L6.31579 33.6842L8.42105 40L14.7368 28.421Z M17.8947 28.421L26.3158 24.2105L32.6316 36.8421L26.3158 33.6842L24.2105 40L17.8947 28.421Z M16.842 25.2632C23.8183 25.2632 29.4736 19.6078 29.4736 12.6316C29.4736 5.65535 23.8183 0 16.842 0C9.8658 0 4.21045 5.65535 4.21045 12.6316C4.21045 19.6078 9.8658 25.2632 16.842 25.2632ZM16.842 16.8421C19.1674 16.8421 21.0526 14.957 21.0526 12.6316C21.0526 10.3062 19.1674 8.42105 16.842 8.42105C14.5166 8.42105 12.6315 10.3062 12.6315 12.6316C12.6315 14.957 14.5166 16.8421 16.842 16.8421Z",attrs:{viewBox:"0 0 33 40",fillRule:"evenodd"}},balloons:{path:"M11.9256 19.1214C7.72158 19.6044 5.14816 16.2515 4.02117 14.2793C3.28813 12.9965 -1.21347 4.78895 6.20945 0.998535C11.1977 -1.54865 14.3946 1.27809 16.1414 3.88867C15.3346 5.17085 14.423 6.84976 13.917 8.99363C13.3314 11.475 13.2989 14.5344 14.5223 18.2859C14.2248 18.4759 13.9052 18.6354 13.5622 18.7594L14.7363 20.6933L13.7451 20.9834C13.456 21.8641 13.3372 22.6763 13.4416 23.2973C13.495 23.6148 13.6031 23.8614 13.7573 24.0479C13.9084 24.2307 14.1324 24.391 14.4787 24.4948C16.533 25.1111 17.2397 27.8992 15.8047 29.7826L14.7243 28.9594C15.704 27.6736 15.0524 26.085 14.0884 25.7958C13.5133 25.6233 13.0503 25.3246 12.7103 24.9132C12.3734 24.5055 12.1863 24.0227 12.1022 23.5226C11.9916 22.8651 12.0529 22.1447 12.2125 21.432L11.6425 21.5988L11.9256 19.1214ZM15.9025 17.6484C16.9742 19.9176 18.6213 20.9982 19.7166 21.2969L18.5092 23.2589L19.2509 23.3825C18.935 23.8116 18.6786 24.2659 18.5217 24.7341C18.3605 25.215 18.2983 25.729 18.4037 26.2473C18.5101 26.7703 18.778 27.2517 19.2043 27.6746C19.9188 28.3835 19.7461 30.0918 18.2765 30.7652L18.8423 32C20.9949 31.0136 21.6835 28.221 20.1609 26.7104C19.9043 26.4558 19.782 26.209 19.7347 25.9765C19.6865 25.7394 19.7072 25.471 19.8095 25.1657C19.9709 24.6841 20.319 24.1612 20.799 23.6405L21.6785 23.7871L21.3012 21.5233C23.1877 22.2527 28.2484 18.8823 29.3753 14.6566C31.79 5.60151 27.4134 3.56412 24.6214 2.73408C22.864 2.28701 19.95 2.28591 17.7628 4.11712L17.7816 4.12946C16.9281 5.42821 15.9115 7.11269 15.3858 9.34027C14.8745 11.5068 14.8182 14.2303 15.9025 17.6484Z",attrs:{fillRule:"evenodd"}},bar:"M2 23.467h6.4V32H2v-8.533zm10.667-12.8h6.4V32h-6.4V10.667zM23.333 0h6.4v32h-6.4V0z",beaker:"M4.31736354,31.1631075 C3.93810558,30.6054137 3.89343681,29.6635358 4.20559962,29.0817181 L11.806982,14.9140486 L11.8069821,10.5816524 L10.7015144,10.4653256 C10.0309495,10.394763 9.48734928,9.78799739 9.48734928,9.12166999 L9.48734928,7.34972895 C9.48734928,6.67821106 10.0368737,6.13383825 10.7172248,6.13383825 L21.8462005,6.13383825 C22.525442,6.13383825 23.0760761,6.68340155 23.0760761,7.34972895 L23.0760761,9.12166999 C23.0760761,9.79318788 22.5250158,10.3375607 21.856025,10.3375607 L20.9787023,10.3375607 L20.9787024,14.9281806 L28.77277,29.0827118 C29.0983515,29.6739888 29.0709073,30.6193105 28.7174156,31.1846409 L28.852457,30.9686726 C28.4963041,31.538259 27.6541076,32 26.9865771,32 L6.10749779,32 C5.43315365,32 4.58248747,31.5529687 4.19978245,30.9902061 L4.31736354,31.1631075 Z M15.5771418,17.6040443 C16.5170398,17.6040443 17.2789777,16.8377777 17.2789777,15.89254 C17.2789777,14.9473023 16.5170398,14.1810358 15.5771418,14.1810358 C14.6372438,14.1810358 13.8753059,14.9473023 13.8753059,15.89254 C13.8753059,16.8377777 14.6372438,17.6040443 15.5771418,17.6040443 Z M16.5496195,12.8974079 C17.8587633,12.8974079 18.9200339,11.830108 18.9200339,10.5135268 C18.9200339,9.1969457 17.8587633,8.1296458 16.5496195,8.1296458 C15.2404758,8.1296458 14.1792052,9.1969457 14.1792052,10.5135268 C14.1792052,11.830108 15.2404758,12.8974079 16.5496195,12.8974079 Z M5.71098553,30.2209651 L10.9595331,20.5151267 C10.9595331,20.5151267 12.6834557,21.2672852 14.3734184,21.2672852 C16.0633811,21.2672852 16.8198616,19.2872624 17.588452,18.6901539 C18.3570425,18.0930453 19.9467191,17.1113296 19.9467191,17.1113296 L27.0506095,30.1110325 L5.71098553,30.2209651 Z M13.6608671,4.37817079 C14.4114211,4.37817079 15.0198654,3.78121712 15.0198654,3.04483745 C15.0198654,2.30845779 14.4114211,1.71150412 13.6608671,1.71150412 C12.9103132,1.71150412 12.3018689,2.30845779 12.3018689,3.04483745 C12.3018689,3.78121712 12.9103132,4.37817079 13.6608671,4.37817079 Z M17.9214578,2.45333328 C18.6119674,2.45333328 19.1717361,1.90413592 19.1717361,1.22666664 C19.1717361,0.549197362 18.6119674,0 17.9214578,0 C17.2309481,0 16.6711794,0.549197362 16.6711794,1.22666664 C16.6711794,1.90413592 17.2309481,2.45333328 17.9214578,2.45333328 Z",bell:"M14.254 5.105c-7.422.874-8.136 7.388-8.136 11.12 0 4.007 0 5.61-.824 6.411-.549.535-1.647.802-3.294.802v4.006h28v-4.006c-1.647 0-2.47 0-3.294-.802-.55-.534-.824-3.205-.824-8.013-.493-5.763-3.205-8.936-8.136-9.518a2.365 2.365 0 0 0 .725-1.701C18.47 2.076 17.364 1 16 1s-2.47 1.076-2.47 2.404c0 .664.276 1.266.724 1.7zM11.849 29c.383 1.556 1.793 2.333 4.229 2.333s3.845-.777 4.229-2.333h-8.458z",bookmark:"M5 2.078C5 .93 5.895 0 7 0h18c1.105 0 2 .93 2 2.078V32l-11-9.143L5 32V2.078Z",bolt:"M21.697 0L8 16.809l7.549 2.538L11.687 32l12.652-16.6-7.695-2.317z",breakout:"M24.47 1H32v7.53h-7.53V1zm0 11.294H32v7.53h-7.53v-7.53zm0 11.294H32v7.53h-7.53v-7.53zM0 1h9.412v30.118H0V1zm11.731 13.714c.166-.183.452-.177.452-.177h6.475s-1.601-2.053-2.07-2.806c-.469-.753-.604-1.368 0-1.905.603-.536 1.226-.281 1.878.497.652.779 2.772 3.485 3.355 4.214.583.73.65 1.965 0 2.835-.65.87-2.65 4.043-3.163 4.65-.514.607-1.123.713-1.732.295-.609-.419-.838-1.187-.338-1.872.5-.684 2.07-3.073 2.07-3.073h-6.475s-.27 0-.46-.312-.151-.612-.151-.612l.007-1.246s-.014-.306.152-.488z",bubble:"M18.155 20.882c-5.178-.638-9.187-5.051-9.187-10.402C8.968 4.692 13.66 0 19.448 0c5.789 0 10.48 4.692 10.48 10.48 0 3.05-1.302 5.797-3.383 7.712a7.127 7.127 0 1 1-8.39 2.69zm-6.392 10.14a2.795 2.795 0 1 1 0-5.59 2.795 2.795 0 0 1 0 5.59zm-6.079-6.288a4.541 4.541 0 1 1 0-9.083 4.541 4.541 0 0 1 0 9.083z",burger:"M2.5 3.6h27a2.5 2.5 0 1 1 0 5h-27a2.5 2.5 0 0 1 0-5zm0 9.931h27a2.5 2.5 0 1 1 0 5h-27a2.5 2.5 0 1 1 0-5zm0 9.931h27a2.5 2.5 0 1 1 0 5h-27a2.5 2.5 0 0 1 0-5z",calendar:{path:"M21,2 L21,0 L18,0 L18,2 L6,2 L6,0 L3,0 L3,2 L2.99109042,2 C1.34177063,2 0,3.34314575 0,5 L0,6.99502651 L0,20.009947 C0,22.2157067 1.78640758,24 3.99005301,24 L20.009947,24 C22.2157067,24 24,22.2135924 24,20.009947 L24,6.99502651 L24,5 C24,3.34651712 22.6608432,2 21.0089096,2 L21,2 L21,2 Z M22,8 L22,20.009947 C22,21.1099173 21.1102431,22 20.009947,22 L3.99005301,22 C2.89008272,22 2,21.1102431 2,20.009947 L2,8 L22,8 L22,8 Z M6,12 L10,12 L10,16 L6,16 L6,12 Z",attrs:{viewBox:"0 0 24 24"}},check:"M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z ",chevrondown:"M1 12 L16 26 L31 12 L27 8 L16 18 L5 8 z ",chevronleft:"M20 1 L24 5 L14 16 L24 27 L20 31 L6 16 z",chevronright:"M12 1 L26 16 L12 31 L8 27 L18 16 L8 5 z ",chevronup:"M1 20 L16 6 L31 20 L27 24 L16 14 L5 24 z",click:"M5.38519 1C2.41104 1 0 3.41103 0 6.38519V26.779C0 29.7532 2.41103 32.1642 5.38519 32.1642H13.3818V27.7911H5.38519C4.82624 27.7911 4.37313 27.338 4.37313 26.779V6.38519C4.37313 5.82624 4.82624 5.37313 5.38519 5.37313H22.779C23.338 5.37313 23.7911 5.82624 23.7911 6.38519V7.98451H28.1642V6.38519C28.1642 3.41103 25.7532 1 22.779 1H5.38519ZM12 10.6L17.5213 29.1906L21.8777 24.8341L27.6436 30.6L32 26.2436L26.2341 20.4777L30.5906 16.1213L12 10.6Z",clipboard:"M8.54667751,5.50894675 L6.00494659,5.50894675 C4.89702623,5.50894675 4,6.40070914 4,7.50075379 L4,30.0171397 C4,31.1120596 4.89764516,32.0089468 6.00494659,32.0089468 L25.9950534,32.0089468 C27.1029738,32.0089468 28,31.1171844 28,30.0171397 L28,7.50075379 C28,6.40583387 27.1023548,5.50894675 25.9950534,5.50894675 L23.5373296,5.50894675 L23.5373296,3.0446713 L19.9106557,3.0446713 C19.9106557,3.0446713 19.6485834,8.05825522e-08 16.0837607,0 C12.518938,-8.05825523e-08 12.1644547,3.04776207 12.1644547,3.04776207 L8.57253264,3.04776207 L8.54667751,5.50894675 Z M23.5373296,7.50894675 L26,7.50894675 L26,30.0089468 L6,30.0089468 L6,7.50894675 L8.52566721,7.50894675 L8.4996301,9.98745456 L23.5373296,9.98745456 L23.5373296,7.50894675 Z M10.573037,5.01478303 L13.9861608,5.01478303 L13.9861608,3.76128231 C13.9861608,3.76128231 14.0254332,1.94834752 16.0135743,1.94834752 C18.0017155,1.94834752 18.0017156,3.7055821 18.0017156,3.7055821 L18.0017156,4.94060459 L21.4955568,4.94060459 L21.4955568,8.03924122 L10.5173901,8.03924122 L10.573037,5.01478303 Z M16,5.00894675 C16.5522847,5.00894675 17,4.5612315 17,4.00894675 C17,3.456662 16.5522847,3.00894675 16,3.00894675 C15.4477153,3.00894675 15,3.456662 15,4.00894675 C15,4.5612315 15.4477153,5.00894675 16,5.00894675 Z M8.5,18.0089468 L8.5,21.0082323 L11.5,21.0082323 L11.5,18.0446111 L8.5,18.0089468 Z M8.5,23.0089468 L8.5,26.0082323 L11.5,26.0082323 L11.5,23.0446111 L8.5,23.0089468 Z M8.5,13.0089468 L8.5,16.0082323 L11.5,16.0082323 L11.5,13.0446111 L8.5,13.0089468 Z M13.5,13.0193041 L13.5,16 L23.5,16 L23.5,13 L13.5,13.0193041 Z M13.5,23.0193041 L13.5,26 L23.5,26 L23.5,23 L13.5,23.0193041 Z M13.5,18.0193041 L13.5,21 L23.5,21 L23.5,18 L13.5,18.0193041 Z",clock:"M16 0 A16 16 0 0 0 0 16 A16 16 0 0 0 16 32 A16 16 0 0 0 32 16 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 28 16 A12 12 0 0 1 16 28 A12 12 0 0 1 4 16 A12 12 0 0 1 16 4 M14 6 L14 17.25 L22 22 L24.25 18.5 L18 14.75 L18 6z",clone:{path:"M24,22 L32,22 L32,0 L10,0 L10,6 L24,6 L24,22 L24,22 Z M0,8 L22,8 L22,30 L0,30 L0,8 Z",attrs:{viewBox:"0 0 32 30"}},close:"M4 8 L8 4 L16 12 L24 4 L28 8 L20 16 L28 24 L24 28 L16 20 L8 28 L4 24 L12 16 z ",cloud:"M6.951 12.397a7.385 7.385 0 0 0 .434 14.757h17.23a7.385 7.385 0 0 0 .434-14.757C24.199 8.177 20.47 5 16 5s-8.198 3.178-9.049 7.397z",collection:"M16.5695046,2.82779686 L15.5639388,2.83217072 L30.4703127,11.5065092 L30.4818076,9.80229623 L15.5754337,18.2115855 L16.5436335,18.2077098 L1.65289961,9.96407638 L1.67877073,11.6677911 L16.5695046,2.82779686 Z M0.691634577,11.6826271 L15.5823685,19.9262606 C15.8836872,20.0930731 16.2506087,20.0916044 16.5505684,19.9223849 L31.4569423,11.5130957 C32.1196316,11.1392458 32.1260238,10.1915465 31.4684372,9.80888276 L16.5620632,1.1345443 C16.2511162,0.953597567 15.8658421,0.955273376 15.5564974,1.13891816 L0.665763463,9.97891239 C0.0118284022,10.3671258 0.0262104889,11.3142428 0.691634577,11.6826271 Z M15.5699489,25.798061 L16.0547338,26.0652615 L16.536759,25.7931643 L31.4991818,17.3470627 C31.973977,17.0790467 32.1404815,16.4788587 31.8710802,16.0065052 C31.6016788,15.5341517 30.9983884,15.3685033 30.5235933,15.6365193 L15.5611705,24.0826209 L16.5279806,24.0777242 L1.46763754,15.7768642 C0.99012406,15.5136715 0.388560187,15.6854222 0.124007019,16.16048 C-0.14054615,16.6355379 0.0320922897,17.2340083 0.509605765,17.497201 L15.5699489,25.798061 Z M15.5699489,31.7327994 L16.0547338,32 L16.536759,31.7279028 L31.4991818,23.2818011 C31.973977,23.0137852 32.1404815,22.4135972 31.8710802,21.9412437 C31.6016788,21.4688901 30.9983884,21.3032418 30.5235933,21.5712578 L15.5611705,30.0173594 L16.5279806,30.0124627 L1.46763754,21.7116027 C0.99012406,21.44841 0.388560187,21.6201606 0.124007019,22.0952185 C-0.14054615,22.5702764 0.0320922897,23.1687467 0.509605765,23.4319394 L15.5699489,31.7327994 Z",compare:"M24.5815137,18.6109617 L32.110976,18.6109617 L32.110976,25.7224662 L24.5815137,25.7224662 L24.5815137,31.7951059 L14.9536477,22.1672398 L24.5815137,12.5393738 L24.5815137,18.6109617 Z M7.52979828,20.2568769 L7.52941566,14.1855356 L0.000277209616,14.1851279 L-3.37507799e-14,7.07317197 L7.52913845,7.0735796 L7.5287557,1 L17.1577154,10.6289597 L7.52979828,20.2568769 Z",connections:{path:"M5.37815706,11.5570815 C5.55061975,11.1918363 5.64705882,10.783651 5.64705882,10.3529412 C5.64705882,9.93118218 5.55458641,9.53102128 5.38881053,9.1716274 L11.1846365,4.82475792 C11.6952189,5.33295842 12.3991637,5.64705882 13.1764706,5.64705882 C14.7358628,5.64705882 16,4.38292165 16,2.82352941 C16,1.26413718 14.7358628,0 13.1764706,0 C11.6170784,0 10.3529412,1.26413718 10.3529412,2.82352941 C10.3529412,3.2452884 10.4454136,3.64544931 10.6111895,4.00484319 L10.6111895,4.00484319 L4.81536351,8.35171266 C4.3047811,7.84351217 3.60083629,7.52941176 2.82352941,7.52941176 C1.26413718,7.52941176 0,8.79354894 0,10.3529412 C0,11.9123334 1.26413718,13.1764706 2.82352941,13.1764706 C3.59147157,13.1764706 4.28780867,12.8698929 4.79682555,12.3724528 L10.510616,16.0085013 C10.408473,16.3004758 10.3529412,16.6143411 10.3529412,16.9411765 C10.3529412,18.5005687 11.6170784,19.7647059 13.1764706,19.7647059 C14.7358628,19.7647059 16,18.5005687 16,16.9411765 C16,15.3817842 14.7358628,14.1176471 13.1764706,14.1176471 C12.3029783,14.1176471 11.5221273,14.5142917 11.0042049,15.1372938 L5.37815706,11.5570815 Z",attrs:{viewBox:"0 0 16 19.7647"}},contract:"M18.0015892,0.327942852 L18.0015892,14 L31.6736463,14 L26.6544389,8.98079262 L32,3.63523156 L28.3647684,0 L23.0192074,5.34556106 L18.0015892,0.327942852 Z M14,31.6720571 L14,18 L0.327942852,18 L5.34715023,23.0192074 L0.00158917013,28.3647684 L3.63682073,32 L8.98238179,26.6544389 L14,31.6720571 Z",copy:{path:"M10.329 6.4h-3.33c-.95 0-1.72.77-1.72 1.72v.413h17.118V8.12c0-.941-.77-1.719-1.72-1.719h-3.31l-1.432-1.705a2.137 2.137 0 0 0-2.097-2.562 2.137 2.137 0 0 0-2.054 2.73L10.329 6.4zm12.808 4.267h1.4v8.557h-4.42l.111-4.188-5.981 6.064 5.805 6.264v-3.966h4.485v6.469H3.14v-19.2h19.997zm3.54 12.731v6.888c0 .947-.769 1.714-1.725 1.714H2.725C1.772 32 1 31.23 1 30.286V5.981c0-.947.768-1.714 1.725-1.714h6.834A4.273 4.273 0 0 1 13.839 0c2.363 0 4.279 1.91 4.279 4.267h6.834c.953 0 1.725.77 1.725 1.714v13.243H31v4.174h-4.323zM5.279 12.8h10.7v2.133h-10.7V12.8zm0 4.267h5.564V19.2H5.279v-2.133zm0 4.266h5.564v2.134H5.279v-2.134zm0 4.267h8.56v2.133h-8.56V25.6z",attrs:{fillRule:"evenodd"}},curved:"M3.314 25.007c-.398.852-1.427 1.228-2.298.84a1.68 1.68 0 0 1-.86-2.247c3.754-8.047 7.654-12.229 12.06-12.229 2.93 0 4.406 1.185 6.481 4.098l.098.137c1.413 1.984 2.054 2.507 3.318 2.507 2.293 0 4.562-2.814 6.495-8.918.283-.895 1.254-1.396 2.17-1.119.915.277 1.427 1.227 1.144 2.122-2.337 7.38-5.503 11.307-9.809 11.307-2.765 0-4.15-1.132-6.166-3.961l-.097-.137c-1.479-2.075-2.187-2.644-3.635-2.644-2.58 0-5.667 3.31-8.901 10.244z",csv:"M28 10.105v18.728A3.166 3.166 0 0 1 24.834 32H6.166A3.163 3.163 0 0 1 3 28.844V3.156A3.163 3.163 0 0 1 6.16 0h13.553V10.105H28zm-.215-1.684h-6.4V.311l6.4 8.11zM17 13v2h2v-2h-2zm0 4v2h2v-2h-2zm4-4v2h2v-2h-2zM7 13v2h7v-2H7zm14 4v2h2v-2h-2zM7 17v2h7v-2H7zm10 4v2h2v-2h-2zm4 0v2h2v-2h-2zM7 21v2h7v-2H7z",database:"M0 9.32V4.054S1.584 0 15.657 0C29.731 0 31.89 3.669 31.89 4.054v5.24s-1.445 4.125-15.424 4.125S0 10.138 0 9.32zm.305 12.93s2.044 3.692 15.727 3.692 15.63-3.72 15.63-3.72.338.099.338.632v5S30.463 32 15.964 32C1.465 32 .041 27.817.041 27.817V22.9c0-.582.264-.65.264-.65zm0-9.368s2.044 3.692 15.727 3.692 15.63-3.72 15.63-3.72.338.099.338.632v5.001s-1.537 4.145-16.036 4.145C1.465 22.632.041 18.45.041 18.45v-4.918c0-.583.264-.65.264-.65z",dash:"M0 13h32v6.61H0z",dashboard:"M32 28a4 4 0 0 1-4 4H4a4.002 4.002 0 0 1-3.874-3H0V4a4 4 0 0 1 4-4h25a3 3 0 0 1 3 3v25zm-4 0V8H4v20h24zM7.273 18.91h10.182v4.363H7.273v-4.364zm0-6.82h17.454v4.365H7.273V12.09zm13.09 6.82h4.364v4.363h-4.363v-4.364z",curve:"M3.033 3.791v22.211H31.09c.403 0 .882.872.882 1.59 0 .717-.48 1.408-.882 1.408H0V3.791c0-.403.875-.914 1.487-.914.612 0 1.546.511 1.546.914zm3.804 17.912C5.714 21.495 5 20.318 5 19.355c0-.963.831-2.296 1.837-2.296 2.093 0 2.965-1.207 4.204-5.242l.148-.482C12.798 6.077 14.18 3 17.968 3c3.792 0 5.17 3.08 6.765 8.343l.145.478c1.227 4.034 2.093 5.238 4.181 5.238 1.006 0 1.875 1.29 1.875 2.296 0 1.007-.898 2.184-1.875 2.348-3.656.612-6.004-2.364-7.665-7.821l-.146-.482c-1.14-3.76-1.8-6.754-3.28-6.754-1.483 0-2.147 2.995-3.297 6.754l-.148.486c-1.675 5.454-3.93 8.514-7.686 7.817z",document:"M29,10.1052632 L29,28.8325291 C29,30.581875 27.5842615,32 25.8337327,32 L7.16626728,32 C5.41758615,32 4,30.5837102 4,28.8441405 L4,3.15585953 C4,1.41292644 5.42339685,9.39605581e-15 7.15970573,8.42009882e-15 L20.713352,8.01767853e-16 L20.713352,8.42105263 L22.3846872,8.42105263 L22.3846872,0.310375032 L28.7849894,8.42105263 L20.713352,8.42105263 L20.713352,10.1052632 L29,10.1052632 Z M7.3426704,12.8000006 L25.7273576,12.8000006 L25.7273576,14.4842112 L7.3426704,14.4842112 L7.3426704,12.8000006 Z M7.3426704,17.3473687 L25.7273576,17.3473687 L25.7273576,19.0315793 L7.3426704,19.0315793 L7.3426704,17.3473687 Z M7.3426704,21.8947352 L25.7273576,21.8947352 L25.7273576,23.5789458 L7.3426704,23.5789458 L7.3426704,21.8947352 Z M7.43137255,26.2736849 L16.535014,26.2736849 L16.535014,27.9578954 L7.43137255,27.9578954 L7.43137255,26.2736849 Z",download:{path:"M26 0c7.264 0 13.323 5.164 14.704 12.022C47.004 12.384 52 17.609 52 24c0 6.627-5.373 12-12 12H12C5.373 36 0 30.627 0 24c0-6.391 4.997-11.616 11.297-11.98C12.677 5.164 18.736 0 26 0zm0 6a3 3 0 00-3 3v13.649l-5.232-5.511-.13-.128a2.409 2.409 0 00-3.406.128c-.976 1.028-.976 2.696 0 3.724l10 10.533.13.129a2.409 2.409 0 003.406-.129l10-10.533.122-.138c.852-1.034.812-2.602-.122-3.586l-.13-.128a2.409 2.409 0 00-3.406.128L29 22.649V9a3 3 0 00-3-3z",attrs:{viewBox:"0 0 52 32"}},dyno:"M5.76 5C3.935 5 2.718 6.5 2.337 7.25.056 7.25-.134 8.375.056 8.938c0 .187.342.675 1.711 1.124 1.711.563 2.282 0 3.423.563 0 1.125-1.712 7.875-1.712 11.813 0 3.15 2.662 5.437 3.993 6.187.38.75.913 2.25 0 2.25-.912 0-.76.75-.57 1.125h2.282c.456 0 .95-1.5 1.14-2.25.19-.375.571-.9.571 0s-.38 1.875-.57 2.25h2.852c.912 0 1.14-1.875 1.14-2.813.19-.187.571-.337.571.563 0 .9-.76 1.875-1.14 2.25h4.561c1.712 0 1.712-1.688 1.712-2.813C25.155 31.438 32 31.438 32 30.313c-3.194-.9-8.556-5.625-10.838-7.875-1.712-1.687-4.678-3.937-7.416-3.937-2.738 0-5.704 3-6.845 4.5v-1.688C7.28 18.125 8.04 11.3 8.04 9.5c1.37 0 1.142-1.125 1.142-2.25S7.585 5 5.76 5Z",edit_document:"M19.27 20.255l-5.642 2.173 1.75-6.085L28.108 3.45 32 7.363 19.27 20.255zM20.442 6.9l-2.044-2.049H4.79v23.29h18.711v-6.577l4.787-4.83V31a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h18.024a1 1 0 0 1 .711.297L23.85 3.45 20.442 6.9z",ellipsis:"M3.613 19.226a3.613 3.613 0 1 0 0-7.226 3.613 3.613 0 0 0 0 7.226zM28.387 19.226a3.613 3.613 0 1 0 0-7.226 3.613 3.613 0 0 0 0 7.226zM19.613 15.613a3.613 3.613 0 1 1-7.226 0 3.613 3.613 0 0 1 7.226 0z",embed:"M12.734 9.333L6.099 16l6.635 6.667a2.547 2.547 0 0 1 0 3.59 2.518 2.518 0 0 1-3.573 0L.74 17.795a2.547 2.547 0 0 1 0-3.59L9.16 5.743a2.518 2.518 0 0 1 3.573 0 2.547 2.547 0 0 1 0 3.59zm6.527 13.339l6.64-6.71-6.63-6.623a2.547 2.547 0 0 1-.01-3.59 2.518 2.518 0 0 1 3.573-.01l8.42 8.412c.99.988.995 2.596.011 3.59l-8.42 8.51a2.518 2.518 0 0 1-3.574.01 2.547 2.547 0 0 1-.01-3.59z",empty:" ",enter_or_return:"M6.81 16.784l6.14-4.694a1.789 1.789 0 0 0 .341-2.49 1.748 1.748 0 0 0-2.464-.344L.697 17a1.788 1.788 0 0 0-.01 2.826l10.058 7.806c.77.598 1.875.452 2.467-.326a1.79 1.79 0 0 0-.323-2.492l-5.766-4.475h23.118c.971 0 1.759-.796 1.759-1.777V6.777C32 5.796 31.212 5 30.24 5c-.971 0-1.759.796-1.759 1.777v10.007H6.811z",expand:"M27.448 13.42a2.051 2.051 0 0 0 4.101 0V2.052A2.05 2.05 0 0 0 29.5 0h-11.37a2.05 2.05 0 0 0 0 4.102h6.418L18.46 10.19a2.051 2.051 0 0 0 2.901 2.9l6.088-6.088v6.419zM4.102 18.58a2.051 2.051 0 0 0-4.102 0v11.369A2.05 2.05 0 0 0 2.051 32h11.37a2.051 2.051 0 1 0 0-4.102H7.002l6.088-6.087a2.05 2.05 0 1 0-2.9-2.901l-6.088 6.088v-6.419z",expand_arrow:"M16.429 28.429L.429 5.57h32z",external:"M 25.144 32 H 6.858 A 6.856 6.856 90 0 1 0 25.142 V 6.86 A 6.858 6.858 90 0 1 6.86 0 h 6.856 v 4.572 H 6.86 a 2.286 2.286 90 0 0 -2.286 2.286 v 18.284 a 2.286 2.286 90 0 0 2.286 2.286 h 18.286 a 2.286 2.286 90 0 0 2.284 -2.286 V 18.286 H 32 v 6.856 A 6.858 6.858 90 0 1 25.144 32 Z m -10.286 -11.622 L 11.624 17.14 l 12.57 -12.57 H 18.286 V 0 h 11.428 A 2.286 2.286 90 0 1 32 2.286 v 11.428 h -4.572 V 7.806 L 14.86 20.378 Z",eye:"M30.622 18.49c-.549.769-1.46 1.86-2.737 3.273-1.276 1.414-2.564 2.614-3.866 3.602-2.297 1.757-4.963 2.635-8 2.635-3.062 0-5.741-.878-8.038-2.635-1.302-.988-2.59-2.188-3.866-3.602-1.276-1.413-2.188-2.504-2.737-3.272-.549-.769-.9-1.277-1.053-1.524-.433-.63-.433-1.276 0-1.934.128-.247.472-.755 1.034-1.524.561-.768 1.48-1.852 2.756-3.252 1.276-1.4 2.564-2.593 3.866-3.581C10.303 4.892 12.982 4 16.019 4c3.011 0 5.678.892 8 2.676 1.302.988 2.59 2.182 3.866 3.581 1.276 1.4 2.195 2.484 2.756 3.252.562.769.906 1.277 1.034 1.524.433.63.433 1.276 0 1.934-.153.247-.504.755-1.053 1.524zm-1.516-3.214c-.248.376-.248 1.089.034 1.499l-.11-.16-.088-.17a21.93 21.93 0 0 0-.784-1.121c-.483-.66-1.338-1.67-2.546-2.995-1.154-1.266-2.306-2.333-3.466-3.214-1.781-1.368-3.788-2.04-6.127-2.04-2.365 0-4.385.673-6.179 2.05-1.146.87-2.298 1.938-3.452 3.204-1.208 1.325-2.063 2.334-2.546 2.995a21.93 21.93 0 0 0-.784 1.12l-.075.145-.09.135c.249-.376.249-1.089-.033-1.499l.08.122c.105.17.432.644.941 1.356.466.653 1.313 1.666 2.517 3 1.152 1.275 2.3 2.346 3.451 3.22 1.752 1.339 3.773 2.001 6.17 2.001 2.37 0 4.379-.661 6.14-2.008 1.143-.867 2.291-1.938 3.443-3.214 1.204-1.333 2.05-2.346 2.517-2.999.509-.712.836-1.186.942-1.356l.045-.071zm-17.353 5.663C10.584 19.709 10 18.237 10 16.522c0-1.744.584-3.224 1.753-4.439 1.168-1.215 2.59-1.822 4.268-1.822 1.65 0 3.058.607 4.226 1.822C21.416 13.298 22 14.778 22 16.522c0 1.715-.584 3.187-1.753 4.417-1.168 1.229-2.577 1.844-4.226 1.844-1.677 0-3.1-.615-4.268-1.844zm6.265-2.12c.624-.655.906-1.368.906-2.297 0-.957-.281-1.67-.893-2.307-.592-.616-1.203-.879-2.01-.879-.84 0-1.462.266-2.052.88-.612.636-.893 1.35-.893 2.306 0 .929.282 1.642.906 2.298.59.62 1.207.887 2.039.887.8 0 1.405-.264 1.997-.887z",eye_crossed_out:"M21.775 3.183C20.007 2.393 18.082 2 16.017 2c-3.043 0-5.778.84-8.151 2.54-1.263.896-2.5 1.967-3.711 3.207-1.168 1.196-2.05 2.162-2.61 2.88-.457.582-.828 1.078-1.025 1.411-.305.451-.52.993-.52 1.607 0 .632.228 1.188.557 1.645.177.263.52.723.995 1.343.552.722 1.43 1.697 2.598 2.905.137.141.274.28.411.417l2.084-2.03c-.135-.134-.27-.27-.404-.41-1.152-1.19-1.933-2.067-2.378-2.65a30.87 30.87 0 0 1-.901-1.213l-.01-.016.033-.047.038-.069.014-.023.046-.07c.04-.06.095-.138.166-.236.142-.197.337-.452.586-.771.46-.587 1.249-1.46 2.4-2.64C7.344 8.646 8.45 7.693 9.552 6.912l.006-.005c1.848-1.325 3.984-1.998 6.46-1.998 1.236 0 2.388.17 3.463.51l2.295-2.236zm-5.093 4.962a6.109 6.109 0 0 0-.668-.036c-1.53 0-2.883.536-3.972 1.6-1.09 1.064-1.652 2.402-1.652 3.927 0 .207.01.41.031.61l6.26-6.1zm-1.583 10.95l6.453-6.29c.039.27.058.547.058.83 0 1.514-.566 2.841-1.646 3.908-1.083 1.07-2.426 1.619-3.95 1.619a6.1 6.1 0 0 1-.915-.068zm-2.78 2.707c1.133.373 2.363.562 3.698.562 2.482 0 4.606-.665 6.428-1.965l.004-.003c1.1-.78 2.204-1.737 3.31-2.88 1.152-1.192 1.933-2.068 2.378-2.65.506-.661.794-1.052.901-1.213l.01-.016-.025-.035-.046-.082-.014-.023a7.635 7.635 0 0 0-.212-.306 28.444 28.444 0 0 0-.586-.771c-.46-.587-1.249-1.46-2.4-2.64a29.152 29.152 0 0 0-.548-.545l2.085-2.031c.181.177.363.358.543.543 1.168 1.196 2.05 2.162 2.61 2.88.451.575.819 1.066 1.018 1.399.313.449.527.99.527 1.602 0 .633-.23 1.19-.55 1.65-.174.261-.52.726-1.002 1.355-.552.722-1.43 1.697-2.598 2.905-1.213 1.253-2.45 2.333-3.717 3.23-2.353 1.679-5.077 2.505-8.116 2.505-2.161 0-4.162-.412-5.98-1.246l2.282-2.225zM28.617 3L5 26.618l-2.121-2.122L26.496.88 28.617 3z",field:"M27 25v7H5V1h22v24zm-3 0H8v4h16v-4zm0-3v-4H8v4h16zM8 15h16v-4H8v4zm0-7h16V4H8v4z",fields:"M0,0 L7.51851852,0 L7.51851852,3.2 L0,3.2 L0,0 Z M10.7407407,0 L18.2592593,0 L18.2592593,3.2 L10.7407407,3.2 L10.7407407,0 Z M21.4814815,0 L29,0 L29,3.2 L21.4814815,3.2 L21.4814815,0 Z M0,5.33333333 L7.51851852,5.33333333 L7.51851852,29.8666667 L3.85540334,32 L0,29.8666667 L0,5.33333333 Z M10.7407407,5.33333333 L18.2592593,5.33333333 L18.2592593,29.8666667 L14.5690136,32 L10.7407407,29.8666667 L10.7407407,5.33333333 Z M21.4814815,5.33333333 L29,5.33333333 L29,29.8666667 L25.2114718,32 L21.4814815,29.8666667 L21.4814815,5.33333333 Z",filter:"M3.556 4h24.888a3.556 3.556 0 1 1 0 7.111H3.556a3.556 3.556 0 1 1 0-7.111zm4 11.556h16.888a2.222 2.222 0 1 1 0 4.444H7.556a2.222 2.222 0 0 1 0-4.444zM12 24.444h8a2.222 2.222 0 0 1 0 4.445h-8a2.222 2.222 0 0 1 0-4.445z",function:"M10.956 13.244L7 32h6.311l3.956-18.756H21.8l.889-4.222H18.2c.178-.681.326-1.274.444-1.778.119-.533.282-.977.49-1.333.236-.385.562-.667.977-.844.415-.208 1.022-.311 1.822-.311.326 0 .667.014 1.023.044l1.022.089.978-4.533a23.65 23.65 0 0 0-2.09-.267A23.59 23.59 0 0 0 20.823 0c-1.659 0-3.007.193-4.044.578-1.008.385-1.822.963-2.445 1.733-.622.77-1.11 1.719-1.466 2.845-.356 1.096-.682 2.385-.978 3.866H8.11l-.889 4.222h3.734z",funnel:"M3.18586974,3.64621479 C2.93075885,3.28932022 3.08031197,3 3.5066208,3 L28.3780937,3 C28.9190521,3 29.0903676,3.34981042 28.7617813,3.77995708 L18.969764,16.5985181 L18.969764,24.3460671 C18.969764,24.8899179 18.5885804,25.5564176 18.133063,25.8254534 C18.133063,25.8254534 12.5698889,29.1260709 12.5673818,28.9963552 C12.4993555,25.4767507 12.5749031,16.7812673 12.5749031,16.7812673 L3.18586974,3.64621479 Z",funnel_outline:{path:"M3.186 3.646C2.93 3.29 3.08 3 3.506 3h24.872c.541 0 .712.35.384.78L18.97 16.599v7.747c0 .544-.381 1.21-.837 1.48 0 0-5.563 3.3-5.566 3.17-.068-3.52.008-12.215.008-12.215L3.185 3.646z",attrs:{stroke:"currentcolor",strokeWidth:"4",fill:"none",fillRule:"evenodd"}},folder:"M4 3a4 4 0 0 0-4 4v18.667a4 4 0 0 0 4 4h24a4 4 0 0 0 4-4V8.333h-9.65a3.5 3.5 0 0 1-2.19-.77L14.476 3H4z",gauge:"M5.197 29.803A15.958 15.958 0 0 1 0 18C0 9.163 7.163 2 16 2s16 7.163 16 16a15.96 15.96 0 0 1-5.344 11.936L22.983 26.5A10.978 10.978 0 0 0 27 18c0-6.075-4.925-11-11-11S5 11.925 5 18c0 3.292 1.446 6.246 3.738 8.262l-3.54 3.54zM13 21.25a3.774 3.774 0 0 1 1.122-5.975L23 11l-4.34 9.347a3.455 3.455 0 0 1-5.66.903z",gear:"M12.088.996c0-.55.441-.996 1.006-.996h6.189c.555 0 1.005.452 1.005 1.007V3.53c0 .556.375 1.235.848 1.524l1.806 1.102c.468.286 1.252.328 1.748.095l2.756-1.292a1.125 1.125 0 0 1 1.417.432l2.979 4.93a1.063 1.063 0 0 1-.307 1.408l-2.147 1.445c-.455.306-.823 1.011-.823 1.55v2.6c0 .55.353 1.278.774 1.614l2.279 1.818c.428.341.512.976.181 1.43l-3.211 4.394c-.328.448-.992.588-1.463.324l-2.27-1.272c-.48-.27-1.238-.242-1.709.071l-2.019 1.344c-.463.309-.839 1.013-.839 1.556v2.4c0 .55-.44.997-1.005.997h-6.19a1.006 1.006 0 0 1-1.005-.997v-2.4c0-.55-.372-1.26-.823-1.58l-1.829-1.295c-.454-.322-1.198-.35-1.664-.06l-2.9 1.808a.985.985 0 0 1-1.361-.325L.309 21.923a1.03 1.03 0 0 1 .318-1.393l2.566-1.666c.463-.3.838-.99.838-1.539v-2.494c0-.55-.391-1.226-.86-1.503L.485 11.74a.99.99 0 0 1-.35-1.36l3.14-5.236c.28-.47.907-.646 1.393-.397l3.308 1.7c.488.25 1.23.175 1.666-.178l1.665-1.345c.432-.348.781-1.074.781-1.627V.996zM16.002 22c3.33 0 6.028-2.686 6.028-6s-2.699-6-6.028-6c-3.329 0-6.027 2.686-6.027 6s2.698 6 6.027 6z",grabber:"M0,5 L32,5 L32,9.26666667 L0,9.26666667 L0,5 Z M0,13.5333333 L32,13.5333333 L32,17.8 L0,17.8 L0,13.5333333 Z M0,22.0666667 L32,22.0666667 L32,26.3333333 L0,26.3333333 L0,22.0666667 Z",grabber2:"M9.692 7.385a3.692 3.692 0 1 1 0-7.385 3.692 3.692 0 0 1 0 7.385zm0 12.307a3.692 3.692 0 1 1 0-7.384 3.692 3.692 0 0 1 0 7.384zM22 7.385A3.692 3.692 0 1 1 22 0a3.692 3.692 0 0 1 0 7.385zm0 12.307a3.692 3.692 0 1 1 0-7.384 3.692 3.692 0 0 1 0 7.384zM9.692 32a3.692 3.692 0 1 1 0-7.385 3.692 3.692 0 0 1 0 7.385zM22 32a3.692 3.692 0 1 1 0-7.385A3.692 3.692 0 0 1 22 32z",grid:"M2 2 L10 2 L10 10 L2 10z M12 2 L20 2 L20 10 L12 10z M22 2 L30 2 L30 10 L22 10z M2 12 L10 12 L10 20 L2 20z M12 12 L20 12 L20 20 L12 20z M22 12 L30 12 L30 20 L22 20z M2 22 L10 22 L10 30 L2 30z M12 22 L20 22 L20 30 L12 30z M22 22 L30 22 L30 30 L22 30z",group:"M11.044 4.805c4.38-.157 6.166 3.841 6.166 6.134s-1.132 5.67-3.048 7.412c-.424.385-.345 2.822.58 3.218 1.938.83 7.242 2.51 7.443 5.971.224 3.853-6.733 4.244-11.023 4.244S0 31.26 0 28.024c0-1.501.15-2.489 2.625-4.16 2.474-1.67 4.36-2.08 4.77-2.333.412-.254 1.17-1.574.677-3.048 0 0-2.973-3.248-2.973-6.824 0-3.577 1.566-6.698 5.945-6.854zm5.554-.51S17.686 1 21.591 1c3.905 0 5.502 3.217 5.502 5.87s-1.023 5.356-2.623 6.946c-.18.178-.408 1.742.302 2.09.71.347 7.228 2.274 7.228 5.74s-4.39 3.524-7.698 3.856c0 0-.639-3.165-7.78-5.943 0 0 3.315-3.944 3.165-8.697-.151-4.754-3.089-6.568-3.089-6.568z",google:{svg:'<g fill="none" fill-rule="evenodd"><path d="M16 32c4.32 0 7.947-1.422 10.596-3.876l-5.05-3.91c-1.35.942-3.164 1.6-5.546 1.6-4.231 0-7.822-2.792-9.102-6.65l-5.174 4.018C4.356 28.41 9.742 32 16 32z" fill="#34A853"/><path d="M6.898 19.164A9.85 9.85 0 0 1 6.364 16c0-1.102.196-2.169.516-3.164L1.707 8.818A16.014 16.014 0 0 0 0 16c0 2.578.622 5.013 1.707 7.182l5.19-4.018z" fill="#FBBC05"/><path d="M31.36 16.356c0-1.316-.107-2.276-.338-3.272H16v5.938h8.818c-.178 1.476-1.138 3.698-3.271 5.191l5.049 3.911c3.022-2.79 4.764-6.897 4.764-11.768z" fill="#4285F4"/><path d="M16 6.187c3.004 0 5.031 1.297 6.187 2.382l4.515-4.409C23.93 1.582 20.32 0 16 0 9.742 0 4.338 3.591 1.707 8.818l5.173 4.018c1.298-3.858 4.889-6.65 9.12-6.65z" fill="#EA4335"/></g>'},history:{path:"M4.03074198,15 C4.54693838,6.62927028 11.4992947,0 20,0 C28.836556,0 36,7.163444 36,16 C36,24.836556 28.836556,32 20,32 C16.9814511,32 14.1581361,31.164104 11.7489039,29.7111608 L14.1120194,26.4586113 C15.8515127,27.4400159 17.8603607,28 20,28 C26.627417,28 32,22.627417 32,16 C32,9.372583 26.627417,4 20,4 C13.7093362,4 8.54922468,8.84046948 8.04107378,15 L11,15 L6,22 L1.34313965,15 L4.03074198,15 Z M22,15.2218254 L24.5913352,17.8131606 L24.5913352,17.8131606 C25.3723838,18.5942092 25.3723838,19.8605392 24.5913352,20.6415878 C23.8176686,21.4152544 22.5633071,21.4152544 21.7896404,20.6415878 C21.7852062,20.6371536 21.7807931,20.6326983 21.7764012,20.6282222 L18.8194549,17.6145768 C18.3226272,17.2506894 18,16.6630215 18,16 L18,10 C18,8.8954305 18.8954305,8 20,8 C21.1045695,8 22,8.8954305 22,10 L22,15.2218254 Z",attrs:{viewBox:"0 0 36 33"}},home:{path:"M16.2 0 1 12.8 4.2 32h8v-8.8a4 4 0 1 1 8 0V32h8l3.2-19.2L16.2 0Z"},hourglass:{path:"M3 1.838C3 .823 3.617 0 4.378 0H27.35c.761 0 1.379.823 1.379 1.838 0 1.015-.618 1.837-1.379 1.837h-.143a28.303 28.303 0 0 1-.25 3.17c-.237 1.641-.695 3.295-1.654 4.574-1.157 1.543-2.537 2.456-3.52 3.108h-.001l-.214.142c-.53.354-.839.58-1.028.783-.138.15-.138.205-.137.24v.005c0 .009-.002.014-.003.018v.002l-.002.003c0 .008.008.016.052.058l.002.002c.14.134.32.254.664.481l.403.269c1.154.776 2.72 1.971 4.291 4.563.764 1.26 1.212 3.171 1.41 4.777a15.138 15.138 0 0 1 .119 2.455h.011c.761 0 1.379.822 1.379 1.837 0 1.015-.618 1.838-1.379 1.838H4.38C3.616 32 3 31.177 3 30.162c0-1.015.617-1.837 1.378-1.837h.012a15.146 15.146 0 0 1 .118-2.454c.199-1.607.647-3.519 1.41-4.778 1.57-2.591 3.137-3.787 4.292-4.563.155-.105.288-.193.403-.269.343-.227.524-.347.664-.481l.002-.002c.043-.042.052-.05.051-.058l-.001-.005c-.001-.004-.003-.01-.003-.018v-.005c0-.035.001-.09-.138-.24-.189-.204-.497-.43-1.028-.783l-.214-.142c-.984-.652-2.364-1.565-3.52-3.107-.96-1.28-1.418-2.934-1.655-4.575a28.31 28.31 0 0 1-.25-3.17h-.143C3.618 3.675 3 2.853 3 1.838zm4.28 1.837h17.168c-.03.973-.094 1.908-.22 2.775-.212 1.468-.58 2.582-1.131 3.316-.862 1.15-1.88 1.825-2.881 2.491l-.178.118c-.494.33-1.075.724-1.52 1.203-.487.526-.873 1.218-.873 2.119 0 .898.367 1.561.894 2.069.34.327.804.632 1.193.888l.248.163c.93.626 2.167 1.551 3.472 3.705.457.753.847 2.196 1.032 3.687.09.72.123 1.387.104 1.907a6.013 6.013 0 0 1-.011.209H7.15a6.192 6.192 0 0 1-.011-.21c-.019-.52.014-1.186.103-1.906.185-1.49.576-2.934 1.032-3.687 1.305-2.154 2.543-3.08 3.473-3.705.077-.052.16-.106.248-.163.388-.256.853-.561 1.192-.888.527-.508.894-1.17.894-2.07 0-.9-.385-1.592-.873-2.118-.444-.48-1.026-.874-1.52-1.203l-.177-.118c-1.002-.666-2.019-1.342-2.881-2.491-.55-.734-.92-1.848-1.132-3.316a25.21 25.21 0 0 1-.22-2.775zm2.152 3.682h12.421c0 2.948-6.132 6.04-6.132 6.04s-6.29-3.38-6.29-6.04zm-.919 19.59h14.702c0-.7-.744-1.323-1.764-1.848-3.56-1.834-8.014-1.823-11.48.182-.856.495-1.458 1.059-1.458 1.665zm7.35-5.17a1.378 1.378 0 1 0 0-2.757 1.378 1.378 0 0 0 0 2.757z",attrs:{fillRule:"evenodd",clipRule:"evenodd"}},info:"M 17.7 12 v 14 H 13.512 V 12 h 4.184 Z m 0.43 -3.834 c 0 0.334 -0.066 0.646 -0.2 0.94 c -0.136 0.292 -0.32 0.548 -0.556 0.768 c -0.234 0.22 -0.506 0.396 -0.816 0.526 a 2.534 2.534 90 0 1 -1.95 0 a 2.694 2.694 90 0 1 -0.79 -0.526 a 2.43 2.43 90 0 1 -0.54 -0.77 a 2.276 2.276 90 0 1 -0.196 -0.938 c 0 -0.34 0.066 -0.66 0.196 -0.958 a 2.488 2.488 90 0 1 1.33 -1.31 a 2.614 2.614 90 0 1 2.768 0.526 c 0.232 0.226 0.418 0.488 0.552 0.784 c 0.136 0.296 0.202 0.616 0.202 0.96 Z M 16.002 32 a 16 16 90 1 0 0 -32 a 16 16 90 0 0 0 32 Z",info_outline:"M16 29c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16s5.82 13 13 13zm0 3C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm1.697-20h-4.185v14h4.185V12zm.432-3.834c0-.342-.067-.661-.203-.958a2.527 2.527 0 0 0-1.37-1.31 2.613 2.613 0 0 0-.992-.188c-.342 0-.661.062-.959.189a2.529 2.529 0 0 0-1.33 1.309c-.13.297-.195.616-.195.958 0 .334.065.646.196.939.13.292.31.549.54.77.23.22.492.395.79.526.297.13.616.196.958.196.351 0 .682-.066.992-.196.31-.13.583-.306.817-.527a2.47 2.47 0 0 0 .553-.77c.136-.292.203-.604.203-.938z",insight:"M12.6325203 19.3674797 0 16 12.6325203 12.6325203 16 0 19.3674797 12.6325203 32 16 19.3674797 19.3674797 16 32z",int:{path:"M15.141,15.512 L14.294,20 L13.051,20 C12.8309989,20 12.6403341,19.9120009 12.479,19.736 C12.3176659,19.5599991 12.237,19.343668 12.237,19.087 C12.237,19.0503332 12.2388333,19.0155002 12.2425,18.9825 C12.2461667,18.9494998 12.2516666,18.9146668 12.259,18.878 L12.908,15.512 L10.653,15.512 L10.015,19.01 C9.94899967,19.3620018 9.79866784,19.6149992 9.564,19.769 C9.32933216,19.9230008 9.06900143,20 8.783,20 L7.584,20 L8.42,15.512 L7.155,15.512 C6.92033216,15.512 6.74066729,15.4551672 6.616,15.3415 C6.49133271,15.2278328 6.429,15.0390013 6.429,14.775 C6.429,14.6723328 6.43999989,14.5550007 6.462,14.423 L6.605,13.554 L8.695,13.554 L9.267,10.518 L6.913,10.518 L7.122,9.385 C7.17333359,9.10633194 7.28699912,8.89916734 7.463,8.7635 C7.63900088,8.62783266 7.92499802,8.56 8.321,8.56 L9.542,8.56 L10.224,5.018 C10.282667,4.7246652 10.4183323,4.49733414 10.631,4.336 C10.8436677,4.17466586 11.0929986,4.094 11.379,4.094 L12.611,4.094 L11.775,8.56 L14.019,8.56 L14.866,4.094 L16.076,4.094 C16.3326679,4.094 16.5416659,4.1673326 16.703,4.314 C16.8643341,4.4606674 16.945,4.64766553 16.945,4.875 C16.945,4.9483337 16.9413334,5.00333315 16.934,5.04 L16.252,8.56 L18.485,8.56 L18.276,9.693 C18.2246664,9.97166806 18.1091676,10.1788327 17.9295,10.3145 C17.7498324,10.4501673 17.4656686,10.518 17.077,10.518 L15.977,10.518 L15.416,13.554 L16.978,13.554 C17.2126678,13.554 17.3904994,13.6108328 17.5115,13.7245 C17.6325006,13.8381672 17.693,14.0306653 17.693,14.302 C17.693,14.4046672 17.6820001,14.5219993 17.66,14.654 L17.528,15.512 L15.141,15.512 Z M10.928,13.554 L13.183,13.554 L13.744,10.518 L11.5,10.518 L10.928,13.554 Z",attrs:{viewBox:"0 0 24 24"}},io:"M1,9 L6,9 L6,24 L1,24 L1,9 Z M31,16 C31,11.581722 27.418278,8 23,8 C18.581722,8 15,11.581722 15,16 C15,20.418278 18.581722,24 23,24 C27.418278,24 31,20.418278 31,16 Z M19,16 C19,13.790861 20.790861,12 23,12 C25.209139,12 27,13.790861 27,16 C27,18.209139 25.209139,20 23,20 C20.790861,20 19,18.209139 19,16 Z M15.3815029,9 L13.4537572,9 L7,23.5 L8.92774566,23.5 L15.3815029,9 Z",join_full_outer:"M16.044 7.903A9.955 9.955 0 0 1 22 5.936c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.955 9.955 0 0 1-5.903-1.928l-.097.065-.051-.034A9.955 9.955 0 0 1 10 26C4.477 26 0 21.523 0 16S4.477 6 10 6c2.211 0 4.255.718 5.911 1.933l.089-.06.044.03zm0 0l-.087.064-.046-.034-.25.168c-2.648 1.78-4.261 4.695-4.261 7.872 0 3.177 1.613 6.092 4.262 7.873l.287.193.094-.07.054.04.241-.163c2.649-1.781 4.262-4.696 4.262-7.873 0-3.177-1.613-6.091-4.262-7.872l-.294-.198zm-3.444 8.07c0-2.643 1.276-5.08 3.4-6.657 2.124 1.578 3.4 4.014 3.4 6.657 0 2.644-1.276 5.08-3.4 6.658-2.124-1.578-3.4-4.014-3.4-6.658z",join_inner:"M14.923 7.148c-.427.315-.826.66-1.195 1.03a8.865 8.865 0 0 0-3.546-.734C5.35 7.444 1.444 11.28 1.444 16c0 4.72 3.906 8.556 8.738 8.556 1.547 0 2.999-.393 4.258-1.083.26.217.533.423.816.616l.454.31A10.268 10.268 0 0 1 10.182 26C4.559 26 0 21.523 0 16S4.559 6 10.182 6c1.712 0 3.325.415 4.74 1.148zm1.879 0c.434.315.84.66 1.217 1.03a9.172 9.172 0 0 1 3.611-.734c4.921 0 8.9 3.836 8.9 8.556 0 4.72-3.979 8.556-8.9 8.556a9.137 9.137 0 0 1-4.337-1.083c-.265.217-.543.423-.83.616L16 24.4A10.6 10.6 0 0 0 21.63 26C27.357 26 32 21.523 32 16S27.357 6 21.63 6c-1.743 0-3.386.415-4.828 1.148zM16 8c2.418 1.651 4 4.395 4 7.5 0 3.105-1.582 5.849-4 7.5-2.418-1.651-4-4.395-4-7.5 0-3.105 1.582-5.849 4-7.5z",join_left_outer:"M17.077 7.148A10.285 10.285 0 0 1 21.818 6C27.441 6 32 10.477 32 16s-4.559 10-10.182 10c-2.038 0-3.936-.588-5.528-1.6l.454-.31c.283-.194.555-.4.816-.617a8.842 8.842 0 0 0 4.258 1.083c4.832 0 8.738-3.836 8.738-8.556 0-4.72-3.906-8.556-8.738-8.556a8.865 8.865 0 0 0-3.546.733 10.65 10.65 0 0 0-1.195-1.03zM15.71 24.399A10.268 10.268 0 0 1 10.182 26C4.559 26 0 21.523 0 16S4.559 6 10.182 6c1.712 0 3.325.415 4.74 1.148-2.643 1.957-4.241 5.022-4.241 8.352 0 3.468 1.733 6.649 4.575 8.59l.454.31zM16 8c2.418 1.651 4 4.395 4 7.5 0 3.105-1.582 5.849-4 7.5-2.418-1.651-4-4.395-4-7.5 0-3.105 1.582-5.849 4-7.5z",json:"M28 10.105v18.728A3.166 3.166 0 0 1 24.834 32H6.166A3.163 3.163 0 0 1 3 28.844V3.156A3.163 3.163 0 0 1 6.16 0h13.553V10.105H28zm-.215-1.684h-6.4V.311l6.4 8.11zM10.894 19.233v-.218c1.162-.13 1.79-.718 1.79-1.703v-1.394c0-.964.322-1.333 1.19-1.333h.3v-1.45h-.505c-2.03 0-2.885.766-2.885 2.55v1.094c0 1.005-.451 1.388-1.613 1.395v1.9c1.169.007 1.613.39 1.613 1.395v1.066c0 1.805.862 2.584 2.885 2.584h.506v-1.45h-.301c-.861 0-1.19-.361-1.19-1.332v-1.401c0-.992-.628-1.573-1.79-1.703zm8.184-.212v.22c-1.162.122-1.791.71-1.791 1.701v1.395c0 .964-.321 1.333-1.19 1.333h-.3v1.45h.505c2.03 0 2.892-.766 2.892-2.55v-1.094c0-1.012.444-1.388 1.607-1.395v-1.9c-1.17-.014-1.607-.39-1.607-1.395v-1.073c0-1.798-.861-2.577-2.892-2.577h-.505v1.449h.3c.862 0 1.19.362 1.19 1.326v1.408c0 .985.629 1.573 1.79 1.702z",key:{path:"M11.5035746,7.9975248 C10.8617389,5.26208051 13.0105798,1.44695394 16.9897081,1.44695394 C20.919315,1.44695394 23.1811258,5.37076315 22.2565255,8.42469226 C21.3223229,7.86427598 20.2283376,7.54198814 19.0589133,7.54198814 C17.3567818,7.54198814 15.8144729,8.22477622 14.6920713,9.33083544 C14.4930673,9.31165867 14.2913185,9.30184676 14.087273,9.30184676 C10.654935,9.30184676 7.87247532,12.0782325 7.87247532,15.5030779 C7.87247532,17.1058665 8.48187104,18.5666337 9.48208198,19.6672763 L8.98356958,20.658345 L9.19925633,22.7713505 L7.5350473,23.4587525 C7.37507672,23.5248284 7.30219953,23.707739 7.37031308,23.8681037 L7.95501877,25.2447188 L6.28291833,25.7863476 C6.10329817,25.8445303 6.01548404,26.0233452 6.06755757,26.1919683 L6.54426059,27.7356153 L5.02460911,28.2609385 C4.86686602,28.3154681 4.7743984,28.501653 4.83652351,28.6704172 L6.04508836,31.95351 C6.10987939,32.1295162 6.29662279,32.2151174 6.46814592,32.160881 L9.48965349,31.2054672 C9.66187554,31.1510098 9.86840241,30.9790422 9.95250524,30.8208731 L14.8228902,21.6613229 C15.8820565,21.5366928 16.8596786,21.1462953 17.6869404,20.558796 C17.5652123,20.567429 17.4424042,20.5718139 17.318643,20.5718139 C14.2753735,20.5718139 11.8083161,17.9204625 11.8083161,14.6498548 C11.8083161,12.518229 12.8562751,10.6496514 14.428709,9.60671162 C13.4433608,10.7041074 12.8441157,12.1538355 12.8441157,13.7432193 C12.8441157,16.9974306 15.3562245,19.6661883 18.5509945,19.9240384 L19.1273026,21.5699573 L20.7971002,22.8826221 L20.1355191,24.5572635 C20.0719252,24.7182369 20.1528753,24.8977207 20.3155476,24.9601226 L21.7119724,25.4957977 L20.9400489,27.0748531 C20.8571275,27.2444782 20.9247553,27.4318616 21.082226,27.5115385 L22.5237784,28.2409344 L21.8460256,29.6990003 C21.7756734,29.8503507 21.8453702,30.0462011 22.0099247,30.1187455 L25.2111237,31.5300046 C25.3827397,31.6056621 25.5740388,31.5307937 25.6541745,31.3697345 L27.0658228,28.5325576 C27.1462849,28.3708422 27.1660474,28.1028205 27.1106928,27.9324485 L23.8023823,17.7500271 C24.7201964,16.6692906 25.273711,15.270754 25.273711,13.7432193 C25.273711,12.0364592 24.582689,10.4907436 23.4645818,9.36943333 C25.0880384,5.38579616 22.187534,0 16.9897081,0 C12.1196563,0 9.42801686,4.46934651 10.0266074,7.9975248 L11.5035746,7.9975248 Z M19.0589133,14.7767578 C20.203026,14.7767578 21.1305126,13.8512959 21.1305126,12.7096808 C21.1305126,11.5680656 20.203026,10.6426037 19.0589133,10.6426037 C17.9148007,10.6426037 16.9873141,11.5680656 16.9873141,12.7096808 C16.9873141,13.8512959 17.9148007,14.7767578 19.0589133,14.7767578 Z",attrs:{fillRule:"evenodd"}},label:"M14.577 31.042a2.005 2.005 0 0 1-2.738-.733L1.707 12.759c-.277-.477-.298-1.265-.049-1.757L6.45 1.537C6.7 1.044 7.35.67 7.9.7l10.593.582c.551.03 1.22.44 1.498.921l10.132 17.55a2.002 2.002 0 0 1-.734 2.737l-14.812 8.552zm.215-22.763a3.016 3.016 0 1 0-5.224 3.016 3.016 3.016 0 0 0 5.224-3.016z",ldap:{path:"M1.006 3h13.702c.554 0 1.178.41 1.39.915l.363.874c.21.504.827.915 1.376.915h13.169c.54 0 .994.448.994 1.001v20.952a.99.99 0 0 1-.992 1H1.002c-.54 0-.993-.45-.993-1.005l-.01-23.646C0 3.446.45 3 1.007 3zM16.5 19.164c1.944 0 3.52-1.828 3.52-4.082 0-2.254-1.576-4.082-3.52-4.082-1.945 0-3.52 1.828-3.52 4.082 0 2.254 1.575 4.082 3.52 4.082zm6.5 4.665c0-1.872-1.157-3.521-2.913-4.484-.927.97-2.192 1.568-3.587 1.568s-2.66-.597-3.587-1.568C11.157 20.308 10 21.957 10 23.83h13z",attrs:{fillRule:"evenodd"}},lightbulb:"M16.1 11.594L18.756 8.9a1.03 1.03 0 0 1 1.446-.018c.404.39.412 1.03.018 1.43l-3.193 3.24v4.975c0 .559-.458 1.011-1.022 1.011a1.017 1.017 0 0 1-1.023-1.01v-5.17l-3.003-3.046c-.394-.4-.386-1.04.018-1.43a1.03 1.03 0 0 1 1.446.018l2.657 2.695zM11.03 28.815h9.938a1.01 1.01 0 1 1 0 2.02 376.72 376.72 0 0 0-2.964.002C18.005 31.857 16.767 32 16 32c-.767 0-1.993-.139-1.993-1.163H11.03a1.011 1.011 0 0 1 0-2.022zm0-3.033h9.938a1.011 1.011 0 0 1 0 2.022H11.03a1.011 1.011 0 1 1 0-2.022zM8.487 20.43A11.659 11.659 0 0 1 4.5 11.627C4.5 5.214 9.64 0 16 0s11.5 5.214 11.5 11.627c0 3.43-1.481 6.617-3.987 8.803v1.308c0 1.954-1.601 3.538-3.577 3.538h-7.872c-1.976 0-3.577-1.584-3.577-3.538V20.43zm2.469-1.915l.597.455v2.768c0 .279.23.505.511.505h7.872a.508.508 0 0 0 .51-.505V18.97l.598-.455a8.632 8.632 0 0 0 3.39-6.888c0-4.755-3.785-8.594-8.434-8.594-4.649 0-8.433 3.84-8.433 8.594a8.632 8.632 0 0 0 3.389 6.888z",link:"M12.56 17.04c-1.08 1.384-1.303 1.963 1.755 4.04 3.058 2.076 7.29.143 8.587-1.062 1.404-1.304 4.81-4.697 7.567-7.842 2.758-3.144 1.338-8.238-.715-9.987-5.531-4.71-9.5-.554-11.088.773-2.606 2.176-5.207 5.144-5.207 5.144s1.747-.36 2.784 0c1.036.36 2.102.926 2.102.926l4.003-3.969s2.367-1.907 4.575 0 .674 4.404 0 5.189c-.674.784-6.668 6.742-6.668 6.742s-1.52.811-2.37.811c-.85 0-2.582-.528-2.582-.932 0-.405-1.665-1.22-2.744.166zm7.88-2.08c1.08-1.384 1.303-1.963-1.755-4.04-3.058-2.076-7.29-.143-8.587 1.062-1.404 1.304-4.81 4.697-7.567 7.842-2.758 3.144-1.338 8.238.715 9.987 5.531 4.71 9.5.554 11.088-.773 2.606-2.176 5.207-5.144 5.207-5.144s-1.747.36-2.784 0a17.379 17.379 0 0 1-2.102-.926l-4.003 3.969s-2.367 1.907-4.575 0-.674-4.404 0-5.189c.674-.784 6.668-6.742 6.668-6.742s1.52-.811 2.37-.811c.85 0 2.582.528 2.582.932 0 .405 1.665 1.22 2.744-.166z",line:"M18.867 16.377l-3.074-3.184-.08.077-.002-.002.01-.01-.53-.528-.066-.07-.001.002-2.071-2.072L-.002 23.645l2.668 2.668 10.377-10.377 3.074 3.183.08-.076.001.003-.008.008.5.501.094.097.002-.001 2.072 2.072L31.912 8.669 29.244 6 18.867 16.377z",lineandbar:"M3.056 24.041h6.706v7.78H3.056v-7.78zm10.06-6.483h6.706v14.264h-6.707V17.558zm9.8-4.631h6.707v18.895h-6.706V12.927zm-11.812-1.582l-9.061 6.412L0 14.864l10.517-7.442 7.144 2.353L29.425 1l2.115 2.84-13.238 9.876-7.198-2.37z",list:"M3 8 A3 3 0 0 0 9 8 A3 3 0 0 0 3 8 M12 6 L28 6 L28 10 L12 10z M3 16 A3 3 0 0 0 9 16 A3 3 0 0 0 3 16 M12 14 L28 14 L28 18 L12 18z M3 24 A3 3 0 0 0 9 24 A3 3 0 0 0 3 24 M12 22 L28 22 L28 26 L12 26z",location:{path:"M19.4917776,13.9890373 C20.4445763,12.5611169 21,10.8454215 21,9 C21,4.02943725 16.9705627,0 12,0 C7.02943725,0 3,4.02943725 3,9 C3,10.8454215 3.5554237,12.5611168 4.50822232,13.9890371 L4.49999986,14.0000004 L4.58010869,14.0951296 C4.91305602,14.5790657 5.29212089,15.0288088 5.71096065,15.4380163 L12.5,23.5 L19.4999993,13.9999996 L19.4917776,13.9890373 L19.4917776,13.9890373 Z M12,12 C13.6568542,12 15,10.6568542 15,9 C15,7.34314575 13.6568542,6 12,6 C10.3431458,6 9,7.34314575 9,9 C9,10.6568542 10.3431458,12 12,12 Z",attrs:{viewBox:"0 0 24 24",fillRule:"evenodd"}},lock:{path:"M9.215 7.215a3.607 3.607 0 0 1 3.607-3.608h6.313a3.607 3.607 0 0 1 3.607 3.608V9.25h3.607V7.215A7.215 7.215 0 0 0 19.134 0h-6.312a7.215 7.215 0 0 0-7.215 7.215v5.49A5.002 5.002 0 0 0 2 17.51V27a5 5 0 0 0 5 5h17.956a5 5 0 0 0 5-5v-9.49a5 5 0 0 0-5-5H9.215V7.214z",attrs:{fillRule:"evenodd"}},mail:"M 27.5 4 a 4.5 4.5 90 0 1 4.5 4.5 v 15 a 4.5 4.5 90 0 1 -4.5 4.5 H 4.5 a 4.5 4.5 90 0 1 -4.5 -4.5 V 8.5 a 4.5 4.5 90 0 1 4.5 -4.5 h 2 z m -2.719 4.1048 l -8.781 7.4302 l -8.781 -7.4303 a 1.5 1.5 90 1 0 -1.938 2.2905 l 9.75 8.25 a 1.5 1.5 90 0 0 1.938 0 l 9.75 -8.25 a 1.5 1.5 90 1 0 -1.938 -2.2905 z",model:{path:"M10 0a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H10zm5.5 10a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM2 17a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V19a2 2 0 0 0-2-2H2zm5.5 10a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm9.5-8a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H19a2 2 0 0 1-2-2V19zm10 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z",attrs:{fillRule:"evenodd",clipRule:"evenodd"}},model_framed:{path:"M4.38606 0.0780849H6.13235V2.07808H4.38606C3.28149 2.07808 2.38606 2.97351 2.38606 4.07808V5.6526H0.386059V4.07808C0.386059 1.86894 2.17692 0.0780849 4.38606 0.0780849ZM0.386059 10.5864V12.1609C0.386059 14.3701 2.17692 16.1609 4.38606 16.1609H6.13235V14.1609H4.38606C3.28149 14.1609 2.38606 13.2655 2.38606 12.1609V10.5864H0.386059ZM10.3614 16.1609V14.1609H12.1028C13.2073 14.1609 14.1028 13.2655 14.1028 12.1609V10.6883H16.1028V12.1609C16.1028 14.3701 14.3119 16.1609 12.1028 16.1609H10.3614ZM16.1028 5.75447V4.07808C16.1028 1.86895 14.3119 0.0780849 12.1028 0.0780849H10.3614V2.07808H12.1028C13.2073 2.07808 14.1028 2.97352 14.1028 4.07808V5.75447H16.1028ZM6.29163 3.58845H3.85065V6.10571H6.29163V3.58845ZM9.46487 3.58845H7.0239V6.10571H9.46487V3.58845ZM10.1972 3.58845H12.6382V6.10571H10.1972V3.58845ZM6.29163 6.86089H3.85065V9.37815H6.29163V6.86089ZM7.0239 6.86089H9.46487V9.37815H7.0239V6.86089ZM12.6382 6.86089H10.1972V9.37815H12.6382V6.86089ZM3.85065 10.1333H6.29163V12.6506H3.85065V10.1333ZM9.46487 10.1333H7.0239V12.6506H9.46487V10.1333ZM10.1972 10.1333H12.6382V12.6506H10.1972V10.1333Z",attrs:{viewBox:"0.386059 0.0780849 15.716740999999999 16.0828151"}},moon:"M11.6291702,1.84239429e-11 C19.1234093,1.22958025 24.8413559,7.73631246 24.8413559,15.5785426 C24.8413559,24.2977683 17.7730269,31.3660972 9.05380131,31.3660972 C7.28632096,31.3660972 5.58667863,31.0756481 4,30.5398754 C11.5007933,28.2096945 16.9475786,21.2145715 16.9475786,12.9472835 C16.9475786,7.90001143 14.9174312,3.32690564 11.6291702,1.70246039e-11 L11.6291702,1.84239429e-11 Z",move:"M23 27h-8v-5h8v-4l8 6-8 7v-4zM17.266 0h.86a2 2 0 0 1 1.42.592L27.49 8.61a2 2 0 0 1 .58 1.407v6h-5.01v-5.065L17.133 5H0V2a2 2 0 0 1 2-2h15.266zM5 27h7v5H2a2 2 0 0 1-2-2V5h5v22z",new_folder:{path:"M0 6a4 4 0 0 1 4-4h5.892a4 4 0 0 1 2.058.57L16 5h12a4 4 0 0 1 4 4v17a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V6zm16 6c.621 0 1.125.504 1.125 1.125v3.75h3.75a1.125 1.125 0 0 1 0 2.25h-3.75v3.75a1.125 1.125 0 0 1-2.25 0v-3.75h-3.75a1.125 1.125 0 0 1 0-2.25h3.75v-3.75c0-.621.504-1.125 1.125-1.125z",attrs:{fillRule:"evenodd",clipRule:"evenodd"}},notebook:"M10.105 15.023c0-1.048.859-1.898 1.905-1.898h18.085c1.052 0 1.905.855 1.905 1.898v2.954a1.905 1.905 0 0 1-1.905 1.898H12.01a1.905 1.905 0 0 1-1.905-1.898v-2.954zm0 10.125c0-1.048.844-1.898 1.901-1.898h6.304c1.05 0 1.9.855 1.9 1.898v2.954A1.895 1.895 0 0 1 18.31 30h-6.304c-1.05 0-1.9-.855-1.9-1.898v-2.954zM0 15.023a1.9 1.9 0 0 1 1.895-1.898h2.947a1.9 1.9 0 0 1 1.895 1.898v2.954a1.9 1.9 0 0 1-1.895 1.898H1.895A1.9 1.9 0 0 1 0 17.977v-2.954zm0 10.125a1.9 1.9 0 0 1 1.895-1.898h2.947a1.9 1.9 0 0 1 1.895 1.898v2.954A1.9 1.9 0 0 1 4.842 30H1.895A1.9 1.9 0 0 1 0 28.102v-2.954zm10.105-20.25c0-1.048.848-1.898 1.89-1.898h11.379c1.043 0 1.89.855 1.89 1.898v2.954a1.895 1.895 0 0 1-1.89 1.898h-11.38a1.897 1.897 0 0 1-1.889-1.898V4.898zM0 4.898A1.9 1.9 0 0 1 1.895 3h2.947a1.9 1.9 0 0 1 1.895 1.898v2.954A1.9 1.9 0 0 1 4.842 9.75H1.895A1.9 1.9 0 0 1 0 7.852V4.898z",number:"M0 .503A.5.5 0 0 1 .503 0h30.994A.5.5 0 0 1 32 .503v30.994a.5.5 0 0 1-.503.503H.503A.5.5 0 0 1 0 31.497V.503zM8.272 22V10.8H6.464c-.064.427-.197.784-.4 1.072-.203.288-.45.52-.744.696a2.984 2.984 0 0 1-.992.368c-.368.07-.75.099-1.144.088v1.712H6V22h2.272zm2.96-5.648c0 1.12.11 2.056.328 2.808.219.752.515 1.352.888 1.8.373.448.808.768 1.304.96a4.327 4.327 0 0 0 1.576.288c.565 0 1.096-.096 1.592-.288a3.243 3.243 0 0 0 1.312-.96c.379-.448.677-1.048.896-1.8.219-.752.328-1.688.328-2.808 0-1.088-.11-2.003-.328-2.744-.219-.741-.517-1.336-.896-1.784a3.243 3.243 0 0 0-1.312-.96 4.371 4.371 0 0 0-1.592-.288c-.555 0-1.08.096-1.576.288-.496.192-.93.512-1.304.96-.373.448-.67 1.043-.888 1.784-.219.741-.328 1.656-.328 2.744zm2.272 0c0-.192.003-.424.008-.696.005-.272.024-.552.056-.84.032-.288.085-.573.16-.856a2.95 2.95 0 0 1 .312-.76 1.67 1.67 0 0 1 .512-.544c.208-.139.467-.208.776-.208.31 0 .57.07.784.208.213.139.39.32.528.544.139.224.243.477.312.76a7.8 7.8 0 0 1 .224 1.696 25.247 25.247 0 0 1-.024 1.856c-.021.453-.088.89-.2 1.312a2.754 2.754 0 0 1-.544 1.08c-.25.299-.61.448-1.08.448-.459 0-.81-.15-1.056-.448a2.815 2.815 0 0 1-.536-1.08 6.233 6.233 0 0 1-.2-1.312c-.021-.453-.032-.84-.032-1.16zm6.624 0c0 1.12.11 2.056.328 2.808.219.752.515 1.352.888 1.8.373.448.808.768 1.304.96a4.327 4.327 0 0 0 1.576.288c.565 0 1.096-.096 1.592-.288a3.243 3.243 0 0 0 1.312-.96c.379-.448.677-1.048.896-1.8.219-.752.328-1.688.328-2.808 0-1.088-.11-2.003-.328-2.744-.219-.741-.517-1.336-.896-1.784a3.243 3.243 0 0 0-1.312-.96 4.371 4.371 0 0 0-1.592-.288c-.555 0-1.08.096-1.576.288-.496.192-.93.512-1.304.96-.373.448-.67 1.043-.888 1.784-.219.741-.328 1.656-.328 2.744zm2.272 0c0-.192.003-.424.008-.696.005-.272.024-.552.056-.84.032-.288.085-.573.16-.856a2.95 2.95 0 0 1 .312-.76 1.67 1.67 0 0 1 .512-.544c.208-.139.467-.208.776-.208.31 0 .57.07.784.208.213.139.39.32.528.544.139.224.243.477.312.76a7.8 7.8 0 0 1 .224 1.696 25.247 25.247 0 0 1-.024 1.856c-.021.453-.088.89-.2 1.312a2.754 2.754 0 0 1-.544 1.08c-.25.299-.61.448-1.08.448-.459 0-.81-.15-1.056-.448a2.815 2.815 0 0 1-.536-1.08 6.233 6.233 0 0 1-.2-1.312c-.021-.453-.032-.84-.032-1.16z",palette:{path:"M21.925 3.275c11.278 5.97 11.278 16.586 8.625 17.912-1.99.664-3.317-2.653-3.317-2.653-.443-.885-1.327-.995-1.99 0-.74 1.109.39 4.12 1.027 5.814.125.332.23.614.3.82.663 1.99 0 4.312-1.991 5.307-1.99.995-7.855 1.4-12.973 0C7.304 29.298.492 24.807.033 16.544-.69 3.554 10.647-2.696 21.925 3.275zm-.696 5.021a2.654 2.654 0 1 1-5.307 0 2.654 2.654 0 0 1 5.307 0zM10.391 9.91a2.654 2.654 0 1 0 0-5.307 2.654 2.654 0 0 0 0 5.307zm-1.989 4.577a2.654 2.654 0 1 1-5.307 0 2.654 2.654 0 0 1 5.307 0zm2.213 10.018a2.654 2.654 0 1 0 0-5.307 2.654 2.654 0 0 0 0 5.307z",attrs:{fillRule:"evenodd"}},pencil:"M21.187 4.359L24.71.835c1.363-1.362 3.912-1.022 5.694.76 1.783 1.783 2.123 4.332.761 5.695l-3.523 3.523-6.455-6.454zM19.425 6.12L1.455 24.091C.091 25.453-.47 30.625.452 31.547c.922.922 6.094.361 7.456-1.001l17.97-17.971-6.454-6.455z",permissions_limited:"M0,16 C0,7.163444 7.163444,0 16,0 C24.836556,0 32,7.163444 32,16 C32,24.836556 24.836556,32 16,32 C7.163444,32 0,24.836556 0,16 Z M29,16 C29,8.82029825 23.1797017,3 16,3 C8.82029825,3 3,8.82029825 3,16 C3,23.1797017 8.82029825,29 16,29 C23.1797017,29 29,23.1797017 29,16 Z M16,5 C11.0100706,5.11743299 5.14533409,7.90852303 5,15.5 C4.85466591,23.091477 11.0100706,26.882567 16,27 L16,5 Z",person:"M16.068.005c5.181-.185 7.295 4.545 7.295 7.258s-1.34 6.71-3.607 8.77c-.5.456-.408 3.34.686 3.808 2.294.982 8.57 2.97 8.808 7.065.265 4.558-7.968 5.022-13.043 5.022-5.075 0-13.207-.62-13.207-4.45 0-1.776.178-2.944 3.106-4.92 2.927-1.978 5.16-2.462 5.645-2.763.486-.3 1.384-1.861.8-3.606 0 0-3.518-3.842-3.518-8.074 0-4.232 1.853-7.925 7.035-8.11z",pie:"M22.9192471,17.0666667 C22.9724214,16.7188743 23,16.3626578 23,16 C23,14.3667929 22.4406801,12.8642219 21.5031397,11.6733866 L28.0205298,5.44000778 C30.4977559,8.25762919 32,11.9533806 32,16 C32,16.3584305 31.988214,16.7141081 31.9650085,17.0666667 L22.9192471,17.0666667 Z M16,9 L16,-3.10862447e-15 C20.0533476,-3.55271368e-15 23.7546596,1.50724379 26.5740394,3.99183486 L20.2205338,10.4149697 C19.0471112,9.52684227 17.5850809,9 16,9 Z M13.8666667,9.33102327 C11.0439201,10.2332367 9,12.8779268 9,16 C9,19.8659932 12.1340068,23 16,23 C18.7129744,23 21.0654761,21.4566333 22.2274052,19.2 L31.679942,19.2 C30.197477,26.503169 23.7406653,32 16,32 C7.163444,32 -3.55271368e-15,24.836556 -3.55271368e-15,16 C-3.55271368e-15,7.88676941 6.03869982,1.18395273 13.8666667,0.140982757 L13.8666667,9.33102327 Z",pin:"M9.417 4.226A2.183 2.183 0 0 1 10.182 0h12.636a2.182 2.182 0 0 1 .765 4.226v9.003a2.183 2.183 0 0 1-.765 4.226H10.182a2.182 2.182 0 0 1-.765-4.226V4.226zm4.25 14.683h5.666L16.5 32l-2.833-13.09z",pinmap:"M13.4 18.987v8.746L15.533 32l2.134-4.25v-8.763a10.716 10.716 0 0 1-4.267 0zm2.133-1.92a8.533 8.533 0 1 0 0-17.067 8.533 8.533 0 0 0 0 17.067z",pivot_table:{path:"M9.846 0H0v9.846h9.846V0zM32 12.308H12.308V32H32V12.308zm-32 0h9.846V32H0V12.308zM32 0H12.308v9.846H32V0z",attrs:{fillRule:"evenodd"}},play:"M2 2.432v27.136a2 2 0 0 0 2.986 1.74L28.929 17.74a2 2 0 0 0 0-3.48L4.986.692A2 2 0 0 0 2 2.432z",popover:"M5 7.52564C5 6.42107 5.89543 5.52564 7 5.52564H12.7647L15.2632 2.80292C15.6595 2.37107 16.3405 2.37107 16.7368 2.80292L19.2353 5.52564H25C26.1046 5.52564 27 6.42107 27 7.52564V25.5C27 26.6046 26.1046 27.5 25 27.5H7C5.89543 27.5 5 26.6046 5 25.5V7.52564Z",popular:"M23.29 11.224l-7.067 7.067-2.658-2.752.007-.007-.386-.385-.126-.131-.003.002-1.789-1.79L.705 23.793A.994.994 0 0 0 .704 25.2l.896.897a1 1 0 0 0 1.408-.002l8.253-8.252 2.654 2.748.226-.218-.161.161 1.152 1.152c.64.64 1.668.636 2.304 0l8.158-8.159L32 19.933V5H17.067l6.223 6.224z",progress:{path:"M0 11.996A3.998 3.998 0 0 1 4.004 8h23.992A4 4 0 0 1 32 11.996v8.008A3.998 3.998 0 0 1 27.996 24H4.004A4 4 0 0 1 0 20.004v-8.008zM22 11h3.99A3.008 3.008 0 0 1 29 14v4c0 1.657-1.35 3-3.01 3H22V11z",attrs:{fillRule:"evenodd"}},pulse:"M16.9862306,27.387699 C17.4904976,29.2137955 20.0148505,29.3806482 20.7550803,27.6368095 L24.8588086,17.9692172 L31.7352165,17.9692172 L31.7352165,13.9692172 L23.5350474,13.9692172 C22.7324769,13.9692172 22.0076375,14.4489743 21.6940431,15.1877423 L19.314793,20.7927967 L14.8067319,4.4678059 C14.3010535,2.63659841 11.7668377,2.47581319 11.033781,4.22842821 L6.99549907,13.8832799 L0,13.8832799 L0,17.8832799 L8.32686781,17.8832799 C9.13327931,17.8832799 9.86080237,17.3989791 10.1719732,16.655022 L12.491241,11.1100437 L16.9862306,27.387699 Z",recents:"M32 16c0 8.837-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0s16 7.163 16 16zM9.553 22.447a1.778 1.778 0 0 1 0-2.514l4.67-4.67V6.452a1.778 1.778 0 1 1 3.555 0V16l-.52 1.257-5.191 5.19a1.778 1.778 0 0 1-2.514 0z",share:"M 25.144 32 H 6.858 A 6.856 6.856 90 0 1 0 25.142 V 6.86 A 6.858 6.858 90 0 1 6.86 0 h 6.856 v 4.572 H 6.86 a 2.286 2.286 90 0 0 -2.286 2.286 v 18.284 a 2.286 2.286 90 0 0 2.286 2.286 h 18.286 a 2.286 2.286 90 0 0 2.284 -2.286 V 18.286 H 32 v 6.856 A 6.858 6.858 90 0 1 25.144 32 Z m -10.286 -11.622 L 11.624 17.14 l 12.57 -12.57 H 18.286 V 0 h 11.428 A 2.286 2.286 90 0 1 32 2.286 v 11.428 h -4.572 V 7.806 L 14.86 20.378 Z",sql:{path:"M4,0 L28,0 C30.209139,-4.05812251e-16 32,1.790861 32,4 L32,28 C32,30.209139 30.209139,32 28,32 L4,32 C1.790861,32 2.705415e-16,30.209139 0,28 L0,4 L0,4 C-2.705415e-16,1.790861 1.790861,4.05812251e-16 4,0 L4,0 Z M6,6 C4.8954305,6 4,6.8954305 4,8 L4,26 C4,27.1045695 4.8954305,28 6,28 L26,28 C27.1045695,28 28,27.1045695 28,26 L28,8 C28,6.8954305 27.1045695,6 26,6 L6,6 Z M14,20 L25,20 L25,24 L14,24 L14,20 Z M14,13.5 L8,17 L8,10 L14,13.5 Z",attrs:{fillRule:"evenodd"}},subscription:{svg:'<path fill-rule="evenodd" clip-rule="evenodd" d="M5 1a5 5 0 0 0-5 5v18a5 5 0 0 0 5 5h13v-4H6c-1.105 0-2 .105-2-1V8.777L16 14l12-5.223V15h4V6a5 5 0 0 0-5-5H5Zm21 4H6l10 4.625L26 5Z" /><path d="M23.25 14a1 1 0 0 0-1 1v4.25H18a1 1 0 0 0-1 1v2.5a1 1 0 0 0 1 1h4.25V28a1 1 0 0 0 1 1h2.5a1 1 0 0 0 1-1v-4.25H31a1 1 0 0 0 1-1v-2.5a1 1 0 0 0-1-1h-4.25V15a1 1 0 0 0-1-1h-2.5Z" />'},straight:"M2.1 27.101L0 23.516 29.9 6 32 9.585z",stepped:"M13.946 17.892v8H1V22h9.054v-8h9V6H32v3.892h-9.054v8z",sort:"M14.615.683c.765-.926 2.002-.93 2.77 0L26.39 11.59c.765.927.419 1.678-.788 1.678H6.398c-1.2 0-1.557-.747-.788-1.678L14.615.683zm2.472 30.774c-.6.727-1.578.721-2.174 0l-9.602-11.63c-.6-.727-.303-1.316.645-1.316h20.088c.956 0 1.24.595.645 1.316l-9.602 11.63z",sort_arrows:"M16.483 9.754c.69-.684.69-1.825 0-2.567L9.821.513c-.69-.684-1.838-.684-2.585 0L.516 7.187c-.688.685-.688 1.825 0 2.567.69.684 1.839.684 2.585 0l3.561-3.537v23.958c0 .97.804 1.825 1.838 1.825.976 0 1.838-.799 1.838-1.825V6.217l3.56 3.537c.345.342.805.513 1.264.513.46 0 .976-.17 1.321-.513ZM31.512 22.246c-.651-.684-1.736-.684-2.44 0l-3.363 3.537V1.825c0-.97-.76-1.825-1.736-1.825-.976.057-1.736.856-1.736 1.882V25.84l-3.362-3.537a1.64 1.64 0 0 0-2.387 0c-.65.684-.65 1.825 0 2.567l6.292 6.617c.65.684 1.735.684 2.44 0l6.292-6.617c.65-.742.65-1.883 0-2.624Z",sum:"M3 27.41l1.984 4.422L27.895 32l.04-5.33-17.086-.125 8.296-9.457-.08-3.602L11.25 5.33H27.43V0H5.003L3.08 4.51l10.448 10.9z",sync:"M19.506 8.633a9.3 9.3 0 0 0-7.864-.534C6.81 9.966 4.395 15.422 6.251 20.285c1.855 4.863 7.276 7.292 12.11 5.425a9.332 9.332 0 0 0 3.72-2.622l4.746 3.101a14.935 14.935 0 0 1-6.451 4.805C12.643 33.98 3.968 30.094 1 22.313c-2.968-7.781.894-16.51 8.627-19.497 4.395-1.698 9.096-1.175 12.879 1.022L24.907 0 31 12.733H16.94l2.566-4.1z",question:"M16,32 C24.836556,32 32,24.836556 32,16 C32,7.163444 24.836556,0 16,0 C7.163444,0 0,7.163444 0,16 C0,24.836556 7.163444,32 16,32 L16,32 Z M16,29.0909091 C8.77009055,29.0909091 2.90909091,23.2299095 2.90909091,16 C2.90909091,8.77009055 8.77009055,2.90909091 16,2.90909091 C23.2299095,2.90909091 29.0909091,8.77009055 29.0909091,16 C29.0909091,23.2299095 23.2299095,29.0909091 16,29.0909091 Z M12,9.56020942 C12.2727286,9.34380346 12.5694087,9.1413622 12.8900491,8.95287958 C13.2106896,8.76439696 13.5552807,8.59860455 13.9238329,8.45549738 C14.2923851,8.31239021 14.6885728,8.20069848 15.1124079,8.12041885 C15.5362429,8.04013921 15.9950835,8 16.4889435,8 C17.1818216,8 17.8065083,8.08725916 18.3630221,8.2617801 C18.919536,8.43630105 19.3931184,8.68586225 19.7837838,9.0104712 C20.1744491,9.33508016 20.4748147,9.7260012 20.6848894,10.1832461 C20.8949642,10.6404909 21,11.1483393 21,11.7068063 C21,12.2373499 20.9226052,12.6963331 20.7678133,13.0837696 C20.6130213,13.4712061 20.4176916,13.8080265 20.1818182,14.0942408 C19.9459448,14.3804552 19.6861194,14.6282712 19.4023342,14.8376963 C19.1185489,15.0471215 18.8495099,15.2408368 18.5952088,15.4188482 C18.3409078,15.5968595 18.1197798,15.773123 17.9318182,15.947644 C17.7438566,16.1221649 17.6240789,16.3176254 17.5724816,16.5340314 L17.2628993,18 L14.9189189,18 L14.6756757,16.3141361 C14.6167073,15.9720751 14.653562,15.6736487 14.7862408,15.4188482 C14.9189196,15.1640476 15.1013502,14.9336834 15.3335381,14.7277487 C15.565726,14.521814 15.8255514,14.3263535 16.1130221,14.1413613 C16.4004928,13.9563691 16.6695319,13.7574182 16.9201474,13.5445026 C17.1707629,13.3315871 17.3826773,13.0942421 17.5558968,12.8324607 C17.7291163,12.5706793 17.8157248,12.2582915 17.8157248,11.895288 C17.8157248,11.4764377 17.6701489,11.1431077 17.3789926,10.895288 C17.0878364,10.6474682 16.6879632,10.5235602 16.1793612,10.5235602 C15.7886958,10.5235602 15.462532,10.5619542 15.20086,10.6387435 C14.9391879,10.7155327 14.7143744,10.8010466 14.5264128,10.895288 C14.3384511,10.9895293 14.1744479,11.0750432 14.034398,11.1518325 C13.8943482,11.2286217 13.7543005,11.2670157 13.6142506,11.2670157 C13.2972957,11.2670157 13.0614258,11.1378721 12.9066339,10.8795812 L12,9.56020942 Z M14,22 C14,21.7192968 14.0511359,21.4580909 14.1534091,21.2163743 C14.2556823,20.9746577 14.3958324,20.7641335 14.5738636,20.5847953 C14.7518948,20.4054572 14.96212,20.2631584 15.2045455,20.1578947 C15.4469709,20.0526311 15.7121198,20 16,20 C16.2803044,20 16.5416655,20.0526311 16.7840909,20.1578947 C17.0265164,20.2631584 17.2386355,20.4054572 17.4204545,20.5847953 C17.6022736,20.7641335 17.7443177,20.9746577 17.8465909,21.2163743 C17.9488641,21.4580909 18,21.7192968 18,22 C18,22.2807032 17.9488641,22.5438584 17.8465909,22.7894737 C17.7443177,23.0350889 17.6022736,23.2475625 17.4204545,23.4269006 C17.2386355,23.6062387 17.0265164,23.7465882 16.7840909,23.8479532 C16.5416655,23.9493182 16.2803044,24 16,24 C15.7121198,24 15.4469709,23.9493182 15.2045455,23.8479532 C14.96212,23.7465882 14.7518948,23.6062387 14.5738636,23.4269006 C14.3958324,23.2475625 14.2556823,23.0350889 14.1534091,22.7894737 C14.0511359,22.5438584 14,22.2807032 14,22 Z",return:"M15.3040432,11.8500793 C22.1434689,13.0450349 27.291257,18.2496116 27.291257,24.4890512 C27.291257,25.7084278 27.0946472,26.8882798 26.7272246,28.0064033 L26.7272246,28.0064033 C25.214579,22.4825472 20.8068367,18.2141694 15.3040432,17.0604596 L15.3040432,25.1841972 L4.70874296,14.5888969 L15.3040432,3.99359668 L15.3040432,3.99359668 L15.3040432,11.8500793 Z",reference:"M32 25h-5V7a2 2 0 0 0-2-2H7a2 2 0 1 0 0 4h16v23H4a4 4 0 0 1-4-4V6a6 6 0 0 1 6-6h22a4 4 0 0 1 4 4v21z",refresh:"M19.506 8.633a9.3 9.3 0 0 0-7.864-.534C6.81 9.966 4.395 15.422 6.251 20.285c1.855 4.863 7.276 7.292 12.11 5.425a9.332 9.332 0 0 0 3.72-2.622l4.746 3.101a14.935 14.935 0 0 1-6.451 4.805C12.643 33.98 3.968 30.094 1 22.313c-2.968-7.781.894-16.51 8.627-19.497 4.395-1.698 9.096-1.175 12.879 1.022L24.907 0 31 12.733H16.94l2.566-4.1z",ruler:"M0.595961814,24.9588734 C-0.196619577,24.166292 -0.200005392,22.8846495 0.593926984,22.0907171 L22.0908075,0.593836573 C22.8822651,-0.197621013 24.1641442,-0.198948234 24.9589638,0.595871404 L31.4040382,7.04094576 C32.1966196,7.83352715 32.2000054,9.11516967 31.406073,9.90910205 L9.90919246,31.4059826 C9.11773487,32.1974402 7.83585581,32.1987674 7.04103617,31.4039478 L0.595961814,24.9588734 Z M17.8319792,7.8001489 L16.3988585,9.23326963 L18.548673,11.3830842 C18.9443414,11.7787526 18.9470387,12.4175604 18.5485351,12.816064 C18.1527906,13.2118086 17.5140271,13.2146738 17.1155553,12.816202 L14.9657407,10.6663874 L13.5326229,12.0995052 L15.6824375,14.2493198 C16.0781059,14.6449881 16.0808032,15.283796 15.6822996,15.6822996 C15.286555,16.0780441 14.6477916,16.0809094 14.2493198,15.6824375 L12.0995052,13.5326229 L10.6663845,14.9657436 C10.6670858,14.9664411 10.6677865,14.9671398 10.6684864,14.9678397 L14.2470828,18.5464361 C14.6439866,18.9433399 14.6476854,19.5831493 14.2491818,19.9816529 C13.8534373,20.3773974 13.2188552,20.384444 12.813965,19.9795538 L9.23536867,16.4009575 C9.23466875,16.4002576 9.23397006,16.3995569 9.2332726,16.3988555 L7.80015186,17.8319762 L9.94996646,19.9817908 C10.3456348,20.3774592 10.3483321,21.016267 9.94982851,21.4147706 C9.55408397,21.8105152 8.91532053,21.8133804 8.51684869,21.4149086 L6.3670341,19.265094 L4.93391633,20.6982118 L7.08373093,22.8480263 C7.47939928,23.2436947 7.48209658,23.8825026 7.08359298,24.2810062 C6.68784844,24.6767507 6.049085,24.6796159 5.65061316,24.2811441 L3.50079857,22.1313295 L2.02673458,23.6053935 L8.47576453,30.0544235 L30.0544235,8.47576453 L23.6053935,2.02673458 L22.1313295,3.50079857 L24.2811441,5.65061316 C24.6768125,6.04628152 24.6795098,6.68508938 24.2810062,7.08359298 C23.8852616,7.47933752 23.2464982,7.48220276 22.8480263,7.08373093 L20.6982118,4.93391633 L19.2650911,6.36703697 C19.2657924,6.36773446 19.2664931,6.36843318 19.267193,6.36913314 L22.8457894,9.94772948 C23.2426932,10.3446333 23.246392,10.9844427 22.8478884,11.3829463 C22.4521439,11.7786908 21.8175617,11.7857374 21.4126716,11.3808472 L17.8340753,7.8022509 C17.8333753,7.80155099 17.8326767,7.80085032 17.8319792,7.8001489 Z",search:"M22.805 25.734c-5.582 4.178-13.543 3.718-18.632-1.37-5.58-5.581-5.595-14.615-.031-20.179 5.563-5.563 14.597-5.55 20.178.031 5.068 5.068 5.545 12.985 1.422 18.563l5.661 5.661a2.08 2.08 0 0 1 .003 2.949 2.085 2.085 0 0 1-2.95-.003l-5.651-5.652zm-1.486-4.371c3.895-3.895 3.885-10.218-.021-14.125-3.906-3.906-10.23-3.916-14.125-.021-3.894 3.894-3.885 10.218.022 14.124 3.906 3.907 10.23 3.916 14.124.022z",segment:"M2.99631547,14.0294075 L2.99631579,1.99517286 C2.99631582,0.893269315 3.89614282,0 4.98985651,0 L30.0064593,0 C31.1074614,0 32,0.895880847 32,2.00761243 L32,26.8688779 C32,27.9776516 31.1071386,28.8764903 30.0003242,28.8764903 L17.7266598,28.8764903 L17.7266594,14.0294075 L2.99631547,14.0294075 Z M-7.10651809e-15,16.9955967 L-7.10651809e-15,30.0075311 C-7.10651809e-15,31.1079413 0.900469916,32 2.00155906,32 L14.3949712,32 L14.3949712,16.9955967 L-7.10651809e-15,16.9955967 Z",shield:"M27.922 5.804c-5.157 0-10.667-3.294-13.46-5.804C10.69 3.16 6.118 5.333 1.57 5.804.314 5.804 0 7.029 0 7.529 0 16.314 2.04 29.333 14.62 32 27.52 29.172 29.73 11.892 28.856 7.059c-.144-.797-.677-1.255-.934-1.255z",sidebar_closed:{svg:'<path fill-rule="evenodd" clip-rule="evenodd" d="M23.167 6H8a4 4 0 0 0-4 4v13a4 4 0 0 0 4 4h15.167a4 4 0 0 0 4-4V10a4 4 0 0 0-4-4ZM6 10a2 2 0 0 1 2-2h2v17H8a2 2 0 0 1-2-2V10Zm6 15h11.167a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H12v17Z" />'},sidebar_open:{svg:'<path fill-rule="evenodd" clip-rule="evenodd" d="M23.167 6H8a4 4 0 0 0-4 4v13a4 4 0 0 0 4 4h15.167a4 4 0 0 0 4-4V10a4 4 0 0 0-4-4ZM6 10a2 2 0 0 1 2-2h5v17H8a2 2 0 0 1-2-2V10Zm9 15h8.167a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H15v17Z" /><path opacity=".34" d="M6 8h7v17H6z"/>'},slack_colorized:{img:"app/assets/img/slack.png",img_2x:"app/assets/img/slack@2x.png"},slack:"M20.209 0a3.374 3.374 0 0 0-3.374 3.374v8.417a3.374 3.374 0 1 0 6.748 0V3.374A3.374 3.374 0 0 0 20.209 0zm0 16.835a3.374 3.374 0 1 0 0 6.748h8.417a3.374 3.374 0 1 0 0-6.748H20.21zM0 11.79a3.374 3.374 0 0 1 3.374-3.374h8.417a3.374 3.374 0 1 1 0 6.748H3.374A3.374 3.374 0 0 1 0 11.791zM11.791 0a3.374 3.374 0 1 0 0 6.748h3.374V3.374A3.374 3.374 0 0 0 11.791 0zm13.461 11.791a3.374 3.374 0 1 1 3.374 3.374h-3.374v-3.374zM3.374 16.835a3.374 3.374 0 1 0 3.374 3.374v-3.374H3.374zm13.46 8.417h3.375a3.374 3.374 0 1 1-3.374 3.374v-3.374zm-5.043-8.417a3.374 3.374 0 0 0-3.374 3.374v8.417a3.374 3.374 0 1 0 6.748 0V20.21a3.374 3.374 0 0 0-3.374-3.374z",smartscalar:"M9.806 9.347v13.016h-2.79V9.593L3.502 14.12a1.405 1.405 0 0 1-1.957.254 1.372 1.372 0 0 1-.256-1.937L7.418 4.54a1.404 1.404 0 0 1 2.219.008l6.08 7.953a1.372 1.372 0 0 1-.27 1.935c-.615.46-1.49.34-1.955-.268l-3.686-4.82zM24.806 23.016V13h-2.79v9.77l-3.514-4.527a1.405 1.405 0 0 0-1.957-.254 1.372 1.372 0 0 0-.256 1.937l6.129 7.897c.56.723 1.663.72 2.219-.008l6.08-7.953a1.372 1.372 0 0 0-.27-1.935 1.405 1.405 0 0 0-1.955.268l-3.686 4.82z",snippet:{path:"M1,2H8M1,5H9M1,8H6",attrs:{viewBox:"0 0 10 10",style:{strokeWidth:2,stroke:"currentcolor",strokeLinecap:"round"}}},star:"M16 0 L21 11 L32 12 L23 19 L26 31 L16 25 L6 31 L9 19 L0 12 L11 11",star_outline:"M16 21.935l5.967 3.14-1.14-6.653 4.828-4.712-6.671-.97L16 6.685l-2.984 6.053-6.67.971 4.827 4.712-1.14 6.654L16 21.935zm-9.892 8.547l1.89-11.029L0 11.647l11.053-1.609L16 0l4.947 10.038L32 11.647l-7.997 7.806 1.889 11.03L16 25.274l-9.892 5.207z",store:{path:"M4.537.091a.475.475 0 01.103.663L2.957 3.058a.475.475 0 11-.767-.56L3.873.193a.475.475 0 01.664-.103zM.031 5.018A.95.95 0 01.952 3.84h12.101a.95.95 0 01.921 1.178l-1.812 7.308a1.424 1.424 0 01-1.382 1.081H3.225a1.424 1.424 0 01-1.382-1.081L.031 5.018zM8.745.754a.475.475 0 11.767-.56l1.683 2.303a.475.475 0 11-.767.56L8.745.755z",attrs:{viewBox:"0 0 15 14"}},string:{path:"M14.022,18 L11.533,18 C11.2543319,18 11.0247509,17.935084 10.84425,17.80525 C10.6637491,17.675416 10.538667,17.5091677 10.469,17.3065 L9.652,14.8935 L4.389,14.8935 L3.572,17.3065 C3.50866635,17.4838342 3.38516758,17.6437493 3.2015,17.78625 C3.01783241,17.9287507 2.79300133,18 2.527,18 L0.019,18 L5.377,4.1585 L8.664,4.1585 L14.022,18 Z M5.13,12.7085 L8.911,12.7085 L7.638,8.918 C7.55566626,8.67733213 7.45908389,8.3939183 7.34825,8.06775 C7.23741611,7.7415817 7.12816721,7.3885019 7.0205,7.0085 C6.91916616,7.39483527 6.8146672,7.75266502 6.707,8.082 C6.5993328,8.41133498 6.49800047,8.69633213 6.403,8.937 L5.13,12.7085 Z M21.945,18 C21.6663319,18 21.4557507,17.9620004 21.31325,17.886 C21.1707493,17.8099996 21.0520005,17.6516679 20.957,17.411 L20.748,16.8695 C20.5009988,17.078501 20.2635011,17.2621659 20.0355,17.4205 C19.8074989,17.5788341 19.5715846,17.7134161 19.32775,17.82425 C19.0839154,17.9350839 18.8242514,18.0174164 18.54875,18.07125 C18.2732486,18.1250836 17.9676683,18.152 17.632,18.152 C17.1823311,18.152 16.7738352,18.0934173 16.4065,17.97625 C16.0391648,17.8590827 15.7272513,17.6865011 15.47075,17.4585 C15.2142487,17.2304989 15.016334,16.947085 14.877,16.60825 C14.737666,16.269415 14.668,15.8783355 14.668,15.435 C14.668,15.0866649 14.7566658,14.7288352 14.934,14.3615 C15.1113342,13.9941648 15.4184978,13.6600848 15.8555,13.35925 C16.2925022,13.0584152 16.8814963,12.8066677 17.6225,12.604 C18.3635037,12.4013323 19.297661,12.2873335 20.425,12.262 L20.425,11.844 C20.425,11.2676638 20.3062512,10.8512513 20.06875,10.59475 C19.8312488,10.3382487 19.4940022,10.21 19.057,10.21 C18.7086649,10.21 18.4236678,10.2479996 18.202,10.324 C17.9803322,10.4000004 17.7824175,10.4854995 17.60825,10.5805 C17.4340825,10.6755005 17.2646675,10.7609996 17.1,10.837 C16.9353325,10.9130004 16.7390011,10.951 16.511,10.951 C16.3083323,10.951 16.1357507,10.9019172 15.99325,10.80375 C15.8507493,10.7055828 15.7383337,10.5836674 15.656,10.438 L15.124,9.5165 C15.7193363,8.99083071 16.3795797,8.59975128 17.10475,8.34325 C17.8299203,8.08674872 18.6073292,7.9585 19.437,7.9585 C20.0323363,7.9585 20.5690809,8.05508237 21.04725,8.24825 C21.5254191,8.44141763 21.9307483,8.71058161 22.26325,9.05575 C22.5957517,9.40091839 22.8506658,9.81099763 23.028,10.286 C23.2053342,10.7610024 23.294,11.2803305 23.294,11.844 L23.294,18 L21.945,18 Z M18.563,16.2045 C18.9430019,16.2045 19.2754986,16.1380007 19.5605,16.005 C19.8455014,15.8719993 20.1336652,15.6566682 20.425,15.359 L20.425,13.991 C19.8359971,14.0163335 19.3515019,14.0669996 18.9715,14.143 C18.5914981,14.2190004 18.2906678,14.3139994 18.069,14.428 C17.8473322,14.5420006 17.6937504,14.6718326 17.60825,14.8175 C17.5227496,14.9631674 17.48,15.1214991 17.48,15.2925 C17.48,15.6281683 17.5718324,15.8640827 17.7555,16.00025 C17.9391676,16.1364173 18.2083316,16.2045 18.563,16.2045 L18.563,16.2045 Z",attrs:{viewBox:"0 0 24 24"}},sun:"M18.2857143,27.1999586 L18.2857143,29.7130168 C18.2857143,30.9760827 17.2711661,32 16,32 C14.7376349,32 13.7142857,30.9797942 13.7142857,29.7130168 L13.7142857,27.1999586 C14.4528227,27.3498737 15.2172209,27.4285714 16,27.4285714 C16.7827791,27.4285714 17.5471773,27.3498737 18.2857143,27.1999586 Z M13.7142857,4.80004141 L13.7142857,2.28698322 C13.7142857,1.02391726 14.7288339,0 16,0 C17.2623651,0 18.2857143,1.02020582 18.2857143,2.28698322 L18.2857143,4.80004141 C17.5471773,4.65012631 16.7827791,4.57142857 16,4.57142857 C15.2172209,4.57142857 14.4528227,4.65012631 13.7142857,4.80004141 Z M10.5518048,26.0488463 L8.93640145,27.9740091 C8.1245183,28.9415738 6.68916799,29.0738009 5.71539825,28.2567111 C4.74837044,27.4452784 4.62021518,26.0059593 5.43448399,25.0355515 L7.05102836,23.1090289 C8.00526005,24.3086326 9.1956215,25.3120077 10.5518048,26.0488463 Z M21.4481952,5.95115366 L23.0635986,4.02599087 C23.8754817,3.05842622 25.310832,2.92619908 26.2846018,3.74328891 C27.2516296,4.55472158 27.3797848,5.99404073 26.565516,6.96444852 L24.9489716,8.89097108 C23.9947399,7.69136735 22.8043785,6.68799226 21.4481952,5.95115366 Z M7.05102836,8.89097108 L5.43448399,6.96444852 C4.62260085,5.99688386 4.7416285,4.56037874 5.71539825,3.74328891 C6.68242605,2.93185624 8.12213263,3.05558308 8.93640145,4.02599087 L10.5518048,5.95115366 C9.1956215,6.68799226 8.00526005,7.69136735 7.05102836,8.89097108 Z M24.9489716,23.1090289 L26.565516,25.0355515 C27.3773992,26.0031161 27.2583715,27.4396213 26.2846018,28.2567111 C25.317574,29.0681438 23.8778674,28.9444169 23.0635986,27.9740091 L21.4481952,26.0488463 C22.8043785,25.3120077 23.9947399,24.3086326 24.9489716,23.1090289 Z M27.1999586,13.7142857 L29.7130168,13.7142857 C30.9760827,13.7142857 32,14.7288339 32,16 C32,17.2623651 30.9797942,18.2857143 29.7130168,18.2857143 L27.1999586,18.2857143 C27.3498737,17.5471773 27.4285714,16.7827791 27.4285714,16 C27.4285714,15.2172209 27.3498737,14.4528227 27.1999586,13.7142857 Z M4.80004141,18.2857143 L2.28698322,18.2857143 C1.02391726,18.2857143 2.7533531e-14,17.2711661 2.84217094e-14,16 C2.84217094e-14,14.7376349 1.02020582,13.7142857 2.28698322,13.7142857 L4.80004141,13.7142857 C4.65012631,14.4528227 4.57142857,15.2172209 4.57142857,16 C4.57142857,16.7827791 4.65012631,17.5471773 4.80004141,18.2857143 Z M16,22.8571429 C19.7870954,22.8571429 22.8571429,19.7870954 22.8571429,16 C22.8571429,12.2129046 19.7870954,9.14285714 16,9.14285714 C12.2129046,9.14285714 9.14285714,12.2129046 9.14285714,16 C9.14285714,19.7870954 12.2129046,22.8571429 16,22.8571429 Z",tab:{path:"M7.98328 11.5098C7.68166 11.8115 7.68166 12.3005 7.98328 12.6021C8.28491 12.9037 8.77394 12.9037 9.07557 12.6021L13.0919 8.58583C13.3935 8.2842 13.3935 7.79517 13.0919 7.49354L9.07557 3.47725C8.77394 3.17562 8.28491 3.17562 7.98328 3.47725C7.68166 3.77887 7.68166 4.26791 7.98328 4.56953L10.681 7.26729L1.50711 7.26729C1.08055 7.26729 0.73475 7.61309 0.73475 8.03966C0.73475 8.46622 1.08055 8.81202 1.50711 8.81202L10.6811 8.81202L7.98328 11.5098ZM14.3141 14.0641C14.3141 14.7545 14.8738 15.3141 15.5641 15.3141C16.2545 15.3141 16.8141 14.7545 16.8141 14.0641L16.8141 2.01524C16.8141 1.32489 16.2545 0.765242 15.5641 0.765242C14.8738 0.765242 14.3141 1.32489 14.3141 2.01524L14.3141 14.0641Z",attrs:{viewBox:"0 0 16 14"}},table:"M11.077 11.077h9.846v9.846h-9.846v-9.846zm11.077 11.077H32V32h-9.846v-9.846zm-11.077 0h9.846V32h-9.846v-9.846zM0 22.154h9.846V32H0v-9.846zM0 0h9.846v9.846H0V0zm0 11.077h9.846v9.846H0v-9.846zM22.154 0H32v9.846h-9.846V0zm0 11.077H32v9.846h-9.846v-9.846zM11.077 0h9.846v9.846h-9.846V0z",table2:"M1.6 0h28.8A1.6 1.6 0 0 1 32 1.6v28.8a1.6 1.6 0 0 1-1.6 1.6H1.6A1.6 1.6 0 0 1 0 30.4V1.6A1.6 1.6 0 0 1 1.6 0zm1.6 3.2v6.4h6.4V3.2H3.2zm9.6 0v6.4h16V3.2h-16zm-9.6 9.6v6.4h6.4v-6.4H3.2zm9.6 0v6.4h16v-6.4h-16zm-9.6 9.6v6.4h6.4v-6.4H3.2zm9.6 0v6.4h16v-6.4h-16z",table_spaced:"M0 0h7.784v7.784H0V0zm12.108 0h7.784v7.784h-7.784V0zm12.108 0H32v7.784h-7.784V0zM0 12.108h7.784v7.784H0v-7.784zm12.108 0h7.784v7.784h-7.784v-7.784zm12.108 0H32v7.784h-7.784v-7.784zM0 24.216h7.784V32H0v-7.784zm12.108 0h7.784V32h-7.784v-7.784zm12.108 0H32V32h-7.784v-7.784z",trash:"M4.31904507,29.7285487 C4.45843264,30.9830366 5.59537721,32 6.85726914,32 L20.5713023,32 C21.8337371,32 22.9701016,30.9833707 23.1095264,29.7285487 L25.1428571,11.4285714 L2.28571429,11.4285714 L4.31904507,29.7285487 L4.31904507,29.7285487 Z M6.85714286,4.57142857 L8.57142857,0 L18.8571429,0 L20.5714286,4.57142857 L25.1428571,4.57142857 C27.4285714,4.57142857 27.4285714,9.14285714 27.4285714,9.14285714 L13.7142857,9.14285714 L-1.0658141e-14,9.14285714 C-1.0658141e-14,9.14285714 -1.0658141e-14,4.57142857 2.28571429,4.57142857 L6.85714286,4.57142857 L6.85714286,4.57142857 Z M9.14285714,4.57142857 L18.2857143,4.57142857 L17.1428571,2.28571429 L10.2857143,2.28571429 L9.14285714,4.57142857 L9.14285714,4.57142857 Z",triangle_left:"M21,0 L5,16 L21,32 L21,5.47117907e-13 L21,0 Z",triangle_right:"M9,0 L25,16 L9,32 L9,5.47117907e-13 L9,0 Z",unarchive:{path:"M6.857 2.762c0-.42.341-.762.762-.762h16.762a.762.762 0 0 1 0 1.524H7.619a.762.762 0 0 1-.762-.762zM0 11.809a6 6 0 0 1 6-6h20a6 6 0 0 1 6 6v12.382a6 6 0 0 1-6 6H6a6 6 0 0 1-6-6V11.81zm10.62 9.285c.447.446 1.17.446 1.617 0L16 17.33l3.763 3.764a1.143 1.143 0 0 0 1.617-1.616l-4.572-4.572a1.143 1.143 0 0 0-1.616 0l-4.572 4.572a1.143 1.143 0 0 0 0 1.616z",attrs:{fillRule:"evenodd"}},unknown:"M16.5,26.5 C22.0228475,26.5 26.5,22.0228475 26.5,16.5 C26.5,10.9771525 22.0228475,6.5 16.5,6.5 C10.9771525,6.5 6.5,10.9771525 6.5,16.5 C6.5,22.0228475 10.9771525,26.5 16.5,26.5 L16.5,26.5 Z M16.5,23.5 C12.6340068,23.5 9.5,20.3659932 9.5,16.5 C9.5,12.6340068 12.6340068,9.5 16.5,9.5 C20.3659932,9.5 23.5,12.6340068 23.5,16.5 C23.5,20.3659932 20.3659932,23.5 16.5,23.5 L16.5,23.5 Z",variable:"M32,3.85760518 C32,5.35923081 31.5210404,6.55447236 30.5631068,7.4433657 C29.6051732,8.33225903 28.4358214,8.77669903 27.0550162,8.77669903 C26.2265331,8.77669903 25.4110072,8.67314019 24.6084142,8.46601942 C23.8058212,8.25889864 23.111114,8.05178097 22.5242718,7.84466019 C22.2481108,8.03452091 21.8425054,8.44875625 21.3074434,9.08737864 C20.7723814,9.72600104 20.1682882,10.5026923 19.4951456,11.4174757 C20.116508,14.0582656 20.6170423,15.9352695 20.9967638,17.0485437 C21.3764852,18.1618179 21.7389411,19.2880202 22.0841424,20.4271845 C22.3775635,21.3419679 22.8090586,22.0582498 23.3786408,22.5760518 C23.9482229,23.0938537 24.8457328,23.3527508 26.0711974,23.3527508 C26.5199591,23.3527508 27.0809028,23.2664518 27.7540453,23.0938511 C28.4271878,22.9212505 28.9795016,22.7486524 29.4110032,22.5760518 L28.8414239,24.9061489 C27.1326775,25.6310716 25.6397043,26.1574957 24.3624595,26.4854369 C23.0852148,26.8133781 21.9460676,26.9773463 20.9449838,26.9773463 C20.2200611,26.9773463 19.5037792,26.9083071 18.7961165,26.7702265 C18.0884539,26.632146 17.4412111,26.3818788 16.8543689,26.0194175 C16.2157465,25.6396961 15.6763776,25.1650514 15.236246,24.5954693 C14.7961143,24.0258871 14.4207135,23.2319361 14.1100324,22.2135922 C13.9029116,21.5749698 13.7130537,20.850058 13.5404531,20.038835 C13.3678524,19.2276119 13.1952544,18.51133 13.0226537,17.8899676 C12.5221118,18.6321504 12.1596559,19.1844642 11.9352751,19.5469256 C11.7108942,19.9093869 11.3829579,20.4185512 10.9514563,21.0744337 C9.5879112,23.1629015 8.4056145,24.6515597 7.40453074,25.5404531 C6.40344699,26.4293464 5.20389049,26.8737864 3.80582524,26.8737864 C2.75296129,26.8737864 1.85545139,26.5199604 1.11326861,25.8122977 C0.371085825,25.1046351 0,24.1812355 0,23.0420712 C0,21.5059254 0.478959612,20.2934241 1.4368932,19.4045307 C2.3948268,18.5156374 3.56417864,18.0711974 4.94498382,18.0711974 C5.77346693,18.0711974 6.56741799,18.1704413 7.32686084,18.368932 C8.08630369,18.5674228 8.80258563,18.7874853 9.47572816,19.0291262 C9.73462913,18.8220054 10.1359196,18.4164 10.6796117,17.8122977 C11.2233037,17.2081955 11.814452,16.4573939 12.4530744,15.5598706 C11.8834923,13.2470219 11.4174775,11.5037815 11.0550162,10.3300971 C10.6925548,9.15641269 10.321469,7.99137579 9.94174757,6.83495146 C9.63106641,5.90290796 9.18231146,5.18231107 8.59546926,4.67313916 C8.00862706,4.16396725 7.12837696,3.90938511 5.95469256,3.90938511 C5.43689061,3.90938511 4.85868712,3.99999909 4.22006472,4.18122977 C3.58144233,4.36246045 3.04638835,4.53074356 2.61488673,4.68608414 L3.18446602,2.35598706 C4.73787184,1.66558447 6.20927029,1.14779029 7.5987055,0.802588997 C8.98814071,0.457387702 10.1488627,0.284789644 11.0809061,0.284789644 C11.9266493,0.284789644 12.6515612,0.345198964 13.2556634,0.466019417 C13.8597657,0.586839871 14.4983785,0.845736958 15.171521,1.24271845 C15.7928834,1.62243987 16.3322523,2.10139948 16.789644,2.67961165 C17.2470357,3.25782382 17.6224365,4.04745994 17.9158576,5.04854369 C18.1229784,5.73894628 18.3128362,6.45522822 18.4854369,7.197411 C18.6580375,7.93959379 18.8047459,8.5782066 18.9255663,9.11326861 C19.2880277,8.56094654 19.6634285,7.99137294 20.0517799,7.40453074 C20.4401314,6.81768854 20.7723827,6.29989437 21.0485437,5.85113269 C22.3775687,3.76266485 23.5684953,2.2653767 24.6213592,1.3592233 C25.6742232,0.453069903 26.8651498,0 28.1941748,0 C29.2815588,0 30.1876986,0.358140971 30.9126214,1.07443366 C31.6375441,1.79072634 32,2.71844091 32,3.85760518 L32,3.85760518 Z",verified:{svg:'<path fill-rule="evenodd" clip-rule="evenodd" d="M32 16.64a6.397 6.397 0 0 0-3.15-5.514 6.4 6.4 0 0 0-7.42-8.115A6.396 6.396 0 0 0 16 0a6.396 6.396 0 0 0-5.43 3.01 6.4 6.4 0 0 0-7.42 8.115A6.397 6.397 0 0 0 0 16.64c0 2.25 1.162 4.23 2.919 5.371a6.4 6.4 0 0 0 7.652 6.979A6.396 6.396 0 0 0 16 32a6.396 6.396 0 0 0 5.429-3.01 6.4 6.4 0 0 0 7.652-6.979A6.395 6.395 0 0 0 32 16.64z M8.32 16.852l2.392-2.485 3.649 3.769 7.312-7.576 2.4 2.584-9.71 10.02-6.043-6.312z" />'},view_archive:{path:"M2.783 12.8h26.434V29H2.783V12.8zm6.956 3.4h12.522v2.6H9.739v-2.6zM0 4h32v6.4H0V4z",attrs:{fillRule:"evenodd"}},warning:{path:"M12.3069589,4.52260192 C14.3462632,1.2440969 17.653446,1.24541073 19.691933,4.52260192 L31.2249413,23.0637415 C33.2642456,26.3422466 31.7889628,29 27.9115531,29 L4.08733885,29 C0.218100769,29 -1.26453645,26.3409327 0.77395061,23.0637415 L12.3069589,4.52260192 Z M18.0499318,23.0163223 C18.0499772,23.0222378 18.05,23.0281606 18.05,23.0340907 C18.05,23.3266209 17.9947172,23.6030345 17.8840476,23.8612637 C17.7737568,24.1186089 17.6195847,24.3426723 17.4224081,24.5316332 C17.2266259,24.7192578 16.998292,24.8660439 16.7389806,24.9713892 C16.4782454,25.0773129 16.1979962,25.1301134 15.9,25.1301134 C15.5950083,25.1301134 15.3111795,25.0774024 15.0502239,24.9713892 C14.7901813,24.8657469 14.5629613,24.7183609 14.3703047,24.5298034 C14.177545,24.3411449 14.0258626,24.1177208 13.9159524,23.8612637 C13.8052827,23.6030345 13.75,23.3266209 13.75,23.0340907 C13.75,22.7411889 13.8054281,22.4661013 13.9165299,22.2109786 C14.0264627,21.9585404 14.1779817,21.7374046 14.3703047,21.5491736 C14.5621821,21.3613786 14.7883231,21.2126553 15.047143,21.1034656 C15.3089445,20.9930181 15.593871,20.938068 15.9,20.938068 C16.1991423,20.938068 16.4804862,20.9931136 16.7420615,21.1034656 C17.0001525,21.2123478 17.2274115,21.360472 17.4224081,21.5473437 C17.6191428,21.7358811 17.7731504,21.957652 17.88347,22.2109786 C17.9124619,22.2775526 17.9376628,22.3454862 17.9590769,22.414741 C18.0181943,22.5998533 18.05,22.7963729 18.05,23 C18.05,23.0054459 18.0499772,23.0108867 18.0499318,23.0163223 L18.0499318,23.0163223 Z M17.7477272,14.1749999 L17.7477272,8.75 L14.1170454,8.75 L14.1170454,14.1749999 C14.1170454,14.8471841 14.1572355,15.5139742 14.2376219,16.1753351 C14.3174838,16.8323805 14.4227217,17.5019113 14.5533248,18.1839498 L14.5921937,18.3869317 L17.272579,18.3869317 L17.3114479,18.1839498 C17.442051,17.5019113 17.5472889,16.8323805 17.6271507,16.1753351 C17.7075371,15.5139742 17.7477272,14.8471841 17.7477272,14.1749999 Z",attrs:{fillRule:"evenodd"}},waterfall:{path:"M12 0h8v13h-8V0zM0 13h8v19H0V13zM32 0h-8v21h8V0z",attrs:{fillRule:"evenodd"}},"10k":{svg:'<path d="M10.223 22.591v2.217H1.176v-2.217H4.49V12.49c0-.4.012-.811.034-1.235L2.171 13.34a1.012 1.012 0 0 1-.407.216.952.952 0 0 1-.679-.12.738.738 0 0 1-.203-.203L0 11.949l4.987-4.494h2.296v15.136h2.94Z" />\n                 <path d="M20.96 16.144c0 1.51-.155 2.824-.464 3.943-.302 1.11-.724 2.029-1.267 2.756-.535.727-1.172 1.27-1.91 1.63a5.41 5.41 0 0 1-2.375.527 5.41 5.41 0 0 1-2.375-.527c-.724-.36-1.354-.903-1.889-1.63-.535-.727-.954-1.646-1.255-2.756-.302-1.119-.452-2.433-.452-3.943 0-1.518.15-2.832.452-3.943.301-1.11.72-2.03 1.255-2.756.535-.727 1.165-1.267 1.889-1.618a5.31 5.31 0 0 1 2.374-.54c.852 0 1.644.18 2.375.54.74.351 1.376.89 1.911 1.618.543.727.965 1.646 1.267 2.756.309 1.11.464 2.425.464 3.943Zm-2.884 0c0-1.254-.087-2.293-.26-3.116-.174-.823-.407-1.478-.701-1.965-.287-.488-.618-.827-.995-1.02a2.48 2.48 0 0 0-1.177-.299c-.4 0-.787.1-1.164.3-.37.192-.698.531-.984 1.019-.287.487-.517 1.142-.69 1.965-.166.823-.249 1.861-.249 3.116 0 1.254.083 2.293.249 3.116.173.823.403 1.478.69 1.965.286.487.614.83.984 1.03a2.54 2.54 0 0 0 1.165.288c.407 0 .799-.096 1.175-.287.378-.2.71-.544.996-1.031.294-.487.527-1.142.7-1.965.174-.823.26-1.862.26-3.116ZM24.084 7v10.198h.52c.189 0 .336-.024.441-.072.113-.055.226-.163.34-.323l2.883-3.775c.12-.168.253-.296.396-.383.15-.088.343-.132.577-.132h2.556l-3.608 4.566c-.256.36-.535.635-.837.826.159.12.298.26.419.42.128.16.248.332.361.515L32 24.808h-2.522c-.218 0-.407-.036-.565-.108a.938.938 0 0 1-.396-.419l-2.963-4.662c-.105-.184-.215-.303-.328-.36-.113-.055-.282-.083-.509-.083h-.633v5.632h-2.793V7h2.793Z" />'},"1m":{path:"M11.7 22.7V25H1.346v-2.3h3.792V12.221c0-.414.013-.841.04-1.28l-2.693 2.163c-.155.116-.31.19-.466.223a1.154 1.154 0 0 1-.777-.124.808.808 0 0 1-.232-.211L0 11.662 5.708 7h2.627v15.7H11.7ZM32 7.025V25h-3.067V13.39c0-.465.026-.966.077-1.505l-5.656 10.206c-.267.49-.677.734-1.23.734h-.491c-.552 0-.962-.245-1.23-.734l-5.72-10.243c.026.273.047.543.064.808.018.265.026.51.026.733V25h-3.067V7.025h2.627c.156 0 .29.004.402.012.112.009.21.03.297.062a.6.6 0 0 1 .246.162c.078.075.151.174.22.298l5.604 9.982c.147.266.28.54.401.82.13.283.255.573.376.871.12-.307.246-.6.375-.883.13-.29.268-.567.414-.832l5.527-9.958c.069-.124.142-.223.22-.298a.739.739 0 0 1 .246-.162c.095-.033.198-.053.31-.062.113-.008.246-.012.402-.012H32Z",attrs:{viewbox:"0 0 10 10"}},zoom_in:"M12.416 12.454V8.37h3.256v4.083h4.07v3.266h-4.07v4.083h-3.256V15.72h-4.07v-3.266h4.07zm10.389 13.28c-5.582 4.178-13.543 3.718-18.632-1.37-5.58-5.581-5.595-14.615-.031-20.179 5.563-5.563 14.597-5.55 20.178.031 5.068 5.068 5.545 12.985 1.422 18.563l5.661 5.661a2.08 2.08 0 0 1 .003 2.949 2.085 2.085 0 0 1-2.95-.003l-5.651-5.652zm-1.486-4.371c3.895-3.895 3.885-10.218-.021-14.125-3.906-3.906-10.23-3.916-14.125-.021-3.894 3.894-3.885 10.218.022 14.124 3.906 3.907 10.23 3.916 14.124.022z",xlsx:"M28 10.105v18.728A3.166 3.166 0 0 1 24.834 32H6.166A3.163 3.163 0 0 1 3 28.844V3.156A3.163 3.163 0 0 1 6.16 0h13.553V10.105H28zm-.215-1.684h-6.4V.311l6.4 8.11zM9.446 25h2.427l2.796-3.37h.055L16.207 25h2.256l-2.18-4.888 4.32-4.976h-2.468l-2.769 3.343h-.054l-1.477-3.343h-2.256l2.18 4.874L9.447 25z",zoom_out:"M22.8048272,25.7342559 C17.2227958,29.9120922 9.26170192,29.4524812 4.17264358,24.3634229 C-1.40785877,18.7829205 -1.42162182,9.74890155 4.14190296,4.18537677 C9.70542774,-1.37814801 18.7394467,-1.36438497 24.319949,4.21611739 C29.3880584,9.28422669 29.8647559,17.2007749 25.7421403,22.7792454 L31.4029793,28.4400843 C32.2180024,29.2551074 32.2248604,30.569663 31.4056282,31.3888951 C30.5920681,32.2024552 29.2715215,32.2009502 28.4568175,31.3862462 L22.8048272,25.7342559 Z M21.3193717,21.3628455 C25.213839,17.4683781 25.2042049,11.1445649 21.2978532,7.23821321 C17.3915016,3.33186156 11.0676883,3.32222743 7.17322097,7.21669477 C3.27875362,11.1111621 3.28838776,17.4349754 7.1947394,21.341327 C11.1010911,25.2476787 17.4249043,25.2573128 21.3193717,21.3628455 Z M8.34528717,12.453545 L19.7423242,12.453545 L19.7423242,15.7197782 L8.34528717,15.7197782 L8.34528717,12.453545 Z"};function c(e){var t=l[e];if(!t)return null;if(t.img)return a(a({},t),{},{attrs:a(a({},t.attrs),{},{className:"Icon Icon-"+e})});var n={attrs:{className:"Icon Icon-"+e,viewBox:"0 0 32 32",width:16,height:16,fill:"currentcolor",role:"img","aria-label":e+" icon"},svg:void 0,path:void 0};if("string"==typeof t)n.path=t;else if(null!=t){var i=t.svg,o=t.path,u=t.attrs;for(var c in u)n.attrs[c]=u[c];if(u&&u.viewBox){var s=r(u.viewBox.split(" ").map((function(e){return Number(e)})).slice(2,4),2),f=s[0],d=s[1];n.attrs.width=f/2,n.attrs.height=d/2}n.path=o,n.svg=i}return n}l.horizontal_bar={path:l.bar,attrs:{style:{transform:"rotate(90deg) scaleX(-1)"}}},l.arrow_right={path:l.arrow_left.path,attrs:a(a({},l.arrow_left.attrs),{},{style:{transform:"rotate(-180deg)"}})},l.join_right_outer={path:l.join_left_outer,attrs:{style:{transform:"rotate(-180deg)"}}},l.scalar=l.number},46113:function(){ace.define("ace/theme/metabase",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-metabase",t.cssText='.ace-metabase .ace_gutter {background: rgb(220,236,249);color: #509EE3;font-weight: bold;}.ace-metabase  {background: #fff;color: #000;}.ace-metabase .ace_keyword {font-weight: bold;}.ace-metabase .ace_string {color: #A989C5;font-weight: bold;}.ace-metabase .ace_variable.ace_class {color: teal;}.ace-metabase .ace_constant.ace_numeric {color: #6EA637;}.ace-metabase .ace_constant.ace_buildin {color: #0086B3;}.ace-metabase .ace_support.ace_function {color: #0086B3;}.ace-metabase .ace_comment {color: #998;font-style: italic;}.ace-metabase .ace_variable.ace_language  {color: #0086B3;}.ace-metabase .ace_paren {font-weight: bold;}.ace-metabase .ace_boolean {font-weight: bold;}.ace-metabase .ace_string.ace_regexp {color: #009926;font-weight: normal;}.ace-metabase .ace_variable.ace_instance {color: teal;}.ace-metabase .ace_constant.ace_language {font-weight: bold;}.ace-metabase .ace_cursor {color: black;}.ace-metabase.ace_focus .ace_marker-layer .ace_active-line {background: rgb(255, 255, 204);}.ace-metabase .ace_marker-layer .ace_active-line {background: rgb(245, 245, 245);}.ace-metabase .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-metabase.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-metabase.ace_nobold .ace_line > span {font-weight: normal !important;}.ace-metabase .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-metabase .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-metabase .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-metabase .ace_gutter-active-line {background-color : rgba(0, 0, 0, 0.07);}.ace-metabase .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-metabase .ace_invisible {color: #BFBFBF}.ace-metabase .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-metabase .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},97249:function(e,t,n){"use strict";n.d(t,{Se:function(){return l},vF:function(){return c},VQ:function(){return s}});var r=n(45532),i=n(35463),o=n(6697);function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e){i.Z.googleAnalyticsEnabled()&&f(),i.Z.snowplowEnabled()&&p(e),(i.Z.googleAnalyticsEnabled()||i.Z.snowplowEnabled())&&document.body.addEventListener("click",y,!0)},c=function(e,t,n,r){e&&n&&i.Z.trackingEnabled()&&i.Z.googleAnalyticsEnabled()&&d(e,t,n,r)},s=function(e,t,n){e&&i.Z.trackingEnabled()&&i.Z.snowplowEnabled()&&m(e,t,n)},f=function(){var e,t,n=i.Z.get("ga-code");null===(e=(t=window).ga)||void 0===e||e.call(t,"create",n,"auto"),i.Z.on("anon-tracking-enabled",(function(e){window["ga-disable-".concat(n)]=!e||null}))},d=function(e,t,n,r){var o,a,u,l,c=i.Z.get("version",{});null===(o=(a=window).ga)||void 0===o||o.call(a,"set","dimension1",c.tag),null===(u=(l=window).ga)||void 0===u||u.call(l,"send","event",e,t,n,r)},p=function(e){r.VZ("sp",i.Z.snowplowUrl(),{appId:"metabase",platform:"web",eventMethod:"post",discoverRootDomain:!0,contexts:{webPage:!0},anonymousTracking:{withServerAnonymisation:!0},stateStorageStrategy:"none",plugins:[h(e)]})},h=function(e){return{beforeTrack:function(){var t=(0,o.n5)(e.getState());t&&r.Iv(String(t))},contexts:function(){var e=i.Z.get("analytics-uuid"),t=i.Z.get("version",{}),n=i.Z.get("instance-creation"),r=i.Z.get("token-features");return[{schema:"iglu:com.metabase/instance/jsonschema/1-1-0",data:{id:e,version:{tag:t.tag},created_at:n,token_features:r}}]}}},m=function(e,t,n){r.i$({event:{schema:"iglu:com.metabase/".concat(e,"/jsonschema/").concat(t),data:n}})},y=function(e){if(i.Z.trackingEnabled())for(var t=e.target;null!=t;t=t.parentNode)if(t.dataset&&t.dataset.metabaseEvent){var n=t.dataset.metabaseEvent.split(";").map((function(e){return e.trim()}));c.apply(void 0,a(n))}}},90635:function(e,t,n){"use strict";n.d(t,{HT:function(){return C},a4:function(){return k},uO:function(){return A},yY:function(){return D}});var r=n(67526),i=n(97531),o=n.n(i),a=n(9841),u=n(29502),l=n(98399);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,u,"next",e)}function u(e){d(o,r,i,a,u,"throw",e)}a(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="X-Metabase-Anti-CSRF-Token",E=null,_={json:!0,hasBody:!1,noEvent:!1,transformResponse:function(e){return e},raw:{},headers:{},retry:!1,retryCount:10,retryDelayIntervals:Array.from(new Array(10).keys()).map((function(e){return 1e3*Math.pow(2,e)})).reverse()},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(f,e);var t,n,i,o,c=b(f);function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),j(w(e=c.call(this)),"basename",""),j(w(e),"GET",void 0),j(w(e),"POST",void 0),j(w(e),"PUT",void 0),j(w(e),"DELETE",void 0),e.GET=e._makeMethod("GET",{retry:!0}),e.DELETE=e._makeMethod("DELETE",{}),e.POST=e._makeMethod("POST",{hasBody:!0,retry:!0}),e.PUT=e._makeMethod("PUT",{hasBody:!0}),e}return t=f,n=[{key:"_makeMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof o&&(o={transformResponse:o});var a=m(m(m({},_),n),o);return function(){var n=p(regeneratorRuntime.mark((function n(o){var c,f,d,p,h,y,v,b,g,w,O,j,_=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=_.length>1&&void 0!==_[1]?_[1]:{},f=m(m({},a),c),d=i,o=m({},o),p=s(d.match(/:\w+/g)||[]);try{for(p.s();!(h=p.n()).done;)y=h.value,v=y.slice(1),b=o[v],delete o[v],void 0===b&&(l.warn("Warning: calling",e,"without",y),b=""),f.raw&&f.raw[v]||(b=encodeURIComponent(b)),d=d.replace(y,b)}catch(e){p.e(e)}finally{p.f()}for(g in o)void 0===o[g]&&delete o[g];if(w=f.json?{Accept:"application/json","Content-Type":"application/json"}:{},u.GG&&(w["X-Metabase-Embedded"]="true"),E&&(w[S]=E),f.hasBody?O=JSON.stringify(null!=f.bodyParamName?o[f.bodyParamName]:o):(j=r.stringify(o))&&(d+=(d.indexOf("?")>=0?"&":"?")+j),Object.assign(w,f.headers),!f.retry){n.next=16;break}return n.abrupt("return",t._makeRequestWithRetries(e,d,w,O,o,f));case 16:return n.abrupt("return",t._makeRequest(e,d,w,O,o,f));case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}},{key:"_makeRequestWithRetries",value:(o=p(regeneratorRuntime.mark((function e(t,n,r,i,o,u){var l,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=u.retryDelayIntervals.slice(),c=0,s=u.retryCount+1;case 3:return e.prev=3,e.next=6,this._makeRequest(t,n,r,i,o,u);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),c++,!(503===e.t0.status&&c<s)){e.next=17;break}return e.next=15,(0,a.gw)(l.pop());case 15:e.next=18;break;case 17:throw e.t0;case 18:if(c<s){e.next=3;break}case 19:case"end":return e.stop()}}),e,this,[[3,9]])}))),function(e,t,n,r,i,a){return o.apply(this,arguments)})},{key:"_makeRequest",value:function(e,t,n,r,i,o){var a=this;return new Promise((function(u,l){var c=!1,s=new XMLHttpRequest;for(var f in s.open(e,a.basename+t),n)s.setRequestHeader(f,n[f]);s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE){var e=s.getResponseHeader(S);e&&(E=e);var n=s.responseText;if(o.json)try{n=JSON.parse(n)}catch(e){}var r=s.status;202===r&&n&&n._status>0&&(r=n._status),r>=200&&r<=299?(o.transformResponse&&(n=o.transformResponse(n,{data:i})),u(n)):l({status:r,data:n,isCancelled:c}),o.noEvent||a.emit(r,t)}},s.send(r),o.cancelled&&o.cancelled.then((function(){c=!0,s.abort()}))}))}}],n&&y(t.prototype,n),i&&y(t,i),f}(o()),P=new x;t.ZP=P;var C=P.GET,k=P.POST,A=P.PUT,D=P.DELETE},96516:function(e,t,n){"use strict";n.d(t,{SO:function(){return d},A6:function(){return h},UD:function(){return m}});var r,i,o=n(25312),a=n(11093),u=n(35463),l=n(98399);function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}var d=function(){var e=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.SessionApi.delete();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),404!==e.t0.status&&l.error("Problem clearing session",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),p={generic:(0,o.t)(r||(r=c(["There was an issue signing in with Google. Please contact an administrator."]))),popup_closed_by_user:(0,o.t)(i||(i=c(["The window was closed before completing Google Authentication."])))},h=function e(t,n,r){window.gapi?window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:u.Z.get("google-auth-client-id"),cookiepolicy:"single_host_origin"}).attachClickHandler(t,{},(function(e){n(e.getAuthResponse().id_token)}),(function(e){var t;r(null!==(t=p[e.error])&&void 0!==t?t:p.generic)}))})):window.setTimeout((function(){return e(t,n,r)}),100)},m=function(){var e=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="undefined"!=typeof gapi&&gapi&&gapi.auth2?gapi.auth2.getAuthInstance():void 0){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.signOut();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),l.error("Problem clearing Google Auth credentials",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}()},41646:function(e,t,n){"use strict";n.d(t,{kf:function(){return i},Cv:function(){return o}});var r=n(67526);function i(e){var t=r.parse(e.replace(/^#/,""));for(var n in t)""===t[n]?t[n]=!0:/^(true|false|-?\d+(\.\d+)?)$/.test(t[n])&&(t[n]=JSON.parse(t[n]));return t}function o(e){return r.stringify(e).replace(/=true\b/g,"")}},46078:function(e,t,n){"use strict";n.d(t,{LH:function(){return s},v5:function(){return f},a8:function(){return d},$C:function(){return h},CN:function(){return m},A1:function(){return y}});n(30558);var r=n(34344),i=n(38908),o=n(11093),a=n(92115),u=n(98399);function l(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)}))}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{name:e,display:"table",visualization_settings:{},dataset_query:{}}}function f(e,t,n){var i=s();return i.dataset_query=r.rP(e,t,n),i}function d(e){return p.apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.CardApi.get({cardId:t});case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),u.log("error loading card",e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function h(e){var t=i.Z.copy(e.dataset_query);t.query&&(t.query=r.M(t.query));var n={name:e.name,description:e.description,dataset_query:t,display:e.display,displayIsLocked:e.displayIsLocked,parameters:e.parameters,dashboardId:e.dashboardId,dashcardId:e.dashcardId,visualization_settings:e.visualization_settings,original_card_id:e.original_card_id};return(0,a.vX)(JSON.stringify(n))}function m(e){return JSON.parse((0,a.WF)(e))}function y(e){var t={};for(var n in e)"$"!==n.charAt(0)&&(t[n]=e[n]);return t}},54479:function(e,t,n){"use strict";n.d(t,{If:function(){return _},jT:function(){return x},v8:function(){return P},ko:function(){return C},kG:function(){return A}});var r,i,o,a,u,l,c,s,f=n(30558),d=n(55446),p=n(25312),h=n(98958),m=n(47667),y=n(80198),v=(n(11217),n(73306),n(55799),n(91664));n(35555);function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e){var t=e.extraData,n=(t=void 0===t?{}:t).dashboard,r=t.parameterValuesBySlug,i=t.userAttributes,o=e.dimensions,a=e.data,u=[].concat(j(o||[]),j((a||[]).map((function(e){return{column:e.col,value:e.clickBehaviorValue||e.value}})))).filter((function(e){return null!=e.column})).reduce((function(e,t){var n=t.column,r=t.value;return void 0===e[name]?w(w({},e),{},O({},n.name.toLowerCase(),{value:r,column:n})):e}),{}),l=null==n?{}:f.ZP.chain(n.parameters).filter((function(e){return null!=r[e.slug]})).map((function(e){return[e.name.toLowerCase(),{value:r[e.slug]}]})).object().value(),c=f.ZP.mapObject(r,(function(e){return{value:e}}));return{column:u,parameter:null==n?{}:f.ZP.chain(n.parameters).filter((function(e){return null!=r[e.slug]})).map((function(e){return[e.id,{value:r[e.slug]}]})).object().value(),parameterByName:l,parameterBySlug:c,userAttribute:f.ZP.mapObject(i,(function(e){return{value:e}}))}}v.wD.Text,v.wD.Number,v.wD.Temporal;function x(e){var t=function(e){return"native"!==(0,d.getIn)(e,["card","dataset_query","type"])}(e)?(0,p.t)(r||(r=b(["Open the action menu"]))):(0,p.t)(i||(i=b(["Do nothing"])));if(function(e){return"table"===e.card.display}(e)){var n=Object.values((0,d.getIn)(e,["visualization_settings","column_settings"])||{}).filter((function(e){return null!=e.click_behavior})).length;return 0===n?t:(0,p.ngettext)((0,p.msgid)(o||(o=b([""," column has custom behavior"])),n),"".concat(n," columns have custom behavior"),n)}var f=e.visualization_settings.click_behavior;if(null==f)return t;if("link"===f.type){var h=f.linkType;return null==h?(0,p.t)(a||(a=b(["Go to..."]))):"dashboard"===h?(0,p.t)(u||(u=b(["Go to dashboard"]))):"question"===h?(0,p.t)(l||(l=b(["Go to question"]))):(0,p.t)(c||(c=b(["Go to url"])))}return(0,p.t)(s||(s=b(["Filter this dashboard"])))}function P(e){if(null==e)return!0;var t=e.type,n=e.parameterMapping,r=void 0===n?{}:n,i=e.linkType,o=e.targetId,a=e.linkTemplate;return"crossfilter"===t?Object.keys(r).length>0:"url"===i?(a||"").length>0:("dashboard"===i||"question"===i)&&null!=o}function C(e,t,n){var r=n.data,i=n.extraData,o=n.clickBehavior,a=r[e.type][e.id.toLowerCase()]||[];if(a.column&&(0,h.J_)(a.column)){if("parameter"!==t.type)return k(a.value,"date/single");var u=D(t,{extraData:i,clickBehavior:o});if(u)return k(a.value,u.type,a.column.unit)}return a.value}function k(e,t,n){var r=(0,m.ZB)(e);return r.isValid()?"date/month-year"===t?r.format("YYYY-MM"):"date/quarter-year"===t?r.format("[Q]Q-YYYY"):"date/single"===t?r.format("YYYY-MM-DD"):"date/all-options"===t?(0,y.gw)(e,n):e:String(e)}function A(e,t){var n=t.extraData,r=t.clickBehavior;if("parameter"===e.type){var i=D(e,{extraData:n,clickBehavior:r});return i&&i.slug}return e.id}function D(e,t){var n=t.extraData,r=t.clickBehavior,i="crossfilter"===r.type?["dashboard","parameters"]:["dashboards",r.targetId,"parameters"];return((0,d.getIn)(n,i)||[]).find((function(t){return t.id===e.id}))}},6336:function(e,t,n){"use strict";n.d(t,{Fq:function(){return x},$_:function(){return _},_j:function(){return P},ZP:function(){return v},zw:function(){return j},pI:function(){return S},At:function(){return N},$n:function(){return C},mJ:function(){return w},Vz:function(){return E}});var r=n(91826),i=n.n(r),o=n(99025),a=n.n(o),u=n(68882);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){for(var t=0,n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function p(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,s=new Set(e.slice().sort()),f=[t].concat(u||[]),p=-1,h=function(){p=(p+1)%f.length,i=f[p],n=new Set(i),r=new Set};h();for(var m={},y=function(e,t){m[e]=t,s.delete(e),n.has(t)&&r.add(t)},v=0,b=Object.entries(o);v<b.length;v++){var g=c(b[v],2),w=g[0],O=g[1];y(w,O)}if(a){var j,S=l(s);try{for(S.s();!(j=S.n()).done;){var E=j.value,_=a(E,i);void 0===_||r.has(_)||y(E,_)}}catch(e){S.e(e)}finally{S.f()}}for(var x=0;s.size>0;){n.size-r.size<=0&&h();var P,C=l(s);try{for(C.s();!(P=C.n()).done;){var k=P.value,A=Math.abs(d(k))+x,D=i[A%i.length];r.has(D)||y(k,D)}}catch(e){C.e(e)}finally{C.f()}x++}return m}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={brand:"#509EE3","brand-light":"#DDECFA",accent1:"#88BF4D",accent2:"#A989C5",accent3:"#EF8C8C",accent4:"#F9D45C",accent5:"#F2A86F",accent6:"#98D9D9",accent7:"#7172AD","admin-navbar":"#7172AD",white:"#FFFFFF",black:"#2E353B",success:"#84BB4C",danger:"#ED6E6E",error:"#ED6E6E",warning:"#F9CF48","text-dark":"#4C5773","text-medium":"#949AAB","text-light":"#B8BBC3","text-white":"#FFFFFF","bg-black":"#2E353B","bg-dark":"#93A1AB","bg-medium":"#EDF2F5","bg-light":"#F9FBFC","bg-white":"#FFFFFF","bg-yellow":"#FFFCF2",focus:"#CBE2F7",shadow:"rgba(0,0,0,0.08)",border:"#EEECEC","saturated-blue":"#2D86D4","saturated-green":"#70A63A","saturated-purple":"#885AB1","saturated-red":"#ED6E6E","saturated-yellow":"#F9CF48"},v=y,b={summarize:"accent1",filter:"accent7",database:"accent2",dashboard:"brand",pulse:"accent4",nav:"bg-white",content:"bg-light"},g=[],w={},O={},j={};(function(){var e=new u._,t=[y.brand,y.accent1,y.accent2,y.accent3,y.accent4,y.accent5,y.accent6,y.accent7];g.splice(0,g.length),g.push.apply(g,t);for(var n=t.slice(0,5).map((function(t){return e.harmonize(t,"fiveToneD")})),r=1;r<5;r++)for(var i=0;i<n.length;i++)g.push(n[i][r])})(),w.blue=O.blue=j.blue=y.brand,w.green=O.green=j.green=y.accent1,w.purple=O.purple=j.purple=y.accent2,w.red=O.red=j.red=y.accent3,w.yellow=O.yellow=j.yellow=y.accent4,w.orange=y.accent5,w.teal=y.accent6,w.indigo=y.accent7,w.gray=y["text-dark"],w.grey1=y["text-light"],w.grey2=y["text-medium"],w.grey3=y["text-dark"],w.text=y["text-dark"];var S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return i().scale.quantile().domain(e).range(t);var r=h(e,2),o=r[0],a=r[1];return i().scale.linear().domain(3===t.length?[o,o+(a-o)/2,a]:[o,a]).range(t)};function E(e){return e.replace(/rgba\((\d+(?:\.\d+)),\s*(\d+(?:\.\d+)),\s*(\d+(?:\.\d+)),\s*(\d+\.\d+)\)/,(function(e,t,n,r,i){return"rgba(".concat(Math.round(t),",").concat(Math.round(n),",").concat(Math.round(r),",").concat(i,")")}))}function _(e){return e in y?y[e]:e in b?y[b[e]]:e}function x(e,t){return a()(_(e)).alpha(t).string()}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return a()(_(e)).darken(t).string()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return a()(_(e)).lighten(t).string()}var k={success:["success","succeeded","pass","passed","valid","complete","completed","accepted","active","profit"],error:["error","fail","failed","failure","failures","invalid","rejected","inactive","loss","cost","deleted","pending"],warning:["warn","warning","incomplete","unstable"],brand:["count"],accent1:["sum"],accent2:["average"]},A={};for(var D in k)if(Object.prototype.hasOwnProperty.call(k,D))for(var R=k[D],I=0;I<R.length;I++)A[R[I]]=D;function T(e){return _(A[e.toLowerCase()])}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.values(g),r=n.slice(0,8),i=n.slice(8);return p(e,r,t,T,[i])}},30163:function(e,t,n){"use strict";n.d(t,{m6:function(){return u},Dv:function(){return l},rd:function(){return c},XN:function(){return s}});var r,i=n(25312);var o,a,u=300,l=-1/0,c=(0,i.t)(r||(o=["(empty)"],a||(a=o.slice(0)),r=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}})))),s="Infinity"},12207:function(e,t,n){"use strict";n.d(t,{$6:function(){return st},sH:function(){return ft},wW:function(){return dt},IX:function(){return pt}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut=n(91664),lt=n(25312);function ct(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var st=[{id:ut.wD.PK,name:(0,lt.t)(r||(r=ct(["Entity Key"]))),section:(0,lt.t)(i||(i=ct(["Overall Row"]))),description:(0,lt.t)(o||(o=ct(["The primary key for this table."]))),icon:"label"},{id:ut.wD.Name,name:(0,lt.t)(a||(a=ct(["Entity Name"]))),section:(0,lt.t)(u||(u=ct(["Overall Row"]))),description:(0,lt.t)(l||(l=ct(['The "name" of each record. Usually a column called "name", "title", etc.']))),icon:"string"},{id:ut.wD.FK,name:(0,lt.t)(c||(c=ct(["Foreign Key"]))),section:(0,lt.t)(s||(s=ct(["Overall Row"]))),description:(0,lt.t)(f||(f=ct(["Points to another table to make a connection."]))),icon:"connections"},{id:ut.wD.Category,name:(0,lt.t)(d||(d=ct(["Category"]))),section:(0,lt.t)(p||(p=ct(["Common"]))),icon:"string"},{id:ut.wD.Comment,name:(0,lt.t)(h||(h=ct(["Comment"]))),section:(0,lt.t)(m||(m=ct(["Common"]))),icon:"string"},{id:ut.wD.Description,name:(0,lt.t)(y||(y=ct(["Description"]))),section:(0,lt.t)(v||(v=ct(["Common"]))),icon:"string"},{id:ut.wD.Title,name:(0,lt.t)(b||(b=ct(["Title"]))),section:(0,lt.t)(g||(g=ct(["Common"]))),icon:"string"},{id:ut.wD.City,name:(0,lt.t)(w||(w=ct(["City"]))),section:(0,lt.t)(O||(O=ct(["Location"]))),icon:"location"},{id:ut.wD.Country,name:(0,lt.t)(j||(j=ct(["Country"]))),section:(0,lt.t)(S||(S=ct(["Location"]))),icon:"location"},{id:ut.wD.Latitude,name:(0,lt.t)(E||(E=ct(["Latitude"]))),section:(0,lt.t)(_||(_=ct(["Location"]))),icon:"location"},{id:ut.wD.Longitude,name:(0,lt.t)(x||(x=ct(["Longitude"]))),section:(0,lt.t)(P||(P=ct(["Location"]))),icon:"location"},{id:ut.wD.State,name:(0,lt.t)(C||(C=ct(["State"]))),section:(0,lt.t)(k||(k=ct(["Location"]))),icon:"location"},{id:ut.wD.ZipCode,name:(0,lt.t)(A||(A=ct(["Zip Code"]))),section:(0,lt.t)(D||(D=ct(["Location"]))),icon:"location"},{id:ut.wD.Cost,name:(0,lt.t)(R||(R=ct(["Cost"]))),section:(0,lt.t)(I||(I=ct(["Financial"]))),icon:"int"},{id:ut.wD.Currency,name:(0,lt.t)(T||(T=ct(["Currency"]))),section:(0,lt.t)(N||(N=ct(["Financial"]))),icon:"int"},{id:ut.wD.Discount,name:(0,lt.t)(q||(q=ct(["Discount"]))),section:(0,lt.t)(M||(M=ct(["Financial"]))),icon:"int"},{id:ut.wD.GrossMargin,name:(0,lt.t)(Z||(Z=ct(["Gross margin"]))),section:(0,lt.t)(L||(L=ct(["Financial"]))),icon:"int"},{id:ut.wD.Income,name:(0,lt.t)(B||(B=ct(["Income"]))),section:(0,lt.t)(z||(z=ct(["Financial"]))),icon:"int"},{id:ut.wD.Price,name:(0,lt.t)(F||(F=ct(["Price"]))),section:(0,lt.t)(Q||(Q=ct(["Financial"]))),icon:"int"},{id:ut.wD.Quantity,name:(0,lt.t)(V||(V=ct(["Quantity"]))),section:(0,lt.t)(U||(U=ct(["Numeric"]))),icon:"int"},{id:ut.wD.Score,name:(0,lt.t)(H||(H=ct(["Score"]))),section:(0,lt.t)(Y||(Y=ct(["Numeric"]))),icon:"int"},{id:ut.wD.Share,name:(0,lt.t)(G||(G=ct(["Share"]))),section:(0,lt.t)(W||(W=ct(["Numeric"]))),icon:"int"},{id:ut.wD.Birthdate,name:(0,lt.t)($||($=ct(["Birthday"]))),section:(0,lt.t)(K||(K=ct(["Profile"]))),icon:"balloons"},{id:ut.wD.Company,name:(0,lt.t)(J||(J=ct(["Company"]))),section:(0,lt.t)(X||(X=ct(["Profile"]))),icon:"string"},{id:ut.wD.Email,name:(0,lt.t)(ee||(ee=ct(["Email"]))),section:(0,lt.t)(te||(te=ct(["Profile"]))),icon:"string"},{id:ut.wD.Owner,name:(0,lt.t)(ne||(ne=ct(["Owner"]))),section:(0,lt.t)(re||(re=ct(["Profile"]))),icon:"string"},{id:ut.wD.Subscription,name:(0,lt.t)(ie||(ie=ct(["Subscription"]))),section:(0,lt.t)(oe||(oe=ct(["Profile"]))),icon:"string"},{id:ut.wD.User,name:(0,lt.t)(ae||(ae=ct(["User"]))),section:(0,lt.t)(ue||(ue=ct(["Profile"]))),icon:"string"},{id:ut.wD.CancelationDate,name:(0,lt.t)(le||(le=ct(["Cancelation date"]))),section:(0,lt.t)(ce||(ce=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.CancelationTime,name:(0,lt.t)(se||(se=ct(["Cancelation time"]))),section:(0,lt.t)(fe||(fe=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.CancelationTimestamp,name:(0,lt.t)(de||(de=ct(["Cancelation timestamp"]))),section:(0,lt.t)(pe||(pe=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.CreationDate,name:(0,lt.t)(he||(he=ct(["Creation date"]))),section:(0,lt.t)(me||(me=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.CreationTime,name:(0,lt.t)(ye||(ye=ct(["Creation time"]))),section:(0,lt.t)(ve||(ve=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.CreationTimestamp,name:(0,lt.t)(be||(be=ct(["Creation timestamp"]))),section:(0,lt.t)(ge||(ge=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.DeletionDate,name:(0,lt.t)(we||(we=ct(["Deletion date"]))),section:(0,lt.t)(Oe||(Oe=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.DeletionTime,name:(0,lt.t)(je||(je=ct(["Deletion time"]))),section:(0,lt.t)(Se||(Se=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.DeletionTimestamp,name:(0,lt.t)(Ee||(Ee=ct(["Deletion timestamp"]))),section:(0,lt.t)(_e||(_e=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.UpdatedDate,name:(0,lt.t)(xe||(xe=ct(["Updated date"]))),section:(0,lt.t)(Pe||(Pe=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.UpdatedTime,name:(0,lt.t)(Ce||(Ce=ct(["Updated time"]))),section:(0,lt.t)(ke||(ke=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.UpdatedTimestamp,name:(0,lt.t)(Ae||(Ae=ct(["Updated timestamp"]))),section:(0,lt.t)(De||(De=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.JoinDate,name:(0,lt.t)(Re||(Re=ct(["Join date"]))),section:(0,lt.t)(Ie||(Ie=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.JoinTime,name:(0,lt.t)(Te||(Te=ct(["Join time"]))),section:(0,lt.t)(Ne||(Ne=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.JoinTimestamp,name:(0,lt.t)(qe||(qe=ct(["Join timestamp"]))),section:(0,lt.t)(Me||(Me=ct(["Date and Time"]))),icon:"calendar"},{id:ut.wD.Enum,name:(0,lt.t)(Ze||(Ze=ct(["Enum"]))),section:(0,lt.t)(Le||(Le=ct(["Categorical"]))),icon:"string"},{id:ut.wD.Product,name:(0,lt.t)(Be||(Be=ct(["Product"]))),section:(0,lt.t)(ze||(ze=ct(["Categorical"]))),icon:"string"},{id:ut.wD.Source,name:(0,lt.t)(Fe||(Fe=ct(["Source"]))),section:(0,lt.t)(Qe||(Qe=ct(["Categorical"]))),icon:"string"},{id:ut.wD.AvatarURL,name:(0,lt.t)(Ve||(Ve=ct(["Avatar Image URL"]))),section:(0,lt.t)(Ue||(Ue=ct(["URLs"]))),icon:"string"},{id:ut.wD.ImageURL,name:(0,lt.t)(He||(He=ct(["Image URL"]))),section:(0,lt.t)(Ye||(Ye=ct(["URLs"]))),icon:"string"},{id:ut.wD.URL,name:(0,lt.t)(Ge||(Ge=ct(["URL"]))),section:(0,lt.t)(We||(We=ct(["URLs"]))),icon:"string"},{id:ut.wD.SerializedJSON,name:(0,lt.t)($e||($e=ct(["Field containing JSON"]))),section:(0,lt.t)(Ke||(Ke=ct(["Other"]))),icon:"string"}],ft=st.reduce((function(e,t){return Object.assign({},e,(n={},r=t.id,i=t,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i}),{}),dt=[{name:(0,lt.t)(Je||(Je=ct(["Search box"]))),value:"search"},{name:(0,lt.t)(Xe||(Xe=ct(["A list of all values"]))),value:"list"},{name:(0,lt.t)(et||(et=ct(["Plain input box"]))),value:"none"}],pt=[{id:"normal",name:(0,lt.t)(tt||(tt=ct(["Everywhere"]))),description:(0,lt.t)(nt||(nt=ct(["The default setting. This field will be displayed normally in tables and charts."])))},{id:"details-only",name:(0,lt.t)(rt||(rt=ct(["Only in detail views"]))),description:(0,lt.t)(it||(it=ct(["This field will only be displayed when viewing the details of a single record. Use this for information that's lengthy or that isn't useful in a table or chart."])))},{id:"sensitive",name:(0,lt.t)(ot||(ot=ct(["Do not include"]))),description:(0,lt.t)(at||(at=ct(["This field won't be visible or selectable in questions created with the GUI interfaces. It will still be accessible in SQL/native queries."])))}]},42037:function(e,t,n){"use strict";n.d(t,{aE:function(){return o},SK:function(){return a},Y5:function(){return u},sv:function(){return l},z3:function(){return c},ii:function(){return s},jN:function(){return f}});n(98399);function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=18,a=4/3,u={desktop:753,mobile:752},l={desktop:o,mobile:1},c={width:4,height:4},s=54;function f(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.width,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.height,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,a=0,u=0;a<1e3;){for(;u<=i-t;){var l,s=!0,f={col:u,row:a,sizeX:t,sizeY:n},p=r(e);try{for(p.s();!(l=p.n()).done;){var h=l.value;if(d(h,f)){s=!1;break}}}catch(e){p.e(e)}finally{p.f()}if(s)return f;u++}u=0,a++}return{col:u,row:a,sizeX:t,sizeY:n}}function d(e,t){return!(t.col>=e.col+e.sizeX||t.col+t.sizeX<=e.col||t.row>=e.row+e.sizeY||t.row+t.sizeY<=e.row)}},68942:function(e,t,n){"use strict";n.d(t,{PQ:function(){return o},X3:function(){return a},_q:function(){return u}});var r=n(34344),i=n(19269);function o(e){return["card","snippet"].includes(e.type)}function a(e,t){if(!t||!(0,r.eG)(e.dataset_query))return!1;var n=e.dataset||t.dataset,o=e.id===t.id,a=e.dataset_query.query["source-table"]===(0,i.eD)(t);return n&&o&&a}function u(e,t){return!!t&&a(e.card(),t.card())}},56397:function(e,t,n){"use strict";n.d(t,{Q4:function(){return k},FU:function(){return A},fE:function(){return D},u6:function(){return R},FG:function(){return I},rv:function(){return T},Ct:function(){return N},ZW:function(){return q},jz:function(){return V}});var r,i,o,a=n(30558),u=n(55446),l=n(25312),c=n(83360),s=n(98399),f=["value","children"],d=["children","rawValue","isGrandTotal","isValueColumn"];function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e){return _(e)||b(e)||P(e)||E()}function v(e){return function(e){if(Array.isArray(e))return C(e)}(e)||b(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(e,t){return _(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||P(e,t)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e){if(Array.isArray(e))return e}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function P(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){return"pivot-grouping"===e.name}var A="pivot_table.collapsed_rows",D="pivot_table.column_split",R="pivot_table.column_show_totals",I="pivot_table.column_sort_order",T="ascending",N="descending";function q(e,t){var n=t[D];if(null==n)return null;var o,s=e.cols.filter((function(e){return!k(e)})),f=a.ZP.mapObject(n,(function(e){return e.map((function(e){return s.findIndex((function(t){return a.ZP.isEqual(t.field_ref,e)}))})).filter((function(e){return-1!==e}))})),d=f.columns,p=f.rows,h=f.values,m=function(e,t,n){var r=e.cols.findIndex(k),i=e.cols.filter((function(e){return!k(e)})),o=i.filter((function(e){return"breakout"===e.source})),u=a.ZP.chain(e.rows).groupBy((function(e){return e[r]})).pairs().map((function(e){var t=S(e,2),n=t[0],i=t[1];n=parseInt(n);var u=a.ZP.range(o.length).filter((function(e){return!(1<<e&n)}));return[JSON.stringify(u),i.map((function(e){return e.slice(0,r).concat(e.slice(r+1))}))]})).object().value();return{pivotData:u,columns:i}}(e),y=m.pivotData,v=m.columns,b=v.map((function(e){return t.column(e)})),g=function(e,t){var n=t.map((function(e){return!1!==e[R]}));return e.filter((function(e){var t=JSON.parse(e),r=Array.isArray(t)?t.length:t;return n[r-1]}))}(t[A].value,p.map((function(e){return b[e]}))),O=[],E=[],_={},P=x(y[JSON.stringify(a.ZP.range(d.length+p.length))]);try{var C=function(){var e=o.value;z(e,d,b,O),z(e,p,b,E,g);var t=JSON.stringify(d.concat(p).map((function(t){return e[t]}))),n=h.map((function(t){return e[t]}));_[t]={values:n,data:e.map((function(e,t){return{value:e,col:v[t]}})),dimensions:e.map((function(e,t){return{value:e,column:v[t]}})).filter((function(e){return"breakout"===e.column.source}))}};for(P.s();!(o=P.n()).done;)C()}catch(e){P.e(e)}finally{P.f()}for(var I={},T=0,N=Object.entries(y);T<N.length;T++){var q=S(N[T],2),F=q[0],V=q[1],U=JSON.parse(F);I[F]={};var H,Y=x(V);try{var G=function(){var e=H.value,t=JSON.stringify(U.map((function(t){return e[t]})));I[F][t]=h.map((function(t){return e[t]}))};for(Y.s();!(H=Y.n()).done;)G()}catch(e){Y.e(e)}finally{Y.f()}}var W=[h,d,p].map((function(e){return e.map((function(e){return a.ZP.memoize((function(t){return(0,c.Bw)(t,b[e])}),(function(t){return[t,e].join()}))}))})),$=S(W,3),K=$[0],J=$[1],X=$[2],ee=d.map((function(e){return v[e]})),te=L(O,J,ee);te.length>1&&te.push({value:(0,l.t)(r||(r=j(["Row totals"]))),children:[],isSubtotal:!0,isGrandTotal:!0});var ne=M(te.flatMap((function(e){return Z(e)}))),re=function(e,t){var n=t.map((function(e){var t=S(e,2),n=t[0];return{value:t[1].column_title||(0,c.jL)(n),children:[],isValueColumn:!0}}));if(0===e.length)return n;if(t.length<=1)return e;function r(e){var t=0===e.children.length?n:e.children.map(r);return w(w({},e),{},{children:t})}return e.map(r)}(te,h.map((function(e){return[v[e],b[e]]}))),ie=p.map((function(e){return v[e]})),oe=L(E,X,ie),ae=function(e,t,n){var r=e.some((function(e){return e.children.length>1}));return e.flatMap((function(e){return B(e,t,n,{shouldShowSubtotal:r||e.children.length>1})}))}(oe,X,p.map((function(e){return!1!==(0,u.getIn)(b,[e,R])})));oe.length>1&&ae.push({value:(0,l.t)(i||(i=j(["Grand totals"]))),isSubtotal:!0,isGrandTotal:!0,children:[]});var ue=M(ae.flatMap((function(e){return Z(e)}))),le=Q(ae.flat()),ce=Q(re.flat()),se=function(e){var t=e.valuesByKey,n=e.subtotalValues,r=e.valueFormatters,i=e.columnColumnIndexes,o=e.rowColumnIndexes,l=e.columnIndex,c=e.rowIndex,s=function(e){return void 0===e?Array(r.length).fill({value:null}):e.map((function(e,t){return{value:r[t](e)}}))},f=function(e,t,r){return s((0,u.getIn)(n,[e,t].map((function(t){return JSON.stringify(a.ZP.sortBy(t,(function(t,n){return e[n]})))})))).map((function(e){return w(w({},e),{},{isSubtotal:!0},r)}))},d=function(e,n){var r=l[e]||[],a=c[n]||[],u=r.concat(a);if(a.length<o.length||r.length<i.length){var d=o.slice(0,a.length),p=i.slice(0,r.length).concat(d),h=0===a.length?{isGrandTotal:!0}:{};return f(p,u,h)}var m=t[JSON.stringify(u)]||{},y=m.values,v=m.data,b=m.dimensions;return s(y).map((function(e){return void 0===v?e:w(w({},e),{},{clicked:{data:v,dimensions:b}})}))};return a.ZP.memoize(d,(function(e,t){return[e,t].join()}))}({valuesByKey:_,subtotalValues:I,valueFormatters:K,columnColumnIndexes:d,rowColumnIndexes:p,columnIndex:ne,rowIndex:ue});return{leftHeaderItems:le,topHeaderItems:ce,rowCount:ue.length,columnCount:ne.length,rowIndex:ue,getRowSection:se,rowIndexes:p,columnIndexes:d,valueIndexes:h}}function M(e){return 0===e.length?[[]]:e}function Z(e){var t=e.rawValue,n=e.isGrandTotal,r=e.children,i=e.isValueColumn,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(n)return[[]];if(i)return[o];var a=[].concat(v(o),[t]);return 0===r.length?[a]:r.flatMap((function(e){return Z(e,a)}))}function L(e,t,n){var r=y(t),i=r[0],o=r.slice(1),a=y(n),u=a[0],l=a.slice(1);return e.map((function(e){var t=e.value,n=e.children;return w(w({},m(e,f)),{},{value:i(t),rawValue:t,children:L(n,o,l),clicked:{value:t,column:u}})}))}function B(e,t,n){var r=y(t),i=r[0],a=r.slice(1),u=y(n),c=u[0],s=u.slice(1),f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=f.shouldShowSubtotal,p=void 0!==d&&d,h=c&&p,m=h?[{value:(0,l.t)(o||(o=j(["Totals for ",""])),i(e.value)),rawValue:e.rawValue,span:1,isSubtotal:!0,children:[]}]:[];if(e.isCollapsed)return m;var v=w(w({},e),{},{hasSubtotal:h,children:e.children.flatMap((function(e){return e.children.length>0?B(e,a,s,{shouldShowSubtotal:e.children.length>1}):e}))});return[v].concat(m)}function z(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=r,u=[],l=x(t);try{var c=function(){var t=i.value,r=e[t];u.push(r);var l=a.find((function(e){return e.value===r})),c=o.includes(JSON.stringify(u))||o.includes(JSON.stringify(u.length));void 0===l&&(l={value:r,children:[],isCollapsed:c},a.push(l),F(a,n[t])),a=l.children};for(l.s();!(i=l.n()).done;)c()}catch(e){l.e(e)}finally{l.f()}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t[I];null!=n&&e.sort((function(e,t){if(e.value===t.value)return 0;var r=e.value<t.value?-1:1;return"string"==typeof e.value&&(r=e.value.localeCompare(t.value)),n===N&&(r*=-1),r}))}function Q(e){var t=[];return function e(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(0===n.length)return{span:1,maxDepth:0};var a,u=0,l=0,c=x(n);try{for(c.s();!(a=c.n()).done;){var s=a.value,f=s.children,p=s.rawValue,h=s.isGrandTotal,y=s.isValueColumn,b=m(s,d),g=y||h?null:[].concat(v(o),[p]),O=w(w({},b),{},{rawValue:p,isGrandTotal:h,depth:r,offset:i,hasChildren:f.length>0,path:g});t.push(O);var j=e(f,r+1,i,g);O.span=j.span,O.maxDepthBelow=j.maxDepth,i+=j.span,u+=j.span,l=Math.max(l,j.maxDepth)}}catch(e){c.e(e)}finally{c.f()}return{span:u,maxDepth:l+1}}(e,0,0),t}function V(e,t,n,r){var i=function(e,t,n){var r,i=new Set,o=new Set,a=new H,u=new H,l=x(e);try{for(l.s();!(r=l.n()).done;){var c=r.value,s=c[t],f=c[n];i.add(f),o.add(s),a.update(f,s),u.update(s,f)}}catch(e){l.e(e)}finally{l.f()}var d=Array.from(i),p=Array.from(o);return a.sort(d),u.sort(p),{normalValues:d,pivotValues:p}}(e.rows,n,t),o=i.pivotValues,a=i.normalValues;o.unshift(e.cols[t].display_name);for(var u=a.map((function(n,r){var i=o.map((function(){return null}));return i._dimension={value:n,column:e.cols[t]},i})),l=a.map((function(){return o.map((function(){return null}))})),s=0;s<e.rows.length;s++){var f=a.lastIndexOf(e.rows[s][t]),d=o.lastIndexOf(e.rows[s][n]);u[f][0]=e.rows[s][t],u[f][d]=e.rows[s][r],l[f][d]=s}return{cols:o.map((function(i,o){return 0===o?e.cols[t]:w(w({},e.cols[r]),{},{display_name:(0,c.Bw)(i,{column:e.cols[n]})||"",_dimension:{value:i,column:e.cols[n]}})})),columns:o,rows:u,sourceRows:l}}var U=function(e,t){return e<t?-1:e>t?1:0},H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;p(this,e),this.compare=t,this.asc=!0,this.desc=!0,this.lastValue=void 0,this.groupAsc=!0,this.groupDesc=!0,this.lastGroupKey=void 0,this.isGrouped=!1}var t,n,r;return t=e,(n=[{key:"update",value:function(e,t){if(void 0!==this.lastValue){var n=this.compare(e,this.lastValue);this.asc=this.asc&&n>=0,this.desc=this.desc&&n<=0,0!==n&&void 0!==this.lastGroupKey&&this.lastGroupKey===t&&(this.groupAsc=this.groupAsc&&n>=0,this.groupDesc=this.groupDesc&&n<=0,this.isGrouped=!0)}this.lastValue=e,this.lastGroupKey=t}},{key:"sort",value:function(e){var t=this;this.isGrouped&&(this.groupAsc&&this.groupDesc?s.warn("This shouldn't happen"):this.groupAsc&&!this.asc?e.sort(this.compare):this.groupDesc&&!this.desc&&e.sort((function(e,n){return t.compare(n,e)})))}}])&&h(t.prototype,n),r&&h(t,r),e}()},55316:function(e,t,n){"use strict";n.d(t,{Y2:function(){return c},Lx:function(){return s},ce:function(){return f},pw:function(){return d},$Q:function(){return p},gg:function(){return h},fM:function(){return m},S0:function(){return y},xz:function(){return v},Ko:function(){return b}});var r=n(30558),i=n(7679),o=n(55799),a=n(98399);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return null==e.rows||0===e.rows.length},s=function(e,t){var n;if("number"==typeof e&&null!=t&&null!==(n=t.binning_info)&&void 0!==n&&n.bin_width)return[e,e+t.binning_info.bin_width]};function f(e){return e.field_ref&&o.ZP.parseMBQL(e.field_ref).baseDimension().mbql()}function d(e,t,n){var r=o.T7.parseMBQLOrWarn(e);return r&&r.withOption(t,n).mbql()}var p=function(e){var t=e.field_ref;t||(a.error("column is missing field_ref",e),t=new o.T7(e.name).mbql());var n=o.ZP.parseMBQL(t);if(!n)return a.warn("Unknown field_ref",t),JSON.stringify(t);(n=n.baseDimension())instanceof o.T7&&(n=n.withoutOptions("join-alias"));var r=n instanceof o.T7&&n.isStringFieldName()||n instanceof o.FK;return JSON.stringify(r?["name",e.name]:["ref",n.mbql()])};function h(e,t){var n=y(e,t);return n>=0?e[n]:null}function m(e){var t=o.ZP.parseMBQL(e);return t&&t.mbql()}function y(e,t){var n=m(t.fieldRef);if(null!=n){var i=r.ZP.findIndex(e,(function(e){return r.ZP.isEqual(n,m(f(e)))}));if(i>=0)return i}return r.ZP.findIndex(e,(function(e){return e.name===t.name}))}function v(e,t){var n=m(f(t));return null==n?e.findIndex((function(e){return e.name===t.name})):e.findIndex((function(e){return r.ZP.isEqual(n,m(e.fieldRef))}))}function b(e){var t=e.query(),n=e.settings()["table.columns"];if(n&&t instanceof i.Z){for(var l=(t=t.clearFields()).columnDimensions(),c=t.columnNames(),s=t.joins().length-1;s>=0;s--){var f=t.joins()[s];t=f.clearFields().parent()}var d,p=u(n);try{var h=function(){var e=d.value;if(e.enabled){var n;if(e.fieldRef)n=e.fieldRef;else if(e.name){var i=r.ZP.findIndex(c,(function(t){return t===e.name}));i>=0&&(n=l[i].mbql())}if(n){var u=t.parseFieldReference(n);if(u instanceof o.T7&&u.joinAlias()){var s=u.join();s?t=s.addField(u.mbql()).parent():a.warn("missing join?",t,u)}else t=t.addField(u.mbql())}else a.warn("Unknown column",e)}};for(p.s();!(d=p.n()).done;)h()}catch(e){p.e(e)}finally{p.f()}var m=t.columnDimensions();return l.length===m.length&&r.ZP.all(l,(function(e,t){return e.isSameBaseDimension(m[t])}))?t.clearFields().question():t.question()}return e}},29502:function(e,t,n){"use strict";n.d(t,{$1:function(){return u},X_:function(){return l},GG:function(){return c},pI:function(){return s},XM:function(){return f},p_:function(){return d},Fw:function(){return p},hV:function(){return b},TY:function(){return g},cb:function(){return w},xQ:function(){return O},lW:function(){return j},aD:function(){return E},U2:function(){return P},Jk:function(){return C},Q7:function(){return k},Wg:function(){return A},rA:function(){return D}});var r=n(30558),i=n(57531),o=n(35463),a=n(98399);var u=function(){return void 0===window.scrollX?window.pageXOffset:window.scrollX},l=function(){return void 0===window.scrollY?window.pageYOffset:window.scrollY},c=function(){try{return!i.O&&window.self!==window.top}catch(e){return!0}}();window.METABASE=!0;var s=function(){try{return window.self!==window.top&&window.top.METABASE}catch(e){return!1}}(),f=r.ZP.memoize((function(){var e=document.createElement("div"),t=document.createElement("div");e.style.width="30px",e.style.height="30px",e.style.overflow="scroll",e.style.borderWidth="0",t.style.width="30px",t.style.height="60px",e.appendChild(t),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n})),d=function(){try{return window.localStorage,!0}catch(e){return a.warn("localStorage not available:",e),!1}}();function p(e,t){if(!document.elementFromPoint)return!1;var n=e.getBoundingClientRect();t=t||{top:Math.round(n.height/2),left:Math.round(n.width/2)};var r={left:n.x+t.left,top:n.y+t.top},i=document.elementFromPoint(r.left,r.top);return!e.contains(i)}var h,m,y,v=((h=document.createElement("style")).appendChild(document.createTextNode("/* dynamic stylesheet */")),document.head.appendChild(h),h.sheet);function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("insertRule"in v){var r=v.insertRule(e+"{"+t+"}",n);return v.cssRules[r]}if("addRule"in v){var i=v.addRule(e,t,n);return v.rules[i]}}function g(e){e.style.display="none",e.offsetHeight,e.style.display=""}function w(e){e&&e.parentNode&&e.parentNode.insertBefore(e,e.parentNode.firstChild)}function O(e){e&&e.parentNode&&e.parentNode.appendChild(e)}function j(e){var t=o.Z.get("site-url");S(e.startsWith("/")?t+e:e,!0)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("a");n.style.display="none",document.body.appendChild(n);try{n.href=e,n.rel="noopener",t&&(n.target="_blank"),n.click()}finally{n.remove()}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.event,r=void 0===n?window.event:n,i=t.blank,o=void 0!==i&&i,a=t.blankOnMetaOrCtrlKey,u=void 0===a||a,l=t.blankOnDifferentOrigin,c=void 0===l||l,s=r&&null!=r.metaKey?r.metaKey:m,f=r&&null!=r.ctrlKey?r.ctrlKey:y;return!!o||(!(!u||!s&&!f)||!(!c||x(e)))}window.addEventListener("mouseup",(function(e){m=e.metaKey,y=e.ctrlKey}),!0);var _=document.createElement("a");function x(e){return _.href=e,_.origin===window.location.origin}function P(e){return x(e)?"_self":"_blank"}function C(e){var t=window.location.href.replace(/#.*$/,"")+"#"+e;return"url(".concat(t,")")}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};c&&(window.iFrameResizer?(a.error("iFrameResizer resizer already defined."),e()):(window.iFrameResizer={autoResize:!0,heightCalculationMethod:"max",readyCallback:e},n.e(736).then(function(e){n(18425)}.bind(null,n)).catch(n.oe)))}function A(){var e=window.matchMedia("(prefers-reduced-motion: reduce)");return e&&e.matches}function D(){var e=window.matchMedia("(max-width: 40em)");return e&&e.matches}},36764:function(e,t,n){"use strict";n.d(t,{L:function(){return u},B:function(){return l}});var r=n(95390),i=n(30558),o=n(29502),a=n(96170),u=o.pI;function l(e){var t,n;o.GG&&(setInterval((function(){var e=window.location;t!==e.href&&(c({type:"location",location:i.ZP.pick(e,(function(e){return"string"==typeof e}))}),t=e.href);var r=(0,a.I)()?{mode:"fit"}:{mode:"normal",height:document.body.scrollHeight};i.ZP.isEqual(n,r)||(c({type:"frame",frame:r}),n=r)}),100),window.addEventListener("message",(function(t){t.source===window.parent&&t.data.metabase&&"location"===t.data.metabase.type&&e.dispatch((0,r.VF)(t.data.metabase.location))})))}function c(e){window.parent.postMessage({metabase:e},"*")}},92115:function(e,t,n){"use strict";function r(e){return function(e){return window.btoa(unescape(encodeURIComponent(e)))}(e).replace(/\+/g,"-").replace(/\//g,"_")}function i(e){return t=e.replace(/-/g,"+").replace(/_/g,"/"),decodeURIComponent(escape(window.atob(t)));var t}function o(e){return i(e.replace(/^#/,""))}n.d(t,{vX:function(){return r},WF:function(){return o}})},99584:function(e,t,n){"use strict";n.d(t,{cl:function(){return r},oQ:function(){return i},Ov:function(){return o},pD:function(){return a},op:function(){return u}});n(35463),n(83360);function r(e){switch(e){case"mongo":case"druid":case"googleanalytics":return"json";default:return"sql"}}function i(e){switch(e){case"mongo":case"druid":case"googleanalytics":return"ace/mode/json";case"mysql":return"ace/mode/mysql";case"postgres":return"ace/mode/pgsql";case"sqlserver":return"ace/mode/sqlserver";default:return"ace/mode/sql"}}function o(e){var t="app/assets/img/drivers";switch(e){case"bigquery":case"druid":case"googleanalytics":case"h2":case"mongo":case"mysql":case"oracle":case"postgres":case"presto":case"redshift":case"snowflake":case"sparksql":case"sqlite":case"sqlserver":case"vertica":return"".concat(t,"/").concat(e,".svg");case"bigquery-cloud-sdk":return"".concat(t,"/bigquery.svg");case"presto-jdbc":return"".concat(t,"/presto.svg")}}function a(){return["mysql","postgres","sqlserver","redshift","bigquery-cloud-sdk","snowflake"]}function u(e){return"mongo"===e}},95556:function(e,t,n){"use strict";n.d(t,{JP:function(){return A},I2:function(){return D},h4:function(){return R},Yw:function(){return I}});var r=n(24432),i=n(48888),o=n.n(i),a=n(73319),u=n(33094),l=n(90635),c=n(86339),s=n.n(c),f=n(12463),d=n(64671),p=n(55446),h=n(30558),m=n(98399),y=["data"];function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,u,"next",e)}function u(e){j(o,r,i,a,u,"throw",e)}a(void 0)}))}}function E(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=C({},e);if(t.nameOne||(t.nameOne=s().singularize(t.name)),t.nameMany||(t.nameMany=t.name),t.displayNameOne||(t.displayNameOne=t.nameOne),t.displayNameMany||(t.displayNameMany=t.nameMany),t.schema||(t.schema=new d.fK.Entity(t.name)),t.api||(t.api={}),t.path){var i=t.path;t.api=C({list:(0,l.HT)("".concat(i)),create:(0,l.a4)("".concat(i)),get:(0,l.HT)("".concat(i,"/:id")),update:(0,l.uO)("".concat(i,"/:id")),delete:(0,l.yY)("".concat(i,"/:id"))},t.api)}var c=function(e){return JSON.stringify(e||null)},m=function(e){return["entities",t.name,e]},v=function(e){return["entities",t.name+"_list"].concat(c(e))};t.getQueryKey=c,t.getObjectStatePath=m,t.getListStatePath=v;var j=function(e){return null!=t.writableProperties?h.ZP.pick.apply(h.ZP,[e,"id"].concat(E(t.writableProperties))):e},_="metabase/entities/".concat(t.name,"/CREATE"),x="metabase/entities/".concat(t.name,"/FETCH"),P="metabase/entities/".concat(t.name,"/UPDATE"),A="metabase/entities/".concat(t.name,"/DELETE"),D="metabase/entities/".concat(t.name,"/FETCH_LIST"),R="metabase/entities/".concat(t.name,"/INVALIDATE_LISTS");function I(e){return(0,r.JA)((function(){return["entities",t.name].concat(E(e.apply(void 0,arguments)))}))}function T(e){return(0,r.wi)("entities",t.name,e,t.getAnalyticsMetadata)}function N(e){return t.actionDecorators[e]||function(e){return e}}t.actionTypes=C({CREATE:_,FETCH:x,UPDATE:P,DELETE:A,FETCH_LIST:D,INVALIDATE_LISTS_ACTION:R},t.actionTypes||{}),t.actionDecorators=C({},t.actionDecorators||{}),t.normalize=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.schema;return C(k({object:e},t.nameOne,e),(0,d.Fv)(e,n))},t.normalizeList=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.schema;return C(k({list:e},t.nameMany,e),(0,d.Fv)(e,[n]))},t.objectActions=C({fetch:(0,r.qC)((0,r.$e)(x),(0,r.jY)((function(e){var t=e.id;return E(m(t))}),(function(e){var t=e.id;return[].concat(E(m(t)),["fetch"])}),(function(e){return c(e)})),N("fetch"))((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=S(regeneratorRuntime.mark((function r(i,o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=t,r.next=3,t.api.get(e,n);case 3:return r.t1=r.sent,r.abrupt("return",r.t0.normalize.call(r.t0,r.t1));case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()})),create:(0,r.qC)((0,r.$e)(_),T("create"),I((function(){return["create"]})),N("create"))((function(e){return function(){var n=S(regeneratorRuntime.mark((function n(r,i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t,n.next=3,t.api.create(j(e));case 3:return n.t1=n.sent,n.abrupt("return",n.t0.normalize.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),update:(0,r.qC)((0,r.$e)(P),T("update"),I((function(e){return[e.id,"update"]})),N("update"))((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.notify;return function(){var r=S(regeneratorRuntime.mark((function r(o,u){var l,c,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=t.selectors.getObject(u(),{entityId:e.id}),n&&(e=C({id:e.id},n)),r.t0=t,r.next=5,t.api.update(j(e));case 5:return r.t1=r.sent,c=r.t0.normalize.call(r.t0,r.t1),i&&(i.undo?(s=h.ZP.pick.apply(h.ZP,[l].concat(E(Object.keys(n||{})))),o((0,a.nx)(C({actions:[t.objectActions.update(e,s,{notify:!1})]},i)))):o((0,a.nx)(i))),r.abrupt("return",c);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()})),delete:(0,r.qC)((0,r.$e)(A),T("delete"),I((function(e){return[e.id,"delete"]})),N("delete"))((function(e){return function(){var n=S(regeneratorRuntime.mark((function n(r,i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.delete(e);case 2:return n.abrupt("return",{entities:k({},t.name,k({},e.id,null)),result:e.id});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}))},e.objectActions||{}),t.actions=C(C({fetchList:(0,r.qC)((0,r.$e)(D),(0,r.jY)((function(e){return E(v(e))}),(function(e){return[].concat(E(v(e)),["fetch"])})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var n=S(regeneratorRuntime.mark((function n(r,i){var o,a,u,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.api.list(e||{});case 2:if(o=n.sent,u={},o.data?(l=o.data,c=O(o,y),a=l,u=c):a=o,Array.isArray(a)){n.next=7;break}throw"Invalid response listing ".concat(t.name);case 7:return n.abrupt("return",C(C({},t.normalizeList(a)),{},{metadata:u,entityQuery:e}));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),invalidateLists:(0,r.qC)((0,r.$e)(R),N("invalidateLists"))((function(){return null}))},t.objectActions),e.actions||{}),t.HACK_getObjectFromAction=function(e){var n=e.payload;return n&&"entities"in n&&"result"in n?Array.isArray(n.result)?n.result.map((function(e){return n.entities[t.name][e]})):n.entities[t.name][n.result]:n};var q=function(e){return e.entities},M=o()([q,function(e,t){return t.params&&t.params.entityId||t.entityId}],(function(e,n){return(0,d.cY)(n,t.schema,e)}))((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.entityId;return"object"===w(n)?JSON.stringify(n):n})),Z=(0,f.createSelector)([q],(function(e){return e["".concat(t.name,"_list")]})),L=(0,f.createSelector)([function(e,t){return c(t&&t.entityQuery)},Z],(function(e,t){return t[e]})),B=(0,f.createSelector)([L],(function(e){return e&&e.list})),z=(0,f.createSelector)([L],(function(e){return e&&e.metadata})),F=o()([q,B],(function(e,n){return n&&n.map((function(n){return t.selectors.getObject({entities:e},{entityId:n})})).filter((function(e){return null!=e}))}))((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.entityQuery;return n?JSON.stringify(n):""})),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entityId,n=e.entityQuery;return null!=t?m(t):v(n)},V=function(e,t){return(0,p.getIn)(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.entityId,n=e.entityQuery,r=e.requestType,i=void 0===r?"fetch":r;return["requests"].concat(E(Q({entityId:t,entityQuery:n})),[i])}(t))||{}},U=(0,f.createSelector)([V],(function(e){return e.loading})),H=(0,f.createSelector)([V],(function(e){return e.loaded})),Y={getList:F,getObject:M,getFetched:(0,f.createSelector)([V],(function(e){return e.fetched})),getLoading:U,getLoaded:H,getError:(0,f.createSelector)([V],(function(e){return e.error})),getListMetadata:z};if(t.selectors=C(C(C({},Y),e.selectors||{}),e.createSelectors?e.createSelectors(Y):{}),t.objectSelectors=C({getName:function(e){return e.name},getIcon:function(e){return{name:"unknown"}},getColor:function(e){},getCollection:function(e){return e.collection}},e.objectSelectors||{}),t.reducers={},t.reducers[t.name]=(0,r.i4)(/^metabase\/entities\//,t.name,e.reducer),t.reducers[t.name+"_list"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.error,i=t.payload;if(r)return e;if(n===D){if(i&&i.result){var o=i.entityQuery,a=i.metadata,u=i.result;return C(C({},e),{},k({},c(o),{list:u,metadata:a}))}}else{if(n===_&&e[""])return C(C({},e),{},{"":e[""].concat([i.result])});if(n===A&&e[""])return C(C({},e),{},{"":e[""].filter((function(e){return e!==i.result}))})}return e},t.actionShouldInvalidateLists||(t.actionShouldInvalidateLists=function(e){return e.type===_||e.type===A||e.type===P||e.type===R}),t.requestsReducer=function(e,n){return t.actionShouldInvalidateLists(n)?(0,u.ZP)(e,(0,u.db)(["entities",t.name+"_list"])):e},!t.wrapEntity){for(var G=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;g(this,e),k(this,"_dispatch",void 0),Object.assign(this,t),this._dispatch=n},W=function(){var e=b(K[$],2),t=e[0],n=e[1];n&&(G.prototype[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(void 0,[this].concat(t))})},$=0,K=Object.entries(t.objectSelectors);$<K.length;$++)W();for(var J=function(){var e=b(ee[X],2),t=e[0],n=e[1];n&&(G.prototype[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._dispatch?this._dispatch(n.apply(void 0,[this].concat(t))):n.apply(void 0,[this].concat(t))})},X=0,ee=Object.entries(t.objectActions);X<ee.length;X++)J();t.wrapEntity=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new G(e,t)}}return n(39113).S(t),t}function D(e){var t,n={},i={},o=v(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.name in n?m.warn("Entity with name ".concat(a.name," already exists!")):(n[a.name]=a,Object.assign(i,a.reducers))}}catch(e){o.e(e)}finally{o.f()}return{entities:n,reducers:i,reducer:(0,r.UY)(i),requestsReducer:function(t,n){var r,i=v(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.requestsReducer&&(t=o.requestsReducer(t,n))}}catch(e){i.e(e)}finally{i.f()}return t}}}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,p.merge)({notify:{subject:t,verb:n,undo:!1}},e||{})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,p.merge)({notify:{subject:t,verb:n,undo:!0}},e||{})}},4497:function(e,t,n){"use strict";n.d(t,{mT:function(){return l},RL:function(){return c},J_:function(){return s},JR:function(){return f},xC:function(){return d},zg:function(){return w},nv:function(){return O},Xb:function(){return j},n9:function(){return S},fq:function(){return _},r8:function(){return k},fP:function(){return A},fb:function(){return D},Vv:function(){return R}});var r=n(98399);function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l={identifierQuoteDefault:"",literalQuoteDefault:""},c={characters:{"[":"identifier","'":"literal",'"':"literal"},literalQuoteDefault:'"',identifierQuoteDefault:"[",identifierAlwaysQuoted:!0},s={symbols:[".","  "],default:"  "},f={not:17,"*":15,"/":15,"+":14,"-":14,and:6,or:5};new Set(["string","number"]);for(var d={count:{displayName:"Count",type:"aggregation",args:[]},"cum-count":{displayName:"CumulativeCount",type:"aggregation",args:[]},sum:{displayName:"Sum",type:"aggregation",args:["number"]},"cum-sum":{displayName:"CumulativeSum",type:"aggregation",args:["number"]},distinct:{displayName:"Distinct",type:"aggregation",args:["expression"]},stddev:{displayName:"StandardDeviation",type:"aggregation",args:["number"],requiresFeature:"standard-deviation-aggregations"},avg:{displayName:"Average",type:"aggregation",args:["number"]},min:{displayName:"Min",type:"aggregation",args:["expression"]},max:{displayName:"Max",type:"aggregation",args:["expression"]},share:{displayName:"Share",type:"aggregation",args:["boolean"]},"count-where":{displayName:"CountIf",type:"aggregation",args:["boolean"]},"sum-where":{displayName:"SumIf",type:"aggregation",args:["number","boolean"]},var:{displayName:"Variance",type:"aggregation",args:["number"],requiresFeature:"standard-deviation-aggregations"},median:{displayName:"Median",type:"aggregation",args:["number"],requiresFeature:"percentile-aggregations"},percentile:{displayName:"Percentile",type:"aggregation",args:["number","number"],requiresFeature:"percentile-aggregations"},lower:{displayName:"lower",type:"string",args:["string"]},upper:{displayName:"upper",type:"string",args:["string"]},substring:{displayName:"substring",type:"string",args:["string","number","number"]},"regex-match-first":{displayName:"regexextract",type:"string",args:["string","string"],requiresFeature:"regex"},concat:{displayName:"concat",type:"string",args:["expression"],multiple:!0},replace:{displayName:"replace",type:"string",args:["string","string","string"]},length:{displayName:"length",type:"number",args:["string"]},trim:{displayName:"trim",type:"string",args:["string"]},rtrim:{displayName:"rtrim",type:"string",args:["string"]},ltrim:{displayName:"ltrim",type:"string",args:["string"]},abs:{displayName:"abs",type:"number",args:["number"],requiresFeature:"expressions"},floor:{displayName:"floor",type:"number",args:["number"],requiresFeature:"expressions"},ceil:{displayName:"ceil",type:"number",args:["number"],requiresFeature:"expressions"},round:{displayName:"round",type:"number",args:["number"],requiresFeature:"expressions"},sqrt:{displayName:"sqrt",type:"number",args:["number"],requiresFeature:"advanced-math-expressions"},power:{displayName:"power",type:"number",args:["number","number"],requiresFeature:"advanced-math-expressions"},log:{displayName:"log",type:"number",args:["number"],requiresFeature:"advanced-math-expressions"},exp:{displayName:"exp",type:"number",args:["number"],requiresFeature:"advanced-math-expressions"},contains:{displayName:"contains",type:"boolean",args:["string","string"],hasOptions:!0},"starts-with":{displayName:"startsWith",type:"boolean",args:["string","string"],hasOptions:!0},"ends-with":{displayName:"endsWith",type:"boolean",args:["string","string"],hasOptions:!0},between:{displayName:"between",type:"boolean",args:["expression","expression","expression"]},"time-interval":{displayName:"interval",type:"boolean",args:["expression","number","string"],hasOptions:!0},"is-null":{displayName:"isnull",type:"boolean",args:["expression"]},"is-empty":{displayName:"isempty",type:"boolean",args:["expression"]},coalesce:{displayName:"coalesce",type:"expression",args:["expression","expression"],multiple:!0},case:{displayName:"case",type:"expression",args:["expression","expression"],multiple:!0},and:{displayName:"AND",type:"boolean",args:["boolean","boolean"]},or:{displayName:"OR",type:"boolean",args:["boolean","boolean"]},not:{displayName:"NOT",type:"boolean",args:["boolean"]},"*":{displayName:"*",tokenName:"Multi",type:"number",args:["number","number"]},"/":{displayName:"/",tokenName:"Div",type:"number",args:["number","number"]},"-":{displayName:"-",tokenName:"Minus",type:"number",args:["number","number"]},"+":{displayName:"+",tokenName:"Plus",type:"number",args:["number","number"]},"!=":{displayName:"!=",tokenName:"NotEqual",type:"boolean",args:["expression","expression"]},"<=":{displayName:"<=",tokenName:"LessThanEqual",type:"boolean",args:["expression","expression"]},">=":{displayName:">=",tokenName:"GreaterThanEqual",type:"boolean",args:["expression","expression"]},"<":{displayName:"<",tokenName:"LessThan",type:"boolean",args:["expression","expression"]},">":{displayName:">",tokenName:"GreaterThan",type:"boolean",args:["expression","expression"]},"=":{displayName:"=",tokenName:"Equal",type:"boolean",args:["expression","expression"]}},p=0,h=Object.entries(d);p<h.length;p++){var m=o(h[p],2),y=m[0],v=m[1];void 0!==v.name&&v.name!==y&&r.warn("Mismatched name for MBQL_CLAUSES "+y),v.name=y}var b=new Map(Object.entries(d).map((function(e){var t=o(e,2);return[t[0],t[1].displayName]}))),g=new Map(Object.entries(d).map((function(e){var t=o(e,2),n=t[0];return[t[1].displayName.toLowerCase(),n]})));function w(e){return b.get(e)}function O(e){return g.get(e.toLowerCase())}var j=new Set(["count-where","sum-where","count","cum-count","sum","cum-sum","distinct","stddev","avg","min","max","share","var","median","percentile"]),S=new Set(["lower","upper","substring","regex-match-first","concat","replace","trim","rtrim","ltrim","length","abs","floor","ceil","round","sqrt","power","log","exp","contains","ends-with","starts-with","between","time-interval","relative-datetime","interval","is-null","is-empty","coalesce"]),E=new Set(["+","-","*","/"]),_=new Set(["!=","<=",">=","<",">","="]),x=new Set(["not"]),P=new Set(["and"]),C=new Set(["or"]),k=new Set([].concat(i(S),i(j))),A=new Set([].concat(i(E),i(_),i(x),i(P),i(C))),D=new Set(["!=","<=",">=","<",">","=","contains","does-not-contain","ends-with","starts-with","between","time-interval","is-null","not-null","is-empty","not-empty","inside"]),R=new Set(["count","cum-count","sum","cum-sum","distinct","stddev","avg","min","max"])},76288:function(e,t,n){"use strict";n.d(t,{mT:function(){return o.mT},WU:function(){return v}});var r=n(30558),i=n(37519),o=n(4497);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return m(e)}(e)||f(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return y(e)||f(e)||h(e)||p()}function f(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){return y(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||h(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(Array.isArray(e))return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||r.ZP.isEqual(e,[]))return"";if((0,i.ED)(e))return g(e);if((0,i.L)(e))return b(e);if((0,i.Uw)(e))return(0,i.u4)(e,t);if((0,i.S6)(e))return E(e,t);if((0,i.mf)(e))return S(e,t);if((0,i.vM)(e))return w(e,t);if((0,i.Zd)(e))return O(e,t);if((0,i.A8)(e))return j(e,t);if((0,i.mk)(e))return _(e,t);if(P(e))return C(e,t);throw new Error("Unknown MBQL clause "+JSON.stringify(e))}function b(e){return e?"True":"False"}function g(e){return JSON.stringify(e)}function w(e,t){var n=t.query;if(n){var r=n.parseFieldReference(e);return(0,i.tv)(r,t)}throw new Error("`query` is a required parameter to format expressions")}function O(e,t){var n=d(e,2)[1],o=t.query,a=r.ZP.findWhere(o.table().metrics,{id:n});if(!a)throw"metric with ID does not exist: "+n;return(0,i.OM)(a,t)}function j(e,t){var n=d(e,2)[1],o=t.query,a=r.ZP.findWhere(o.table().segments,{id:n});if(!a)throw"segment with ID does not exist: "+a;return(0,i.hH)(a,t)}function S(e,t){var n=s(e),r=n[0],o=n.slice(1);if((0,i.eL)(o)){var a=function(e){if(Object.prototype.hasOwnProperty.call(e,"case-sensitive")&&!e["case-sensitive"])return"case-insensitive";if(Object.prototype.hasOwnProperty.call(e,"include-current")&&e["include-current"])return"include-current"}(o.pop());a&&(o=[].concat(c(o),[a]))}var u=(0,i.zg)(r),l=o.map((function(e){return v(e,t)}));return 0===o.length?u:"".concat(u,"(").concat(l.join(", "),")")}function E(e,t){var n=s(e),r=n[0],o=n.slice(1);(0,i.eL)(o)&&(o=o.slice(0,-1));var a=(0,i.zg)(r)||r,l=o.map((function(e){var n=(0,i.S6)(e)&&i.JR[r]>i.JR[e[0]];return v(e,u(u({},t),{},{parens:n}))})),c=i.xC[r],f=c&&1===c.args.length?"".concat(a," ").concat(l[0]):l.join(" ".concat(a," "));return t.parens?"(".concat(f,")"):f}function _(e,t){var n=d(e,3),r=(n[0],n[1]),o=n[2],a=void 0===o?{}:o,u=(0,i.zg)("case"),l=r.map((function(e){var n=d(e,2),r=n[0],i=n[1];return v(r,t)+", "+v(i,t)})).join(", "),c=void 0!==a.default?", "+v(a.default,t):"";return"".concat(u,"(").concat(l).concat(c,")")}var x={"does-not-contain":"contains","not-empty":"is-empty","not-null":"is-null"};function P(e){var t=s(e),n=t[0],r=t.slice(1);return"string"==typeof x[n]&&r.length>=1}function C(e,t){var n=s(e),r=n[0],i=n.slice(1);return"NOT "+v([x[r]].concat(c(i)),t)}},37519:function(e,t,n){"use strict";n.d(t,{fq:function(){return r.fq},xC:function(){return r.xC},JR:function(){return r.JR},Vv:function(){return r.Vv},fb:function(){return r.fb},zg:function(){return r.zg},nv:function(){return r.nv},j4:function(){return a},h8:function(){return c},OM:function(){return s},AB:function(){return f},hH:function(){return d},rU:function(){return p},tv:function(){return h},d9:function(){return m},u4:function(){return y},UT:function(){return g},n_:function(){return w},Uw:function(){return O},L:function(){return j},ED:function(){return S},S6:function(){return E},eL:function(){return _},mf:function(){return x},vM:function(){return P},Zd:function(){return C},A8:function(){return k},mk:function(){return A}});var r=n(4497),i=n(55799),o=n(83360);function a(e){for(var t="",n=0;n<e.length;++n){var r=e[n],i=e[n+1];("\\"!==r||"["!==i&&"]"!==i)&&(t+=r)}return t}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.quotes,i=void 0===n?r.RL:n;return i.identifierAlwaysQuoted||!/^\w+$/.test(e)||l(e)?b(e,i.identifierQuoteDefault):e}function l(e){return!!(0,r.nv)(e)}function c(e,t){return t.query.table().metrics.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}function s(e,t){return u(e.name,t)}function f(e,t){var n=t.query.table(),r=n.segments.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(r)return r;var i=n.fields.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));return null!=i&&i.isBoolean()?i:void 0}function d(e,t){return u(e.name,t)}function p(e,t){var n=t.reference;return t.query.dimensionOptions().all().filter((function(e){return!(e instanceof i.gK)||m(e)!==n})).find((function(t){return r.J_.symbols.some((function(n){return m(t,n)===e}))}))}function h(e,t){return u(m(e),t)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.J_.default;return e.render().replace(" ".concat(o.Co," "),t)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.quotes,i=void 0===n?r.RL:n;return b(e,i.literalQuoteDefault)}var v={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r"};function b(e,t){if('"'===t||"'"===t){for(var n="",r=0;r<e.length;++r){var i=e[r];if(i===t&&"\\"!==e[r-1])n+="\\"+i;else{var o=v[i];n+=o||i}}return t+n+t}if("["===t)return"["+function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];"["!==r&&"]"!==r||(t+="\\"),t+=r}return t}(e)+"]";if(""===t)return e;throw new Error("Unknown quoting: "+t)}function g(e){return w(e)||E(e)||x(e)||P(e)||j(e)||C(e)||k(e)||A(e)}function w(e){return O(e)||S(e)}function O(e){return"string"==typeof e}function j(e){return"boolean"==typeof e}function S(e){return"number"==typeof e}function E(e){return Array.isArray(e)&&r.fP.has(e[0])&&e.slice(1,_(e)?-1:0).every(g)}function _(e){return(t=e[e.length-1])&&Object.getPrototypeOf(t)===Object.prototype;var t}function x(e){return Array.isArray(e)&&r.r8.has(e[0])&&e.slice(1,_(e)?-1:0).every(g)}function P(e){return!!i.ZP.parseMBQL(e)}function C(e){return Array.isArray(e)&&"metric"===e[0]&&2===e.length&&"number"==typeof e[1]}function k(e){return Array.isArray(e)&&"segment"===e[0]&&2===e.length&&"number"==typeof e[1]}function A(e){return Array.isArray(e)&&"case"===e[0]}},60827:function(e,t,n){"use strict";n.d(t,{o3:function(){return h},Nv:function(){return m},wS:function(){return y}});var r,i,o,a,u,l,c,s=n(25312),f=["error"];function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h={Operator:1,Number:2,String:3,Identifier:4,Boolean:5},m={Comma:",",OpenParenthesis:"(",CloseParenthesis:")",Plus:"+",Minus:"-",Star:"*",Slash:"/",Equal:"=",NotEqual:"!=",LessThan:"<",GreaterThan:">",LessThanEqual:"<=",GreaterThanEqual:">=",Not:"not",And:"and",Or:"or",True:"true",False:"false"};function y(e){var t=e,n=e.length,y=0,v=function(e){return 9===e||10===e||11===e||12===e||13===e||32===e||133===e||160===e||5760===e||8192===e||8193===e||8194===e||8195===e||8196===e||8197===e||8198===e||8199===e||8200===e||8201===e||8202===e||8232===e||8233===e||8239===e||8287===e||12288===e},b=function(e){return e>=48&&e<=57},g=function(e){return e>=65&&e<=90||e>=97&&e<=122},w=function(){for(;y<n;){var e=t.charCodeAt(y);if(!v(e))break;++y}},O=function(){var e=y;switch(t[e]){case m.OpenParenthesis:case m.CloseParenthesis:case m.Comma:case m.Plus:case m.Minus:case m.Star:case m.Slash:case m.Equal:++y;break;case m.LessThan:case m.GreaterThan:++y,t[y]===m.Equal&&++y;break;case"!":t[e+1]===m.Equal&&(y+=2)}if(y===e)return null;var n=h.Operator,r=y;return{type:n,op:t.slice(e,r),start:e,end:r,error:null}},j=function(){for(var e=y;y<n;){var i=t.charCodeAt(y);if(!b(i))break;++y}if("."===t[y]){for(++y;y<n;){var o=t.charCodeAt(y);if(!b(o))break;++y}if(y-e<=1)return y=e,null}else if(y<=e)return null;var a=t[y];if("e"===a||"E"===a){++y;var u=t[y];"+"!==u&&"-"!==u||++y;for(var l=y;y<n;){var c=t.charCodeAt(y);if(!b(c))break;++y}if(y<=l)return{type:h.Number,start:e,end:y,error:(0,s.t)(r||(r=p(["Missing exponent"])))}}return{type:h.Number,start:e,end:y,error:null}},S=function(){var e=y,r=t[e];if("'"!==r&&'"'!==r)return null;++y;for(var o="";y<n;){var a=t[y++];if(a===r)break;if("\\"===a){var u=t[y++];if(u)switch(u){case"b":o+="\b";break;case"f":o+="\f";break;case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"v":o+="\v";break;case'"':o+='"';break;default:o+=u}}else o+=a}var l=h.String,c=null;return r===t[y-1]||(y=e+1,o=r,c=(0,s.t)(i||(i=p(["Missing closing quotes"])))),{type:l,value:o,start:e,end:y,error:c}},E=function(){var e=y;if("["!==t[e])return null;for(++y;y<n;){var r=t[y++];if("]"===r)break;if("["===r)return{type:h.Identifier,start:e,end:y,error:(0,s.t)(o||(o=p(["Bracket identifier in another bracket identifier"])))};"\\"===r&&y++}var i=h.Identifier;return{type:i,start:e,end:y,error:"]"===t[y-1]?null:(0,s.t)(a||(a=p(["Missing a closing bracket"])))}},_=function(e){return g(e)||b(e)||46===e||95===e},x=function(){var e=y;if(!function(e){return g(e)||95===e}(t.charCodeAt(e)))return null;for(;y<n;){var r=t.charCodeAt(y);if(!_(r))break;++y}var i=y;if(y===e)return null;var o=t.slice(e,i).toLowerCase();if(o===m.Not||o===m.And||o===m.Or){return{type:h.Operator,op:o,start:e,end:i,error:null}}if(o===m.True||o===m.False){return{type:h.Boolean,op:o,start:e,end:i,error:null}}return{type:h.Identifier,start:e,end:i,error:null}};return function(){for(var e=[],r=[];y<n;){w();var i=O();if(i||(i=j()),i||(i=S()),i||(i=x()),i||(i=E()),i){var o=i,a=o.error,m=d(o,f);if(e.push(m),a){var v=a,b=m.start,g=m.end-m.start;r.push({message:v,pos:b,len:g})}}else{var _=t[y];if(!_)break;var P=y;if("]"===_){var C=e[e.length-1],k=C&&C.type===h.Identifier?t.slice(C.start,C.end):null,A=k?(0,s.t)(u||(u=p(["Missing an opening bracket for ",""])),k):(0,s.t)(l||(l=p(["Missing an opening bracket"])));r.push({message:A,pos:P,len:1})}else{var D=(0,s.t)(c||(c=p(["Invalid character: ",""])),_);r.push({message:D,pos:P,len:1})}++y}}return{tokens:e,errors:r}}()}},83360:function(e,t,n){"use strict";n.d(t,{Co:function(){return B},Nu:function(){return J},jK:function(){return X},uf:function(){return ee},Ud:function(){return re},Mg:function(){return de},Bw:function(){return Se},jL:function(){return xe},Bq:function(){return Pe},C5:function(){return Ce},_6:function(){return ke},kC:function(){return Ae},M9:function(){return De},MI:function(){return Re},OI:function(){return Ie},x9:function(){return Te},h4:function(){return Ne},lV:function(){return qe}});var r,i,o,a=n(91826),u=n.n(a),l=n(86339),c=n.n(l),s=n(56525),f=n.n(s),d=n(47152),p=n.n(d),h=n(32735),m=n(25312),y=n(10746),v=n.n(y),b=n(40659),g=n.n(b),w=n(98111),O=n(98958),j=n(47667),S=n(55316),E=n(63614),_=n(41921),x=n(54479),P=n(80198),C=n(51987),k=n(30163),A=n(96588),D=n(98399);function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B="",z={compact:!1,maximumFractionDigits:2};function F(e){var t=Z({},z);return"number"!=typeof e.decimals||isNaN(e.decimals)||(t.minimumFractionDigits=e.decimals,t.maximumFractionDigits=e.decimals),t}var Q,V=u().format(".2f"),U=u().format(",.f"),H=u().format(".08f"),Y=u().format(".02f"),G=function(e,t){return u().format(".0".concat((0,_.SN)(t),"f"))(e)},W=function(e){return e.compact||e.date_abbreviate?"MMM":"MMMM"},$="  ",K=/([\+\-])?[^0-9]*([0-9\., ]+)/;function J(e){return e=Z(Z({},F(e)),e),new Intl.NumberFormat("en",{style:e.number_style,currency:e.currency,currencyDisplay:e.currency_style,useGrouping:!0,minimumIntegerDigits:e.minimumIntegerDigits,minimumFractionDigits:e.minimumFractionDigits,maximumFractionDigits:e.maximumFractionDigits,minimumSignificantDigits:e.minimumSignificantDigits,maximumSignificantDigits:e.maximumSignificantDigits})}function X(e){var t;return Q||(Q=Object.fromEntries(A.currency)),(null===(t=Q[e])||void 0===t?void 0:t.symbol)||e||"$"}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"!=typeof(t=Z(Z({},F(t)),t)).scale||isNaN(t.scale)||(e=t.scale*e),e<0&&t.negativeInParentheses)return"("+ee(-e,Z(Z({},t),{},{negativeInParentheses:!1}))+")";if(t.compact)return ie(e,t);if("scientific"===t.number_style)return ne(e,t);try{var n=(e<1&&e>-1&&null==t.decimals?J(Z(Z({},t),{},{maximumSignificantDigits:Math.max(2,t.minimumSignificantDigits||0),maximumFractionDigits:void 0})):t._numberFormatter?t._numberFormatter:J(t)).format(e);if("cell"===t.type&&t.currency_in_header&&"currency"===t.number_style){var r=n.match(K);r&&(n=(r[1]||"").trim()+(r[2]||"").trim())}var i=t.number_separators;return i&&".,"!==i&&(n=te(n,i)),n}catch(n){return D.warn("Error formatting number",n),U(u().round(e,t.maximumFractionDigits))}}function te(e,t){var n=T((t||".,").split(""),2),r=n[0],i={",":n[1]||"",".":r};return e.replace(/,|\./g,(function(e){return i[e]}))}function ne(e,t){t.maximumFractionDigits&&(e=u().round(e,t.maximumFractionDigits));var n=te(e.toExponential(t.minimumFractionDigits),null==t?void 0:t.number_separators);if(t.jsx){var r=T(n.split("e"),2),i=r[0],o=r[1];return h.createElement("span",null,i,"10",h.createElement("sup",null,o.replace(/^\+/,"")))}return n}var re={digits:2,currency_style:"symbol"};function ie(e,t){if("percent"===t.number_style)return oe(100*e)+"%";if("currency"===t.number_style)try{var n=J(Z(Z({},t),re));return Math.abs(e)<1e3?n.format(e):n.formatToParts(e).find((function(e){return"currency"===e.type})).value+oe(e)}catch(t){return oe(e)}return"scientific"===t.number_style?ne(e,Z(Z({},t),{},{maximumFractionDigits:void 0,minimumFractionDigits:1})):oe(e)}function oe(e){return 0===e?"0":Math.abs(e)<1e3?V(e).replace(/\.?0+$/,""):p().compactInteger(Math.round(e),1)}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.column&&t.column.binning_info&&t.column.binning_info.bin_width,r="";(0,O.s$)(t.column)?(r=" "+(e<0?"S":"N"),e=Math.abs(e)):(0,O.C2)(t.column)&&(r=" "+(e<0?"W":"E"),e=Math.abs(e));var i=n?G(e,n):t.compact?Y(e):H(e);return i+""+r}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.map((function(e){return t(e,n)})),i=T(r,2),o=i[0],a=i[1];return n.jsx&&"string"!=typeof o||"string"!=typeof a?h.createElement("span",null,o," ",$," ",a):"".concat(o," ").concat($," ").concat(a)}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(n=Z({jsx:!1,majorWidth:3},n)).jsx?h.createElement("span",null,h.createElement("span",{style:{minWidth:n.majorWidth+"em"},className:"inline-block text-right text-bold"},e)," - ",h.createElement("span",null,t)):"".concat(e," - ").concat(t)}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,j.ZB)(e,t,n.local);if(!r.isValid())return String(e);var i="tooltip"===n.type?"MMMM":W(n),o=n.compact||"tooltip"===n.type,a=r.clone().startOf(t),u=r.clone().endOf(t),l=r.diff(a,"days");return[a,u].forEach((function(e){return e.add(l,"days")})),a.isValid()&&u.isValid()?o&&a.year()===u.year()?a.month()!==u.month()?a.format("".concat(i," D"))+$+u.format("".concat(i," D, YYYY")):a.format("".concat(i," D"))+$+u.format("D, YYYY"):a.format("".concat(i," D, YYYY"))+$+u.format("".concat(i," D, YYYY")):se(r,n)}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le(e.format("wo"),e.format("gggg"),t)}function fe(e,t,n,r){var i=(0,j.ZB)(e,r.column&&r.column.unit,r.local);if(!i.isValid())return String(e);var o=[];return t&&o.push(function(e,t){return e.replace(/\bMMMM\b/g,W(t)).replace(/\bdddd\b/g,function(e){return e.compact||e.date_abbreviate?"ddd":"dddd"}(t))}(t,r)),n&&r.time_enabled&&!(0,O.O0)(r.column)&&o.push(n),i.format(o.join(", "))}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.isExclude&&"hour-of-day"===t)return f().utc(e).format("h A");if(n.isExclude&&"day-of-week"===t){var r=f().utc(e);if(r.isValid())return r.format("dddd")}var i=(0,j.ZB)(e,t,n.local);if(!i.isValid())return String(e);if("week"===t&&("tooltip"===n.type||"cell"===n.type)&&!n.noRange)return ce(e,t,n);var o=(n=Z({date_style:P.VN,time_style:P.Wd,time_enabled:(0,P.C)(t)?"minutes":null},n)).date_format,a=n.time_format;return o||(o=(0,P.OD)(n.date_style,t,n.date_separator)),a||(a=(0,P.cw)(n.time_style,t,n.time_enabled)),fe(i,o,a,n)}function pe(e){var t=(0,j.TD)(e);return t.isValid()?t.format("LT"):String(e)}var he=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.jsx,r=t.rich,i=t.view_as,o=void 0===i?"auto":i,a=t.link_text,u=t.clicked,l=String(e),c=u&&a?(0,C.n)(a,(0,x.If)(u)):null;return n&&r&&("email_link"===o||"auto"===o)&&he.test(l)?h.createElement(w.Z,{href:"mailto:"+l},c||l):l}function ye(e){try{return new URL(e).protocol}catch(e){return}}function ve(e,t){var n=t.view_as,r=t.link_url,i=t.clicked,o=t.column,a="link"===n;if(a&&(r&&i))return(0,C.z)(r,(0,x.If)(i));var u=ye(e),l=u&&function(e){return"javascript:"!==e&&"data:"!==e&&"file:"!==e}(u);if(!l)return null;if(a)return e;var c=u&&function(e){return"http:"===e||"https:"===e||"mailto:"===e}(u);return"auto"===n&&c||void 0===n&&((0,O.PX)(o)||c)?e:null}function be(e,t){var n=t.view_as,r=t.link_text,i=t.clicked;return"link"===n&&(r&&i)?(0,C.n)(r,(0,x.If)(i)):Ee(e,t)||Se(e,Z(Z({},t),{},{view_as:null}))}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.jsx,r=t.rich,i=ve(e,t);if(n&&r&&i){var o=be(e,t);return h.createElement(w.Z,{className:"link link--wrappable",href:i},o)}return e}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.jsx,r=t.rich,i=t.view_as,o=void 0===i?"auto":i,a=(t.link_text,String(e)),u=ye(a),l="http:"===u||"https:"===u;return n&&r&&"image"===o&&l?h.createElement("img",{src:a,style:{height:30}}):a}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!==t.view_as&&("string"==typeof(e=ge(e,t))&&(e=me(e,t)),"string"==typeof e&&(e=we(e,t))),e}var je={a:function(e){var t=e.href,n=e.children;return h.createElement(w.Z,{href:t},n)}};function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.click_behavior&&(0,x.v8)(t.click_behavior)&&"image"!==t.view_as&&(t=Z(Z({},t),{},{view_as:null}));var n=_e(e,t),r={};try{r=JSON.parse(e)}catch(e){}if(t.markdown_template){if(t.jsx){var i=v().render(t.markdown_template,{value:n,raw:e,json:r});return h.createElement(g(),{components:je},i)}return D.warn("formatValue: options.markdown_template not supported when options.jsx = false"),n}return t.prefix||t.suffix?t.jsx&&"string"!=typeof n?h.createElement("span",null,t.prefix||"",n,t.suffix||""):"".concat(t.prefix||"").concat(n).concat(t.suffix||""):n}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.remap,r=t.column;if(n&&r){if(r.hasRemappedValue&&r.hasRemappedValue(e))return r.remappedValue(e);if(r.remapping instanceof Map&&r.remapping.has(e))return r.remapping.get(e)}}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t=Z({jsx:!1,remap:!0},t),r=n.column,i=Ee(e,t);if(void 0!==i&&"link"!==t.view_as)return i;if(e===k.Dv)return k.rd;if(null===e&&(0,O.gy)(r))return JSON.stringify(!1);if(null==e)return null;if("image"!==t.view_as&&t.click_behavior&&(0,x.v8)(t.click_behavior)&&t.jsx)return h.createElement("div",{className:"link link--wrappable"},_e(e,Z(Z({},t),{},{jsx:!1})));if(t.click_behavior&&t.click_behavior.linkTextTemplate)return(0,C.n)(t.click_behavior.linkTextTemplate,(0,x.If)(t.clicked));if((0,O.PX)(r)&&null!==t.view_as||"link"===t.view_as)return ge(e,t);if((0,O.Jh)(r))return me(e,t);if((0,O.og)(r))return pe(e);if(r&&null!=r.unit)return de(e,r.unit,t);if((0,O.J_)(r)||f().isDate(e)||f().isMoment(e)||f()(e,["YYYY-MM-DD'T'HH:mm:ss.SSSZ"],!0).isValid())return de(e,"minute",t);if("string"==typeof e)return r&&null!=r.semantic_type?e:Oe(e,t);if("number"==typeof e&&(0,O.Mn)(r)){var o=(0,S.Lx)(e,r);return o&&!t.noRange?ue(o,ae,t):ae(e,t)}if("number"==typeof e&&(0,O.hj)(r)){var a=(0,S.Lx)(e,r);return a&&!t.noRange?ue(a,ee,t):ee(e,t)}return"boolean"==typeof e&&(0,O.gy)(r)||"object"===I(e)?JSON.stringify(e):String(e)}function xe(e){if(e){if(null!=e.remapped_to_column)return xe(e.remapped_to_column);var t=(0,E.RY)(e);return e.unit&&"default"!==e.unit&&(t+=": "+Ae(e.unit.replace(/-/g," "))),t}return""}function Pe(e){return e?e.dimensions&&e.dimensions.name?e.dimensions.name:e.display_name||e.name:""}function Ce(){return c().singularize.apply(c(),arguments)}function ke(){return c().pluralize.apply(c(),arguments)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lowercase,r=void 0===n||n,i=e.charAt(0).toUpperCase(),o=e.slice(1);return r&&(o=o.toLowerCase()),i+o}function De(){return c().inflect.apply(c(),arguments)}function Re(){return c().titleize.apply(c(),arguments)}function Ie(){return c().humanize.apply(c(),arguments)}function Te(e){var t=6e4,n=36e5;if(e>=n){var a=Math.round(e/n);return(0,m.ngettext)((0,m.msgid)(r||(r=R([""," hour"])),a),"".concat(a," hours"),a)}if(e>=t){var u=Math.round(e/t);return(0,m.ngettext)((0,m.msgid)(i||(i=R([""," minute"])),u),"".concat(u," minutes"),u)}var l=Math.round(e/1e3);return(0,m.ngettext)((0,m.msgid)(o||(o=R([""," second"])),l),"".concat(l," seconds"),l)}function Ne(e){return e&&e.replace(/ id$/i,"").trim()}function qe(e){return e&&encodeURIComponent(e.toLowerCase().replace(/\s/g,"_"))}},80198:function(e,t,n){"use strict";n.d(t,{VN:function(){return u},OD:function(){return l},C:function(){return f},yp:function(){return d},Wd:function(){return p},cw:function(){return h},gw:function(){return m}});var r=n(47667),i=n(98399),o={year:"YYYY",quarter:"[Q]Q - YYYY","minute-of-hour":"m","day-of-week":"dddd","day-of-month":"D","day-of-year":"DDD","week-of-year":"wo","month-of-year":"MMMM","quarter-of-year":"[Q]Q"},a={"M/D/YYYY":{month:"M/YYYY"},"D/M/YYYY":{month:"M/YYYY"},"YYYY/M/D":{month:"YYYY/M",quarter:"YYYY - [Q]Q"},"MMMM D, YYYY":{month:"MMMM, YYYY"},"D MMMM, YYYY":{month:"MMMM, YYYY"},"dddd, MMMM D, YYYY":{week:"MMMM D, YYYY",month:"MMMM, YYYY"}},u="MMMM D, YYYY";function l(e,t,n){var r=function(e){return n&&e?e.replace(/\//g,n):e};if(t||(t="default"),a[e]){if(a[e][t])return r(a[e][t])}else i.warn("Unknown date style",e);return r(o[t]?o[t]:e)}var c=new Set(["default","minute","hour","hour-of-day"]),s=new Set(["default","minute","hour","day","week"]),f=function(e){return null==e||c.has(e)},d=function(e){return null==e||s.has(e)},p="h:mm A";function h(e,t,n){var r=e;return n&&"milliseconds"!==n?"seconds"===n?r.replace(/mm/,"mm:ss"):r:r.replace(/mm/,"mm:ss.SSS")}function m(e,t){var n=(0,r.ZB)(e,t);if(!n.isValid())return String(e);if("month"===t)return n.format("YYYY-MM");if("quarter"===t)return n.format("[Q]Q-YYYY");if("day"===t)return n.format("YYYY-MM-DD");if(t){var i=n.clone().startOf(t),o=n.clone().endOf(t);return i.isValid()&&o.isValid()?i.isSame(o,"day")?i.format("YYYY-MM-DD"):"".concat(i.format("YYYY-MM-DD"),"~").concat(o.format("YYYY-MM-DD")):String(e)}}},51987:function(e,t,n){"use strict";n.d(t,{n:function(){return c},z:function(){return s}});var r=n(98958),i=n(83360),o=n(80198),a=n(98399);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return f(e,t,(function(e){var t=e.value,n=e.column;return(0,i.Bw)(t,{column:n})}))}function s(e,t){return f(e,t,(function(e){var t=e.value,n=e.column;return encodeURIComponent(function(e,t){return(0,r.J_)(t)&&t.unit?(0,o.gw)(e,t.unit):e}(t,n))}))}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.value};return e.replace(/{{([^}]+)}}/g,(function(e,r){var i=d(t,r);return i?n(i):(a.warn("Missing value for "+name),"")}))}function d(e,t){for(var n=e.column,r=e.parameterBySlug,i=e.parameterByName,o=e.userAttribute,a=t.toLowerCase(),l=[["column",n],["filter",i],["filter",r],["user",o]],c=0,s=l;c<s.length;c++){var f=u(s[c],2),d=f[0],p=f[1],h=d+":";if(a.startsWith(h))return p[a.slice(h.length)]}for(var m=0,y=l;m<y.length;m++){var v=u(y[m],2)[1];if(v[a])return v[a]}return""}},37582:function(e,t,n){"use strict";n.d(t,{vK:function(){return c},YO:function(){return s},xY:function(){return d},dy:function(){return p},nI:function(){return h},tb:function(){return m}});var r,i,o,a=n(25312);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=new Map([["All Users",(0,a.t)(r||(r=u(["All Users"])))],["Administrators",(0,a.t)(i||(i=u(["Administrators"])))],["MetaBot",(0,a.t)(o||(o=u(["MetaBot"])))]]);function c(e){return"All Users"===e.name}function s(e){return"Administrators"===e.name}function f(e){return"MetaBot"===e.name}function d(e){return c(e)||f(e)}function p(e){return!c(e)&&!f(e)}function h(e){return s(e)?"text-purple":c(e)?"text-medium":"text-brand"}function m(e){return l.has(e.name)?l.get(e.name):e.name}},11319:function(e,t,n){"use strict";n.d(t,{Uo:function(){return s}});var r=n(25312),i=n(56525),o=n.n(i),a=n(35463),u=n(98399);function l(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,u,"next",e)}function u(e){l(o,r,i,a,u,"throw",e)}a(void 0)}))}}function s(e){return f.apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(11093),i=r.I18NApi,"en"===t){e.next=7;break}return e.next=4,i.locale({locale:t});case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0={headers:{language:"en","plural-forms":"nplurals=2; plural=(n != 1);"},translations:{"":{Metabase:{msgid:"Metabase",msgstr:["Metabase"]}}}};case 8:p(e.t0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){var e=a.Z.get("start-of-week");if(e){var t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(e);-1!==t&&(u.log("Setting moment.js start of week for Locale",o().locale(),"to",e),o().updateLocale(o().locale(),{week:{dow:t}}))}}function p(e){var t=e.headers.language;!function(e){var t=e.translations[""];for(var n in t)void 0===t[n].msgid&&(t[n].msgid=n)}(e),(0,r.addLocale)(t,e),(0,r.useLocale)(t),function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("zh-Hans"===e)return"zh-cn";return e.toLowerCase()}(e);try{"en"!==t&&n(84179)("./"+t),o().locale(t)}catch(e){u.warn("Could not set moment locale to ".concat(t)),o().locale("en")}}(t),d()}a.Z.on("start-of-week",d),window.MetabaseLocalization&&p(window.MetabaseLocalization)},4451:function(e,t,n){"use strict";n.d(t,{bs:function(){return r},OC:function(){return i},E$:function(){return o},vR:function(){return a},rw:function(){return u},cS:function(){return l},sY:function(){return c}});var r=8,i=9,o=13,a=27,u=38,l=40,c=","},18612:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(){if("object"!==("undefined"==typeof performance?"undefined":r(performance)))return function(){};var e=performance.now();return function(t){return t(performance.now()-e)}}n.d(t,{X:function(){return i}})},9841:function(e,t,n){"use strict";function r(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))}));return n.cancel=function(){t=!0},n}function i(e){return new Promise((function(t,n){return setTimeout(t,e)}))}function o(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}n.d(t,{L5:function(){return r},gw:function(){return i},PQ:function(){return o}})},34344:function(e,t,n){"use strict";n.d(t,{C2:function(){return d},rP:function(){return h},eG:function(){return m},M:function(){return y}});var r=n(30558),i=n(38908),o=n(36574),a=n(68594),u=n(98399);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=2e3,p={query:{database:null,type:"query",query:{"source-table":null}},native:{database:null,type:"native",native:{query:""}}};function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"query",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=i.Z.copy(p[e]);return t&&(r.database=t),"query"===e&&t&&n&&(r.query["source-table"]=n),r}function m(e){return e&&"query"===e.type}function y(e){if(!e)return e;e.aggregation=o.tm(e),0===e.aggregation.length&&delete e.aggregation,e.breakout=o.pl(e),0===e.breakout.length&&delete e.breakout;var t=o.Zj(e).filter((function(e){return r.ZP.all(e,(function(e){return null!=e}))}));return t.length>0?e.filter=["and"].concat(c(t)):delete e.filter,e["order-by"]&&(e["order-by"]=e["order-by"].map((function(t){var n=l(t,2),r=n[0],i=n[1];if(!a.Zs(i)||null==r)return null;if(a.h1(i)){if(function(e,t){if(!v(e))return!1;var n=o.tm(e);return n[t]&&n[t][0]}(e,i[1]))return t}else if(v(e)){if(e.breakout.filter((function(e){return a.ZH(e,i,!0)})).length>0)return t;var c=e.breakout.filter((function(e){return a.ZH(e,i,!1)}));if(c.length>0)return c.length>1&&u.warn("Sort clause matches more than one breakout field",i,c),[r,c[0]]}else if(o.It(e))return t;return null})).filter((function(e){return null!=e})),0===e["order-by"].length&&delete e["order-by"]),"number"!=typeof e.limit&&delete e.limit,e.expressions&&delete e.expressions[""],e}function v(e){return e&&e.breakout&&e.breakout.length>0&&null!==e.breakout[0]}},74601:function(e,t,n){"use strict";n.d(t,{tm:function(){return a},U$:function(){return l},Le:function(){return c},XZ:function(){return s},W9:function(){return f},It:function(){return d},Kg:function(){return p},Zd:function(){return h},UK:function(){return m}});var r=n(77058),i=n(68594),o=n(37519);n(30558);function a(e){return(Array.isArray(e)&&Array.isArray(e[0])?e:Array.isArray(e)&&"string"==typeof e[0]?[e]:[]).filter((function(e){return e&&e[0]&&"rows"!==e[0]}))}function u(e){return 0===(e=a(e)).length?void 0:e}function l(e,t){return u((0,r.IH)(a(e),t))}function c(e,t,n){return u((0,r.Vx)(a(e),t,n))}function s(e,t){return u((0,r.Od)(a(e),t))}function f(e){return u((0,r.ZH)())}function d(e){return 0===a(e).length}function p(e){return Array.isArray(e)&&o.Vv.has(e[0])&&(null==e[1]||i.Zs(e[1]))}function h(e){return Array.isArray(e)&&"metric"===e[0]}function m(e){return!p(e)&&!h(e)}},66343:function(e,t,n){"use strict";n.d(t,{FY:function(){return u},fM:function(){return l},wY:function(){return c},Cv:function(){return s},g9:function(){return f},q2:function(){return d}});var r=n(30558);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return o(o({},e),{},a({},t,n))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return null!=r&&(e=s(e,r)),l(e,t,n)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return r.ZP.omit(e,t)}function f(e){return{}}function d(e,t){if(!e[t])return t;var n=Object.keys(e),r=new RegExp("^".concat(t," \\([0-9]+\\)$")),i=n.filter((function(e){return e===t||r.test(e)}));return p(i,t,i.length)}function p(e,t,n){var r="".concat(t," (").concat(n,")");return!e.includes(r)?r:p(e,t,n+1)}},1861:function(e,t,n){"use strict";n.d(t,{xS:function(){return c},L4:function(){return s},QZ:function(){return f},Ee:function(){return d},W6:function(){return p},LP:function(){return h}});var r=n(30558),i=n(77058);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(e||[]).filter((function(e){return null!=e}))}function l(e){return 0===(e=u(e)).length?void 0:e}function c(e,t){return l((0,i.IH)(u(e),t))}function s(e,t,n){return l((0,i.Vx)(u(e),t,n))}function f(e,t){return l((0,i.Od)(u(e),t))}function d(e){return l((0,i.ZH)())}function p(e){var t=e&&e.values;return Array.isArray(t)?0===t.length||Array.isArray(t[0])?t:t.map((function(e){return[e]})):t&&Array.isArray(t.values)?Array.isArray(t.human_readable_values)?r.ZP.zip(t.values,t.human_readable_values||{}):Array.isArray(t.values)?p(t):[]:[]}function h(e){var t=e&&e.remappings||[],n=p(e);return[].concat(o(n),o(t))}},68594:function(e,t,n){"use strict";n.d(t,{Ky:function(){return h},mZ:function(){return d},h1:function(){return c},K:function(){return m},Rd:function(){return l},S4:function(){return p},qJ:function(){return u},ZH:function(){return f},Zs:function(){return s}});var r=n(30558),i=(n(89326),n(55799));n(91664);var o=n(98399);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e){return Array.isArray(e)&&"field"===e[0]}function l(e){return Array.isArray(e)&&"expression"===e[0]}function c(e){return Array.isArray(e)&&"aggregation"===e[0]}function s(e){return u(e)&&3===e.length||l(e)&&r.ZP.isString(e[1])||c(e)&&"number"==typeof e[1]}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?r.ZP.isEqual(e,t):d(e)===d(t)}function d(e){if(u(e)){var t=a(e[1]);return"number"===t||"string"===t?e[1]:e}if(l(e)&&r.ZP.isString(e[1]))return e[1];o.warn("Unknown field type:",e)}function p(e){return s(e)&&u(e)&&"string"==typeof e[1]}function h(e){if(u(e)){var t=i.T7.parseMBQLOrWarn(e);return t&&t.temporalUnit()}}function m(e){return Boolean(h(e))}},23445:function(e,t,n){"use strict";n.d(t,{Zj:function(){return m},KJ:function(){return v},a8:function(){return b},ku:function(){return g},K5:function(){return w},GL:function(){return O},Kg:function(){return j},A8:function(){return S},UK:function(){return E},dN:function(){return _},Gp:function(){return x},dt:function(){return P},O1:function(){return C}});var r=n(77058),i=n(68594),o=n(37519),a=n(98958),u=n(30558),l=n(67478);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e){return function(e){if(Array.isArray(e))return e}(e)||p(e)||d(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return h(e)}(e)||p(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function p(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return!e||Array.isArray(e)&&0===e.length?[]:"and"===(0,r.op)(e)?(0,r.WC)(e):[e]}function y(e){return 0===e.length?void 0:1===e.length?e[0]:["and"].concat(f(e))}function v(e,t){return y((0,r.IH)(m(e),t))}function b(e,t,n){return y((0,r.Vx)(m(e),t,n))}function g(e,t){return y((0,r.Od)(m(e),t))}function w(e){return y((0,r.ZH)())}function O(e){var t=m(e);return!(t.length>0)||(0,r.fG)(t[t.length-1])}function j(e){if(!Array.isArray(e))return!1;var t=function(e){return!e||function(e){return(0,o.n_)(e)||"boolean"==typeof e}(e)},n=s(e),r=n[0],c=n[1],f=n.slice(2);if((0,l.U8)(e))return!0;if(o.fq.has(r)||"between"===r)return(0,i.Zs)(c)&&u.ZP.all(f,(function(e){return t(e)}));var d=(0,a.rF)(a.jd,r);if(d){var p=u.ZP.keys(d.options),h=u.ZP.filter(f,(function(e){return!function(e){return u.ZP.contains(p,u.ZP.first(u.ZP.keys(e)))}(e)}));return(0,i.Zs)(c)&&u.ZP.all(h,(function(e){return t(e)}))}return(o.fb.has(r)||null===r)&&(void 0===c||(0,i.Zs)(c))}function S(e){return Array.isArray(e)&&"segment"===e[0]}function E(e){return!j(e)&&!S(e)}function _(e){return!S(e)&&(0,i.Zs)(e[1])}function x(e){var t=e[e.length-1];return!!t&&"object"==c(t)&&t.constructor===Object}function P(e){var t=e;return x(e)?t[t.length-1]:{}}function C(e,t){var n=e;return x(e)&&(n=n.slice(0,-1)),Object.keys(t).length>0&&(n=[].concat(f(n),[t])),n}},36574:function(e,t,n){"use strict";n.d(t,{U$:function(){return O},mV:function(){return P},fM:function(){return te},xS:function(){return Y},KJ:function(){return R},gD:function(){return Z},ay:function(){return Q},GL:function(){return q},W9:function(){return E},R4:function(){return A},g9:function(){return ie},Ee:function(){return $},K5:function(){return N},DG:function(){return z},ZM:function(){return X},Th:function(){return H},tm:function(){return w},pl:function(){return x},FY:function(){return ee},Zj:function(){return D},kb:function(){return M},iX:function(){return K},H9:function(){return F},It:function(){return _},XZ:function(){return S},Qo:function(){return k},Cv:function(){return re},QZ:function(){return W},ku:function(){return T},QM:function(){return B},nX:function(){return U},Le:function(){return j},vS:function(){return C},wY:function(){return ne},L4:function(){return G},a8:function(){return I},ib:function(){return L},L_:function(){return J},W8:function(){return V}});var r=n(74601),i=n(77058);function o(e){return(e||[]).filter((function(e){return null!=e}))}function a(e){return 0===(e=o(e)).length?void 0:e}var u=n(23445);function l(e){return(e||[]).filter((function(e){return null!=e}))}function c(e){return 0===(e=l(e)).length?void 0:e}function s(e){return(e||[]).filter((function(e){return null!=e}))}function f(e){return 0===(e=s(e)).length?void 0:e}var d=n(66343),p=n(1861),h=n(68594);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){return r.tm(e.aggregation)},O=function(e,t){return oe(e,r.U$(e.aggregation,t))},j=function(e,t,n){return oe(e,r.Le(e.aggregation,t,n))},S=function(e,t){return oe(e,r.XZ(e.aggregation,t))},E=function(e){return oe(e,r.W9(e.aggregation))},_=function(e){return r.It(e.aggregation)},x=function(e){return o(e.breakout)},P=function(e,t){return ae(e,function(e,t){return a((0,i.IH)(o(e),t))}(e.breakout,t))},C=function(e,t,n){return ae(e,function(e,t,n){return a((0,i.Vx)(o(e),t,n))}(e.breakout,t,n))},k=function(e,t){return ae(e,function(e,t){return a((0,i.Od)(o(e),t))}(e.breakout,t))},A=function(e){return ae(e,(e.breakout,a((0,i.ZH)())))},D=function(e){return u.Zj(e.filter)},R=function(e,t){return ue(e,u.KJ(e.filter,t))},I=function(e,t,n){return ue(e,u.a8(e.filter,t,n))},T=function(e,t){return ue(e,u.ku(e.filter,t))},N=function(e){return ue(e,u.K5(e.filter))},q=function(e){return u.GL(e.filter)},M=function(e){return l(e.joins)},Z=function(e,t){return le(e,function(e,t){return c((0,i.IH)(l(e),t))}(e.joins,t))},L=function(e,t,n){return le(e,function(e,t,n){return c((0,i.Vx)(l(e),t,n))}(e.joins,t,n))},B=function(e,t){return le(e,function(e,t){return c((0,i.Od)(l(e),t))}(e.joins,t))},z=function(e){return le(e,(e.joins,c((0,i.ZH)())))},F=function(e){return s(e["order-by"])},Q=function(e,t){return ce(e,(n=e["order-by"],r=t,f((0,i.IH)(s(n),r))));var n,r},V=function(e,t,n){return ce(e,function(e,t,n){return f((0,i.Vx)(s(e),t,n))}(e["order-by"],t,n))},U=function(e,t){return ce(e,function(e,t){return f((0,i.Od)(s(e),t))}(e["order-by"],t))},H=function(e){return ce(e,(e["order-by"],f((0,i.ZH)())))},Y=function(e,t){return se(e,p.xS(e.fields,t))},G=function(e,t,n){return se(e,p.L4(e.fields,t,n))},W=function(e,t){return se(e,p.QZ(e.fields,t))},$=function(e){return se(e,p.Ee(e.fields))},K=function(e){return e.limit},J=function(e,t){return fe(e,function(e,t){return t}(e.limit,t))},X=function(e){return fe(e,void e.limit)},ee=function(e){return d.FY(e.expressions)},te=function(e,t,n){return de(e,d.fM(e.expressions,t,n))},ne=function(e,t,n,r){return de(e,d.wY(e.expressions,t,n,r))},re=function(e,t){return de(e,d.Cv(e.expressions,t))},ie=function(e){return de(e,d.g9(e.expressions))};function oe(e,t){var n=r.It(e.aggregation),i=r.It(t);return i!==n&&(e=$(e),e=H(e)),i&&(e=A(e)),pe("aggregation",e,t)}function ae(e,t){var n,r=o(t).map((function(e){return h.mZ(e)})).filter((function(e){return null!=e})),i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(F(e).entries());try{var a=function(){var i=v(n.value,2),a=i[0],u=i[1],l=u[1],c=h.mZ(l);if(null!=c)if(r.includes(c)){var s=o(t).find((function(e){return h.mZ(e)===c}));if(s){var f=u[0];e=V(e,a,[f,s])}}else e=U(e,a)};for(i.s();!(n=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return pe("breakout",e=$(e),t)}function ue(e,t){return pe("filter",e,t)}function le(e,t){return pe("joins",e,t)}function ce(e,t){return pe("order-by",e,t)}function se(e,t){return pe("fields",e,t)}function fe(e,t){return pe("limit",e,t)}function de(e,t){return t&&0===Object.keys(t).length&&(t=null),pe("expressions",e,t)}function pe(e,t,n){return t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),null==n?delete t[e]:t[e]=n,t}},77058:function(e,t,n){"use strict";n.d(t,{fG:function(){return a},op:function(){return u},WC:function(){return l},IH:function(){return c},Vx:function(){return s},Od:function(){return f},ZH:function(){return d}});var r=n(30558);n(98399);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){return r.ZP.all(e,(function(e){return null!=e}))},u=function(e){return e[0]},l=function(e){return e.slice(1)},c=function(e,t){return[].concat(i(e),[t])},s=function(e,t,n){return[].concat(i(e.slice(0,t)),[n],i(e.slice(t+1)))},f=function(e,t){return[].concat(i(e.slice(0,t)),i(e.slice(t+1)))},d=function(){return[]}},67478:function(e,t,n){"use strict";n.d(t,{$O:function(){return le},Bz:function(){return ce},mc:function(){return se},p9:function(){return de},QA:function(){return me},U8:function(){return ye},LV:function(){return ve},_W:function(){return be},Mg:function(){return ge},pe:function(){return Oe},iv:function(){return je},wN:function(){return Se},cQ:function(){return Ee},Pc:function(){return _e},L3:function(){return xe},dE:function(){return ke},tD:function(){return Ae},Dc:function(){return De},Gj:function(){return Re},M:function(){return Ie},pO:function(){return Te},ZT:function(){return Ne}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q=n(30558),V=n(53806),U=n.n(V),H=n(55446),Y=n(86339),G=n.n(Y),W=n(25312),$=n(83360),K=n(47667),J=n(55799),X=n(98399);function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ne(e,t){return ue(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||oe(e,t)||ie()}function re(e){return ue(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||ie()}function ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e){if(Array.isArray(e))return e}var le=["minute","hour","day","week","month","quarter","year","hour-of-day","day-of-week","day-of-month","week-of-year","month-of-year","quarter-of-year"];function ce(e){var t;t="time-interval"===e[0]?function(e){var t=ne(e,5),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=!(null==a||!a["include-current"]);if("time-interval"!==n)throw new Error("translateTimeInterval expects operator 'time-interval'");"current"===i?i=0:"last"===i?i=-1:"next"===i&&(i=1);var l=J.T7.parseMBQLOrWarn(r);l&&(r=l.withTemporalUnit(o).mbql());return i<-1?["between",r,["relative-datetime",i-1,o],["relative-datetime",u?0:-1,o]]:i>1?["between",r,["relative-datetime",u?0:1,o],["relative-datetime",i,o]]:0===i?["=",r,["relative-datetime","current"]]:u?["between",r,["relative-datetime",i<0?i:0,o],["relative-datetime",i<0?0:i,o]]:["=",r,["relative-datetime",i,o]]}(e):e;var n,r,i=re(t),o=i[0],a=i[1],u=i.slice(2),l=he(a,"day");if(ye(e)){var c=ne(ve(e),2),s=c[0],f=c[1],d=ne(je(e),2),p=d[0],h=d[1],m=U()().startOf(h).add(-s,f);n=m.clone().add(p<0?p:0,h),r=m.clone().add(p<0?0:p,h),["day","week","month","quarter","year"].indexOf(h)>-1&&(r=r.add(-1,"day"))}else if("="===o&&u[0]){var y=pe(u[0]);n=y.clone().startOf(l),r=y.clone().endOf(l)}else">"===o&&u[0]?(n=pe(u[0]).endOf(l),r=U()(new Date(864e12))):"<"===o&&u[0]?(n=U()(new Date(-864e12)),r=pe(u[0]).startOf(l)):"between"===o&&u[0]&&u[1]&&(n=pe(u[0]).startOf(l),r=pe(u[1]).endOf(l));return[n,r]}function se(e){var t=re(e),n=t[0],i=t[1],o=t.slice(2),a=he(i);if("time-interval"===n){var u=ne(o,2);return fe(u[0],u[1])}if(ye(e)){var l=ne(je(e),2),c=ne(fe(l[0],l[1]),1)[0],s=ve(e);if(!s)return[c];var f=ne(s,2),d=f[0],p=be(f[1],-d);return[(0,W.t)(r||(r=te(["",", starting "," ",""])),c,Math.abs(d),p)]}return o.map((function(e){return function(e,t,n){if("string"==typeof e){var r=(0,K.ZB)(e,t);return t?(0,$.Mg)(e,t,{isExclude:n}):r.hours()||r.minutes()?r.format("MMMM D, YYYY hh:mm a"):r.format("MMMM D, YYYY")}if(me(e)){var i=e[1],o=e[2];return"current"===i&&(i=0,o=t),t===o?fe(i,o):0===i?(0,W.t)(h||(h=te(["Now"]))):i<0?(0,W.t)(m||(m=te([""," "," ago"])),-i,de(o,-i).toLowerCase()):(0,W.t)(y||(y=te([""," "," from now"])),i,de(o,i).toLowerCase())}return X.warn("Unknown datetime format",e),"[".concat((0,W.t)(v||(v=te(["Unknown"]))),"]")}(e,a,"!="===n)}))}function fe(e,t){if("day"===t)switch(e){case"current":case 0:return[(0,W.t)(i||(i=te(["Today"])))];case"next":case 1:return[(0,W.t)(o||(o=te(["Tomorrow"])))];case"last":case-1:return[(0,W.t)(a||(a=te(["Yesterday"])))]}if(!t&&0===e)return(0,W.t)(u||(u=te(["Today"])));switch(e){case"current":case 0:return[(0,W.t)(l||(l=te(["This ",""])),de(t))];case"next":case 1:return[(0,W.t)(c||(c=te(["Next ",""])),de(t))];case"last":case-1:return[(0,W.t)(s||(s=te(["Previous ",""])),de(t))]}return e<0?[(0,W.t)(f||(f=te(["Previous "," ",""])),-e,de(t,-e))]:e>0?[(0,W.t)(d||(d=te(["Next "," ",""])),e,de(t,e))]:[(0,W.t)(p||(p=te(["This ",""])),de(t))]}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return"";switch(e){case"default":return(0,W.ngettext)((0,W.msgid)(b||(b=te(["Default period"]))),"Default periods",t);case"minute":return(0,W.ngettext)((0,W.msgid)(g||(g=te(["Minute"]))),"Minutes",t);case"hour":return(0,W.ngettext)((0,W.msgid)(w||(w=te(["Hour"]))),"Hours",t);case"day":return(0,W.ngettext)((0,W.msgid)(O||(O=te(["Day"]))),"Days",t);case"week":return(0,W.ngettext)((0,W.msgid)(j||(j=te(["Week"]))),"Weeks",t);case"month":return(0,W.ngettext)((0,W.msgid)(S||(S=te(["Month"]))),"Months",t);case"quarter":return(0,W.ngettext)((0,W.msgid)(E||(E=te(["Quarter"]))),"Quarters",t);case"year":return(0,W.ngettext)((0,W.msgid)(_||(_=te(["Year"]))),"Years",t);case"minute-of-hour":return(0,W.ngettext)((0,W.msgid)(x||(x=te(["Minute of hour"]))),"Minutes of hour",t);case"hour-of-day":return(0,W.ngettext)((0,W.msgid)(P||(P=te(["Hour of day"]))),"Hours of day",t);case"day-of-week":return(0,W.ngettext)((0,W.msgid)(C||(C=te(["Day of week"]))),"Days of week",t);case"day-of-month":return(0,W.ngettext)((0,W.msgid)(k||(k=te(["Day of month"]))),"Days of month",t);case"day-of-year":return(0,W.ngettext)((0,W.msgid)(A||(A=te(["Day of year"]))),"Days of year",t);case"week-of-year":return(0,W.ngettext)((0,W.msgid)(D||(D=te(["Week of year"]))),"Weeks of year",t);case"month-of-year":return(0,W.ngettext)((0,W.msgid)(R||(R=te(["Month of year"]))),"Months of year",t);case"quarter-of-year":return(0,W.ngettext)((0,W.msgid)(I||(I=te(["Quarter of year"]))),"Quarters of year",t)}var n=e.split("-");return n[0]=G().capitalize(n[0]),n.join(" ")}function pe(e){return"string"==typeof e?U()(e):Array.isArray(e)&&"relative-datetime"===e[0]?U()().add(e[1],e[2]):void X.warn("Unknown datetime format",e)}function he(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=J.T7.parseMBQLOrWarn(e),i="+"===(null==e?void 0:e[0])&&"field"===(null==e||null===(t=e[1])||void 0===t?void 0:t[0]);return r?r.temporalUnit()||n:i?he(e[1],n):n}function me(e){return Array.isArray(e)&&"relative-datetime"===e[0]}function ye(e){if(!Array.isArray(e))return!1;var t=ne(e,4),n=t[0],r=t[1],i=t[2],o=t[3];if(me(i)&&Array.isArray(r)&&("between"===n&&me(o)||"="===n)){var a=ne(r,3),u=a[0],l=(a[1],a[2]);if("+"===u&&function(e){if(!Array.isArray(e))return!1;var t=ne(e,3),n=t[0],r=t[1],i=t[2];return"interval"===n&&"number"==typeof r&&le.indexOf(i)>-1}(l))return!0}return!1}function ve(e){if(!ye(e))return null;var t=ne(e,4),n=(t[0],t[1]),r=(t[2],t[3],ne(n,3)),i=(r[0],r[1],ne(r[2],3));i[0];return[i[1],i[2]]}function be(e,t){var n=t>=0?"from now":"ago";switch(e){case"minute":return(0,W.ngettext)((0,W.msgid)(T||(T=te(["minute ",""])),n),"minutes ".concat(n),t);case"hour":return(0,W.ngettext)((0,W.msgid)(N||(N=te(["hour ",""])),n),"hours ".concat(n),t);case"day":return(0,W.ngettext)((0,W.msgid)(q||(q=te(["day ",""])),n),"days ".concat(n),t);case"week":return(0,W.ngettext)((0,W.msgid)(M||(M=te(["week ",""])),n),"weeks ".concat(n),t);case"month":return(0,W.ngettext)((0,W.msgid)(Z||(Z=te(["month ",""])),n),"months ".concat(n),t);case"quarter":return(0,W.ngettext)((0,W.msgid)(L||(L=te(["quarter ",""])),n),"quarters ".concat(n),t);case"year":return(0,W.ngettext)((0,W.msgid)(B||(B=te(["year ",""])),n),"years ".concat(n),t)}return""}function ge(e,t,n){if(n=n&&"none"!==n?n:null,ye(e)){var r=ne(e,4),i=r[0],o=r[1],a=r[2],u=r[3],l=ne(o,3),c=l[0],s=l[1],f=ne(l[2],3),d=f[0],p=(f[1],f[2]),h=n||p,m=[c,s,[d,null!=t?t:we(h),h]];return"="===i?[i,m,a]:[i,m,a,u]}var y=function(e){return Array.isArray(e)&&"time-interval"===e[0]?[e[1],e[2],e[3]||"day"]:null}(e);if(y){var v=ne(y,3),b=v[0],g=v[1],w=v[2],O=n||w,j=t;"number"!=typeof j&&(j=(g<0?1:-1)*we(O));var S=["relative-datetime",g,w],E=["relative-datetime",0,w];return["between",["+",b,["interval",j,O]],g<0?S:E,g<0?E:S]}return e}function we(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"minute":return 60;case"hour":return 24;case"day":return t?30:7;case"week":case"quarter":return 4;case"month":return 3;case"year":return 1}}function Oe(e){if(ye(e)){var t=ne(e,2),n=(t[0],ne(t[1],2));n[0];return n[1]}return null==e?void 0:e[1]}function je(e){if(ye(e)){var t=ne(e,4),n=(t[0],t[1],ne(t[2],3)),r=(n[0],n[1]),i=n[2],o=t[3];if(o){var a=ne(o,2),u=(a[0],a[1]);return[r<0?r:u,i&&"none"!==i?i:"day"]}return[r,i]}if("time-interval"===e[0]){var l=e[3];return[e[2],l&&"none"!==l?l:"day"]}return[null,null]}function Se(e){var t=Oe(e),n=ne(je(e),2),r=n[0],i=n[1];return ye(e)?["time-interval",t,-r,i]:["time-interval",t,r,i]}function Ee(e,t){if(!e)return null;if("time-interval"===e[0]){var n=ne(e,5),r=n[0],i=n[1],o=n[2],a=n[3],u=void 0===a?"day":a,l=n[4],c="number"==typeof o?o:we(u,!0),s=t?Math.abs(c):-Math.abs(c);return l?[r,i,s,u,l]:[r,i,s,u]}if(ye(e)){var f=ne(e,2),d=(f[0],ne(f[1],3)),p=d[0],h=d[1],m=ne(d[2],3),y=m[0],v=m[1],b=m[2],g=ne(je(e),2),w=g[0],O=g[1],j=Math.abs(w),S=t?j:-j,E=Math.abs(v),_=["relative-datetime",0,O],x=["relative-datetime",S,O];return["between",[p,h,[y,t?-E:E,b]],S<0?x:_,S<0?_:x]}return null}function _e(e,t){if("time-interval"===e[0])return(0,H.assoc)(e,3,t);var n=ve(e);if(n){var r=ne(e,4),i=r[0],o=r[1],a=r[2],u=r[3];return ge([i,o,(0,H.assoc)(a,2,t),u?(0,H.assoc)(u,2,t):u],n[0],t)}return e}function xe(e,t){if("time-interval"===e[0])return(0,H.assoc)(e,2,t);if(ye(e)){var n=ne(e,2),r=(n[0],n[1]),i=ne(je(e),2),o=(i[0],i[1]);return["between",r,["relative-datetime",t<0?t:0,o],["relative-datetime",t<0?0:t,o]]}return e}var Pe="YYYY-MM-DD",Ce="YYYY-MM-DDTHH:mm:ss",ke=function(e){var t=null,n=null,r=null;return U()(e,Ce,!0).isValid()?(t=(r=U()(e,Ce,!0)).hours(),n=r.minutes(),r.startOf("day")):r=U()(e,Pe,!0).isValid()?U()(e,Pe,!0):U()(),{hours:t,minutes:n,date:r}},Ae=function(e){var t=ke(e),n=t.hours,r=t.minutes;return"number"==typeof n&&"number"==typeof r},De=function(e,t,n){var r=U()(e);if(!r.isValid())return null;var i=!1;return"number"==typeof t&&"number"==typeof n&&(r.hours(t),r.minutes(n),i=!0),i?r.format(Ce):r.format(Pe)},Re=12,Ie=30,Te={days:"day-of-week",months:"month-of-year",quarters:"quarter-of-year",hours:"hour-of-day"},Ne=(ee(F={},Te.days,(function(){var e=U()().utc().hours(0).minutes(0).seconds(0).milliseconds(0);return[Q.ZP.range(0,7).map((function(t){var n=e.day(t+1),r=n.format("dddd"),i=n.format("YYYY-MM-DD");return{displayName:r,value:i,serialized:n.format("ddd"),test:function(e){return i===e}}}))]})),ee(F,Te.months,(function(){var e=U()().utc().date(1).hours(0).minutes(0).seconds(0).milliseconds(0),t=function(t){var n=e.month(t),r=n.format("MMMM"),i=n.format("YYYY-MM-DD");return{displayName:r,value:i,serialized:n.format("MMM"),test:function(e){return U()(e).format("MMMM")===r}}};return[Q.ZP.range(0,6).map(t),Q.ZP.range(6,12).map(t)]})),ee(F,Te.quarters,(function(){var e=U()().utc().hours(0).minutes(0).seconds(0).milliseconds(0),t=" "+(0,W.t)(z||(z=te(["quarter"])));return[Q.ZP.range(1,5).map((function(n){var r=e.quarter(n),i=r.format("Qo"),o=r.format("YYYY-MM-DD");return{displayName:i+t,value:o,serialized:r.format("Q"),test:function(e){return U()(e).format("Qo")===i}}}))]})),ee(F,Te.hours,(function(){var e=U()().utc().minutes(0).seconds(0).milliseconds(0),t=function(t){var n=e.hour(t),r=n.format("h A");return{displayName:r,value:n.toISOString(),serialized:n.format("H"),test:function(e){return U()(e).utc().format("h A")===r}}};return[Q.ZP.range(0,12).map(t),Q.ZP.range(12,24).map(t)]})),F)},24432:function(e,t,n){"use strict";n.d(t,{UY:function(){return a.combineReducers},qC:function(){return a.compose},jZ:function(){return u.Z},PH:function(){return l.Z},RU:function(){return _},rQ:function(){return x},VA:function(){return P},i4:function(){return k},K9:function(){return A},Fz:function(){return D},$e:function(){return R},JA:function(){return I},jY:function(){return T},wi:function(){return N},IL:function(){return q}});n(53806);var r=n(30558),i=n(55446),o=n(33094),a=n(34159),u=n(77407),l=n(83269),c=n(12463),s=n(98511),f=n.n(s),d=n(97249),p=n(64671),h=n(98399),m=["initialValue","autofill","onUpdate","valid","invalid","dirty","pristine","active","touched","visited","autofilled","error","defaultValue"];function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){b(o,r,i,a,u,"next",e)}function u(e){b(o,r,i,a,u,"throw",e)}a(void 0)}))}}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return R(e)(t)}var x=function(){var e=g(regeneratorRuntime.mark((function e(t){var n,a,u,l,c,s,f,d,p,m,y,b,g,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,a=t.getState,u=t.requestStatePath,l=t.existingStatePath,c=t.queryKey,s=t.getData,f=t.reload,d=void 0!==f&&f,p=t.properties,m=void 0===p?null:p,y=(0,i.getIn)(a(),l),d||!y||!m||!r.ZP.all(m,(function(e){return void 0!==y[e]}))){e.next=4;break}return e.abrupt("return",y);case 4:if(b=u.concat(["fetch"]),e.prev=5,(g=(0,i.getIn)(a(),["requests"].concat(v(b))))&&!g.error&&!d){e.next=14;break}return n((0,o.IQ)(b,c)),e.next=11,s();case 11:return w=e.sent,setTimeout((function(){return n((0,o.xH)(b,c))})),e.abrupt("return",w);case 14:return e.abrupt("return",y);case 17:return e.prev=17,e.t0=e.catch(5),n((0,o.LQ)(b,c,e.t0)),h.error("fetchData error",e.t0),e.abrupt("return",y);case 22:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=g(regeneratorRuntime.mark((function e(t){var n,r,a,u,l,c,s,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.getState,a=t.requestStatePath,u=t.existingStatePath,l=t.queryKey,c=t.dependentRequestStatePaths,s=t.putData,f=u?(0,i.getIn)(r(),u):null,d=a.concat(["update"]),e.prev=3,n((0,o.IQ)(d,l)),e.next=7,s();case 7:return p=e.sent,n((0,o.xH)(d,l)),(c||[]).forEach((function(e){return n((0,o.db)(e))})),e.abrupt("return",p);case 13:return e.prev=13,e.t0=e.catch(3),n((0,o.LQ)(d,l,e.t0)),h.error(e.t0),e.abrupt("return",f);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();function C(e,t){for(var n in e=S({},e),t)null===t[n]?delete e[n]:e[n]=S(S({},e[n]),t[n]);return e}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e};return function(r,o){void 0===r&&(r={});var a=(0,i.getIn)(o,["payload","entities",t]);return e.test(o.type)&&a&&(r=C(r,a)),n(r,o)}}var A=function(e){e.initialValue,e.autofill,e.onUpdate,e.valid,e.invalid,e.dirty,e.pristine,e.active,e.touched,e.visited,e.autofilled,e.error,e.defaultValue;return y(e,m)},D=(0,c.createSelectorCreator)(f(),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return JSON.stringify(t)}));function R(e){return function(t){function n(){var n=t.apply(void 0,arguments);return"function"==typeof n?function(){var t=g(regeneratorRuntime.mark((function t(r,i){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(r,i);case 3:return o=t.sent,r(a={type:e,payload:o}),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),r({type:e,payload:t.t0,error:!0}),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}():{type:e,payload:n}}return n.toString=function(){return e},n}}function I(e,t){return function(n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return function(){var r=g(regeneratorRuntime.mark((function r(a,u){var l,c,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.apply(void 0,i),c=t&&t.apply(void 0,i),r.prev=2,a((0,o.IQ)(l,c)),r.next=6,n.apply(void 0,i)(a,u);case 6:return s=r.sent,setTimeout((function(){return a((0,o.xH)(l,c))})),r.abrupt("return",s);case 11:throw r.prev=11,r.t0=r.catch(2),h.error("Request ".concat(l.join(",")," failed:"),r.t0),a((0,o.LQ)(l,c,r.t0)),r.t0;case 16:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e,t){return r.apply(this,arguments)}}()}}}function T(e,t,n){return(0,a.compose)(function(e,t,n){return function(o){return function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];return function(a,l){var c=u[u.length-1]||{},s=c.reload,f=c.properties,d=e.apply(void 0,u),p=["requests"].concat(v(t.apply(void 0,u))),h=n&&n.apply(void 0,u),m=(0,i.getIn)(l(),d),y=(0,i.getIn)(l(),p)||{},b=y.loading,g=y.loaded,w=y.queryKey,O=f&&m&&r.ZP.all(f,(function(e){return void 0!==m[e]}));return!0!==s&&h===w&&(b||g||O)?m:o.apply(void 0,u)(a,l)}}}}(e,t,n),I(t,n))}function N(e,t,n,r){return function(i){return function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return function(o,u){function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"==typeof e)return e(a,S({},t),u)}try{var c=l(e),s=l(t,{category:c}),f=l(n,{category:c,action:s}),p=l(r,{category:c,action:s,label:f});d.vF(c,s,f,p)}catch(e){h.warn("withAnalytics threw an error:",e)}return i.apply(void 0,a)(o,u)}}}}function q(e){return function(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(){var n=g(regeneratorRuntime.mark((function n(i,o){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=p.Fv,n.next=3,t.apply(void 0,r)(i,o);case 3:return n.t1=n.sent,n.t2=e,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}}},80932:function(e,t,n){"use strict";var r=n(32699),i=n(57531);t.Z=function(){var e=new Map;function t(t,n){t.forEach((function(t){var r=e.get(t.target);null==r||r.forEach((function(e){return e(t,n)}))}))}var n=new ResizeObserver(i.O?t:(0,r.Z)(t));return{observer:n,subscribe:function(t,r){var i;n.observe(t);var o=null!==(i=e.get(t))&&void 0!==i?i:[];o.push(r),e.set(t,o)},unsubscribe:function(t,r){var i,o=null!==(i=e.get(t))&&void 0!==i?i:[];if(1===o.length)return n.unobserve(t),void e.delete(t);var a=o.indexOf(r);-1!==a&&o.splice(a,1),e.set(t,o)}}}()},19269:function(e,t,n){"use strict";n.d(t,{zz:function(){return r.zz},qr:function(){return r.qr},rM:function(){return r.rM},eD:function(){return r.eD}});var r=n(25359)},25359:function(e,t,n){"use strict";n.d(t,{zz:function(){return l},rM:function(){return f},eD:function(){return d},dx:function(){return p},qr:function(){return h}});var r,i=n(25312),o=n(58914);var a,u,l=-1337,c=(0,i.t)(r||(a=["Everything else"],u||(u=a.slice(0)),r=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(u)}}))));f({id:null});function s(e){return!e||null===e.id||"root"===e.id?c:e.schemaName||e.name}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isDatasets,r=s(e);return(0,o.E3)(l,r,n?{isDatasets:n}:void 0)}function d(e){return"card__".concat(e.id)}function p(e){return"string"==typeof e&&e.startsWith("card__")}function h(e){return{id:d(e),display_name:e.name,description:e.description,moderated_status:e.moderated_status,db_id:e.dataset_query.database,schema:f(e.collection),schema_name:s(e.collection)}}},58914:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{mL:function(){return o},gS:function(){return a},E3:function(){return u}});var o=function(e){return e&&("card"===(t=e.model)||"dataset"===t?"questions":"".concat(t,"s"));var t},a=function(e){var t=r(String(e||"").split(":"),3),n=t[0],i=t[1],o=t[2],a=[n,decodeURIComponent(i)];return o&&a.push(JSON.parse(decodeURIComponent(o))),a},u=function(e,t,n){var r=t?encodeURIComponent(t):"",i="".concat(e,":").concat(r);if(n){var o=JSON.stringify(n),a=encodeURIComponent(o);i+=":".concat(a)}return i}},98958:function(e,t,n){"use strict";n.d(t,{Wu:function(){return lt},jd:function(){return ct},go:function(){return yt},J_:function(){return _t},kE:function(){return xt},gy:function(){return Pt},HD:function(){return Ct},DX:function(){return kt},n0:function(){return At},U2:function(){return Dt},nv:function(){return Rt},vM:function(){return It},Zd:function(){return Tt},Rj:function(){return Nt},Vm:function(){return qt},zF:function(){return Mt},JZ:function(){return Zt},O0:function(){return Lt},hj:function(){return Bt},og:function(){return zt},UJ:function(){return Ft},tu:function(){return Qt},LW:function(){return Vt},OO:function(){return Ut},be:function(){return Ht},Mn:function(){return Yt},s$:function(){return Gt},C2:function(){return Wt},DB:function(){return $t},B5:function(){return Jt},PX:function(){return Xt},Jh:function(){return en},oz:function(){return tn},SR:function(){return nn},Yl:function(){return hn},rF:function(){return mn},xm:function(){return yn},ml:function(){return On},gu:function(){return jn},T4:function(){return Sn},jn:function(){return En},JE:function(){return _n},g3:function(){return Pn},Eq:function(){return Cn},Ay:function(){return kn},hp:function(){return An},vY:function(){return Dn},T9:function(){return Rn}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je=n(30558),Xe=n(25312),et=n(91664),tt=n(12207);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ot(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt="NUMBER",ct="STRING",st="STRING_LIKE",ft="BOOLEAN",dt="TEMPORAL",pt="LOCATION",ht="COORDINATE",mt="FOREIGN_KEY",yt="PRIMARY_KEY",vt="ENTITY",bt="SUMMABLE",gt="SCOPE",wt="CATEGORY",Ot="UNKNOWN",jt=(ut(r={},dt,{base:[et.wD.Temporal],effective:[et.wD.Temporal],semantic:[et.wD.Temporal]}),ut(r,lt,{base:[et.wD.Number],effective:[et.wD.Number],semantic:[et.wD.Number]}),ut(r,ct,{base:[et.wD.Text],effective:[et.wD.Text],semantic:[et.wD.Text,et.wD.Category]}),ut(r,st,{base:[et.wD.TextLike],effective:[et.wD.TextLike]}),ut(r,ft,{base:[et.wD.Boolean],effective:[et.wD.Boolean]}),ut(r,ht,{semantic:[et.wD.Coordinate]}),ut(r,pt,{semantic:[et.wD.Address]}),ut(r,vt,{semantic:[et.wD.FK,et.wD.PK,et.wD.Name]}),ut(r,mt,{semantic:[et.wD.FK]}),ut(r,yt,{semantic:[et.wD.PK]}),ut(r,bt,{include:[lt],exclude:[vt,pt,dt]}),ut(r,gt,{include:[lt,dt,wt,vt,ct],exclude:[pt]}),ut(r,wt,{base:[et.wD.Boolean],effective:[et.wD.Boolean],semantic:[et.wD.Category],include:[pt]}),ut(r,"DIMENSION",{include:[dt,wt,vt]}),r);function St(e,t){if(!t)return!1;for(var n=jt[e],r=0,i=t.effective_type?["effective","semantic"]:["base","semantic"];r<i.length;r++){var o=i[r],a=n[o];if(a){var u,l=t[o+"_type"],c=ot(a);try{for(c.s();!(u=c.n()).done;){var s=u.value;if((0,et.V2)(l,s))return!0}}catch(e){c.e(e)}finally{c.f()}}}var f,d=ot(n.exclude||[]);try{for(d.s();!(f=d.n()).done;){if(St(f.value,t))return!1}}catch(e){d.e(e)}finally{d.f()}var p,h=ot(n.include||[]);try{for(h.s();!(p=h.n()).done;){if(St(p.value,t))return!0}}catch(e){h.e(e)}finally{h.f()}return!1}function Et(e){for(var t=0,n=[dt,pt,ht,mt,yt,ct,st,lt,ft];t<n.length;t++){var r=n[t];if(St(r,e))return r}}var _t=St.bind(null,dt),xt=St.bind(null,lt),Pt=St.bind(null,ft),Ct=St.bind(null,ct),kt=St.bind(null,bt),At=St.bind(null,gt),Dt=St.bind(null,wt),Rt=St.bind(null,pt),It=function(e){return e&&"aggregation"!==e.source&&!Kt(e)},Tt=function(e){return e&&"breakout"!==e.source&&kt(e)},Nt=function(e){return e&&(0,et.Rj)(e.semantic_type)},qt=function(e){return e&&(0,et.Vm)(e.semantic_type)},Mt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Name)},Zt=function(e){return!0},Lt=function(e){return!!e&&(e.effective_type?(0,et.V2)(e.effective_type,et.wD.Date):(0,et.V2)(e.base_type,et.wD.Date))},Bt=function(e){return e&&function(e){return!!e&&(e.effective_type?(0,et.V2)(e.effective_type,et.wD.Number):(0,et.V2)(e.base_type,et.wD.Number))}(e)&&(null==e.semantic_type||(0,et.V2)(e.semantic_type,et.wD.Number))},zt=function(e){return!!e&&(e.effective_type?(0,et.V2)(e.effective_type,et.wD.Time):(0,et.V2)(e.base_type,et.wD.Time))},Ft=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Address)},Qt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.City)},Vt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.State)},Ut=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.ZipCode)},Ht=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Country)},Yt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Coordinate)},Gt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Latitude)},Wt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Longitude)},$t=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Currency)},Kt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Description)},Jt=function(e){return Nt(e)||qt(e)},Xt=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.URL)},en=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.Email)},tn=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.AvatarURL)},nn=function(e){return e&&(0,et.V2)(e.semantic_type,et.wD.ImageURL)};function rn(e,t){return{type:"text"}}function on(e,t){return{type:"number"}}function an(e,t){return _t(e)?{type:"date"}:xt(e)?{type:"number"}:{type:"text"}}function un(e,t){return Pt(e)?{type:"select",values:[{key:!0,name:(0,Xe.t)(i||(i=it(["True"])))},{key:!1,name:(0,Xe.t)(o||(o=it(["False"])))}],default:!0}:_t(e)?{type:"date"}:xt(e)?{type:"number"}:{type:"text"}}var ln={"case-sensitive":{defaultValue:!0}},cn={"=":{validArgumentsFilters:[un],multi:!0},"!=":{validArgumentsFilters:[un],multi:!0},"is-empty":{validArgumentsFilters:[]},"not-empty":{validArgumentsFilters:[]},"is-null":{validArgumentsFilters:[]},"not-null":{validArgumentsFilters:[]},"<":{validArgumentsFilters:[an]},"<=":{validArgumentsFilters:[an]},">":{validArgumentsFilters:[an]},">=":{validArgumentsFilters:[an]},inside:{validArgumentsFilters:[function(e,t){var n=t.fields.filter((function(e){return(0,et.V2)(e.semantic_type,et.wD.Longitude)})).map((function(e){return{key:e.id,name:e.display_name}}));return 1===n.length?{type:"hidden",default:n[0].key}:{type:"select",values:n}},on,on,on,on],placeholders:[(0,Xe.t)(a||(a=it(["Select longitude field"]))),(0,Xe.t)(u||(u=it(["Enter upper latitude"]))),(0,Xe.t)(l||(l=it(["Enter left longitude"]))),(0,Xe.t)(c||(c=it(["Enter lower latitude"]))),(0,Xe.t)(s||(s=it(["Enter right longitude"])))],formatOptions:[{hide:!0},{column:{semantic_type:et.wD.Latitude},compact:!0},{column:{semantic_type:et.wD.Longitude},compact:!0},{column:{semantic_type:et.wD.Latitude},compact:!0},{column:{semantic_type:et.wD.Longitude},compact:!0}]},between:{validArgumentsFilters:[an,an]},"starts-with":{validArgumentsFilters:[rn],options:ln,optionsDefaults:{"case-sensitive":!1}},"ends-with":{validArgumentsFilters:[rn],options:ln,optionsDefaults:{"case-sensitive":!1}},contains:{validArgumentsFilters:[rn],options:ln,optionsDefaults:{"case-sensitive":!1}},"does-not-contain":{validArgumentsFilters:[rn],options:ln,optionsDefaults:{"case-sensitive":!1}}},sn=[{name:"=",verboseName:(0,Xe.t)(f||(f=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(d||(d=it(["Is not"])))},{name:"is-null",verboseName:(0,Xe.t)(p||(p=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(h||(h=it(["Not empty"])))}],fn=[{name:"=",verboseName:(0,Xe.t)(m||(m=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(y||(y=it(["Is not"])))},{name:">",verboseName:(0,Xe.t)(v||(v=it(["Greater than"])))},{name:"<",verboseName:(0,Xe.t)(b||(b=it(["Less than"])))},{name:"between",verboseName:(0,Xe.t)(g||(g=it(["Between"])))},{name:">=",verboseName:(0,Xe.t)(w||(w=it(["Greater than or equal to"])))},{name:"<=",verboseName:(0,Xe.t)(O||(O=it(["Less than or equal to"])))},{name:"is-null",verboseName:(0,Xe.t)(j||(j=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(S||(S=it(["Not empty"])))}],dn=(ut(Oe={},lt,[{name:"=",verboseName:(0,Xe.t)(E||(E=it(["Equal to"])))},{name:"!=",verboseName:(0,Xe.t)(_||(_=it(["Not equal to"])))},{name:">",verboseName:(0,Xe.t)(x||(x=it(["Greater than"])))},{name:"<",verboseName:(0,Xe.t)(P||(P=it(["Less than"])))},{name:"between",verboseName:(0,Xe.t)(C||(C=it(["Between"])))},{name:">=",verboseName:(0,Xe.t)(k||(k=it(["Greater than or equal to"])))},{name:"<=",verboseName:(0,Xe.t)(A||(A=it(["Less than or equal to"])))},{name:"is-null",verboseName:(0,Xe.t)(D||(D=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(R||(R=it(["Not empty"])))}]),ut(Oe,ct,[{name:"=",verboseName:(0,Xe.t)(I||(I=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(T||(T=it(["Is not"])))},{name:"contains",verboseName:(0,Xe.t)(N||(N=it(["Contains"])))},{name:"does-not-contain",verboseName:(0,Xe.t)(q||(q=it(["Does not contain"])))},{name:"is-null",verboseName:(0,Xe.t)(M||(M=it(["Is null"])))},{name:"not-null",verboseName:(0,Xe.t)(Z||(Z=it(["Not null"])))},{name:"is-empty",verboseName:(0,Xe.t)(L||(L=it(["Is empty"])))},{name:"not-empty",verboseName:(0,Xe.t)(B||(B=it(["Not empty"])))},{name:"starts-with",verboseName:(0,Xe.t)(z||(z=it(["Starts with"])))},{name:"ends-with",verboseName:(0,Xe.t)(F||(F=it(["Ends with"])))}]),ut(Oe,st,[{name:"=",verboseName:(0,Xe.t)(Q||(Q=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(V||(V=it(["Is not"])))},{name:"is-null",verboseName:(0,Xe.t)(U||(U=it(["Is null"])))},{name:"not-null",verboseName:(0,Xe.t)(H||(H=it(["Not null"])))},{name:"is-empty",verboseName:(0,Xe.t)(Y||(Y=it(["Is empty"])))},{name:"not-empty",verboseName:(0,Xe.t)(G||(G=it(["Not empty"])))}]),ut(Oe,dt,[{name:"!=",verboseName:(0,Xe.t)(W||(W=it(["Excludes"])))},{name:"=",verboseName:(0,Xe.t)($||($=it(["Is"])))},{name:"<",verboseName:(0,Xe.t)(K||(K=it(["Before"])))},{name:">",verboseName:(0,Xe.t)(J||(J=it(["After"])))},{name:"between",verboseName:(0,Xe.t)(X||(X=it(["Between"])))},{name:"is-null",verboseName:(0,Xe.t)(ee||(ee=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(te||(te=it(["Is not empty"])))}]),ut(Oe,pt,[{name:"=",verboseName:(0,Xe.t)(ne||(ne=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(re||(re=it(["Is not"])))},{name:"is-null",verboseName:(0,Xe.t)(ie||(ie=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(oe||(oe=it(["Not empty"])))},{name:"contains",verboseName:(0,Xe.t)(ae||(ae=it(["Contains"])))},{name:"does-not-contain",verboseName:(0,Xe.t)(ue||(ue=it(["Does not contain"])))},{name:"starts-with",verboseName:(0,Xe.t)(le||(le=it(["Starts with"])))},{name:"ends-with",verboseName:(0,Xe.t)(ce||(ce=it(["Ends with"])))}]),ut(Oe,ht,[{name:"=",verboseName:(0,Xe.t)(se||(se=it(["Is"])))},{name:"!=",verboseName:(0,Xe.t)(fe||(fe=it(["Is not"])))},{name:"inside",verboseName:(0,Xe.t)(de||(de=it(["Inside"])))},{name:">",verboseName:(0,Xe.t)(pe||(pe=it(["Greater than"])))},{name:"<",verboseName:(0,Xe.t)(he||(he=it(["Less than"])))},{name:"between",verboseName:(0,Xe.t)(me||(me=it(["Between"])))},{name:">=",verboseName:(0,Xe.t)(ye||(ye=it(["Greater than or equal to"])))},{name:"<=",verboseName:(0,Xe.t)(ve||(ve=it(["Less than or equal to"])))}]),ut(Oe,ft,[{name:"=",verboseName:(0,Xe.t)(be||(be=it(["Is"]))),multi:!1},{name:"is-null",verboseName:(0,Xe.t)(ge||(ge=it(["Is empty"])))},{name:"not-null",verboseName:(0,Xe.t)(we||(we=it(["Not empty"])))}]),ut(Oe,mt,fn),ut(Oe,yt,fn),ut(Oe,Ot,sn),Oe),pn={"equal to":"is equal to","not equal to":"is not equal to",before:"is before",after:"is after","not empty":"is not empty","not null":"is not null","less than":"is less than","greater than":"is greater than","less than or equal to":"is less than or equal to","greater than or equal to":"is greater than or equal to"};function hn(e){return!!cn[e]}function mn(e,t){var n=Je.ZP.findWhere(dn[e],{name:t}),r=cn[t];return n&&rt(rt(rt({},n),r),{},{numFields:r.validArgumentsFilters.length})}function yn(e,t,n){var r=Et(e)||Ot;return r!==yt&&r!==mt||(St(ct,e)?r=ct:St(st,e)&&(r=st)),dn[r].map((function(n){var r=cn[n.name],i=n.verboseName.toLowerCase();return rt(rt(rt({},r),n),{},{moreVerboseName:pn[i]||i,fields:r.validArgumentsFilters.map((function(n){return n(e,t)}))})})).filter((function(e){return void 0===n||("STRING"!==r&&"STRING_LIKE"!==r||("is-null"===n?"not-null"!==e.name:("not-null"===n||"not-null"!==e.name)&&"is-null"!==e.name))}))}function vn(e){return Je.ZP.filter(e,kt)}function bn(e){return Je.ZP.filter(e,At)}var gn=[{short:"rows",name:(0,Xe.t)(je||(je=it(["Raw data"]))),description:(0,Xe.t)(Se||(Se=it(["Just a table with the rows in the answer, no additional operations."]))),validFieldsFilters:[],requiresField:!1,requiredDriverFeature:"basic-aggregations"},{short:"count",name:(0,Xe.t)(Ee||(Ee=it(["Count of rows"]))),columnName:(0,Xe.t)(_e||(_e=it(["Count"]))),description:(0,Xe.t)(xe||(xe=it(["Total number of rows in the answer."]))),validFieldsFilters:[],requiresField:!1,requiredDriverFeature:"basic-aggregations"},{short:"sum",name:(0,Xe.t)(Pe||(Pe=it(["Sum of ..."]))),columnName:(0,Xe.t)(Ce||(Ce=it(["Sum"]))),description:(0,Xe.t)(ke||(ke=it(["Sum of all the values of a column."]))),validFieldsFilters:[vn],requiresField:!0,requiredDriverFeature:"basic-aggregations"},{short:"avg",name:(0,Xe.t)(Ae||(Ae=it(["Average of ..."]))),columnName:(0,Xe.t)(De||(De=it(["Average"]))),description:(0,Xe.t)(Re||(Re=it(["Average of all the values of a column"]))),validFieldsFilters:[vn],requiresField:!0,requiredDriverFeature:"basic-aggregations"},{short:"distinct",name:(0,Xe.t)(Ie||(Ie=it(["Number of distinct values of ..."]))),columnName:(0,Xe.t)(Te||(Te=it(["Distinct values"]))),description:(0,Xe.t)(Ne||(Ne=it(["Number of unique values of a column among all the rows in the answer."]))),validFieldsFilters:[function(e){return e}],requiresField:!0,requiredDriverFeature:"basic-aggregations"},{short:"cum-sum",name:(0,Xe.t)(qe||(qe=it(["Cumulative sum of ..."]))),columnName:(0,Xe.t)(Me||(Me=it(["Cumulative sum"]))),description:(0,Xe.t)(Ze||(Ze=it(["Additive sum of all the values of a column.\ne.x. total revenue over time."],["Additive sum of all the values of a column.\\ne.x. total revenue over time."]))),validFieldsFilters:[vn],requiresField:!0,requiredDriverFeature:"basic-aggregations"},{short:"cum-count",name:(0,Xe.t)(Le||(Le=it(["Cumulative count of rows"]))),columnName:(0,Xe.t)(Be||(Be=it(["Cumulative count"]))),description:(0,Xe.t)(ze||(ze=it(["Additive count of the number of rows.\ne.x. total number of sales over time."],["Additive count of the number of rows.\\ne.x. total number of sales over time."]))),validFieldsFilters:[],requiresField:!1,requiredDriverFeature:"basic-aggregations"},{short:"stddev",name:(0,Xe.t)(Fe||(Fe=it(["Standard deviation of ..."]))),columnName:(0,Xe.t)(Qe||(Qe=it(["Standard deviation"]))),description:(0,Xe.t)(Ve||(Ve=it(["Number which expresses how much the values of a column vary among all rows in the answer."]))),validFieldsFilters:[vn],requiresField:!0,requiredDriverFeature:"standard-deviation-aggregations"},{short:"min",name:(0,Xe.t)(Ue||(Ue=it(["Minimum of ..."]))),columnName:(0,Xe.t)(He||(He=it(["Min"]))),description:(0,Xe.t)(Ye||(Ye=it(["Minimum value of a column"]))),validFieldsFilters:[bn],requiresField:!0,requiredDriverFeature:"basic-aggregations"},{short:"max",name:(0,Xe.t)(Ge||(Ge=it(["Maximum of ..."]))),columnName:(0,Xe.t)(We||(We=it(["Max"]))),description:(0,Xe.t)($e||($e=it(["Maximum value of a column"]))),validFieldsFilters:[bn],requiresField:!0,requiredDriverFeature:"basic-aggregations"}];function wn(e){return gn.filter((function(t){return!(t.requiredDriverFeature&&e.db&&!Je.ZP.contains(e.db.features,t.requiredDriverFeature))})).map((function(t){return function(e,t){return rt(rt({},e),{},{fields:e.validFieldsFilters.map((function(e){return e(t)}))})}(t,e.fields)}))}function On(e){return wn(e).filter((function(e){return!e.requiresField||e.fields.every((function(e){return e.length>0}))}))}function jn(e){return Je.ZP.findWhere(gn,{short:e})}function Sn(e,t){return e.validFieldsFilters.every((function(e){return 1===e([t]).length}))}function En(e){var t,n=!1,r=!1,i=ot(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;Gt(o)&&(n=!0),Wt(o)&&(r=!0)}}catch(e){i.e(e)}finally{i.f()}return n&&r}function _n(e){return null!==e&&Array.isArray(e)?e.map((function(e){return"origin"in e?e.origin.table.id:null})).reduce((function(e,t,n,r){return t in e?e[t]++:e[t]=1,e}),{}):null}var xn=(ut(Ke={},dt,"calendar"),ut(Ke,pt,"location"),ut(Ke,ht,"location"),ut(Ke,ct,"string"),ut(Ke,st,"string"),ut(Ke,lt,"int"),ut(Ke,ft,"io"),ut(Ke,mt,"connections"),ut(Ke,yt,"label"),Ke);function Pn(e){return xn[Et(e)]||"unknown"}function Cn(e,t){var n,r=tt.sH[e];return null!==(n=null==r?void 0:r.icon)&&void 0!==n?n:t}function kn(e){var t=tt.sH[e];return null==t?void 0:t.name}function An(e,t){return e&&e.formatOptions&&e.formatOptions[t]||{}}function Dn(e){return!!e&&"="===e.name}function Rn(e){var t=(e||{}).name;return!["=","!="].includes(t)}},35463:function(e,t,n){"use strict";var r,i,o,a,u,l,c,s,f,d=n(30558),p=n(25312),h=n(47667),m=n(38908),y=n(53806),v=n.n(y),b=["total"];function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=function(e){return m.Z.numberToWord(e)},C={total:{test:function(e){var t=e.total,n=void 0===t?0:t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.length>=n},description:function(e){var t=e.total,n=void 0===t?0:t;return(0,p.ngettext)((0,p.msgid)(r||(r=x(["at least "," character long"])),P(n)),"at least ".concat(P(n)," characters long"),n)}},lower:{test:A("lower",/[a-z]/g),description:function(e){var t=e.lower,n=void 0===t?0:t;return(0,p.ngettext)((0,p.msgid)(i||(i=x([""," lower case letter"])),P(n)),"".concat(P(n)," lower case letters"),n)}},upper:{test:A("upper",/[A-Z]/g),description:function(e){var t=e.upper,n=void 0===t?0:t;return(0,p.ngettext)((0,p.msgid)(o||(o=x([""," upper case letter"])),P(n)),"".concat(P(n)," upper case letters"),n)}},digit:{test:A("digit",/[0-9]/g),description:function(e){var t=e.digit,n=void 0===t?0:t;return(0,p.ngettext)((0,p.msgid)(a||(a=x([""," number"])),P(n)),"".concat(P(n)," numbers"),n)}},special:{test:A("special",/[^a-zA-Z0-9]/g),description:function(e){var t=e.special,n=void 0===t?0:t;return(0,p.ngettext)((0,p.msgid)(u||(u=x([""," special character"])),P(n)),"".concat(P(n)," special characters"),n)}}},k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this,e),_(this,"_listeners",{}),this._settings=t}var t,n,r;return t=e,n=[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==this._settings[e]?this._settings[e]:t}},{key:"set",value:function(e,t){if(this._settings[e]!==t){this._settings[e]=t;var n=this._listeners[e];if(!n)return;var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=O(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(n);try{var o=function(){var e=r.value;setTimeout((function(){return e(t)}))};for(i.s();!(r=i.n()).done;)o()}catch(e){i.e(e)}finally{i.f()}}}},{key:"setAll",value:function(e){var t=this;Object.keys(e).forEach((function(n){t.set(n,e[n])}))}},{key:"on",value:function(e,t){this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)}},{key:"adminEmail",value:function(){return this.get("admin-email")}},{key:"enhancementsEnabled",value:function(){return this.get("enable-enhancements?")}},{key:"isEmailConfigured",value:function(){return this.get("email-configured?")}},{key:"isHosted",value:function(){return this.get("is-hosted?")}},{key:"cloudGatewayIps",value:function(){return this.get("cloud-gateway-ips")||[]}},{key:"googleAuthEnabled",value:function(){return null!=this.get("google-auth-client-id")}},{key:"hasUserSetup",value:function(){return this.get("has-user-setup")}},{key:"hideEmbedBranding",value:function(){return this.get("hide-embed-branding?")}},{key:"ldapEnabled",value:function(){return this.get("ldap-configured?")}},{key:"searchTypeaheadEnabled",value:function(){return this.get("search-typeahead-enabled")}},{key:"trackingEnabled",value:function(){return this.get("anon-tracking-enabled")||!1}},{key:"googleAnalyticsEnabled",value:function(){return this.get("ga-enabled")||!1}},{key:"snowplowEnabled",value:function(){return this.get("snowplow-enabled")||!1}},{key:"snowplowUrl",value:function(){return this.get("snowplow-url")}},{key:"deprecationNoticeVersion",value:function(){return this.get("deprecation-notice-version")}},{key:"deprecationNoticeEnabled",value:function(){return this.currentVersion()!==this.deprecationNoticeVersion()}},{key:"token",value:function(){return this.get("premium-embedding-token")}},{key:"formattingOptions",value:function(){var e=this.get("custom-formatting");return e&&e["type/Temporal"]?e["type/Temporal"]:{}}},{key:"versionInfoLastChecked",value:function(){var e=this.get("version-info-last-checked");return e?v().utc((0,h.ZB)(e)).local().format("MMMM Do YYYY, h:mm:ss a"):(0,p.t)(l||(l=x(["never"])))}},{key:"docsUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.get("version",{}),r=n.tag,i=r&&r.match(/v[01]\.(\d+)(?:\.\d+)?(-.*)?/);return r=i?i.length>2&&i[2]&&"-snapshot"===i[2].toLowerCase()?"latest":"v0."+i[1]:"latest",e&&(e="".concat(e,".html")),t&&(t="#".concat(t)),"https://www.metabase.com/docs/".concat(r,"/").concat(e).concat(t)}},{key:"storeUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://store.metabase.com/".concat(e)}},{key:"upgradeUrl",value:function(){return"https://www.metabase.com/upgrade/"}},{key:"newVersionAvailable",value:function(){var e=m.Z.compareVersions(this.currentVersion(),this.latestVersion());return null!=e&&e<0}},{key:"versionIsLatest",value:function(){var e=m.Z.compareVersions(this.currentVersion(),this.latestVersion());return null!=e&&e>=0}},{key:"versionInfo",value:function(){return this.get("version-info",{})}},{key:"currentVersion",value:function(){return this.get("version",{}).tag}},{key:"latestVersion",value:function(){var e=this.versionInfo().latest;return e&&e.version}},{key:"isEnterprise",value:function(){return!1}},{key:"isPaidPlan",value:function(){return this.isHosted()||this.isEnterprise()}},{key:"passwordComplexityRequirements",value:function(){return this.get("password-complexity",{})}},{key:"passwordComplexityDescription",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.passwordComplexityRequirements(),n={},r=0,i=Object.entries(C);r<i.length;r++){var o=w(i[r],2),a=o[0],u=o[1];u.test(t,e)||(n[a]=u.description(t))}var l=n.total,d=g(n,b),h=Object.values(d).join(", ");return l&&h?(0,p.t)(c||(c=x(["must be "," and include ","."])),l,h):l?(0,p.t)(s||(s=x(["must be ","."])),l):h?(0,p.t)(f||(f=x(["must include ","."])),h):null}},{key:"subscriptionAllowedDomains",value:function(){var e=this.get("subscription-allowed-domains")||"";return e?e.split(","):[]}}],n&&E(t.prototype,n),r&&E(t,r),e}();function A(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(r.match(t)||[]).length>=(n[e]||0)}}t.Z=new k(d.ZP.clone(window.MetabaseBootstrap))},8840:function(e,t,n){"use strict";n.d(t,{C9:function(){return i},Ek:function(){return a}});var r=n(30558);function i(e){if(e)return new RegExp(r.ZP.map(e.split(/\s+/),o).join(".*"),"i")}function o(e){return e.replace(/[\^\$\\\.\*\+\?\(\)\[\]\{\}\|]/g,"\\$&")}var a=function(e){return e.split(/\n/g).length}},87117:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(43177);function i(e){return!e.startsWith("$")&&(0,r.Z)(e)}},47667:function(e,t,n){"use strict";n.d(t,{ZB:function(){return p},TD:function(){return h},UA:function(){return m},DT:function(){return y},ur:function(){return v},Qy:function(){return b}});var r,i,o,a=n(56525),u=n.n(a),l=n(25312),c=n(35463);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}o=u().locale(),u().locale("en-abbreviated",{relativeTime:{future:"in %s",past:"%s",s:(0,l.t)(r||(r=s(["just now"]))),ss:(0,l.t)(i||(i=s(["just now"]))),m:"%d m",mm:"%d m",h:"%d h",hh:"%d h",d:"%d d",dd:"%d d",w:"%d wk",ww:"%d wks",M:"a mth",MM:"%d mths",y:"%d y",yy:"%d y"}}),u().locale(o);var f={"day-of-week":function(e){return u().parseZone(e,"ddd").startOf("day")}},d={year:function(e){return u()().year(e).startOf("year")},"minute-of-hour":function(e){return u()().minute(e).startOf("minute")},"hour-of-day":function(e){return u()().hour(e).startOf("hour")},"day-of-week":function(e){return u()().weekday(e-1).startOf("day")},"day-of-month":function(e){return u()("2016-01-01").date(e).startOf("day")},"day-of-year":function(e){return u()("2016-01-01").dayOfYear(e).startOf("day")},"week-of-year":function(e){return u()().week(e).startOf("week")},"month-of-year":function(e){return u()().month(e-1).startOf("month")},"quarter-of-year":function(e){return u()().quarter(e).startOf("quarter")}};function p(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=u().isMoment(e)?e:"string"==typeof e&&/(Z|[+-]\d\d:?\d\d)$/.test(e)?u().parseZone(e):n in f&&"string"==typeof e?f[n](e):n in d&&"number"==typeof e?d[n](e):"number"==typeof e?u().utc(e,u().ISO_8601):u().utc(e),r?t.local():t}function h(e){return u().isMoment(e)?e:"string"==typeof e?u()(e,["HH:mm:ss.sss[Z]","HH:mm:SS.sss","HH:mm:SS","HH:mm"]):u().utc(e)}function m(){var e,t=c.Z.get("custom-formatting");return null==t||null===(e=t["type/Temporal"])||void 0===e?void 0:e.date_style}function y(){var e=m();return/\//.test(e)?e:"M/D/YYYY"}function v(){var e,t=c.Z.get("custom-formatting");return null==t||null===(e=t["type/Temporal"])||void 0===e?void 0:e.time_style}function b(){return"HH:mm"===v()}},88961:function(e,t,n){"use strict";n.d(t,{Si:function(){return h},CI:function(){return m},CG:function(){return y},as:function(){return g}});var r,i,o,a,u,l,c,s=n(30558),f=n(25312),d=n(59602);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=function(e){return e.default&&e.collection?v(e.collection):e.name},m=function(){return[{name:(0,f.t)(r||(r=p(["Star"]))),value:"star",icon:"star"},{name:(0,f.t)(i||(i=p(["Balloons"]))),value:"balloons",icon:"balloons"},{name:(0,f.t)(o||(o=p(["Mail"]))),value:"mail",icon:"mail"},{name:(0,f.t)(a||(a=p(["Warning"]))),value:"warning",icon:"warning"},{name:(0,f.t)(u||(u=p(["Bell"]))),value:"bell",icon:"bell"},{name:(0,f.t)(l||(l=p(["Cloud"]))),value:"cloud",icon:"cloud"}]},y=function(e){return{name:v(e),collection_id:(0,d.ck)(e.id),icon:b(),default:!0}},v=function(e){return(0,f.t)(c||(c=p([""," events"])),e.name)},b=function(){return"star"},g=function(e,t){return s.ZP.chain(e).sortBy((function(e){return h(e).toLowerCase()})).sortBy((function(e){var t;return null!=(null===(t=e.collection)||void 0===t?void 0:t.personal_owner_id)})).sortBy((function(e){return!e.default})).sortBy((function(e){var n;return(null===(n=e.collection)||void 0===n?void 0:n.id)!==(null==t?void 0:t.id)})).value()}},91664:function(e,t,n){"use strict";n.d(t,{wD:function(){return i},V2:function(){return o},Vm:function(){return a},Rj:function(){return u}});var r=n(6539),i=r.TYPE,o=function(e,t){return(0,r.isa)(e,t)};function a(e){return o(e,i.PK)}function u(e){return o(e,i.FK)}},5192:function(e,t,n){"use strict";n.d(t,{nk:function(){return u},hJ:function(){return l},sI:function(){return y},_1:function(){return C},a2:function(){return A},B9:function(){return s},Wu:function(){return a.Wu},w_:function(){return a.w_},Cw:function(){return c},Ul:function(){return v},cF:function(){return P},dC:function(){return D.dC},wv:function(){return _},jf:function(){return x},_B:function(){return k}});var r=n(34295),i=n.n(r),o=n(19269),a=n(93537);function u(e){var t=e.id===o.zz?"Saved Questions":e.name;return(0,a.iI)("/browse/".concat(e.id),i()(t))}function l(e){if(!e||null===e.id||"string"==typeof e.id){var t=e&&e.id?e.id:"root";return"/collection/".concat(t)}var n="number"==typeof e.personal_owner_id?function(e){var t=e.originalName||e.name,n=i()(t,{toStrip:/["]/g});return"s-personal-collection"===n&&(n=n.replace("s-","")),n}(e):i()(e.name);return(0,a.iI)("/collection/".concat(e.id),n)}function c(e){return/collection\/.*/.test(e)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"root"===e||"users"===e?e:(0,a.Wu)(e)}var f=n(41646),d=n(35463);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.addCardWithId,r=t.editMode,o=h(h({},n?{add:n}:{}),r?{edit:r}:{}),u=(0,a.iI)(e.id,i()(e.name)),l=(0,f.Cv)(o);return l?"/dashboard/".concat(u,"#").concat(l):"/dashboard/".concat(u)}function v(e){var t=d.Z.get("site-url");return"".concat(t,"/public/dashboard/").concat(e)}var b=n(46078);n(11217);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hash,r=void 0===n?"":n,o=t.query,u=void 0===o?"":o,l=t.objectId;if(r&&"object"===E(r)&&(r=(0,b.$C)(r)),u&&"object"===E(u)&&(u=(0,a.w_)(u).filter((function(e){var t=j(e,2);t[0];return void 0!==t[1]})).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")),r&&"#"!==r.charAt(0)&&(r="#"+r),u&&"?"!==u.charAt(0)&&(u="?"+u),!e||!e.id)return"/question".concat(u).concat(r);var c=e.card_id,s=e.id,f=e.name,d=null!=e&&e.dataset||"dataset"===(null==e?void 0:e.model)?"model":"question",p=c||s;return d="/".concat(d,"/").concat(p),f&&(d=(0,a.iI)(d,i()(f))),l&&(d="".concat(d,"/").concat(l)),"".concat(d).concat(u).concat(r)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _(null,w(w({},t),{},{hash:e}))}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=d.Z.get("site-url");return"".concat(n,"/public/question/").concat(e)+(t?".".concat(t):"")}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=d.Z.get("site-url");return"".concat(n,"/embed/question/").concat(e)+(t?".".concat(t):"")}function k(e,t,n,r){var i="?db=".concat(e,"&table=").concat(t);return n&&(i+="&metric=".concat(n)),r&&(i+="&segment=".concat(r)),_(null,{hash:i})}var A=["csv","xlsx","json"];var D=n(92439)},92439:function(e,t,n){"use strict";n.d(t,{dC:function(){return r}});function r(e){return"/pulse/".concat(e)}},93537:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return t?"".concat(e,"-").concat(t):String(e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=parseInt(e,10);return Number.isSafeInteger(t)?t:void 0}function u(e){var t=r(e,2),n=t[0],i=t[1];return i instanceof Array?i.map((function(e){return[n,e]})):[[n,i]]}function l(e){return Object.entries(e).map(u).flat()}n.d(t,{iI:function(){return o},Wu:function(){return a},w_:function(){return l}})},38908:function(e,t,n){"use strict";n.d(t,{B:function(){return _}});var r,i,o,a,u,l,c,s,f,d,p=n(38873),h=n.n(p),m=n(25312),y=n(35463),v=n(30558);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function g(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=["m","ml","mr","mt","mb","mx","my","p","pl","pr","pt","pb","px","py","bg","color","hover","bordered"],E=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function _(e){return v.ZP.omit(e,S)}function x(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var P={generatePassword:function(e){e=e||y.Z.passwordComplexityRequirements()||{};for(var t=Math.max(e.total||0,14),n="",r=0;!i(n)&&r<100;)n=h()(t,!1,/[\w\d\?\-]/),r++;return n;function i(t){var n=t.match(/([A-Z])/g),r=t.match(/([a-z])/g),i=t.match(/([\d])/g),o=t.match(/([!@#\$%\^\&*\)\(+=._-{}])/g);return n&&n.length>=(e.upper||0)&&r&&r.length>=(e.lower||0)&&i&&i.length>=(e.digit||0)&&o&&o.length>=(e.special||0)}},isEmpty:function(e){return null!=e&&(e=String(e)),null==e||0===e.length||null!=e.match(/^\s+$/)},numberToWord:function(e){var t=[(0,m.t)(r||(r=j(["zero"]))),(0,m.t)(i||(i=j(["one"]))),(0,m.t)(o||(o=j(["two"]))),(0,m.t)(a||(a=j(["three"]))),(0,m.t)(u||(u=j(["four"]))),(0,m.t)(l||(l=j(["five"]))),(0,m.t)(c||(c=j(["six"]))),(0,m.t)(s||(s=j(["seven"]))),(0,m.t)(f||(f=j(["eight"]))),(0,m.t)(d||(d=j(["nine"])))];return e>=0&&e<=9?t[e]:""+e},uuid:function(){return x()+x()+"-"+x()+"-"+x()+"-"+x()+"-"+x()+x()+x()},isUUID:function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(e)},isBase64:function(e){return"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},isJWT:function(e){return"string"==typeof e&&/^[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+\.[A-Za-z0-9_-]+$/.test(e)},isEmail:function(e){return E.test(e)},getEmailDomain:function(e){var t=E.exec(e);return t&&t[5]},equals:function(e,t){return v.ZP.isEqual(e,t)},propertiesEqual:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[].concat(g(Object.keys(e)),g(Object.keys(t))),i=b(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(e[o]!==t[o])return!1}}catch(e){i.e(e)}finally{i.f()}return!0},copy:function(e){return JSON.parse(JSON.stringify(e))},compareVersions:function(e,t){if(!e||!t)return null;for(var n={snapshot:-4,alpha:-3,beta:-2,rc:-1},r=function(e){return e.toLowerCase().replace(/^v/,"").split(/[.-]*([0-9]+)[.-]*/).filter((function(e){return e})).map((function(e){return n[e]||parseInt(e,10)}))},i=r(e),o=r(t),a=0;a<Math.max(i.length,o.length);a++){var u=i[a],l=o[a];if(null==l||u<l)return-1;if(null==u||l<u)return 1}return 0}};t.Z=P},69696:function(e,t,n){"use strict";var r,i,o,a=n(25312),u=n(38908),l=n(35463);function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h={required:function(){return function(e){return!e&&(0,a.t)(r||(r=p(["required"])))}},email:function(){return function(e){return!u.Z.isEmail(e)&&(0,a.t)(i||(i=p(["must be a valid email address"])))}},maxLength:function(e){return function(t){return t&&t.length>e&&(0,a.t)(o||(o=p(["must be "," characters or less"])),e)}},passwordComplexity:function(){return function(e){return l.Z.passwordComplexityDescription(e)}}};t.Z=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function n(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.reduce((function(e,t){return e||t.apply(void 0,n)}),!1)}function r(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.map((function(e){return e.apply(void 0,n)})).filter((function(e){return e}))}n.all=function(){return r};for(var i=function(){var r=s(a[o],2),i=r[0],u=r[1];n[i]=function(){return e([].concat(c(t),[u.apply(void 0,arguments)]))}},o=0,a=Object.entries(h);o<a.length;o++)i();return n}()},14178:function(e,t,n){"use strict";n.d(t,{eG:function(){return s},xf:function(){return d},ch:function(){return p},pm:function(){return h},tq:function(){return m},g0:function(){return y}});var r=n(30558),i=n(55446),o=n(98007),a=n(34344),u=n(38908);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return"query"===e.dataset_query.type}function f(e,t){return r.ZP.isEqual(r.ZP.pick(e,"display","visualization_settings"),r.ZP.pick(t,"display","visualization_settings"))}function d(e,t){return e=(0,i.updateIn)(e,["dataset_query","parameters"],(function(e){return e||[]})),t=(0,i.updateIn)(t,["dataset_query","parameters"],(function(e){return e||[]})),r.ZP.isEqual(r.ZP.pick(e,"dataset_query"),r.ZP.pick(t,"dataset_query"))}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.checkParameters,o=void 0!==i&&i;return d(e,t)&&f(e,t)&&(!o||r.ZP.isEqual(e.parameters||[],t.parameters||[]))}function h(e){return"query"===e.dataset_query.type?e.dataset_query.query:null}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=u.Z.copy(e.dataset_query);"query"===c.type&&(c.query=a.M(c.query)),c.parameters=[];var s,f=l(t||[]);try{for(f.s();!(s=f.n()).done;){var d=s.value,p=n[d.id];if(null!=p){var h=e.id||e.original_card_id,m=r.ZP.findWhere(i,null!=h?{card_id:h,parameter_id:d.id}:{parameter_id:d.id}),y=d.type;m?c.parameters.push({type:y,value:(0,o._3)(y,p),target:m.target,id:d.id}):d.target&&c.parameters.push({type:y,value:(0,o._3)(y,p),target:d.target,id:d.id})}}}catch(e){f.e(e)}finally{f.f()}return c}function y(e){return null!=e&&"string"==typeof e&&isNaN(parseInt(e))}},4356:function(e,t,n){"use strict";var r=n(55446),i=n(30558),o=n(11217),a=n(81376),u=n(54479),l=n(51987);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=t.data,r=t.extraData,o=t.clickBehavior;return i.ZP.values(e).map((function(e){var t=e.source,i=e.target;return[e.id,(0,u.ko)(t,i,{data:n,extraData:r,clickBehavior:o})]}))}function m(e,t){var n=t.data,r=t.extraData,o=t.clickBehavior;return i.ZP.chain(e).values().map((function(e){var t=e.source,i=e.target;return[(0,u.kG)(i,{extraData:r,clickBehavior:o}),(0,u.ko)(t,i,{data:n,extraData:r,clickBehavior:o})]})).filter((function(e){var t=d(e,2);t[0];return null!=t[1]})).object().value()}function y(e,t){if("parameter"===e.type){var n=(((0,r.getIn)(t,["dashboard","parameters"])||[]).find((function(t){return t.id===e.id}))||{}).type;return void 0===n?"text":n}return"text"}t.Z=function(e){var t=e.question,n=e.clicked,c=n&&n.settings||{},f=(n&&n.column&&c.column&&c.column(n.column)||{}).click_behavior||c.click_behavior;if(null==f)return[];var p,v=(n||{}).extraData,b=(0,u.If)(n),g=f.type,w=f.linkType,O=f.parameterMapping,j=f.targetId;if(!function(e,t){var n=e.linkType,i=e.targetId;if("question"===n)return null!=(0,r.getIn)(t,["questions",i]);if("dashboard"===n)return null!=(0,r.getIn)(t,["dashboards",i]);return!0}(f,v))return[];if("crossfilter"===g){var S=h(O,{data:b,extraData:v,clickBehavior:f});p={action:function(){return(0,a.setOrUnsetParameterValues)(S)}}}else if("link"===g)if("url"===w)p={url:function(){return(0,l.z)(f.linkTemplate||"",b)}};else if("dashboard"===w)if(v.dashboard.id===j){var E=h(O,{data:b,extraData:v,clickBehavior:f});p={action:function(){return function(e){return E.forEach((function(t){var n=d(t,2),r=n[0],i=n[1];(0,a.setParameterValue)(r,i)(e)}))}}}}else{var _=m(O,{data:b,extraData:v,clickBehavior:f}),x=new URLSearchParams(_),P="/dashboard/".concat(j,"?").concat(x.toString());p={url:function(){return P}}}else if("question"===w&&v&&v.questions){var C=m(O,{data:b,extraData:v,clickBehavior:f}),k=new o.Z(v.questions[j],t.metadata()).lockDisplay(),A=i.ZP.chain(O).values().map((function(e){var t=e.target,n=e.id,r=e.source;return{target:t.dimension,id:n,slug:n,type:y(r,v)}})).value(),D=k.isStructured()?k.getUrlWithParameters(A,C):"".concat(k.getUrl(),"?").concat(new URLSearchParams(C).toString());p={url:function(){return D}}}return[s({name:"click_behavior",defaultAlways:!0},p)]}},12293:function(e,t,n){"use strict";var r,i=n(25312),o=n(98958),a=n(5192),u=n(35123);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.question,n=e.column,r=e.objectId,i=e.extraData;if(function(e){var t,n=e.query().table();return(null!==(t=null==n?void 0:n.fields)&&void 0!==t?t:e.getResultMetadata()).filter((function(e){return(0,o.Vm)(e)})).length>1}(t))return["question",function(){return t.filter("=",n,r)}];if(!(null==i||!i.dashboard)){var l=i.parameterValuesBySlug,c=void 0===l?{}:l;if(Object.keys(c).length>0){return["question",function(){return t},function(){return{objectId:r}}]}return["url",function(){return a.wv(t.card(),{objectId:r})}]}return["action",function(){return(0,u.zoomInRow)({objectId:r})}]}function f(){return{name:"object-detail",section:"details",title:(0,i.t)(r||(e=["View details"],t||(t=e.slice(0)),r=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})))),buttonType:"horizontal",icon:"document",default:!0};var e,t}t.Z=function(e){var t=e.question,n=e.clicked;if(null==n||!n.column||void 0===(null==n?void 0:n.value)||!(0,o.Rj)(n.column)&&!(0,o.Vm)(n.column)||!t.query().isEditable())return[];var r=n.column,i={question:t,column:r,objectId:n.value,extraData:n.extraData},a=(0,o.Vm)(r)?function(e){var t=e.question,n=e.column,r=e.objectId,i=e.extraData,o=f(),a=l(s({question:t,column:n,objectId:r,extraData:i}),3),u=a[0],c=a[1],d=a[2];return o[u]=c,d&&(o.extra=d),o}(i):function(e){var t=e.question,n=e.column,r=e.objectId,i=f(),o=function(e,t){var n=t.field(e.id);return null!=n&&n.target?n.target:e.fk_target_field_id?t.field(e.fk_target_field_id):null}(n,t.metadata());if(o)return i.question=function(){return t.drillPK(o,r)},i}(i);return a?[a]:[]}},68989:function(e,t,n){"use strict";var r=n(12293),i={name:"object",drills:function(){return[r.Z]}};t.Z=i},6498:function(e,t,n){"use strict";n.d(t,{m_:function(){return ue},Di:function(){return le},tb:function(){return fe},dm:function(){return re},eh:function(){return pe},hX:function(){return ce},jz:function(){return se},F0:function(){return de},ve:function(){return we},Oc:function(){return Oe},sI:function(){return je}});var r=n(53806),i=n.n(r),o=n(55316),a=n(98958),u=n(47667),l=n(7679),c=n(55799),s=n(91664),f=n(30558),d=n(68594);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},w(e,t,n||e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}var D,R,I=function(){function e(){C(this,e)}return A(e,[{key:"matchesDimension",value:function(e){return!0}},{key:"matchesDimensions",value:function(e){var t=this;return f.ZP.some(e,(function(e){return t.matchesDimension(e)}))}},{key:"canBeAppliedToDimension",value:function(e){return!0}},{key:"applyToDimension",value:function(e){return e}}]),e}(),T=function(e){O(n,e);var t=S(n);function n(e){var r;return C(this,n),P(_(r=t.call(this)),"_type",void 0),r._type=e,r}return A(n,[{key:"matchesDimension",value:function(e){return(0,s.V2)(e.field().semantic_type,this._type)}}]),n}(I),N=function(e){O(n,e);var t=S(n);function n(e,r){var i;return C(this,n),P(_(i=t.call(this,r)),"_previousType",void 0),i._previousType=e,i}return A(n,[{key:"canBeAppliedToDimension",value:function(e){return(0,s.V2)(e.field().semantic_type,this._previousType)}}]),n}(T),q=function(e){O(n,e);var t=S(n);function n(e){var r;return C(this,n),P(_(r=t.call(this)),"_unit",void 0),r._unit=e,r}return A(n,[{key:"matchesDimension",value:function(e){return(0,a.J_)(e.field())&&e.temporalUnit()===this._unit}},{key:"canBeAppliedToDimension",value:function(e){return(0,a.J_)(e.field())}},{key:"applyToDimension",value:function(e){return e.withTemporalUnit(this._unit)}}]),n}(I),M=function(e){O(n,e);var t=S(n);function n(e){var r;return C(this,n),P(_(r=t.call(this)),"_fieldPredicate",void 0),r._fieldPredicate=e,r}return A(n,[{key:"matchesDimension",value:function(e){return this._fieldPredicate(e.field())}},{key:"canBeAppliedToDimension",value:function(e){return this._fieldPredicate(e.field())}}]),n}(I),Z=function(e){O(n,e);var t=S(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"zoomedBinWidth",value:function(e){return e}},{key:"applyToDimension",value:function(e){return e.withBinningOptions({strategy:"bin-width","bin-width":this.zoomedBinWidth(e.getBinningOption("bin-width"))})}}]),n}(M),L=function(e){O(n,e);var t=S(n);function n(e,r){var i;return C(this,n),P(_(i=t.call(this,e)),"_binWidth",void 0),i._binWidth=r,i}return A(n,[{key:"zoomedBinWidth",value:function(){return this._binWidth}}]),n}(Z),B=function(e){O(n,e);var t=S(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"matchesDimension",value:function(e){return w(x(n.prototype),"canBeAppliedToDimension",this).call(this,e)&&e.getBinningOption("bin-width")>=20}}]),n}(M),z=function(e){O(n,e);var t=S(n);function n(e){var r;return C(this,n),P(_(r=t.call(this,e)),"_zoomRatio",void 0),r._zoomRatio=10,r}return A(n,[{key:"canBeAppliedToDimension",value:function(e){return w(x(n.prototype),"canBeAppliedToDimension",this).call(this,e)&&"bin-width"===e.binningStrategy()}},{key:"applyToDimension",value:function(e){return e.withBinningOptions(g(g({},e.binningOptions()),{},{"bin-width":e.getBinningOption("bin-width")/this._zoomRatio}))}}]),n}(Z),F=function(e){O(n,e);var t=S(n);function n(e){var r;return C(this,n),P(_(r=t.call(this)),"_strategy",void 0),r._strategy=e,r}return A(n,[{key:"matchesDimension",value:function(e){return e.binningStrategy()===this._strategy}}]),n}(I),Q=function(e){O(n,e);var t=S(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"matchesDimension",value:function(e){return"default"===e.binningStrategy()}},{key:"canBeAppliedToDimension",value:function(e){return e.binningStrategy()}},{key:"applyToDimension",value:function(e){return e.withBinningOptions({strategy:"default"})}}]),n}(I),V=function(e){O(n,e);var t=S(n);function n(){return C(this,n),t.apply(this,arguments)}return A(n,[{key:"canBeAppliedToDimension",value:function(e){return"bin-width"===e.binningStrategy()}},{key:"applyToDimension",value:function(e){return e.withBinningOptions({strategy:"bin-width","bin-width":e.getBinningOption("bin-width")/10})}}]),n}(I),U=function(){function e(t){C(this,e),this._transforms=t}return A(e,[{key:"matchesDimensions",value:function(e){return f.ZP.every(this._transforms,(function(t){return t.matchesDimensions(e)}))}},{key:"applyToDimensions",value:function(e){var t=this._transforms.map((function(t){var n=f.ZP.find(e,(function(e){return t.canBeAppliedToDimension(e)}));return n&&t.applyToDimension(n)}));return f.ZP.every(t,(function(e){return!!e}))?t:null}}]),e}(),H=function(e){return new U([new q(e)])},Y=function(e){return new U([new T(e)])},G=new U([new M(a.s$),new M(a.C2)]),W=new U([new B(a.s$),new B(a.C2)]),$=function(e){return new U([new L(a.s$,e),new L(a.C2,e)])},K=function(e){return new U([new F(e)])},J=new U([new Q]),X=new U([new V]),ee=[[H("year"),H("quarter"),H("month"),H("week"),H("day"),H("hour"),H("minute")],[Y(s.wD.Country),(D=s.wD.State,R=s.wD.Country,new U([new N(D,R)]))],[Y(s.wD.Country),$(10)],[Y(s.wD.State),$(1)],[Y(s.wD.City),$(.1)],[W,$(10)],[G,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new U([new z(a.s$,e),new z(a.C2,e)])}(10)],[K("num-bins"),J],[K("bin-width"),X]];function te(e,t){for(var n=0;n<e.length;n++){if(e[n].matchesDimensions(t))return n}return-1}function ne(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(ee);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=te(r,e);if(i>=0&&i<r.length-1)return[r,i]}}catch(e){n.e(e)}finally{n.f()}return[null,-1]}function re(e,t){var n=function(e,t){var n=ie(e.map((function(e){return e.column})),t),r=m(n,1)[0];if(!r)return null;var i=m(ne(n),2),o=i[0],a=i[1];if(!o)return null;var u=a+1,l=ie((t&&r.field().table).fields,t),c=[].concat(h(n),h(l)),s=o[u].applyToDimensions(c,t);return s?s.map((function(e){return e.mbql()})):null}(e,t);return n?{breakouts:n}:null}function ie(e,t){return e.map((function(e){return function(e,t){if((0,d.Rd)(e.field_ref))return;var n=new c.T7(e.id,null,t);if(e.unit)return n.withTemporalUnit(e.unit);if(e.binning_info){switch(e.binning_info.binning_strategy){case"bin-width":return n.withBinningOptions({strategy:"bin-width","bin-width":e.binning_info.bin_width});case"num-bins":return n.withBinningOptions({strategy:"num-bins","num-bins":e.binning_info.num_bins})}}return n}(e,t)})).filter(Boolean)}function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){var n=e.query();if(n instanceof l.Z)return n.aggregate(t).question().setDefaultDisplay()}function le(e,t){var n=e.query();if(n instanceof l.Z)return n.breakout(t).question().setDefaultDisplay()}function ce(e,t,n,r){var i=e.query();if(i instanceof l.Z)return i.filter([t,(0,o.ce)(n),r]).question()}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.query();if(r instanceof l.Z){var i,a=oe(n);try{for(a.s();!(i=a.n()).done;){var u=i.value;r=ye(r,u.value,u.column);for(var c=(0,o.ce)(u.column),s=0;s<r.breakouts().length;s++){var f=r.breakouts()[s];f.dimension().isSameBaseDimension(c)&&(r=f.remove(),s--)}}}catch(e){a.e(e)}finally{a.f()}var d,p=oe(t);try{for(p.s();!(d=p.n()).done;){var h=d.value;r=r.breakout(h)}}catch(e){p.e(e)}finally{p.f()}return r.question().setDefaultDisplay()}}function fe(e,t){var n=e.query();if(n instanceof l.Z){var r=(0,a.J_)(t)?(0,o.pw)((0,o.ce)(t),"temporal-unit","month"):(0,a.hj)(t)?(0,o.pw)((0,o.ce)(t),"binning",{strategy:"default"}):(0,o.ce)(t);return n.clearAggregations().clearBreakouts().clearSort().clearLimit().aggregate(["count"]).breakout(r).question().setDisplay("bar")}}function de(e){var t=e.query();if(t instanceof l.Z)return t.clearAggregations().clearBreakouts().clearSort().clearLimit().clearFields().question().setDisplay("table")}function pe(e,t){var n=e.query();if(n instanceof l.Z){var r,i=oe(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n=ye(n,o.value,o.column)}}catch(e){i.e(e)}finally{i.f()}return de(n.question())}}var he=function(e,t){var n=c.T7.parseMBQLOrWarn(e);return n?n.withTemporalUnit(t).mbql():e},me=function(e,t){return he((0,o.ce)(e),t)};function ye(e,t,n){var r;if((0,a.J_)(n))r=["=",me(n,n.unit),(0,u.ZB)(t,n.unit).format()];else{var i=(0,o.Lx)(t,n);r=i?["between",(0,o.ce)(n),i[0],i[1]]:null!=t?["=",(0,o.ce)(n),t]:["is-null",(0,o.ce)(n)]}return ve(e,r)}function ve(e,t){var n,r=oe(e.filters());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.dimension();if(o&&o.isSameBaseDimension(t[1]))return i.replace(t)}}catch(e){r.e(e)}finally{r.f()}return e.filter(t)}var be=["minute","hour","day","week","month","quarter","year"],ge=function(e){return be[Math.max(0,be.indexOf(e)-1)]};function we(e,t,n,r){var a=(0,o.ce)(t);if(n=i()(n),r=i()(r),t.unit){var u=t.unit;for(n=n.add(1,u).startOf(u),r=r.endOf(u);u!==ge(u)&&r.diff(n,u)<4;)u=ge(u);return e=function(e,t){var n,r=oe(e.breakouts());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dimension().isSameBaseDimension(t))return i.replace(t)}}catch(e){r.e(e)}finally{r.f()}return e.breakout(t)}(e,he(a,u)),n=n.startOf(t.unit),r=r.startOf(t.unit),n.isAfter(r)?e:n.isSame(r,t.unit)?ve(e,["=",he(a,t.unit),n.format()]):ve(e,["between",he(a,t.unit),n.format(),r.format()])}return ve(e,["between",a,n.format(),r.format()])}function Oe(e,t,n,r){return ve(e,["inside",(0,o.ce)(t),(0,o.ce)(n),r.getNorth(),r.getWest(),r.getSouth(),r.getEast()])}function je(e,t,n,r){return ve(e,["between",(0,o.ce)(t),n,r])}},39909:function(e,t,n){"use strict";var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F=n(25312);function Q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,F.t)(r||(r=Q(["Equal to"]))),(0,F.t)(i||(i=Q(["Not equal to"]))),(0,F.t)(o||(o=Q(["Between"]))),(0,F.t)(a||(a=Q(["Greater than or equal to"]))),(0,F.t)(u||(u=Q(["Less than or equal to"]))),(0,F.t)(l||(l=Q(["Dropdown"]))),(0,F.t)(c||(c=Q(["Select one or more values from a list or search box."]))),(0,F.t)(s||(s=Q(["Is not"]))),(0,F.t)(f||(f=Q(["Exclude one or more specific values."]))),(0,F.t)(d||(d=Q(["Contains"]))),(0,F.t)(p||(p=Q(["Match values that contain the entered text."]))),(0,F.t)(h||(h=Q(["Does not contain"]))),(0,F.t)(m||(m=Q(["Filter out values that contain the entered text."]))),(0,F.t)(y||(y=Q(["Starts with"]))),(0,F.t)(v||(v=Q(["Match values that begin with the entered text."]))),(0,F.t)(b||(b=Q(["Ends with"]))),(0,F.t)(g||(g=Q(["Match values that end with the entered text."]))),(0,F.t)(w||(w=Q(["Month and Year"]))),(0,F.t)(O||(O=Q(["Like January, 2016"]))),(0,F.t)(j||(j=Q(["Quarter and Year"]))),(0,F.t)(S||(S=Q(["Like Q1, 2016"]))),(0,F.t)(E||(E=Q(["Single Date"]))),(0,F.t)(_||(_=Q(["Like January 31, 2016"]))),(0,F.t)(x||(x=Q(["Date Range"]))),(0,F.t)(P||(P=Q(["Like December 25, 2015 - February 14, 2016"]))),(0,F.t)(C||(C=Q(["Relative Date"]))),(0,F.t)(k||(k=Q(['Like "the last 7 days" or "this month"']))),(0,F.t)(A||(A=Q(["Date Filter"]))),(0,F.t)(D||(D=Q(["All Options"]))),(0,F.t)(R||(R=Q(["Contains all of the above"]))),(0,F.t)(I||(I=Q(["Date"]))),(0,F.t)(T||(T=Q(["String"]))),(0,F.t)(N||(N=Q(["Number"]))),(0,F.t)(q||(q=Q(["ID"]))),(0,F.t)(M||(M=Q(["Category"]))),(0,F.t)(Z||(Z=Q(["City"]))),(0,F.t)(L||(L=Q(["State"]))),(0,F.t)(B||(B=Q(["ZIP or Postal Code"]))),(0,F.t)(z||(z=Q(["Country"])))},10209:function(e,t,n){"use strict";n.d(t,{dX:function(){return s},a5:function(){return f},gQ:function(){return d}});var r=n(30558),i=n(11217),o=n(33355),a=n(98007);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(e&&e.parameters)return e.parameters;var t=function(e){return(e&&e.dataset_query&&"native"===e.dataset_query.type&&e.dataset_query.native["template-tags"]?Object.values(e.dataset_query.native["template-tags"]):[]).filter((function(e){return"card"!==e.type&&"snippet"!==e.type}))}(e);return function(e){function t(e){var t=e.type;return"date"===t?"date/single":"string"===t?"string/=":"number"===t?"number/=":"category"}return e.filter((function(e){return null!=e.type&&(e["widget-type"]||"dimension"!==e.type)})).map((function(e){return{id:e.id,type:e["widget-type"]||t(e),target:"dimension"===e.type?["dimension",["template-tag",e.name]]:["variable",["template-tag",e.name]],name:e["display-name"],slug:e.name,default:e.default}}))}(t)}function f(e,t,n){if(!e)return[];var r=s(e),u=(0,a.Q8)(r,n),c=new i.Z(e,t);return u.map((function(e){var n=(0,o.Hh)(e.target,t,c);return l(l({},e),{},{fields:null==n?[]:[n],field_id:null==n?void 0:n.id,hasOnlyFieldTargets:null!=n})}))}function d(e,t,n){var i={},u=r.ZP.indexBy(e,"name");return t.forEach((function(e){var t=e.target,r=(0,o.j9)(t);if(u[r]){var l=u[r],c=n[e.id];(0,a.D9)(c)&&(i[l.name]=c)}})),i}},68147:function(e,t,n){"use strict";n.d(t,{yi:function(){return p},qX:function(){return h},qg:function(){return m},$y:function(){return y},jb:function(){return b},li:function(){return g},Yo:function(){return w},m2:function(){return O},Bn:function(){return j},wk:function(){return S}});var r=n(30558),i=n(55446),o=n(11217),a=n(33355),u=n(83360);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.combinedName||e.name,i=0;r.ZP.any(t,(function(e){return e.name===n}));)n=(e.combinedName||e.name)+" "+ ++i;var o={name:"",slug:"",id:Math.floor(Math.random()*Math.pow(2,32)).toString(16),type:e.type,sectionId:e.sectionId};return h(o,n)}function h(e,t){t||(t="unnamed");var n=(0,u.lV)(t);return f(f({},e),{},{name:t,slug:n})}function m(e,t){return f(f({},e),{},{default:t})}function y(e,t){if(!t)return!1;var n=t.parameters.some((function(t){return t.id===e.id})),r=function(e,t){return t.ordered_cards.some((function(t){var n;return null==t||null===(n=t.parameter_mappings)||void 0===n?void 0:n.some((function(t){return t.parameter_id===e.id}))}))}(e,t);return n&&!r}function v(e,t){var n=[e.card].concat(l(e.series||[]));return(e.parameter_mappings||[]).map((function(i){var u,l=function(e,t,n){if(null==e||!e.dataset_query)return null;var r=new o.Z(e,n);return(0,a.Hh)(t.target,n,r)}(r.ZP.findWhere(n,{id:i.card_id}),i,t);return f(f({},i),{},{parameter_id:i.parameter_id,dashcard_id:e.id,card_id:i.card_id,field_id:null!==(u=null==l?void 0:l.id)&&void 0!==u?u:null==l?void 0:l.name,field:l})}))}function b(e,t){if(!t)return{};var n=function(e,t){return e.ordered_cards.flatMap((function(e){return v(e,t)}))}(t,e);return n.reduce((function(e,t){return(0,i.setIn)(e,[t.parameter_id,t.dashcard_id,t.card_id],t)}),{})}function g(e,t,n){return(t&&t.parameters||[]).map((function(t){var i=r.ZP.flatten(r.ZP.map(n[t.id]||{},r.ZP.values)),o=i.every((function(e){return null!=e.field_id})),a=r.ZP.uniq(i.map((function(e){return e.field})).filter((function(e){return null!=e})).map((function(e){var t;return null!==(t=e.target)&&void 0!==t?t:e})),(function(e){return e.id})),u=r.ZP.chain(i).map((function(e){return e.field_id})).uniq().filter((function(e){return null!=e})).value(),l=r.ZP.chain(u).map((function(t){return e.field(t)})).filter((function(e){return e})).map((function(e){return(e.target||e).id})).uniq().value();return f(f({},t),{},{field_ids:u,field_id:1===l.length?l[0]:null,fields:a,hasOnlyFieldTargets:o})}))}function w(e,t){var n=e.parameters,i=void 0===n?[]:n,o=t.parameter_mappings;return i.map((function(e){var t=r.ZP.findWhere(o,{parameter_id:e.id});if(t)return f(f({},e),{},{target:t.target})})).filter(Boolean)}function O(e){var t=e.dashboard,n=e.dashcardId,i=e.cardId,o=e.parameters,a=e.metadata,u=r.ZP.findWhere(t.ordered_cards,{id:n,card_id:i});if(!u)return!1;var l=r.ZP.indexBy(v(u,a),"parameter_id");return o.every((function(e){return null!=l[e.id]}))}function j(e,t){var n=(e||{}).filteringParameters,r=void 0===n?[]:n;return Object.fromEntries(t.filter((function(e){return r.includes(e.id)&&null!=e.value})).map((function(e){return[e.id,e.value]})))}function S(e){var t=e.dashboardId,n=e.parameterId,i=e.query,o=void 0===i?null:i,a=e.filteringParameterValues,u=void 0===a?{}:a,l=r.ZP.sortBy(Object.entries(u),"0"),c=JSON.stringify(l);return"dashboardId: ".concat(t,", parameterId: ").concat(n,", query: ").concat(o,", filteringParameterValues: ").concat(c)}},35555:function(e,t,n){"use strict";n.d(t,{su:function(){return a},_F:function(){return u},e:function(){return l}});var r=n(45814),i=n(85710),o=n(73306);function a(e){var t=function(e){switch((0,r.Om)(e)){case"date":return function(e){return e.isDate()};case"id":return function(e){return e.isID()};case"category":return function(e){return e.isCategory()};case"location":return function(e){return e.isLocation()};case"number":return function(e){return e.isNumber()&&!e.isCoordinate()};case"string":return function(e){return e.isString()&&!e.isLocation()}}return function(){return!1}}(e);return function(e){return t(e.field())}}function u(e){var t=(0,r.TF)(e),n=(0,i.sq)(t);return function(e){var t=e["widget-type"],o=(0,r.TF)(t),a=(0,i.sq)(o);return n===a}}function l(e){var t=function(e){var t=(0,r.Om)(e),n=(0,r.TF)(e);if("="!==(0,i.sq)(n))return function(){return!1};switch(t){case"date":return function(e){return"single"===n&&"date"===e.type};case"location":case"id":case"category":return function(e){return"number"===e.type||"text"===e.type};case"number":return function(e){return"number"===e.type};case"string":return function(e){return"text"===e.type}}return function(){return!1}}(e);return function(e){if(e instanceof o.d){var n=e.tag();return!!n&&t(n)}return!1}}},82646:function(e,t,n){"use strict";n.d(t,{Qc:function(){return y},Xv:function(){return v}});var r=n(53806),i=n.n(r),o=n(30558),a=n(55799),u=n(45814),l=n(85710),c=n(33355),s=n(98007),f=n(67478);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){return(e&&a.T7.parseMBQLOrWarn(e)||new a.T7(null)).withTemporalUnit(t).mbql()},m=[{testRegex:/^exclude-(days|months|quarters|hours)-([a-zA-Z0-9\-]+)$/,deserialize:function(e,t){var n=f.pO[e[0]],r=f.ZT[n]().flat(),i=e[1].split("-");return["!=",h(t,n)].concat(d(r.filter((function(e){var t=e.serialized;return!!o.ZP.find(i,(function(e){return e===t}))})).map((function(e){return e.value}))))}},{testRegex:/^past([0-9]+)([a-z]+)s-from-([0-9]+)([a-z]+)s$/,deserialize:function(e,t){var n=["time-interval",t,-parseInt(e[0]),e[1]];return(0,f.Mg)(n,parseInt(e[2]),e[3])}},{testRegex:/^past([0-9]+)([a-z]+)s(~)?$/,deserialize:function(e,t){return["time-interval",t,-parseInt(e[0]),e[1]].concat(e[2]?[{"include-current":!0}]:[])}},{testRegex:/^next([0-9]+)([a-z]+)s-from-([0-9]+)([a-z]+)s$/,deserialize:function(e,t){var n=["time-interval",t,parseInt(e[0]),e[1]];return(0,f.Mg)(n,-parseInt(e[2]),e[3])}},{testRegex:/^next([0-9]+)([a-z]+)s(~)?$/,deserialize:function(e,t){return["time-interval",t,parseInt(e[0]),e[1]].concat(e[2]?[{"include-current":!0}]:[])}},{testRegex:/^this([a-z]+)$/,deserialize:function(e,t){return["time-interval",t,"current",e[0]]}},{testRegex:/^~([0-9-T:]+)$/,deserialize:function(e,t){return["<",t,e[0]]}},{testRegex:/^([0-9-T:]+)~$/,deserialize:function(e,t){return[">",t,e[0]]}},{testRegex:/^(\d{4}-\d{2})$/,deserialize:function(e,t){return["=",h(t,"month"),i()(e[0],"YYYY-MM").format("YYYY-MM-DD")]}},{testRegex:/^(Q\d-\d{4})$/,deserialize:function(e,t){return["=",h(t,"quarter"),i()(e[0],"[Q]Q-YYYY").format("YYYY-MM-DD")]}},{testRegex:/^([0-9-T:]+)$/,deserialize:function(e,t){return["=",t,e[0]]}},{testRegex:/^([0-9-T:]+)~([0-9-T:]+)$/,deserialize:function(e,t){return["between",t,e[0],e[1]]}}];function y(e,t){var n=m.find((function(t){return t.testRegex.test(e)}));if(n){var r=n.testRegex.exec(e).splice(1);return n.deserialize(r,t)}return null}function v(e,t){if(!e.target||!(0,c.ky)(e.target)||!Array.isArray(e.target[1])||a.I0.isTemplateTagClause(e.target[1])||!(0,s.D9)(e.value))return null;var n=a.ZP.parseMBQL(e.target[1],t),r=n.field(),i=n.mbql();return(0,u.Is)(e)?y(e.value,i):r.isNumeric()?function(e,t){var n=e.value,r=(0,u.TF)(e);return[(0,l.sq)(r),t].concat([].concat(n).map((function(e){return parseFloat(e)})))}(e,i):function(e,t){var n=e.value,r=(0,u.TF)(e);return[(0,l.sq)(r),t].concat(n)}(e,i)}},85710:function(e,t,n){"use strict";n.d(t,{sq:function(){return o},GQ:function(){return a}});var r=n(45814),i=n(98958);n(39909);function o(e){return(0,i.Yl)(e)?e:"="}function a(e){var t=(0,r.Om)(e),n=(0,r.TF)(e),a=function(e){switch(e){case"number":return i.Wu;case"string":case"category":case"location":return i.jd;case"id":return i.go;default:return}}(t),u=o(n);return(0,i.rF)(a,u)}},45814:function(e,t,n){"use strict";n.d(t,{Om:function(){return a},TF:function(){return u},Is:function(){return c}});var r=n(30558);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return e.sectionId||l(e)[0]}function u(e){return i(l(e),2)[1]}function l(e){return(r.ZP.isString(e)?e:(null==e?void 0:e.type)||"").split("/")}function c(e){return"date"===a(e)}},98007:function(e,t,n){"use strict";n.d(t,{Q8:function(){return s},D9:function(){return f},QM:function(){return y},og:function(){return g},_3:function(){return w}});var r=n(45814),i=n(55799);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return t?e.map((function(e){return e.id in t?l(l({},e),{},{value:t[e.id]}):e})):e}function f(e){return null!=e}function d(e,t,n){t=t||{};var r=function(e,t){if(e.fields)return e.fields;return(e.field_ids||[e.field_id].filter((function(e){return null!=e}))).map((function(e){var n=t.field(e);if(null!=n)return n;var r=i.ZP.parseMBQL(e,t);return null!=r?r.field():void 0})).filter((function(e){return null!=e}))}(e,n),o=t[e.slug||e.id];return f(o)?function(e,t){!t.hasOnlyFieldTargets||/^date\//.test(t.type)||Array.isArray(e)||""===e||(e=[e]);return e}(p(o,r),e):e.default}function p(e,t){if(Array.isArray(e))return e.map((function(e){return p(e,t)}));if(t.length>0){if(t.every((function(e){return e.isNumeric()&&!e.isDate()})))return""===e?e:parseFloat(e);if(t.every((function(e){return e.isBoolean()})))return"true"===e||"false"!==e&&e}return e}function h(e){return e.map((function(e){var t=o(e,2),n=t[0],r=t[1];return[n,""===r?void 0:r]})).filter((function(e){var t=o(e,2);t[0];return f(t[1])}))}function m(e){return e.map((function(e){var t=o(e,2),n=t[0],r=t[1];return[n,""===r?n.default:r]})).filter((function(e){return f(o(e,2)[1])}))}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.forcefullyUnsetDefaultedParametersWithEmptyStringValue,a=e.map((function(e){return[e,d(e,t,n)]})),u=i?h(a):m(a),l=u.map((function(e){var t=o(e,2),n=t[0],r=t[1];return[n.id,r]}));return Object.fromEntries(l)}function v(e){return e.filter((function(e){return f(o(e,2)[1])}))}function b(e){return e.filter((function(e){var t=o(e,2),n=t[0],r=t[1];return function(e){return null!=e.default}(n)||f(r)}))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preserveDefaultedParameters;t=t||{};var i=(e=e||[]).map((function(e){return[e,f(e.value)?e.value:t[e.id]]})),a=r?b(i):v(i),u=a.map((function(e){var t=o(e,2),n=t[0],r=t[1];return[n.slug,r]}));return Object.fromEntries(u)}function w(e,t){var n=(0,r.Om)(e);return["string","number"].includes(n)?null==t?[]:[].concat(t):t}},33355:function(e,t,n){"use strict";n.d(t,{ky:function(){return a},V1:function(){return u},j9:function(){return l},Hh:function(){return c}});var r=n(55799);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return"dimension"===(null==e?void 0:e[0])}function u(e){return"variable"===(null==e?void 0:e[0])}function l(e){if(null==e||!e[1])return null;var t=i(e,2),n=i(t[1],2),r=n[0],o=n[1];return"template-tag"===r?o:null}function c(e,t,n){if(a(e)){var i=r.ZP.parseMBQL(e[1],t,n.query());return null==i?void 0:i.field()}return null}},40930:function(e,t,n){"use strict";n.d(t,{jm:function(){return d},vJ:function(){return p},o7:function(){return j},QB:function(){return s},kF:function(){return h},bd:function(){return w},rv:function(){return g},zI:function(){return O},s:function(){return v},bb:function(){return S},X9:function(){return f},SH:function(){return y},Xl:function(){return m}});var r=n(25312);var i;var o,a,u,l,c,s=[],f=[],d=[],p=[],h=[],m=[],y={getHasCustomLogo:function(e){return!1},getHasCustomColors:function(e){return!1},getHasCustomBranding:function(e){return!1}},v={},b={type:null,name:(0,r.t)(i||(o=["Regular"],a||(a=o.slice(0)),i=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}})))),icon:"folder"},g={authorityLevelFormFields:[],isRegularCollection:function(e){return!0},REGULAR_COLLECTION:b,AUTHORITY_LEVEL:(u={},l=JSON.stringify(b.type),c=b,l in u?Object.defineProperty(u,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[l]=c,u)},w={dashboardCacheTTLFormField:null,databaseCacheTTLFormField:null,questionCacheTTLFormField:null,getQuestionsImplicitCacheTTL:function(){return null}},O={getFeatureLevelDataPermissions:function(e,t,n,r,i,o){return[]},getDataColumns:function(e){return[]},getDownloadWidgetMessageOverride:function(e){return null},canDownloadResults:function(e){return!0},dataModelQueryProps:{},databaseDetailsQueryProps:{}},j={getRoutes:function(){return null},tabs:[],selectors:{canManageSubscriptions:function(e){return!0}}},S={UserTypeToggle:function(){return null},UserTypeCell:null,getChangeMembershipConfirmation:function(){return null},getRemoveMembershipConfirmation:function(){return null},confirmDeleteMembershipAction:null,confirmUpdateMembershipAction:null}},35123:function(e,t,n){"use strict";n.r(t),n.d(t,{API_CREATE_QUESTION:function(){return Xt},API_UPDATE_QUESTION:function(){return tn},CANCEL_DATASET_CHANGES:function(){return qn},CANCEL_QUERY:function(){return mn},CLEAR_OBJECT_DETAIL_FK_REFERENCES:function(){return xn},CLEAR_QUERY_RESULT:function(){return un},CLOSE_QB_NEWB_MODAL:function(){return Rt},CREATE_PUBLIC_LINK:function(){return Ye},DELETE_PUBLIC_LINK:function(){return We},DESELECT_TIMELINE_EVENTS:function(){return Kn},FOLLOW_FOREIGN_KEY:function(){return jn},HIDE_TIMELINES:function(){return Yn},INITIALIZE_QB:function(){return ct},LOAD_OBJECT_DETAIL_FK_REFERENCES:function(){return En},NAVIGATE_TO_NEW_CARD:function(){return Gt},POP_STATE:function(){return Qe},QUERY_COMPLETED:function(){return cn},QUERY_ERRORED:function(){return pn},REDIRECT_TO_NEW_QUESTION_FLOW:function(){return rt},RELOAD_CARD:function(){return Vt},RESET_QB:function(){return ot},RESET_ROW_ZOOM:function(){return gn},RESET_UI_CONTROLS:function(){return ye},REVERT_TO_REVISION:function(){return In},RUN_QUERY:function(){return rn},SELECT_TIMELINE_EVENTS:function(){return Wn},SET_CARD_AND_RUN:function(){return Ht},SET_CURRENT_STATE:function(){return ze},SET_DOCUMENT_TITLE:function(){return be},SET_DOCUMENT_TITLE_TIMEOUT_ID:function(){return Se},SET_IS_SHOWING_SNIPPET_SIDEBAR:function(){return gt},SET_IS_SHOWING_TEMPLATE_TAGS_EDITOR:function(){return mt},SET_METADATA_DIFF:function(){return Fn},SET_MODAL_SNIPPET:function(){return _t},SET_NATIVE_EDITOR_SELECTED_RANGE:function(){return St},SET_PARAMETER_VALUE:function(){return Bt},SET_RESULTS_METADATA:function(){return Bn},SET_SHOW_LOADING_COMPLETE_FAVICON:function(){return we},SET_SNIPPET_COLLECTION_ID:function(){return Pt},SET_TEMPLATE_TAG:function(){return Zt},SET_UI_CONTROLS:function(){return he},SHOW_CHART_SETTINGS:function(){return kn},SHOW_TIMELINES:function(){return Un},SOFT_RELOAD_CARD:function(){return Ft},TOGGLE_DATA_REFERENCE:function(){return ft},TOGGLE_SNIPPET_SIDEBAR:function(){return vt},TOGGLE_TEMPLATE_TAGS_EDITOR:function(){return pt},UPDATE_EMBEDDING_PARAMS:function(){return Xe},UPDATE_ENABLE_EMBEDDING:function(){return Ke},UPDATE_QUESTION:function(){return $t},UPDATE_URL:function(){return tt},ZOOM_IN_ROW:function(){return vn},apiCreateQuestion:function(){return en},apiUpdateQuestion:function(){return nn},cancelQuery:function(){return yn},clearQueryResult:function(){return ln},closeQbNewbModal:function(){return It},closeSnippetModal:function(){return At},createPublicLink:function(){return Ge},deletePublicLink:function(){return $e},deselectTimelineEvents:function(){return Jn},followForeignKey:function(){return Sn},hideTimelines:function(){return Gn},initializeQB:function(){return st},insertSnippet:function(){return Dt},loadMetadataForCard:function(){return Tt},loadObjectDetailFKReferences:function(){return _n},locationChanged:function(){return He},navigateToNewCardInsideQB:function(){return Wt},onAddFilter:function(){return Ce},onCancelDatasetChanges:function(){return Mn},onCloseChartSettings:function(){return De},onCloseChartType:function(){return Le},onCloseFilter:function(){return ke},onCloseQuestionDetails:function(){return Te},onCloseQuestionHistory:function(){return qe},onCloseSidebars:function(){return Be},onCloseSummary:function(){return Pe},onCloseTimelines:function(){return Ze},onEditSummary:function(){return xe},onOpenChartSettings:function(){return Ae},onOpenChartType:function(){return Re},onOpenQuestionDetails:function(){return Ie},onOpenQuestionHistory:function(){return Ne},onOpenTimelines:function(){return Me},onReplaceAllVisualizationSettings:function(){return Rn},onUpdateVisualizationSettings:function(){return Dn},openSnippetModalWithSelectedText:function(){return kt},popState:function(){return Ve},queryCompleted:function(){return sn},queryErrored:function(){return hn},redirectToNewQuestionFlow:function(){return it},reloadCard:function(){return Ut},replaceAllCardVisualizationSettings:function(){return Mt},resetQB:function(){return at},resetRowZoom:function(){return wn},resetUIControls:function(){return ve},revertToRevision:function(){return Tn},runQuestionQuery:function(){return on},selectTimelineEvents:function(){return $n},setCardAndRun:function(){return Yt},setDatasetEditorTab:function(){return Nn},setDatasetQuery:function(){return Jt},setFieldMetadata:function(){return Vn},setIsNativeEditorOpen:function(){return jt},setIsPreviewing:function(){return Ot},setIsShowingSnippetSidebar:function(){return wt},setIsShowingTemplateTagsEditor:function(){return yt},setMetadataDiff:function(){return Qn},setModalSnippet:function(){return xt},setNativeEditorSelectedRange:function(){return Et},setParameterValue:function(){return zt},setQueryBuilderMode:function(){return _e},setResultsMetadata:function(){return zn},setSnippetCollectionId:function(){return Ct},setTemplateTag:function(){return Lt},setUIControls:function(){return me},showChartSettings:function(){return An},showTimelines:function(){return Hn},showTimelinesForCollection:function(){return Xn},softReloadCard:function(){return Qt},toggleDataReference:function(){return dt},toggleSnippetSidebar:function(){return bt},toggleTemplateTagsEditor:function(){return ht},turnDatasetIntoQuestion:function(){return Ln},turnQuestionIntoDataset:function(){return Zn},updateCardVisualizationSettings:function(){return qt},updateEmbeddingParams:function(){return et},updateEnableEmbedding:function(){return Je},updateQuestion:function(){return Kt},updateUrl:function(){return nt},viewNextObjectDetail:function(){return Pn},viewPreviousObjectDetail:function(){return Cn},zoomInRow:function(){return bn}});var r=n(12527),i=n(83269),o=n(30558),a=n(55446),u=n(25312),l=n(5192),c=n(24432),s=n(95390),f=n(15712),d=n(60006),p=n(73319),h=n(97249),m=n(18612),y=n(46078),v=n(29502),b=n(34344),g=n(68594),w=n(68942),O=n(38908),j=n(9841),S=n(11217),E=n(55799),_=n(14178),x=n(10209),P=n(68147),C=n(98007),k=n(24359),A=n(61045),D=function(e,t,n){(0,h.VQ)("question","1-0-1",{event:"new_question_saved",question_id:t.id(),database_id:t.databaseId(),visualization_type:t.display(),type:e.creationType(),source:n?"existing_question":"from_scratch"})},R=n(11093),I=n(1662),T=n(67526),N=n(7679),q=n(26864),M=n(63614),Z=n(76198),L=n(96049),B=n(92065),z=n(47988),F=n(81932),Q=n(33094),V=n(13818);function U(e){var t=e.pathname;return t.endsWith("/notebook")?{mode:"notebook"}:t.endsWith("/query")||t.endsWith("/metadata")?{mode:"dataset",datasetEditorTab:t.endsWith("/query")?"query":"metadata"}:{mode:"view"}}function H(e){var t=e.pathname,n=e.queryBuilderMode,r=e.datasetEditorTab,i=void 0===r?"query":r;return"view"===n?t:"dataset"===n?"".concat(t,"/").concat(i):"".concat(t,"/").concat(n)}function Y(){var e="?"===window.location.search.charAt(0)?window.location.search.slice(0):window.location.search;return T.parse(e)}function G(e,t){var n=e.card,r=e.serializedCard,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,a={hash:r&&t?r:"",query:i},u=!n.id;return null!=o&&(u?a.query.objectId=o:a.objectId=o),l.wv(n,a)}function W(e){var t=e.query();return t instanceof V.Z?t.templateTagsWithoutSnippets():[]}function $(e){var t=e.oldQuestion,n=e.newQuestion,r=e.isTemplateTagEditorVisible,i=e.queryBuilderMode,o=W(t),a=W(n);return a.length>o.length?"dataset"!==i||a.every(w.PQ)?"visible":"hidden":0===a.length&&r?"hidden":"deferToCurrentState"}var K,J,X,ee,te,ne=n(98399),re=["mode"],ie=["mode"];function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function de(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){de(o,r,i,a,u,"next",e)}function u(e){de(o,r,i,a,u,"throw",e)}a(void 0)}))}}var he="metabase/qb/SET_UI_CONTROLS",me=(0,i.Z)(he),ye="metabase/qb/RESET_UI_CONTROLS",ve=(0,i.Z)(ye),be="metabase/qb/SET_DOCUMENT_TITLE",ge=(0,i.Z)(be),we="metabase/qb/SET_SHOW_LOADING_COMPLETE_FAVICON",Oe=(0,i.Z)(we,(function(){return!0})),je=(0,i.Z)(we,(function(){return!1})),Se="metabase/qb/SET_DOCUMENT_TITLE_TIMEOUT_ID",Ee=(0,i.Z)(Se),_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldUpdateUrl,r=void 0===n||n,i=t.datasetEditorTab,o=void 0===i?"query":i;return function(){var t=pe(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(me({queryBuilderMode:e,datasetEditorTab:o,isShowingChartSettingsSidebar:!1}));case 2:if(!r){t.next=5;break}return t.next=5,n(nt(null,{queryBuilderMode:e,datasetEditorTab:o}));case 5:"notebook"===e&&n(yn()),"dataset"===e&&n(on());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},xe=(0,i.Z)("metabase/qb/EDIT_SUMMARY"),Pe=(0,i.Z)("metabase/qb/CLOSE_SUMMARY"),Ce=(0,i.Z)("metabase/qb/ADD_FITLER"),ke=(0,i.Z)("metabase/qb/CLOSE_FILTER"),Ae=(0,i.Z)("metabase/qb/OPEN_CHART_SETTINGS"),De=(0,i.Z)("metabase/qb/CLOSE_CHART_SETTINGS"),Re=(0,i.Z)("metabase/qb/OPEN_CHART_TYPE"),Ie=(0,i.Z)("metabase/qb/OPEN_QUESTION_DETAILS"),Te=(0,i.Z)("metabase/qb/CLOSE_QUESTION_DETAILS"),Ne=(0,i.Z)("metabase/qb/OPEN_QUESTION_HISTORY"),qe=(0,i.Z)("metabase/qb/CLOSE_QUESTION_HISTORY"),Me=(0,i.Z)("metabase/qb/OPEN_TIMELINES"),Ze=(0,i.Z)("metabase/qb/CLOSE_TIMELINES"),Le=(0,i.Z)("metabase/qb/CLOSE_CHART_TYPE"),Be=(0,i.Z)("metabase/qb/CLOSE_SIDEBARS"),ze="metabase/qb/SET_CURRENT_STATE",Fe=(0,i.Z)(ze),Qe="metabase/qb/POP_STATE",Ve=(0,c.RU)(Qe,(function(e){return function(){var t=pe(regeneratorRuntime.mark((function t(n,r){var i,o,a,u,l,c,s,f,d,p,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(yn()),!(i=(0,A.Kg)(r()))){t.next=8;break}return o=r().routing.locationBeforeTransitions,u=(a=void 0===o?{}:o).state,l=a.query,c=(null==u?void 0:u.objectId)||(null==l?void 0:l.objectId),n(c&&i!==c?bn({objectId:c}):wn()),t.abrupt("return");case 8:if(s=(0,A.nO)(r()),!e.state||!e.state.card){t.next=16;break}if(O.Z.equals(s,e.state.card)){t.next=16;break}return f=e.state.card.dataset,t.next=14,n(Yt(e.state.card,f));case 14:return t.next=16,n(Fe(e.state));case 16:if(d=U(e),p=d.mode,h=fe(d,re),(0,A.RQ)(r())===p){t.next=20;break}return t.next=20,n(_e(p,ce(ce({},h),{},{shouldUpdateUrl:"dataset"===p})));case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeMode,r=void 0!==n&&n;return(r?e.pathname:e.pathname.replace(/\/(notebook|view)$/,""))+e.search+e.hash},He=function(e,t,n){return function(r,i){e!==t&&("POP"===t.action?Ue(t,{includeMode:!0})!==Ue(e,{includeMode:!0})&&r(Ve(t)):"PUSH"!==t.action&&"REPLACE"!==t.action||void 0!==t.state||r(st(t,n)))}},Ye="metabase/card/CREATE_PUBLIC_LINK",Ge=(0,i.Z)(Ye,(function(e){var t=e.id;return R.CardApi.createPublicLink({id:t})})),We="metabase/card/DELETE_PUBLIC_LINK",$e=(0,i.Z)(We,(function(e){var t=e.id;return R.CardApi.deletePublicLink({id:t})})),Ke="metabase/card/UPDATE_ENABLE_EMBEDDING",Je=(0,i.Z)(Ke,(function(e,t){var n=e.id;return R.CardApi.update({id:n,enable_embedding:t})})),Xe="metabase/card/UPDATE_EMBEDDING_PARAMS",et=(0,i.Z)(Xe,(function(e,t){var n=e.id;return R.CardApi.update({id:n,embedding_params:t})})),tt="metabase/qb/UPDATE_URL",nt=(0,c.RU)(tt,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.dirty,r=t.replaceState,i=t.preserveParameters,o=void 0===i||i,a=t.queryBuilderMode,u=t.datasetEditorTab,l=t.objectId;return function(t,i){var c;if(e?c=new S.Z(e,(0,F.sd)(i())):(e=(0,A.nO)(i()),c=(0,A.a5)(i())),null==n){var f=(0,A.FT)(i()),d=(0,w._q)(c,f);n=!f||!d&&c.isDirtyComparedTo(f)}c.isStructured()&&c.parameters().length>0&&(n=!0),a||(a=(0,A.RQ)(i())),u||(u=(0,A.pT)(i()));var p=(0,y.A1)(e),h={card:p,cardId:p.id,serializedCard:(0,y.$C)(p),objectId:l},m=i().qb.currentState,v=o?Y():{},b=G(h,n,v,l),g=(0,I.parse)(b),O={pathname:H({pathname:g.pathname||"",queryBuilderMode:a,datasetEditorTab:u}),search:g.search,hash:g.hash,state:h},j=O.pathname===window.location.pathname&&(O.search||"")===(window.location.search||"")&&(O.hash||"")===(window.location.hash||""),E=m&&m.serializedCard===h.serializedCard,_=U(O).mode===U(window.location).mode;E&&j||(null==r&&(r=E&&_),t(Fe(h)),t(r?(0,s.gx)(O):(0,s.VF)(O)))}})),rt="metabase/qb/REDIRECT_TO_NEW_QUESTION_FLOW",it=(0,c.RU)(rt,(function(){return function(e,t){return e((0,s.gx)("/question/new"))}})),ot="metabase/qb/RESET_QB",at=(0,i.Z)(ot);function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=pe(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.dashboardId,i=t.dashcardId,o=t.cardId,a=t.parameters,u=t.metadata,e.prev=1,e.next=4,R.DashboardApi.get({dashId:r});case 4:l=e.sent,(0,P.m2)({dashboard:l,dashcardId:i,cardId:o,parameters:a,metadata:u})||n((0,f.$J)({status:403})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n((0,f.$J)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var ct="metabase/qb/INITIALIZE_QB",st=function(e,t){return function(){var n=pe(regeneratorRuntime.mark((function n(i,o){var u,c,s,d,p,m,v,b,g,w,j,E,P,A,D,R,I,N,q,M,Z,B,Q,V,H,Y,G,W,$,K,J,X,ee,te;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=e.query,i(at()),i(yn()),c=o(),s=c.currentUser,d=l.Wu(t.slug),v=U(e),b=v.mode,g=fe(v,ie),w=ce({isEditing:!1,isShowingTemplateTagsEditor:!1,queryBuilderMode:b},g),j={},e.hash&&("?"===(P=e.hash.replace(/^#/,"")).charAt(0)?j=T.parse(P.substring(1)):E=P),A=!1,!d&&!E){n.next=52;break}if(n.prev=11,E?null!=(p=(0,y.CN)(E)).dataset_query.database&&(p.dataset_query=(0,k.normalize)(p.dataset_query)):p={},R=p,!d){n.next=23;break}return n.next=17,(0,y.a8)(d);case 17:p=n.sent,m=O.Z.copy(p),p.original_card_id=p.id,R&&R.parameters&&(I=(0,F.sd)(o()),N=R.dashboardId,q=R.dashcardId,M=R.parameters,ut({dispatch:i,dashboardId:N,dashcardId:q,cardId:d,parameters:M,metadata:I}),p.parameters=M,p.dashboardId=N,p.dashcardId=q),n.next=29;break;case 23:if(!p.original_card_id){n.next=29;break}return Z=p,n.next=27,(0,y.a8)(p.original_card_id);case 27:m=n.sent,(0,_.ch)(Z,m)&&(p=O.Z.copy(m),(0,_.ch)(Z,m,{checkParameters:!0})||(B=(0,F.sd)(o()),Q=Z.dashboardId,V=Z.dashcardId,H=Z.parameters,ut({dispatch:i,dashboardId:Q,dashcardId:V,cardId:p.id,parameters:H,metadata:B}),p.parameters=H,p.dashboardId=Q,p.dashcardId=V));case 29:if(!(Object.values((0,a.getIn)(p,["dataset_query","native","template-tags"])||{}).filter((function(e){return"snippet"===e.type})).length>0)){n.next=37;break}if(Y=p.database_id,G=L.ZP.selectors.getObject(o(),{entityId:Y})){n.next=36;break}return n.next=35,i(L.ZP.actions.fetchList());case 35:G=L.ZP.selectors.getObject(o(),{entityId:Y});case 36:G&&"write"===G.native_permissions&&(D=i(z.Z.actions.fetchList()));case 37:h.vF("QueryBuilder","Query Loaded",p.dataset_query.type),w.isEditing=!!j.edit,d&&s.is_qbnewb&&(w.isShowingNewbModal=!0,h.vF("QueryBuilder","Show Newb Modal")),p.archived&&(i((0,f.$J)({data:{error_code:"archived"},context:"query-builder"})),p=null),!p.dataset&&e.pathname.startsWith("/model")&&(i((0,f.$J)({data:{error_code:"not-found"},context:"query-builder"})),p=null),A=!0,n.next=50;break;case 45:n.prev=45,n.t0=n.catch(11),ne.warn("initializeQb failed because of an error:",n.t0),p=null,i((0,f.$J)(n.t0));case 50:n.next=60;break;case 52:if(j.db||j.table||j.segment||j.metric){n.next=56;break}return n.next=55,i(it());case 55:return n.abrupt("return");case 56:W=j.db?parseInt(j.db):void 0,(p=(0,y.v5)("query",W)).dataset_query.query&&(null!=j.table&&(p.dataset_query.query["source-table"]=parseInt(j.table)),null!=j.segment&&(p.dataset_query.query.filter=["segment",parseInt(j.segment)]),null!=j.metric&&(w.isShowingSummarySidebar=!0,p.dataset_query.query.aggregation=["metric",parseInt(j.metric)])),h.vF("QueryBuilder","Query Started",p.dataset_query.type);case 60:if(p&&null!=p.id&&i((0,r.CG)(p.id)),!p){n.next=64;break}return n.next=64,i(Tt(p));case 64:if(($=p&&new S.Z(p,(0,F.sd)(o())))&&$.isSaved()&&($=$.lockDisplay()),!($&&$.isNative()&&D)){n.next=71;break}return n.next=69,D;case 69:K=z.Z.selectors.getList(o()),$=$.setQuery($.query().updateQueryTextWithNewSnippetNames(K));case 71:p=$&&$.card(),J=(0,F.sd)(o()),X=(0,x.a5)(p,J),ee=(0,C.QM)(X,u,J),te=(null==t?void 0:t.objectId)||(null==u?void 0:u.objectId),i.action(ct,{card:p,originalCard:m,uiControls:w,parameterValues:ee,objectId:te}),$&&"notebook"!==w.queryBuilderMode&&($.canRun()&&setTimeout((function(){return i(on({shouldUpdateUrl:!1}))}),0),i(nt(p,{replaceState:!0,preserveParameters:A,objectId:te})));case 78:case"end":return n.stop()}}),n,null,[[11,45]])})));return function(e,t){return n.apply(this,arguments)}}()},ft="metabase/qb/TOGGLE_DATA_REFERENCE",dt=(0,i.Z)(ft,(function(){h.vF("QueryBuilder","Toggle Data Reference")})),pt="metabase/qb/TOGGLE_TEMPLATE_TAGS_EDITOR",ht=(0,i.Z)(pt,(function(){h.vF("QueryBuilder","Toggle Template Tags Editor")})),mt="metabase/qb/SET_IS_SHOWING_TEMPLATE_TAGS_EDITOR",yt=function(e){return{type:mt,isShowingTemplateTagsEditor:e}},vt="metabase/qb/TOGGLE_SNIPPET_SIDEBAR",bt=(0,i.Z)(vt,(function(){h.vF("QueryBuilder","Toggle Snippet Sidebar")})),gt="metabase/qb/SET_IS_SHOWING_SNIPPET_SIDEBAR",wt=function(e){return{type:gt,isShowingSnippetSidebar:e}},Ot=function(e){return{type:he,payload:{isPreviewing:e}}},jt=function(e){return{type:he,payload:{isNativeEditorOpen:e}}},St="metabase/qb/SET_NATIVE_EDITOR_SELECTED_RANGE",Et=(0,i.Z)(St),_t="metabase/qb/SET_MODAL_SNIPPET",xt=(0,i.Z)(_t),Pt="metabase/qb/SET_SNIPPET_COLLECTION_ID",Ct=(0,i.Z)(Pt),kt=function(){return function(e,t){var n=t(),r=(0,A.Tx)(n),i=(0,A.mi)(n);e(xt({content:r,collection_id:i}))}},At=function(){return function(e,t){e(xt(null))}},Dt=function(e){return function(t,n){var r=e.name,i=(0,A.a5)(n()),o=i.query(),a=(0,A.qN)(n()),u=a-((0,A.Tx)(n())||"").length,l=o.queryText().slice(0,u)+"{{snippet: ".concat(r,"}}")+o.queryText().slice(a),c=o.setQueryText(l).updateSnippetsWithIds([e]).datasetQuery();t(Kt(i.setDatasetQuery(c)))}},Rt="metabase/qb/CLOSE_QB_NEWB_MODAL",It=(0,c.RU)(Rt,(function(){return function(){var e=pe(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),i=r.currentUser,e.next=3,R.UserApi.update_qbnewb({id:i.id});case 3:h.vF("QueryBuilder","Close Newb Modal");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),Tt=function(e){return function(t,n){var r=(0,F.sd)(n()),i=new S.Z(e,r),o=[i.query()];return i.isDataset()&&o.push(i.composeDataset().query()),t((0,d.loadMetadataForQueries)(o,i.dependentMetadata()))}};function Nt(e,t){var n=e.query(),r=t&&t.data.cols.map((function(e){return e.name}))||[],i=n instanceof N.Z?n.columnNames():[];return o.ZP.difference(i,r).length>0}var qt=function(e){return function(){var t=pe(regeneratorRuntime.mark((function t(n,r){var i,o,a,u,l,c,s,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(0,A.a5)(r()),o=(0,A.kw)(r()),a=(0,A.RQ)(r()),u=(0,A.pT)(r()),l="dataset"===a&&"metadata"===u,c="dataset"===o&&"dataset"!==a,s=Object.keys(e),f=1===s.length&&s.includes("table.column_widths")&&void 0===e["table.column_widths"],!l&&!c||!f){t.next=10;break}return t.abrupt("return");case 10:return d=i.query().isEditable(),t.next=13,n(Kt(i.updateSettings(e),{run:!!d&&"auto",shouldUpdateUrl:d}));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Mt=function(e){return function(){var t=pe(regeneratorRuntime.mark((function t(n,r){var i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,A.a5)(r()),o=i.query().isEditable(),t.next=4,n(Kt(i.setSettings(e),{run:!!o&&"auto",shouldUpdateUrl:o}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Zt="metabase/qb/SET_TEMPLATE_TAG",Lt=(0,c.RU)(Zt,(function(e){return function(t,n){var r=n().qb,i=r.card,o=r.uiControls,u=O.Z.copy(i);return!o.isEditing&&"dataset"!==o.queryBuilderMode&&u.id&&(delete u.id,delete u.name,delete u.description),(0,a.updateIn)(u,["dataset_query","native","template-tags"],(function(t){var n=e.name,r=t[n]&&t[n].type!==e.type?ce(ce({},e),{},{default:null}):e;return ce(ce({},t),{},se({},n,r))}))}})),Bt="metabase/qb/SET_PARAMETER_VALUE",zt=(0,i.Z)(Bt,(function(e,t){return{id:e,value:t}})),Ft="metabase/qb/SOFT_RELOAD_CARD",Qt=(0,c.RU)(Ft,(function(){return function(){var e=pe(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,A.nO)(n()),e.next=3,t(B.Z.actions.fetch({id:r.id},{reload:!0}));case 3:return i=e.sent,e.abrupt("return",B.Z.HACK_getObjectFromAction(i));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),Vt="metabase/qb/RELOAD_CARD",Ut=(0,c.RU)(Vt,(function(){return function(){var e=pe(regeneratorRuntime.mark((function e(t,n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,A.nO)(n()),t(at()),e.next=4,t(B.Z.actions.fetch({id:r.id},{reload:!0}));case 4:return i=e.sent,o=B.Z.HACK_getObjectFromAction(i),t(Tt(o)),t(on({overrideWithCard:o,shouldUpdateUrl:!1})),t(nt(o,{dirty:!1})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),Ht="metabase/qb/SET_CARD_AND_RUN",Yt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=pe(regeneratorRuntime.mark((function n(r,i){var o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(o=O.Z.copy(e)).original_card_id){n.next=7;break}return n.next=4,(0,y.a8)(o.original_card_id);case 4:n.t0=n.sent,n.next=8;break;case 7:n.t0=o.id?o:null;case 8:a=n.t0,r.action(Ht,{card:o,originalCard:a}),r(on({shouldUpdateUrl:t})),r(Tt(o));case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Gt="metabase/qb/NAVIGATE_TO_NEW_CARD",Wt=(0,c.RU)(Gt,(function(e){var t=e.nextCard,n=e.previousCard;return function(){var e=pe(regeneratorRuntime.mark((function e(r,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==t){e.next=3;break}e.next=16;break;case 3:if(!(0,_.ch)(n,t)){e.next=13;break}return e.t0=r,e.t1=Yt,e.next=8,(0,y.a8)(t.id);case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=16;break;case 13:o=(0,M.wz)(t,n),a=l.jf(o),(0,v.aD)(a,{blankOnMetaOrCtrlKey:!0})?r((0,f.Yo)(a)):(r(Be()),(0,_.xf)(n,t)||r(ln()),r(Yt(ce(ce({},o),{},{dataset:!1}))));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),$t="metabase/qb/UPDATE_QUESTION",Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.run,r=void 0!==n&&n,i=t.shouldUpdateUrl,u=void 0!==i&&i;return function(){var t=pe(regeneratorRuntime.mark((function t(n,i){var l,c,s,f,d,p,h,m,y,v,b,g,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(0,A.a5)(i()),c=(0,A.RQ)(i()),e.query().isEditable()&&!(0,A.eS)(i())&&e.isSaved()&&"dataset"!==c&&(e=e.withoutNameAndId()).isDataset()&&(e=e.setDataset(!1),n(Te())),s=(0,A.TH)(i()),e=e.syncColumnsAndSettings(l,s),"auto"===r&&(r=Nt(e,s)),e.canAutoRun()||(r=!1),f="pivot"===e.display(),d="pivot"===l.display(),p=f&&e.isStructured()&&e.query().breakouts().length>0,f&&p&&(h=(0,a.assocIn)((0,A.wB)(i()),[0,"card"],e.card()),m="pivot_table.column_split",y=dn(e,h).setting(m),e=e.updateSettings(se({},m,y))),(f&&!d&&p||!f&&d||f&&p&&!o.ZP.isEqual(e.setting("pivot_table.column_split"),l.setting("pivot_table.column_split")))&&(r=!0),"notebook"!==c||!e.isNative()){t.next=16;break}return t.next=16,n(_e("view",{shouldUpdateUrl:!1}));case 16:return t.next=18,n.action($t,{card:e.card()});case 18:if(u&&n(nt(null,{dirty:!0})),v=(0,A.Cz)(i()),"deferToCurrentState"!==(b=$({oldQuestion:l,newQuestion:e,isTemplateTagEditorVisible:v,queryBuilderMode:c}))&&n(yt("visible"===b)),t.prev=22,o.ZP.isEqual(l.query().dependentMetadata(),e.query().dependentMetadata())){t.next=26;break}return t.next=26,n(Tt(e.card()));case 26:if(g=(0,A.a5)(i()),(w=g.setDefaultQuery()).isEqual(g)){t.next=31;break}return t.next=31,n.action($t,{card:w.setDefaultDisplay().card()});case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(22),ne.warn("Couldn't load metadata",t.t0);case 36:r&&n(on());case 37:case"end":return t.stop()}}),t,null,[[22,33]])})));return function(e,n){return t.apply(this,arguments)}}()},Jt=function(e,t){return function(n,r){var i=(0,A.a5)(r());n(Kt(i.setDatasetQuery(e),t))}},Xt="metabase/qb/API_CREATE_QUESTION",en=function(e){return function(){var t=pe(regeneratorRuntime.mark((function t(n,r){var i,o,a,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,A.yT)(r()),o=i?dn(e,i):e,a=(0,A.e7)(r()),t.next=5,o.setQuery(e.query().clean()).setResultsMetadata(a).reduxCreate(n);case 5:u=t.sent,n((0,Q.db)(["entities","databases"])),n(nt(u.card(),{dirty:!1})),h.vF("QueryBuilder","Create Card",u.query().datasetQuery().type),D(e,u,(0,A.yZ)(r())),l=u.lockDisplay().card(),n.action(Xt,l);case 12:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},tn="metabase/qb/API_UPDATE_QUESTION",nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rerunQuery,i=void 0!==n&&n;return function(){var t=pe(regeneratorRuntime.mark((function t(n,o){var a,u,l,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,A.FT)(o()),e=e||(0,A.a5)(o()),u=(0,A.yT)(o()),l=u?dn(e,u):e,c=(0,A.e7)(o()),t.next=7,l.setQuery(e.query().clean()).setResultsMetadata(c).reduxUpdate(n,{excludeDatasetQuery:(0,w._q)(e,a)});case 7:return s=t.sent,t.next=10,n((0,r.CG)(s.id()));case 10:if(n((0,Q.db)(["entities","databases"])),h.vF("QueryBuilder","Update Card",s.query().datasetQuery().type),n.action(tn,s.card()),!i){t.next=17;break}return t.next=16,n(Tt(e.card()));case 16:n(on());case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},rn="metabase/qb/RUN_QUERY",on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldUpdateUrl,n=void 0===t||t,r=e.ignoreCache,i=void 0!==r&&r,o=e.overrideWithCard;return function(){var e=pe(regeneratorRuntime.mark((function e(t,r){var u,l,c,s,f,d,p,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(an()),u=function(e){return e&&new S.Z(e,(0,F.sd)(r()))},l=o?u(o):(0,A.a5)(r()),c=(0,A.FT)(r()),s=!c||(l.isDirtyComparedToWithoutParameters(c)||null==l.card().id),n&&(f=l.isDataset()&&(0,w._q)(l,c),t(nt(l.card(),{dirty:!f&&s}))),(0,A.VR)(r())&&(l=l.setDatasetQuery((0,a.assocIn)(l.datasetQuery(),["constraints","max-results"],10))),d=new Date,p=(0,j.PQ)(),y=(0,m.X)(),l.apiGetResults({cancelDeferred:p,ignoreCache:i,isDirty:s}).then((function(e){return y((function(e){return h.vF("QueryBuilder","Run Query",l.query().datasetQuery().type,e)})),t(sn(l,e))})).catch((function(e){return t(hn(d,e))}));try{ace.edit("id_sql").focus()}catch(e){}t.action(rn,{cancelQueryDeferred:p});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},an=(0,c.RU)("metabase/qb/LOAD_START_UI_CONTROLS",(function(){return function(e,t){e(ge((0,u.t)(K||(K=ue(["Doing Science..."])))));var n=setTimeout((function(){e(ge((0,u.t)(J||(J=ue(["Still Here..."])))))}),1e4);e(Ee(n))}})),un="metabase/query_builder/CLEAR_QUERY_RESULT",ln=(0,i.Z)(un),cn="metabase/qb/QUERY_COMPLETED",sn=function(e,t){return function(){var n=pe(regeneratorRuntime.mark((function n(r,i){var o,a,u,l,c,s,f,d,p,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=oe(t,1),u=a[0].data,l=(0,A.uL)(i())||[{}],c=oe(l,1),s=c[0].data,f=(0,A.FT)(i()),e.query().isEditable()&&e.isDirtyComparedTo(f)&&(e.isNative()&&(e=e.syncColumnsAndSettings(f,t[0])),e=e.maybeUnlockDisplay((0,q.getSensibleDisplays)(u),s&&(0,q.getSensibleDisplays)(s)).setDefaultDisplay().switchTableScalar(u)),d=e.card(),p="dataset"===(0,A.RQ)(i()),h=null==u||null===(o=u.results_metadata)||void 0===o?void 0:o.columns,p&&Array.isArray(h)&&(d.result_metadata=h),r.action(cn,{card:d,queryResults:t}),r(fn());case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},fn=(0,c.RU)("metabase/qb/LOAD_COMPLETE_UI_CONTROLS",(function(){return function(e,t){var n=(0,A.zF)(t());clearTimeout(n),e(Oe()),document.hidden?(e(ge((0,u.t)(X||(X=ue(["Your question is ready!"]))))),document.addEventListener("visibilitychange",(function(){e(ge("")),setTimeout((function(){e(je())}),3e3)}),{once:!0})):(e(ge("")),setTimeout((function(){e(je())}),3e3))}})),dn=function(e,t){var n=e.settings(),r=ce(ce({},n),(0,Z.tP)(t));return o.ZP.isEqual(n,r)?e:e.setSettings(r)},pn="metabase/qb/QUERY_ERRORED",hn=(0,c.RU)(pn,(function(e,t){return function(){var n=pe(regeneratorRuntime.mark((function n(r,i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!t.isCancelled){n.next=4;break}return n.abrupt("return",null);case 4:return n.abrupt("return",{error:t,duration:new Date-e});case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),mn="metabase/qb/CANCEL_QUERY",yn=function(){return function(e,t){if((0,A.bn)(t())){var n=t().qb.cancelQueryDeferred;return n&&n.resolve(),{type:mn}}}},vn="metabase/qb/ZOOM_IN_ROW",bn=function(e){var t=e.objectId;return function(e){e({type:vn,payload:{objectId:t}}),e(nt(null,{objectId:t,replaceState:!1}))}},gn="metabase/qb/RESET_ROW_ZOOM",wn=function(){return function(e){e({type:gn}),e(nt())}};function On(e,t){return["=",new E.T7(t.origin.id).mbql(),e]}var jn="metabase/qb/FOLLOW_FOREIGN_KEY",Sn=(0,c.RU)(jn,(function(e){var t=e.objectId,n=e.fk;return function(){var e=pe(regeneratorRuntime.mark((function e(r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i(),a=(0,A.nO)(o),(0,A.TH)(o)&&n){e.next=5;break}return e.abrupt("return",!1);case 5:(u=(0,y.v5)("query",a.dataset_query.database)).dataset_query.query["source-table"]=n.origin.table.id,u.dataset_query.query.filter=On(t,n),r(wn()),r(Yt(u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),En="metabase/qb/LOAD_OBJECT_DETAIL_FK_REFERENCES",_n=(0,c.RU)(En,(function(e){var t=e.objectId;return function(){var e=pe(regeneratorRuntime.mark((function e(n,r){var i,a,u,l,c,s,f,d,p,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return s=pe(regeneratorRuntime.mark((function e(n,r,i){var o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=b.rP("query")).database=n.dataset_query.database,o.query["source-table"]=i.origin.table_id,o.query.aggregation=["count"],o.query.filter=On(t,i),a={status:0,value:null},e.prev=6,e.next=9,R.MetabaseApi.dataset(o);case 9:(u=e.sent)&&"completed"===u.status&&u.data.rows.length>0?a.value=u.data.rows[0][0]:a.value="Unknown";case 11:return e.prev=11,a.status=1,e.finish(11);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[6,,11,14]])}))),s.apply(this,arguments)},c=function(e,t,n){return s.apply(this,arguments)},n.action(xn),i=r(),a=(0,A.mX)(i),Array.isArray(a)){e.next=7;break}return e.abrupt("return",null);case 7:u=(0,A.nO)(i),l=(0,A.TH)(i),f={},d=0;case 11:if(!(d<a.length)){e.next=20;break}return p=a[d],e.next=15,c(u,l,p);case 15:h=e.sent,f[p.origin.id]=h;case 17:d++,e.next=11;break;case 20:if(m=(0,A.TH)(r()),o.ZP.isEqual(l.json_query,m.json_query)){e.next=23;break}return e.abrupt("return",null);case 23:return e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),xn="metabase/qb/CLEAR_OBJECT_DETAIL_FK_REFERENCES",Pn=function(){return function(e,t){var n=(0,A.J0)(t());null!=n&&e(bn({objectId:n}))}},Cn=function(){return function(e,t){var n=(0,A.xm)(t());null!=n&&e(bn({objectId:n}))}},kn="metabase/query_builder/SHOW_CHART_SETTINGS",An=(0,i.Z)(kn),Dn=qt,Rn=Mt,In="metabase/qb/REVERT_TO_REVISION",Tn=(0,c.RU)(In,(function(e){return function(){var t=pe(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.revert();case 2:return t.next=4,n(Ut());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),Nn=function(e){return function(t){t(_e("dataset",{datasetEditorTab:e}))}},qn="metabase/qb/CANCEL_DATASET_CHANGES",Mn=function(){return function(e,t){var n=(0,A._o)(t());e.action(qn,{card:n}),e(on())}},Zn=function(){return function(){var e=pe(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,A.a5)(n()),i=r.setDataset(!0),e.next=4,t(nn(i,{rerunQuery:!0}));case 4:t((0,p.nx)({message:(0,u.t)(ee||(ee=ue(["This is a model now."]))),actions:[nn(r,{rerunQuery:!0})]}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=pe(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,A.a5)(n()),i=r.setDataset(!1),e.next=4,t(nn(i,{rerunQuery:!0}));case 4:t((0,p.nx)({message:(0,u.t)(te||(te=ue(["This is a question now."]))),actions:[nn(r,{rerunQuery:!0})]}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Bn="metabase/qb/SET_RESULTS_METADATA",zn=(0,i.Z)(Bn),Fn="metabase/qb/SET_METADATA_DIFF",Qn=(0,i.Z)(Fn),Vn=function(e){var t=e.field_ref,n=e.changes;return function(e,r){var i=(0,A.a5)(r()),o=(0,A.e7)(r()),u=o.columns.map((function(e){var r=!(0,g.qJ)(t)||!(0,g.qJ)(e.field_ref);return(0,g.ZH)(t,e.field_ref,r)?(0,a.merge)(e,n):e})),l=ce(ce({},o),{},{columns:u}),c=i.setResultsMetadata(l);e(Kt(c)),e(Qn({field_ref:t,changes:n})),e(zn(l))}},Un="metabase/qb/SHOW_TIMELINES",Hn=(0,i.Z)(Un),Yn="metabase/qb/HIDE_TIMELINES",Gn=(0,i.Z)(Yn),Wn="metabase/qb/SELECT_TIMELINE_EVENTS",$n=(0,i.Z)(Wn),Kn="metabase/qb/DESELECT_TIMELINE_EVENTS",Jn=(0,i.Z)(Kn),Xn=function(e){return function(t,n){var r=(0,A.Qv)(n()),i=e?r.filter((function(t){return t.collection_id===e})):r.filter((function(e){return null==e.collection_id}));t(Hn(i))}}},17433:function(e,t,n){"use strict";var r=n(32735),i=n(40841),o=n.n(i),a=n(36047);t.Z=function(e){var t=e.className,n=e.breakout,i=e.onChangeBreakout,u=e.query,l=e.breakoutOptions,c=e.onClose,s=e.maxHeight,f=e.alwaysExpanded,d=e.width,p=void 0===d?400:d,h=u.table();if(!h)return null;var m=l||u.breakoutOptions(n);return r.createElement(a.Z,{className:o()(t,"text-green"),width:p,field:n,fieldOptions:m,onFieldChange:function(e){i(e),c&&c()},table:h,enableSubDimensions:!0,maxHeight:s,alwaysExpanded:f,searchable:!1})}},28312:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r,i=n(32735),o=n(30558),a=n(25312),u=n(46508),l=n(65844),c=n(4426),s=n(69312),f=n(55799),d=n(60359);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={attachment:"top left",targetAttachment:"top right",targetOffset:"0 0",constraints:[{to:"window",attachment:"together",pin:!0}]},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(j,e);var t,n,p,m=O(j);function j(){var e;b(this,j);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _(S(e=m.call.apply(m,[this].concat(n))),"state",{sections:[]}),_(S(e),"itemIsSelected",(function(t){var n=e._getDimensions();return t.dimension&&o.ZP.any(n,(function(e){return t.dimension.isSameBaseDimension(e)}))})),_(S(e),"renderItemExtra",(function(t,n,u){var f=e.props,p=f.dimension,h=f.enableSubDimensions,m=f.preventNumberSubDimensions,y=f.onAddDimension,b=f.onRemoveDimension,g=m&&t.dimension.field().isSummable(),w=h&&t.dimension&&!t.dimension.field().isFK()&&!g&&t.dimension.dimensions(),O=!(!y&&!b),j=p||o.ZP.find(e._getDimensions(),(function(e){return e.field()===t.dimension.field()}));return i.createElement("div",{className:"Field-extra flex align-center"},t.dimension&&t.dimension.tag&&i.createElement("span",{className:"h5 text-light px1"},t.dimension.tag),w&&w.length>0?i.createElement(c.Z,{className:e.props.className,hasArrow:!1,triggerElement:e.renderSubDimensionTrigger(t.dimension,O,m),tetherOptions:O?null:x,sizeToFit:!0},(function(t){var n=t.onClose;return i.createElement(d.S,{className:"scroll-y",dimension:j,dimensions:w,onChangeDimension:function(t){e.props.onChangeDimension(t,{isSubDimension:!0}),n()}})})):null,!u&&y&&i.createElement(s.Z,{tooltip:(0,a.t)(r||(r=v(["Add grouping"])))},i.createElement(l.ZP,{name:"add",size:14,className:"mx1 cursor-pointer hover-child faded fade-in-hover",onClick:function(n){n.stopPropagation(),e.handleAdd(t)}})),u&&b&&i.createElement(l.ZP,{name:"close",className:"mx1 cursor-pointer faded fade-in-hover",onClick:function(n){n.stopPropagation(),e.handleRemove(t)}}))})),_(S(e),"handleChange",(function(t){var n=e.props,r=n.dimension,i=n.onChangeDimension,o=n.onChangeOther;null!=r&&e.itemIsSelected(t)?i(r,t):t.dimension?i(e._getDimensionFromItem(t),t):o&&o(t)})),_(S(e),"handleAdd",(function(t){var n=e._getDimensionFromItem(t);n&&e.props.onAddDimension&&e.props.onAddDimension(n,t)})),_(S(e),"handleRemove",(function(t){var n=e._getDimensionFromItem(t);n&&e.props.onRemoveDimension&&e.props.onRemoveDimension(n,t)})),e}return t=j,(n=[{key:"UNSAFE_componentWillMount",value:function(){this._updateSections(this.props.sections)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.sections!==e.sections&&this._updateSections(e.sections)}},{key:"_updateSections",value:function(e){this.setState({sections:(e||[]).map((function(e){return y(y({},e),{},{items:e.items.map((function(e){return y(y({},e),{},{name:e.name||e.dimension&&e.dimension.displayName(),icon:e.icon||e.dimension&&e.dimension.icon()})}))})}))})}},{key:"_getDimensions",value:function(){return this.props.dimensions||(this.props.dimension?[this.props.dimension]:[])}},{key:"renderSubDimensionTrigger",value:function(e,t){var n=this._getDimensions(),r=o.ZP.find(n,(function(t){return t.isSameBaseDimension(e)}))||e.defaultDimension(),a=r?r.subTriggerDisplayName():null;return i.createElement("div",{className:"FieldList-grouping-trigger text-white-hover flex align-center p1 cursor-pointer","data-testid":"dimension-list-item-binning"},a&&i.createElement("h4",null,a),!t&&i.createElement(l.ZP,{name:"chevronright",className:"ml1",size:16}))}},{key:"_getDimensionFromItem",value:function(e){var t=this.props,n=t.enableSubDimensions,r=t.useOriginalDimension,i=t.preventNumberSubDimensions,o=r?e.dimension:e.dimension.defaultDimension()||e.dimension;return!n&&!r&&o instanceof f.T7&&o.binningStrategy()||i&&o.field().isSummable()?o.baseDimension():o}},{key:"render",value:function(){return i.createElement(u.Z,h({},this.props,{itemTestId:"dimension-list-item",sections:this.state.sections,onChange:this.handleChange,itemIsSelected:this.itemIsSelected,renderItemExtra:this.renderItemExtra,getItemClassName:function(){return"hover-parent hover--display"}}))}}])&&g(t.prototype,n),p&&g(t,p),j}(i.Component)},60359:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(32735),i=n(60216),o=n.n(i),a=n(40841),u=n.n(a),l={style:o().object,className:o().string,dimension:o().object,dimensions:o().array,onChangeDimension:o().func.isRequired},c=function(e){var t=e.style,n=e.className,i=e.dimension,o=e.dimensions,a=e.onChangeDimension;return r.createElement("ul",{className:u()(n,"px2 py1"),style:t},o.map((function(e,t){var n=e.isEqual(i);return r.createElement("li",{"aria-selected":n,key:t,className:u()("List-item",{"List-item--selected":n})},r.createElement("a",{className:"List-item-title full px2 py1 cursor-pointer",onClick:function(){return a(e)}},e.subDisplayName()))})))};c.propTypes=l},15741:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,i,o=n(32735),a=n(2760),u=n(86147),l=n(25312),c=n(65844);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(b,e);var t,n,s,y=m(b);function b(){var e;d(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=y.call.apply(y,[this].concat(n))),"state",{error:null,isBlank:!0}),g(v(e),"helpTextTarget",o.createRef()),e}return t=b,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.title,s=t.startRule,d=t.query,p=t.expression,h=t.onChange,m=t.onDone,y=t.onBack,v=t.name,b=t.onChangeName,g=this.state,w=g.error,O=g.isBlank,j=!w&&!O&&(!b||v);return o.createElement("div",{className:"ExpressionPopover"},o.createElement("div",{className:"text-medium p1 py2 border-bottom flex align-center"},o.createElement("a",{className:"cursor-pointer flex align-center",onClick:y},o.createElement(c.ZP,{name:"chevronleft",size:18}),o.createElement("h3",{className:"inline-block pl1"},n))),o.createElement("div",{className:"p1",ref:this.helpTextTarget},o.createElement(a.Z,{helpTextTarget:this.helpTextTarget.current,startRule:s,expression:p,query:d,onChange:function(t){h(t),e.setState({error:null})},onError:function(t){e.setState({error:t})},onCommit:function(e){b||m(e)},onBlankChange:function(t){e.setState({isBlank:t})}}),b&&o.createElement("input",{className:"input block full my1",value:v,onChange:function(e){return b(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&j&&m(p)},placeholder:(0,l.t)(r||(r=f(["Name (required)"])))}),o.createElement(u.Z,{className:"full",primary:!0,disabled:!j,onClick:function(){return m(p)}},(0,l.t)(i||(i=f(["Done"]))))))}}])&&p(t.prototype,n),s&&p(t,s),b}(o.Component)},36047:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(32735),i=n(28312),o=n(55799),a=n(38771);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,n,u,d=f(h);function h(){var e;l(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=d.call.apply(d,[this].concat(n))),"state",{sections:[]}),m(p(e),"handleChangeDimension",(function(t,n){e.props.onFieldChange(t.mbql(),n)})),m(p(e),"handleChangeOther",(function(t){t.filter&&e.props.onFilterChange&&e.props.onFilterChange(t.filter)})),e}return t=h,n=[{key:"UNSAFE_componentWillMount",value:function(){this._updateSections(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateSections(e)}},{key:"_updateSections",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fieldOptions,n=void 0===t?{dimensions:[],fks:[]}:t,r=e.segmentOptions,i=void 0===r?[]:r,o=new a.Z(n).sections({extraItems:i.map((function(e){return{filter:["segment",e.id],name:e.name,icon:"star_outline",className:"List-item--segment"}}))});this.setState({sections:o})}},{key:"render",value:function(){var e=this.props,t=e.field,n=e.query,a=e.metadata,u=t&&(n?n.parseFieldReference(t):o.ZP.parseMBQL(t,a));return r.createElement(i.Z,{sections:this.state.sections,dimension:u,onChangeDimension:this.handleChangeDimension,onChangeOther:this.handleChangeOther,className:this.props.className,maxHeight:this.props.maxHeight,width:this.props.width,alwaysExpanded:this.props.alwaysExpanded,useOriginalDimension:this.props.useOriginalDimension,enableSubDimensions:this.props.enableSubDimensions,preventNumberSubDimensions:this.props.preventNumberSubDimensions})}}],n&&c(t.prototype,n),u&&c(t,u),h}(r.Component)},33026:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(32735),i=n(25312),o=n(65844),a=n(47679),u=n(75246),l=n(6336);var c=(0,a.Z)("div",{target:"efo8qt83"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),s=(0,a.Z)(o.ZP,{target:"efo8qt82"})({name:"u7ytkp",styles:"margin-right:0.5rem"}),f=(0,u.iv)("cursor:pointer;&:hover{color:",(0,l.$_)("brand"),";}",""),d=(0,u.iv)(f," color:",(0,l.$_)("text-medium"),";font-size:0.83em;text-transform:uppercase;letter-spacing:0.06em;","");var p,h=(0,a.Z)("span",{target:"efo8qt81"})("display:flex;align-items:center;font-size:1.17em;font-weight:900;margin-top:0;margin-bottom:0;",(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";if("default"!==e)return"default-back-button"===e?d:f}(e.variant)}),";"),m=(0,a.Z)("a",{target:"efo8qt80"})("color:",(0,l.$_)("text-medium"),";text-decoration:none;margin-left:auto;&:hover{color:",(0,l.$_)("brand"),";}");var y=function(e){var t,n,a=e.className,u=e.title,l=e.icon,f=e.onBack,d=e.onClose,y=!u&&!!f,v=function(e){var t=e.hasDefaultBackButton,n=e.hasOnBackHandler;return t?"default-back-button":n?"back-button":"default"}({hasDefaultBackButton:y,hasOnBackHandler:!!f}),b=f||l;return r.createElement(c,{className:a},r.createElement(h,{variant:v,onClick:f},b&&r.createElement(s,{name:l||"chevronleft"}),y?(0,i.t)(p||(t=["Back"],n||(n=t.slice(0)),p=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))):u),d&&r.createElement(m,{onClick:d},r.createElement(o.ZP,{name:"close",size:18})))}},2760:function(e,t,n){"use strict";n.d(t,{Z:function(){return xl}});var r,i,o,a,u,l,c,s,f,d,p,h,m,y,v,b,g,w,O,j,S,E,_,x,P,C,k,A,D,R,I,T,N,q,M,Z,L,B,z,F,Q,V,U,H,Y,G,W,$,K,J,X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye,ve,be,ge,we,Oe,je,Se,Ee,_e,xe,Pe,Ce,ke,Ae,De,Re,Ie,Te,Ne,qe,Me,Ze,Le,Be,ze,Fe,Qe,Ve,Ue,He,Ye,Ge,We,$e,Ke,Je,Xe,et,tt,nt,rt,it,ot,at,ut,lt,ct,st,ft,dt,pt,ht,mt,yt,vt,bt,gt,wt,Ot,jt,St,Et,_t,xt,Pt,Ct,kt,At,Dt,Rt,It,Tt,Nt,qt,Mt,Zt,Lt,Bt,zt,Ft,Qt,Vt,Ut,Ht,Yt,Gt,Wt,$t,Kt,Jt,Xt,en,tn,nn,rn,on,an,un,ln,cn,sn,fn,dn,pn,hn,mn,yn,vn,bn,gn,wn,On,jn,Sn,En,_n,xn,Pn,Cn,kn,An,Dn,Rn,In,Tn,Nn,qn,Mn,Zn,Ln,Bn,zn,Fn,Qn,Vn,Un,Hn,Yn,Gn,Wn,$n,Kn,Jn,Xn,er,tr,nr,rr,ir,or,ar,ur,lr,cr,sr,fr,dr,pr,hr,mr,yr,vr,br,gr,wr,Or,jr,Sr,Er,_r,xr,Pr,Cr,kr,Ar,Dr,Rr,Ir,Tr,Nr,qr,Mr,Zr,Lr,Br,zr,Fr,Qr,Vr,Ur,Hr,Yr,Gr,Wr,$r,Kr,Jr,Xr,ei,ti,ni,ri,ii,oi=n(32735),ai=n(60216),ui=n.n(ai),li=n(25312),ci=n(30558),si=n(7520),fi=n(76288),di=n(37519),pi=n(60827);function hi(e){var t=(0,pi.wS)(e).tokens,n=ci.ZP.last(t);if(n&&n.type===pi.o3.Identifier&&n.end===e.length){var r=t[t.length-2];return r&&r.type===pi.o3.String&&r.start+1===r.end?null:e.slice(n.start,n.end)}return null}function mi(e){for(var t=(0,pi.wS)(e).tokens,n=function(e){return e.op===pi.Nv.OpenParenthesis},r=function(e){return e.op===pi.Nv.CloseParenthesis},i=0,o=t.length-1;o>0;--o){var a=t[o];if(r(a))--i;else if(n(a)&&1===++i){var u=t[o-1];if(u.type===pi.o3.Identifier)return e.slice(u.start,u.end)}}return null}function yi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vi=[{name:"count",structure:"Count",description:(0,li.t)(r||(r=yi(["Returns the count of rows in the selected data."]))),example:"Count",args:[]},{name:"cum-count",structure:"CumulativeCount",description:(0,li.t)(i||(i=yi(["The additive total of rows across a breakout."]))),example:"CumulativeCount",args:[]},{name:"sum",structure:"Sum("+(0,li.t)(o||(o=yi(["column"])))+")",description:(0,li.t)(a||(a=yi(["Adds up all the values of the column."]))),example:"Sum(["+(0,li.t)(u||(u=yi(["Subtotal"])))+"])",args:[{name:(0,li.t)(l||(l=yi(["column"]))),description:(0,li.t)(c||(c=yi(["The column or number to sum."])))}]},{name:"cum-sum",structure:"CumulativeSum("+(0,li.t)(s||(s=yi(["column"])))+")",description:(0,li.t)(f||(f=yi(["The rolling sum of a column across a breakout."]))),example:"CumulativeSum(["+(0,li.t)(d||(d=yi(["Subtotal"])))+"])",args:[{name:(0,li.t)(p||(p=yi(["column"]))),description:(0,li.t)(h||(h=yi(["The column or number to sum."])))}]},{name:"distinct",structure:"Distinct("+(0,li.t)(m||(m=yi(["column"])))+")",description:(0,li.t)(y||(y=yi(["The number of distinct values in this column."]))),example:"Distinct(["+(0,li.t)(v||(v=yi(["Last Name"])))+"])",args:[{name:(0,li.t)(b||(b=yi(["column"]))),description:(0,li.t)(g||(g=yi(["The column whose distinct values to count."])))}]},{name:"stddev",structure:"StandardDeviation("+(0,li.t)(w||(w=yi(["column"])))+")",description:(0,li.t)(O||(O=yi(["Calculates the standard deviation of the column."]))),example:"StandardDeviation(["+(0,li.t)(j||(j=yi(["Population"])))+"])",args:[{name:(0,li.t)(S||(S=yi(["column"]))),description:(0,li.t)(E||(E=yi(["The numeric column to get standard deviation of."])))}]},{name:"avg",structure:"Average("+(0,li.t)(_||(_=yi(["column"])))+")",description:(0,li.t)(x||(x=yi(["Returns the average of the values in the column."]))),example:"Average(["+(0,li.t)(P||(P=yi(["Quantity"])))+"])",args:[{name:(0,li.t)(C||(C=yi(["column"]))),description:(0,li.t)(k||(k=yi(["The numeric column whose values to average."])))}]},{name:"min",structure:"Min("+(0,li.t)(A||(A=yi(["column"])))+")",description:(0,li.t)(D||(D=yi(["Returns the smallest value found in the column"]))),example:"Min(["+(0,li.t)(R||(R=yi(["Salary"])))+"])",args:[{name:(0,li.t)(I||(I=yi(["column"]))),description:(0,li.t)(T||(T=yi(["The numeric column whose minimum you want to find."])))}]},{name:"max",structure:"Max("+(0,li.t)(N||(N=yi(["column"])))+")",description:(0,li.t)(q||(q=yi(["Returns the largest value found in the column."]))),example:"Max(["+(0,li.t)(M||(M=yi(["Age"])))+"])",args:[{name:(0,li.t)(Z||(Z=yi(["column"]))),description:(0,li.t)(L||(L=yi(["The numeric column whose maximum you want to find."])))}]},{name:"share",structure:"Share("+(0,li.t)(B||(B=yi(["condition"])))+")",description:(0,li.t)(z||(z=yi(["Returns the percent of rows in the data that match the condition, as a decimal."]))),example:"Share(["+(0,li.t)(F||(F=yi(["Source"])))+'] = "'+(0,li.t)(Q||(Q=yi(["Google"])))+'")',args:[{name:(0,li.t)(V||(V=yi(["condition"]))),description:(0,li.t)(U||(U=yi(["Something that should evaluate to true or false."])))}]},{name:"count-where",structure:"CountIf("+(0,li.t)(H||(H=yi(["condition"])))+")",description:(0,li.t)(Y||(Y=yi(["Only counts rows where the condition is true."]))),example:"CountIf(["+(0,li.t)(G||(G=yi(["Subtotal"])))+"] > 100)",args:[{name:(0,li.t)(W||(W=yi(["condition"]))),description:(0,li.t)($||($=yi(["Something that should evaluate to true or false."])))}]},{name:"sum-where",structure:"SumIf("+(0,li.t)(K||(K=yi(["column"])))+", "+(0,li.t)(J||(J=yi(["condition"])))+")",description:(0,li.t)(X||(X=yi(["Sums up the specified column only for rows where the condition is true."]))),example:"SumIf(["+(0,li.t)(ee||(ee=yi(["Subtotal"])))+"], ["+(0,li.t)(te||(te=yi(["Order Status"])))+'] = "'+(0,li.t)(ne||(ne=yi(["Valid"])))+'")',args:[{name:(0,li.t)(re||(re=yi(["column"]))),description:(0,li.t)(ie||(ie=yi(["The numeric column to sum."])))},{name:(0,li.t)(oe||(oe=yi(["condition"]))),description:(0,li.t)(ae||(ae=yi(["Something that should evaluate to true or false."])))}]},{name:"var",structure:"Variance("+(0,li.t)(ue||(ue=yi(["column"])))+")",description:(0,li.t)(le||(le=yi(["Returns the numeric variance for a given column."]))),example:"Variance(["+(0,li.t)(ce||(ce=yi(["Temperature"])))+"])",args:[{name:(0,li.t)(se||(se=yi(["column"]))),description:(0,li.t)(fe||(fe=yi(["The column or number to get the variance of."])))}]},{name:"median",structure:"Median("+(0,li.t)(de||(de=yi(["column"])))+")",description:(0,li.t)(pe||(pe=yi(["Returns the median value of the specified column."]))),example:"Median(["+(0,li.t)(he||(he=yi(["Age"])))+"])",args:[{name:(0,li.t)(me||(me=yi(["column"]))),description:(0,li.t)(ye||(ye=yi(["The column or number to get the median of."])))}]},{name:"percentile",structure:"Percentile("+(0,li.t)(ve||(ve=yi(["column"])))+", "+(0,li.t)(be||(be=yi(["percentile-value"])))+")",description:(0,li.t)(ge||(ge=yi(["Returns the value of the column at the percentile value."]))),example:"Percentile(["+(0,li.t)(we||(we=yi(["Score"])))+"], 0.9)",args:[{name:(0,li.t)(Oe||(Oe=yi(["column"]))),description:(0,li.t)(je||(je=yi(["The column or number to get the percentile of."])))},{name:(0,li.t)(Se||(Se=yi(["percentile-value"]))),description:(0,li.t)(Ee||(Ee=yi(["The value of the percentile."])))}]},{name:"lower",structure:"lower("+(0,li.t)(_e||(_e=yi(["text"])))+")",description:(0,li.t)(xe||(xe=yi(["Returns the string of text in all lower case."]))),example:"lower(["+(0,li.t)(Pe||(Pe=yi(["Status"])))+"])",args:[{name:(0,li.t)(Ce||(Ce=yi(["text"]))),description:(0,li.t)(ke||(ke=yi(["The column with values to convert to lower case."])))}]},{name:"upper",structure:"upper("+(0,li.t)(Ae||(Ae=yi(["text"])))+")",description:(0,li.t)(De||(De=yi(["Returns the text in all upper case."]))),example:"upper(["+(0,li.t)(Re||(Re=yi(["Status"])))+"])",args:[{name:(0,li.t)(Ie||(Ie=yi(["text"]))),description:(0,li.t)(Te||(Te=yi(["The column with values to convert to upper case."])))}]},{name:"substring",structure:"substring("+(0,li.t)(Ne||(Ne=yi(["text"])))+", "+(0,li.t)(qe||(qe=yi(["position"])))+", "+(0,li.t)(Me||(Me=yi(["length"])))+")",description:(0,li.t)(Ze||(Ze=yi(["Returns a portion of the supplied text."]))),example:"substring(["+(0,li.t)(Le||(Le=yi(["Title"])))+"], 0, 10)",args:[{name:(0,li.t)(Be||(Be=yi(["text"]))),description:(0,li.t)(ze||(ze=yi(["The column or text to return a portion of."])))},{name:(0,li.t)(Fe||(Fe=yi(["position"]))),description:(0,li.t)(Qe||(Qe=yi(["The position to start copying characters."])))},{name:(0,li.t)(Ve||(Ve=yi(["length"]))),description:(0,li.t)(Ue||(Ue=yi(["The number of characters to return."])))}]},{name:"regex-match-first",structure:"regexextract("+(0,li.t)(He||(He=yi(["text"])))+", "+(0,li.t)(Ye||(Ye=yi(["regular_expression"])))+")",description:(0,li.t)(Ge||(Ge=yi(["Extracts matching substrings according to a regular expression."]))),example:"regexextract(["+(0,li.t)(We||(We=yi(["Address"])))+'], "[0-9]+")',args:[{name:(0,li.t)($e||($e=yi(["text"]))),description:(0,li.t)(Ke||(Ke=yi(["The column or text to search through."])))},{name:(0,li.t)(Je||(Je=yi(["regular_expression"]))),description:(0,li.t)(Xe||(Xe=yi(["The regular expression to match."])))}]},{name:"concat",structure:"concat("+(0,li.t)(et||(et=yi(["value1"])))+", "+(0,li.t)(tt||(tt=yi(["value2"])))+", )",description:(0,li.t)(nt||(nt=yi(["Combine two or more strings of text together."]))),example:"concat(["+(0,li.t)(rt||(rt=yi(["Last Name"])))+'], ", ", ['+(0,li.t)(it||(it=yi(["First Name"])))+"])",args:[{name:(0,li.t)(ot||(ot=yi(["value1"]))),description:(0,li.t)(at||(at=yi(["The column or text to begin with."])))},{name:(0,li.t)(ut||(ut=yi(["value2"]))),description:(0,li.t)(lt||(lt=yi(["This will be added to the end of value1, and so on."])))}]},{name:"replace",structure:"replace("+(0,li.t)(ct||(ct=yi(["text"])))+", "+(0,li.t)(st||(st=yi(["find"])))+", "+(0,li.t)(ft||(ft=yi(["replace"])))+")",description:(0,li.t)(dt||(dt=yi(["Replaces a part of the input text with new text."]))),example:"replace(["+(0,li.t)(pt||(pt=yi(["Title"])))+'], "'+(0,li.t)(ht||(ht=yi(["Enormous"])))+'", "'+(0,li.t)(mt||(mt=yi(["Gigantic"])))+'")',args:[{name:(0,li.t)(yt||(yt=yi(["text"]))),description:(0,li.t)(vt||(vt=yi(["The column or text to search through."])))},{name:(0,li.t)(bt||(bt=yi(["find"]))),description:(0,li.t)(gt||(gt=yi(["The text to find."])))},{name:(0,li.t)(wt||(wt=yi(["replace"]))),description:(0,li.t)(Ot||(Ot=yi(["The text to use as the replacement."])))}]},{name:"length",structure:"length("+(0,li.t)(jt||(jt=yi(["text"])))+")",description:(0,li.t)(St||(St=yi(["Returns the number of characters in text."]))),example:"length(["+(0,li.t)(Et||(Et=yi(["Comment"])))+"])",args:[{name:(0,li.t)(_t||(_t=yi(["text"]))),description:(0,li.t)(xt||(xt=yi(["The column or text you want to get the length of."])))}]},{name:"trim",structure:"trim("+(0,li.t)(Pt||(Pt=yi(["text"])))+")",description:(0,li.t)(Ct||(Ct=yi(["Removes leading and trailing whitespace from a string of text."]))),example:"trim(["+(0,li.t)(kt||(kt=yi(["Comment"])))+"])",args:[{name:(0,li.t)(At||(At=yi(["text"]))),description:(0,li.t)(Dt||(Dt=yi(["The column or text you want to trim."])))}]},{name:"rtrim",structure:"rtrim("+(0,li.t)(Rt||(Rt=yi(["text"])))+")",description:(0,li.t)(It||(It=yi(["Removes trailing whitespace from a string of text."]))),example:"rtrim(["+(0,li.t)(Tt||(Tt=yi(["Comment"])))+"])",args:[{name:(0,li.t)(Nt||(Nt=yi(["text"]))),description:(0,li.t)(qt||(qt=yi(["The column or text you want to trim."])))}]},{name:"ltrim",structure:"ltrim("+(0,li.t)(Mt||(Mt=yi(["text"])))+")",description:(0,li.t)(Zt||(Zt=yi(["Removes leading whitespace from a string of text."]))),example:"ltrim(["+(0,li.t)(Lt||(Lt=yi(["Comment"])))+"])",args:[{name:(0,li.t)(Bt||(Bt=yi(["text"]))),description:(0,li.t)(zt||(zt=yi(["The column or text you want to trim."])))}]},{name:"abs",structure:"abs("+(0,li.t)(Ft||(Ft=yi(["column"])))+")",description:(0,li.t)(Qt||(Qt=yi(["Returns the absolute (positive) value of the specified column."]))),example:"abs(["+(0,li.t)(Vt||(Vt=yi(["Debt"])))+"])",args:[{name:(0,li.t)(Ut||(Ut=yi(["column"]))),description:(0,li.t)(Ht||(Ht=yi(["The column or number to return absolute (positive) value of."])))}]},{name:"floor",structure:"floor("+(0,li.t)(Yt||(Yt=yi(["column"])))+")",description:(0,li.t)(Gt||(Gt=yi(["Rounds a decimal number down."]))),example:"floor(["+(0,li.t)(Wt||(Wt=yi(["Price"])))+"])",args:[{name:(0,li.t)($t||($t=yi(["column"]))),description:(0,li.t)(Kt||(Kt=yi(["The column or number to round down."])))}]},{name:"ceil",structure:"ceil("+(0,li.t)(Jt||(Jt=yi(["column"])))+")",description:(0,li.t)(Xt||(Xt=yi(["Rounds a decimal number up."]))),example:"ceil(["+(0,li.t)(en||(en=yi(["Price"])))+"])",args:[{name:(0,li.t)(tn||(tn=yi(["column"]))),description:(0,li.t)(nn||(nn=yi(["The column or number to round up."])))}]},{name:"round",structure:"round("+(0,li.t)(rn||(rn=yi(["column"])))+")",description:(0,li.t)(on||(on=yi(["Rounds a decimal number either up or down to the nearest integer value."]))),example:"round(["+(0,li.t)(an||(an=yi(["Temperature"])))+"])",args:[{name:(0,li.t)(un||(un=yi(["column"]))),description:(0,li.t)(ln||(ln=yi(["The column or number to round to nearest integer."])))}]},{name:"sqrt",structure:"sqrt("+(0,li.t)(cn||(cn=yi(["column"])))+")",description:(0,li.t)(sn||(sn=yi(["Returns the square root."]))),example:"sqrt(["+(0,li.t)(fn||(fn=yi(["Hypotenuse"])))+"])",args:[{name:(0,li.t)(dn||(dn=yi(["column"]))),description:(0,li.t)(pn||(pn=yi(["The column or number to return square root value of."])))}]},{name:"power",structure:"power("+(0,li.t)(hn||(hn=yi(["column"])))+", "+(0,li.t)(mn||(mn=yi(["exponent"])))+")",description:(0,li.t)(yn||(yn=yi(["Raises a number to the power of the exponent value."]))),example:"power(["+(0,li.t)(vn||(vn=yi(["Length"])))+"], 2)",args:[{name:(0,li.t)(bn||(bn=yi(["column"]))),description:(0,li.t)(gn||(gn=yi(["The column or number raised to the exponent."])))},{name:(0,li.t)(wn||(wn=yi(["exponent"]))),description:(0,li.t)(On||(On=yi(["The value of the exponent."])))}]},{name:"log",structure:"log("+(0,li.t)(jn||(jn=yi(["column"])))+")",description:(0,li.t)(Sn||(Sn=yi(["Returns the base 10 log of the number."]))),example:"log(["+(0,li.t)(En||(En=yi(["Value"])))+"])",args:[{name:(0,li.t)(_n||(_n=yi(["column"]))),description:(0,li.t)(xn||(xn=yi(["The column or number to return the natural logarithm value of."])))}]},{name:"exp",structure:"exp("+(0,li.t)(Pn||(Pn=yi(["column"])))+")",description:(0,li.t)(Cn||(Cn=yi(["Returns Euler's number, e, raised to the power of the supplied number."]))),example:"exp(["+(0,li.t)(kn||(kn=yi(["Interest Months"])))+"])",args:[{name:(0,li.t)(An||(An=yi(["column"]))),description:(0,li.t)(Dn||(Dn=yi(["The column or number to return the exponential value of."])))}]},{name:"contains",structure:"contains("+(0,li.t)(Rn||(Rn=yi(["string1"])))+", "+(0,li.t)(In||(In=yi(["string2"])))+")",description:(0,li.t)(Tn||(Tn=yi(["Checks to see if string1 contains string2 within it."]))),example:"contains(["+(0,li.t)(Nn||(Nn=yi(["Status"])))+'], "'+(0,li.t)(qn||(qn=yi(["Pass"])))+'")',args:[{name:(0,li.t)(Mn||(Mn=yi(["string1"]))),description:(0,li.t)(Zn||(Zn=yi(["The column or text to check."])))},{name:(0,li.t)(Ln||(Ln=yi(["string2"]))),description:(0,li.t)(Bn||(Bn=yi(["The string of text to look for."])))}]},{name:"starts-with",structure:"startsWith("+(0,li.t)(zn||(zn=yi(["text"])))+", "+(0,li.t)(Fn||(Fn=yi(["comparison"])))+")",description:(0,li.t)(Qn||(Qn=yi(["Returns true if the beginning of the text matches the comparison text."]))),example:"startsWith(["+(0,li.t)(Vn||(Vn=yi(["Course Name"])))+'], "'+(0,li.t)(Un||(Un=yi(["Computer Science"])))+'")',args:[{name:(0,li.t)(Hn||(Hn=yi(["text"]))),description:(0,li.t)(Yn||(Yn=yi(["The column or text to check."])))},{name:(0,li.t)(Gn||(Gn=yi(["comparison"]))),description:(0,li.t)(Wn||(Wn=yi(["The string of text that the original text should start with."])))}]},{name:"ends-with",structure:"endsWith("+(0,li.t)($n||($n=yi(["text"])))+", "+(0,li.t)(Kn||(Kn=yi(["comparison"])))+")",description:(0,li.t)(Jn||(Jn=yi(["Returns true if the end of the text matches the comparison text."]))),example:"endsWith(["+(0,li.t)(Xn||(Xn=yi(["Appetite"])))+'], "'+(0,li.t)(er||(er=yi(["hungry"])))+'")',args:[{name:(0,li.t)(tr||(tr=yi(["text"]))),description:(0,li.t)(nr||(nr=yi(["The column or text to check."])))},{name:(0,li.t)(rr||(rr=yi(["comparison"]))),description:(0,li.t)(ir||(ir=yi(["The string of text that the original text should end with."])))}]},{name:"between",structure:"between("+(0,li.t)(or||(or=yi(["column"])))+", "+(0,li.t)(ar||(ar=yi(["start"])))+", "+(0,li.t)(ur||(ur=yi(["end"])))+")",description:(0,li.t)(lr||(lr=yi(["Checks a date or number column's values to see if they're within the specified range."]))),example:"between(["+(0,li.t)(cr||(cr=yi(["Created At"])))+'], "2019-01-01", "2020-12-31")',args:[{name:(0,li.t)(sr||(sr=yi(["column"]))),description:(0,li.t)(fr||(fr=yi(["The date or numeric column that should be within the start and end values."])))},{name:(0,li.t)(dr||(dr=yi(["start"]))),description:(0,li.t)(pr||(pr=yi(["The beginning of the range."])))},{name:(0,li.t)(hr||(hr=yi(["end"]))),description:(0,li.t)(mr||(mr=yi(["The end of the range."])))}]},{name:"time-interval",structure:"interval("+(0,li.t)(yr||(yr=yi(["column"])))+", "+(0,li.t)(vr||(vr=yi(["number"])))+", "+(0,li.t)(br||(br=yi(["text"])))+")",description:(0,li.t)(gr||(gr=yi(["Checks a date column's values to see if they're within the relative range."]))),example:"interval(["+(0,li.t)(wr||(wr=yi(["Created At"])))+'], -1, "month")',args:[{name:(0,li.t)(Or||(Or=yi(["column"]))),description:(0,li.t)(jr||(jr=yi(["The date column to return interval of."])))},{name:(0,li.t)(Sr||(Sr=yi(["number"]))),description:(0,li.t)(Er||(Er=yi(["Period of interval, where negative values are back in time."])))},{name:(0,li.t)(_r||(_r=yi(["text"]))),description:(0,li.t)(xr||(xr=yi(['Type of interval like "day", "month", "year".'])))}]},{name:"is-null",structure:"isnull("+(0,li.t)(Pr||(Pr=yi(["column"])))+")",description:(0,li.t)(Cr||(Cr=yi(["Checks if a column is null"]))),example:"isnull(["+(0,li.t)(kr||(kr=yi(["Discount"])))+"])",args:[{name:(0,li.t)(Ar||(Ar=yi(["column"]))),description:(0,li.t)(Dr||(Dr=yi(["The column to check."])))}]},{name:"is-empty",structure:"isempty("+(0,li.t)(Rr||(Rr=yi(["column"])))+")",description:(0,li.t)(Ir||(Ir=yi(["Checks if a column is empty"]))),example:"isempty(["+(0,li.t)(Tr||(Tr=yi(["Name"])))+"])",args:[{name:(0,li.t)(Nr||(Nr=yi(["column"]))),description:(0,li.t)(qr||(qr=yi(["The column to check."])))}]},{name:"coalesce",structure:"coalesce("+(0,li.t)(Mr||(Mr=yi(["value1"])))+", "+(0,li.t)(Zr||(Zr=yi(["value2"])))+", )",description:(0,li.t)(Lr||(Lr=yi(["Looks at the values in each argument in order and returns the first non-null value for each row."]))),example:"coalesce(["+(0,li.t)(Br||(Br=yi(["Comments"])))+"], ["+(0,li.t)(zr||(zr=yi(["Notes"])))+'], "'+(0,li.t)(Fr||(Fr=yi(["No comments"])))+'")',args:[{name:(0,li.t)(Qr||(Qr=yi(["value1"]))),description:(0,li.t)(Vr||(Vr=yi(["The column or value to return."])))},{name:(0,li.t)(Ur||(Ur=yi(["value2"]))),description:(0,li.t)(Hr||(Hr=yi(["If value1 is empty, value2 gets returned if its not empty, and so on."])))}]},{name:"case",structure:"case("+(0,li.t)(Yr||(Yr=yi(["condition"])))+", "+(0,li.t)(Gr||(Gr=yi(["output"])))+", )",description:(0,li.t)(Wr||(Wr=yi(["Tests an expression against a list of cases and returns the corresponding value of the first matching case, with an optional default value if nothing else is met."]))),example:"case(["+(0,li.t)($r||($r=yi(["Weight"])))+'] > 200, "'+(0,li.t)(Kr||(Kr=yi(["Large"])))+'", ['+(0,li.t)(Jr||(Jr=yi(["Weight"])))+'] > 150, "'+(0,li.t)(Xr||(Xr=yi(["Medium"])))+'", "'+(0,li.t)(ei||(ei=yi(["Small"])))+'")',args:[{name:(0,li.t)(ti||(ti=yi(["condition"]))),description:(0,li.t)(ni||(ni=yi(["Something that should evaluate to true or false."])))},{name:(0,li.t)(ri||(ri=yi(["output"]))),description:(0,li.t)(ii||(ii=yi(["The value that will be returned if the preceding condition is true, and so on."])))}]}],bi=function(e){return vi.find((function(t){return t.name===e}))},gi=n(4497);function wi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ji(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Oi(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){if(e){if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Si(e,t):void 0}}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ei,_i,xi,Pi,Ci,ki=function(e){return e.displayName+(e.args.length>0?"(":" ")};function Ai(e,t){return Ii(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Ni(e,t)||Ri()}function Di(e){return Ii(e)||qi(e)||Ni(e)||Ri()}function Ri(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ii(e){if(Array.isArray(e))return e}function Ti(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||qi(e)||Ni(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}function qi(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Li=[pi.Nv.Equal,pi.Nv.NotEqual,pi.Nv.GreaterThan,pi.Nv.LessThan,pi.Nv.GreaterThanEqual,pi.Nv.LessThanEqual];var Bi=function e(t,n){if(Array.isArray(t)){var r=Di(t),i=r[0],o=r.slice(1);return zi(n([i].concat(Ti(o.map((function(t){return e(t,n)}))))),t)}return zi(n(t),t)},zi=function(e,t){return null!=t&&t.node&&void 0===e.node&&Object.defineProperty(e,"node",{writable:!1,enumerable:!1,value:t.node}),e},Fi={contains:"does-not-contain","is-null":"not-null","is-empty":"not-empty"},Qi=function(e){return Bi(e,(function(e){if(Array.isArray(e)&&2===e.length){var t=Ai(e,2),n=t[0],r=t[1];if(n===pi.Nv.Not&&Array.isArray(r)){var i=Di(r),o=i[0],a=i.slice(1),u=Fi[o];if(u)return zi([u].concat(Ti(a)),e)}}return e}))},Vi=function(e){return Bi(e,(function(e){if(Array.isArray(e)){var t=Di(e),n=t[0],r=t.slice(1);if(r.length>0){var i=di.xC[n];if(i&&i.hasOptions&&r.length===i.args.length+1){var o=r[r.length-1];return"case-insensitive"===o?(r.pop(),r.push({"case-sensitive":!1})):"include-current"===o&&(r.pop(),r.push({"include-current":!0})),zi([n].concat(Ti(r)),e)}}}return e}))},Ui=function(e){return Bi(e,(function(e){if(Array.isArray(e)){var t=Di(e),n=t[0],r=t.slice(1);if("case"===n){for(var i=[],o=r.length>>1,a=0;a<o;++a){var u=r[2*a],l=r[2*a+1];i.push([u,l])}if(r.length>2*o){var c=r[r.length-1];return zi([n,i,{default:c}],e)}return zi([n,i],e)}}return e}))},Hi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}}((function(e){var t=(0,pi.wS)(e).tokens,n=function(){return t.shift()},r=function(t){var r=n();if(!r)throw new Error((0,li.t)(Ei||(Ei=Zi(["Unexpected end of input, expecting ",""])),t));var i=r.type,o=r.op,a=r.start,u=r.end;if(i!==pi.o3.Operator||o!==t){var l=e.substring(a,u);throw new Error((0,li.t)(_i||(_i=Zi(["Expecting "," but got "," instead"])),t,l))}},i=function(e){return t.length>0&&t[0].type===pi.o3.Operator&&e.includes(t[0].op)},o=function(e){return e.substring(1,e.length-1)},a=function(){if(i([pi.Nv.OpenParenthesis]))return function(){r(pi.Nv.OpenParenthesis);var e=d(),t=i([pi.Nv.CloseParenthesis]);if(r(pi.Nv.CloseParenthesis),!t)throw new Error((0,li.t)(xi||(xi=Zi(["Expecting a closing parenthesis"]))));return e}();var a=n();if(!a)throw new Error((0,li.t)(Pi||(Pi=Zi(["Unexpected end of input"]))));var u=a.type,l=a.start,c=a.end;if(u===pi.o3.Operator){var s=e.substring(l,c);throw new Error((0,li.t)(Ci||(Ci=Zi(["Unexpected operator ",""])),s))}var f=e.substring(l,c);if(u===pi.o3.Identifier){var p=t[0];if(p&&p.op===pi.Nv.OpenParenthesis){var h=(0,di.nv)(f.trim().toLowerCase()),m=function(){r(pi.Nv.OpenParenthesis);for(var e=[];!i([pi.Nv.Comma,pi.Nv.CloseParenthesis]);){var t=d();if(e.push(t),!i([pi.Nv.Comma]))break;r(pi.Nv.Comma)}return r(pi.Nv.CloseParenthesis),e}();return[h||f].concat(Ti(m))}return function(e){var t="["===e[0]?o(e):e;return["dimension",(0,di.j4)(t)]}(f)}return u===pi.o3.Boolean?"true"===f.toLowerCase():u===pi.o3.String?o(f):parseFloat(f)},u=function e(){if(i([pi.Nv.Plus,pi.Nv.Minus])){var t=n().op,r=e();return t===pi.Nv.Minus&&"number"==typeof r?-r:[t,r]}return a()},l=function(){for(var e=u();i([pi.Nv.Star,pi.Nv.Slash]);){var t=n().op;Array.isArray(e)&&e[0]===t?e.push(u()):e=[t,e,u()]}return e},c=function(){for(var e=l();i([pi.Nv.Plus,pi.Nv.Minus]);){var t=n().op;Array.isArray(e)&&e[0]===t?e.push(l()):e=[t,e,l()]}return e},s=function e(){var t;return i([pi.Nv.Not])?[n().op,e()]:(t=c(),i(Li)&&(t=[n().op,t,c()]),t)},f=function(){for(var e=s();i([pi.Nv.And]);){var t=n().op;Array.isArray(e)&&e[0]===t?e.push(s()):e=[t,e,s()]}return e},d=function(){return function(){for(var e=f();i([pi.Nv.Or]);){var t=n().op;Array.isArray(e)&&e[0]===t?e.push(f()):e=[t,e,f()]}return e}()};return d()}),Vi,Qi,Ui),Yi=n(57531);function Gi(e){return Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gi(e)}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t,n){return t&&Wi(e.prototype,t),n&&Wi(e,n),e}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}function Xi(e){var t=ro();return function(){var n,r=oo(e);if(t){var i=oo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return eo(this,n)}}function eo(e,t){return!t||"object"!==Gi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e){var t="function"==typeof Map?new Map:void 0;return to=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return no(e,arguments,oo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),io(r,e)},to(e)}function no(e,t,n){return no=ro()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&io(i,n.prototype),i},no.apply(null,arguments)}function ro(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function io(e,t){return io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},io(e,t)}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}Symbol("Unknown Type");var ao,uo,lo,co,so,fo,po=function(e){Ji(n,e);var t=Xi(n);function n(){return Ki(this,n),t.apply(this,arguments)}return n}(to(Error)),ho=function(e){Ji(n,e);var t=Xi(n);function n(e,r){var i;return Ki(this,n),(i=t.call(this,e)).data=r,i}return $i(n,[{key:"pos",get:function(){var e,t,n;return null!==(e=null===(t=this.data)||void 0===t||null===(n=t.token)||void 0===n?void 0:n.pos)&&void 0!==e?e:null}},{key:"len",get:function(){var e,t,n;return null!==(e=null===(t=this.data)||void 0===t||null===(n=t.token)||void 0===n?void 0:n.len)&&void 0!==e?e:null}}]),n}(po),mo=function(e){Ji(n,e);var t=Xi(n);function n(e,r){var i;return Ki(this,n),(i=t.call(this,e)).node=r,i}return $i(n,[{key:"pos",get:function(){var e,t,n;return null!==(e=null===(t=this.node)||void 0===t||null===(n=t.token)||void 0===n?void 0:n.pos)&&void 0!==e?e:null}},{key:"len",get:function(){var e,t,n;return null!==(e=null===(t=this.node)||void 0===t||null===(n=t.token)||void 0===n?void 0:n.length)&&void 0!==e?e:null}}]),n}(po),yo=function(e){Ji(n,e);var t=Xi(n);function n(e,r){var i;return Ki(this,n),(i=t.call(this,"Assertion failed: ".concat(e))).data=r,i}return n}(to(Error));function vo(e,t,n){if(Yi.y&&!e)throw new yo(t,n||{})}function bo(e){return bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bo(e)}function go(e){return function(e){if(Array.isArray(e))return _o(e)}(e)||xo(e)||Eo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Oo(e,t){return Po(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Eo(e,t)||So()}function jo(e){return Po(e)||xo(e)||Eo(e)||So()}function So(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Eo(e,t){if(e){if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_o(e,t):void 0}}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xo(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Po(e){if(Array.isArray(e))return e}var Co=["dimension","segment","metric"],ko=[pi.Nv.Not,pi.Nv.And,pi.Nv.Or],Ao=[pi.Nv.Plus,pi.Nv.Minus,pi.Nv.Star,pi.Nv.Slash],Do=[pi.Nv.Equal,pi.Nv.NotEqual,pi.Nv.GreaterThan,pi.Nv.LessThan,pi.Nv.GreaterThanEqual,pi.Nv.LessThanEqual],Ro={boolean:"segment",aggregation:"metric"},Io={"does-not-contain":"contains","not-null":"is-null","not-empty":"is-empty"};function To(e){var t=di.xC[e];if(!t){var n=Io[e];n&&(t=di.xC[n])}return t}var No=function(e,t){return e===t||("expression"===e&&("number"===t||"string"===t)||("aggregation"===e&&"number"===t||"number"===e&&"aggregation"===t))};function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expression",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(Array.isArray(e)){var r=jo(e),i=r[0],o=r.slice(1);if(Co.includes(i)){var a=Ro[t]||"dimension",u=Oo(o,1),l=u[0];if(n)try{return n(a,l,e.node)}catch(e){var c=(0,di.nv)(l.trim().toLowerCase());if(c&&0===di.xC[c].args.length)return[c];throw e}return[a,l]}var s=null;if(ko.includes(i))s="boolean";else if(Ao.includes(i))s="aggregation"===t?t:"number";else if("true"===i||"false"===i)s="expression";else if(Do.includes(i)){s="expression";var f=Oo(o,1),d=f[0];if("number"==typeof d&&!Array.isArray(d))throw new mo((0,li.t)(ao||(ao=wo(["Expecting field but found ",""])),d),e.node)}else if("concat"===i)s="expression";else if("coalesce"===i)s=t;else if("case"===i){var p=Oo(o,2),h=p[0],m=p[1];if(h.length<1)throw new mo((0,li.t)(uo||(uo=wo(["CASE expects 2 arguments or more"]))),e.node);var y=h.map((function(e){var r=Oo(e,2),i=r[0],o=r[1];return[qo(i,"boolean",n),qo(o,t,n)]}));if(m&&"default"in m){var v={default:qo(m.default,t,n)};return[i,y,v]}return[i,y]}if(s)return[i].concat(go(o.map((function(e){return qo(e,s,n)}))));var b=To(i);if(!b)throw new mo((0,li.t)(lo||(lo=wo(["Unknown function ",""])),i),e.node);var g=b.displayName,w=b.args,O=b.multiple,j=b.hasOptions;if(!No(t,b.type))throw new mo((0,li.t)(co||(co=wo(["Expecting "," but found function "," returning ",""])),t,g,b.type),e.node);if(!O){var S=w.length,E=j?S+1:S;if(o.length<S||o.length>E)throw new mo((0,li.ngettext)((0,li.msgid)(so||(so=wo(["Function "," expects "," argument"])),g,S),"Function ".concat(g," expects ").concat(S," arguments"),S),e.node)}var _=o.map((function(e,t){return t>=w.length?e:qo(e,w[t],n)}));return[i].concat(go(_))}if(!No(t,"boolean"==typeof e?"expression":bo(e)))throw new Error((0,li.t)(fo||(fo=wo(["Expecting "," but found ",""])),t,JSON.stringify(e)));return e}var Mo,Zo,Lo,Bo=n(98399);function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Vo(e){var t,n,r,i=e.source,o=e.startRule;try{var a=Hi(i);r=qo(a,o,(function(t,n){if("metric"===t){var r=(0,di.h8)(n,e);if(!r)throw new Error((0,li.t)(Mo||(Mo=Qo(["Unknown Metric: ",""])),n));return["metric",r.id]}if("segment"===t){var i=(0,di.AB)(n,e);if(!i)throw new Error((0,li.t)(Zo||(Zo=Qo(["Unknown Segment: ",""])),n));return Array.isArray(i.id)?i.id:["segment",i.id]}var o=e.name,a=(0,di.rU)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({reference:o},e));if(!a)throw new Error((0,li.t)(Lo||(Lo=Qo(["Unknown Field: ",""])),n));return a.mbql()})),t=Bi(r,(function(e){if(Array.isArray(e)){if("case"===(null==e?void 0:e[0])){var t=Ai(e,3),n=t[0],r=t[1],i=t[2];return[n,r.map((function(e){var t=Ai(e,2),n=t[0],r=t[1];if(!Array.isArray(n))return[n,r];var i=Ai(n,3),o=i[0],a=(i[1],i[2]);return"field"===o&&"type/Boolean"===(null==a?void 0:a["base-type"])||"segment"===o?zi([["=",n,!0],r],n):[n,r]})),i]}var o=Di(e),a=o[0],u=o.slice(1),l=(di.xC[a]||{}).args,c=void 0===l?[]:l;return[a].concat(Ti(u.map((function(e,t){if(!Array.isArray(e)||"boolean"!==c[t])return e;var n=Ai(e,3),r=n[0],i=(n[1],n[2]);return"field"===r&&"type/Boolean"===(null==i?void 0:i["base-type"])||"segment"===r?zi(["=",e,!0],e):e}))))}return e}))}catch(e){Bo.warn("compile error",e),n=e}return{source:i,expression:t,compileError:n}}function Uo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Yo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||Yo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){if(e){if("string"==typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Go(e,t):void 0}}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wo={},$o={},Ko={},Jo={},Xo={},ea={},ta={},na={},ra={},ia={},oa={},aa={},ua={},la={},ca={},sa={},fa={},da={},pa={},ha={},ma={},ya={},va={};function ba(e,t){return{leftOperands:e,rightOperands:t,expectedChildCount:e+t}}function ga(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o,a=Ho(i[r],2),u=a[0],l=a[1],c=Uo(l);try{for(c.s();!(o=c.n()).done;){var s=o.value;Object.assign(s,u)}}catch(e){c.e(e)}finally{c.f()}}}var wa,Oa,ja,Sa,Ea,_a,xa,Pa,Ca,ka,Aa,Da,Ra,Ia,Ta,Na,qa,Ma=[$o,Ko,Jo,Xo,ea,ta,na,ra,ia,oa,ua,aa,la,ca,sa,fa,da,pa,ha,ma,Wo,ya,va];function Za(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++){if(!e.children[n])return{position:n,expected:t};if(!t[n].includes(e.children[n].type))return{position:n,child:e.children[n],expected:t}}return null}}ga([{skip:!1,leftOperands:0,rightOperands:0,expectedChildCount:0,checkChildConstraints:function(){return null},requiresTerminator:null,ignoresTerminator:[],isTerminator:!1,precedence:-1/0,resolvesAs:null,expectedTypes:null},Ma]),ga([ba(0,1),[ea,ua,aa]],[ba(1,1),[pa,$o,ma,ca,ra,Ko,la]],[{expectedChildCount:1/0},[Jo,da,sa]],[{ignoresTerminator:[ta]},[Jo]],[{requiresTerminator:na},[da]],[{requiresTerminator:fa},[Jo,sa]],[{isTerminator:!0},[ta,na,fa]],[{skip:!0},[va]],[{resolvesAs:"string"},[ha]],[{resolvesAs:"number"},[$o,ia,ua,pa,ma]],[{resolvesAs:"boolean"},[Ko,ra,aa,la,ca,oa]],[{expectedTypes:["number"]},[$o,ia,ua,pa,ma,ca]],[{expectedTypes:["boolean"]},[aa,Ko,la]],[{expectedTypes:["boolean","number","string"]},[ra]]),aa.checkChildConstraints=Za([Wo,ya,aa,la,Ko,ca,ra,ea,sa,ua,ia,oa,ha,$o,ma,pa]),ua.checkChildConstraints=Za([ia,Wo,ya,ua,ea,sa,$o,ma,pa,aa,la,Ko,ca,ha]),ea.checkChildConstraints=Za([Jo]),da.checkChildConstraints=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n,r=Uo(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.includes(i.type))return{child:i}}}catch(e){r.e(e)}finally{r.f()}return null}}(Wo,$o,Ko,ea,ra,ia,oa,ua,aa,pa,la,ca,sa,ha,ma,ya),[[ea],[Wo],[ua],[pa],[$o,ma],[ra,ca],[aa],[Ko],[la],[oa,ya]].forEach((function(e,t,n){var r,i=Uo(e);try{for(i.s();!(r=i.n()).done;){r.value.precedence=n.length-t}}catch(e){i.e(e)}finally{i.f()}}));for(var La=0,Ba=Object.entries(Ma);La<Ba.length;La++){var za=Ho(Ba[La],2),Fa=za[0];za[1].name=Fa}function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ya(e,t,n,r){return{type:n,children:[],complete:0===n.expectedChildCount,parent:t,token:e,resolvedType:n.resolvesAs?n.resolvesAs:r}}function Ga(e,t,n){var r,i=n.hooks,o=void 0===i?{}:i,a=n.throwOnError,u=void 0!==a&&a,l=e.type,c=e.parent,s=l.checkChildConstraints(e);if(null!==s){var f,d=new ho((0,li.t)(_a||(_a=Ha(["Unexpected token"]))),Va({node:e},s));if(null===(f=o.onChildConstraintViolation)||void 0===f||f.call(o,e,d),u)throw d;t.push(d)}return vo(c,"Tried to place a node without a parent",e),c.children.push(e),null===(r=o.onPlaceNode)||void 0===r||r.call(o,e,c),c}function Wa(e,t){return 0!==t.leftOperands&&t.precedence>e.precedence}function $a(e,t){return e===sa&&t===ea?Jo:e}function Ka(e){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(e)}function Ja(e){return function(e){if(Array.isArray(e))return iu(e)}(e)||Xa(e)||ru(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function eu(e,t){return nu(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||ru(e,t)||tu()}function tu(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nu(e){if(Array.isArray(e))return e}function ru(e,t){if(e){if("string"==typeof e)return iu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iu(e,t):void 0}}function iu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ou(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function au(e,t){if(vo(e.type===da,"Must be root node"),e.children.length>1)throw new ho((0,li.t)(xa||(xa=ou(["Unexpected expression"]))),{node:e.children[1],token:e.children[1].token});var n,r=uu(e)(e.children[0],t),i=t.passes,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ru(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(void 0===i?[]:i);try{for(o.s();!(n=o.n()).done;){r=(0,n.value)(r)}}catch(e){o.e(e)}finally{o.f()}return r}function uu(e){if(e.children.length>1)throw new ho((0,li.t)(ka||(ka=ou(["Unexpected expression"]))),{node:e.children[1],token:e.children[1].token});if(0===e.children.length)throw new ho((0,li.t)(Aa||(Aa=ou(["Expected expression"]))),{node:e,token:e.token});var t=fu(e.children[0]);if(!t)throw new ho((0,li.t)(Da||(Da=ou(["Invalid node type"]))),{node:e.children[0],token:e.children[0].token});return t}function lu(e,t){var n,r;if(e.children.length>2)throw new ho((0,li.t)(Ra||(Ra=ou(["Unexpected expression"]))),{node:e.children[2],token:e.children[2].token});if(0===e.children.length)throw new ho((0,li.t)(Ia||(Ia=ou(["Expected expression"]))),{node:e,token:e.token});var i=fu(e.children[0]);if(!i)throw new ho((0,li.t)(Ta||(Ta=ou(["Invalid node type"]))),{node:e.children[0],token:e.children[0].token});var o=fu(e.children[1]);if(!o)throw new ho((0,li.t)(Na||(Na=ou(["Invalid node type"]))),{node:e.children[1],token:e.children[1].token});var a,u=null===(n=e.token)||void 0===n?void 0:n.text,l=i(e.children[0],t);if(Array.isArray(l)&&(null===(r=l[0])||void 0===r?void 0:r.toUpperCase())===(null==u?void 0:u.toUpperCase())){var c=nu(a=l)||Xa(a)||ru(a)||tu();c[0];l=c.slice(1)}else l=[l];var s=o(e.children[1],t);return[l,s=[s]]}function cu(e,t){return"object"===Ka(e)&&Object.defineProperty(e,"node",{writable:!1,enumerable:!1,value:t}),e}ma.name="SUBTRACT",va.name="WHITESPACE";var su=new Map([[Wo,function(e){var t;vo(e.type===Wo,"Invalid Node Type"),vo(null===(t=e.token)||void 0===t?void 0:t.text,"Empty field name");var n=e.token.text.slice(1,e.token.text.length-1);return cu(["dimension",(0,di.j4)(n)],e)}],[$o,function(e,t){var n,r;vo(e.type===$o,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([null===(r=e.token)||void 0===r?void 0:r.text].concat(Ja(o),Ja(a)),e)}],[Ko,function(e,t){var n,r;vo(e.type===Ko,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([null===(r=e.token)||void 0===r?void 0:r.text.toLowerCase()].concat(Ja(o),Ja(a)),e)}],[ea,function(e,t){var n,r;vo(e.type===ea,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text"),vo(e.children[0].type===Jo,"First argument must be an arglist");var i=null===(r=e.token)||void 0===r?void 0:r.text,o=t.getMBQLName(i.trim().toLowerCase());return cu([o||i].concat(Ja(function(e,t){return vo(e.type===Jo,"Invalid Node Type"),e.children.map((function(e){var n=fu(e);if(!n)throw new ho((0,li.t)(Pa||(Pa=ou(["Invalid node type"]))),{node:e});var r=n(e,t);return r.node?r:cu(r,e)}))}(e.children[0],t))),e)}],[ra,function(e,t){var n,r;vo(e.type===ra,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([null===(r=e.token)||void 0===r?void 0:r.text].concat(Ja(o),Ja(a)),e)}],[ia,function(e){var t;vo(e.type===ia,"Invalid Node Type"),vo("string"==typeof(null===(t=e.token)||void 0===t?void 0:t.text),"No token text");try{return parseFloat(e.token.text)}catch(t){throw new ho((0,li.t)(Ca||(Ca=ou(["Invalid number format"]))),{node:e,token:e.token})}}],[oa,function(e,t){var n;return vo(e.type===oa,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text"),"true"===e.token.text.toLowerCase()}],[aa,function(e,t){var n;vo(e.type===aa,"Invalid Node Type");var r=uu(e);return vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text"),cu(["not",r(e.children[0],t)],e)}],[ua,function(e,t){var n;vo(e.type===ua,"Invalid Node Type");var r=uu(e);vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=e.children[0];return i.type===ia?-r(i,t):cu(["-",r(i,t)],e)}],[la,function(e,t){var n,r;vo(e.type===la,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([null===(r=e.token)||void 0===r?void 0:r.text.toLowerCase()].concat(Ja(o),Ja(a)),e)}],[ca,function(e,t){var n;vo(e.type===ca,"Invalid Node Type");var r=null===(n=e.token)||void 0===n?void 0:n.text;vo(r,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([r].concat(Ja(o),Ja(a)),e)}],[sa,function(e,t){return vo(e.type===sa,"Invalid Node Type"),uu(e)(e.children[0],t)}],[pa,function(e,t){var n;vo(e.type===pa,"Invalid Node Type");var r=null===(n=e.token)||void 0===n?void 0:n.text;vo(r,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([r].concat(Ja(o),Ja(a)),e)}],[ha,function(e){var t;return vo(e.type===ha,"Invalid Node Type"),vo("string"==typeof(null===(t=e.token)||void 0===t?void 0:t.text),"No token text"),e.token.text.slice(1,e.token.text.length-1)}],[ma,function(e,t){var n,r;vo(e.type===ma,"Invalid Node Type"),vo(null===(n=e.token)||void 0===n?void 0:n.text,"Empty token text");var i=eu(lu(e,t),2),o=i[0],a=i[1];return cu([null===(r=e.token)||void 0===r?void 0:r.text].concat(Ja(o),Ja(a)),e)}],[ya,function(e){var t;return vo(e.type===ya,"Invalid Node Type"),vo(null===(t=e.token)||void 0===t?void 0:t.text,"Empty token text"),cu(["dimension",e.token.text],e)}]]);function fu(e){var t=su.get(e.type);if(!t)throw new ho((0,li.t)(qa||(qa=ou(["Invalid node type"]))),{node:e,token:e.token});return t}var du,pu,hu,mu,yu,vu,bu,gu,wu,Ou=n(98399);function ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Su(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(n),!0).forEach((function(t){Eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function xu(e){return e.reduce((function(e,t){return function(e){return e.op===pi.Nv.OpenParenthesis}(t)?e+1:function(e){return e.op===pi.Nv.CloseParenthesis}(t)?e-1:e}),0)}function Pu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e||0===e.length)return null;var i=(0,pi.wS)(e),o=i.tokens,a=i.errors;if(a&&a.length>0)return a[0];for(var u=0;u<o.length-1;++u){var l=o[u];if(l.type===pi.o3.Identifier&&"["!==e[l.start]){var c=e.slice(l.start,l.end),s=(0,di.nv)(c),f=s?di.xC[s]:null;if(f&&f.args.length>0){var d=o[u+1];if(d.op!==pi.Nv.OpenParenthesis)return{message:(0,li.t)(du||(du=_u(["Expecting an opening parenthesis after function ",""])),c)}}}}var p=xu(o),h=1===p?(0,li.t)(pu||(pu=_u(["Expecting a closing parenthesis"]))):p>1?(0,li.t)(hu||(hu=_u(["Expecting "," closing parentheses"])),p):-1===p?(0,li.t)(mu||(mu=_u(["Expecting an opening parenthesis"]))):p<-1?(0,li.t)(yu||(yu=_u(["Expecting "," opening parentheses"])),-p):null;if(h)return{message:h};try{return Cu(e,t,n,r)}catch(e){return e}}function Cu(e,t,n,r){var i=function(e){var t=[],n=(0,pi.wS)(e),r=n.tokens,i=n.errors;i&&i.length>0&&i.forEach((function(n){var r=n.pos;t.push({type:Xo,text:e[r],length:1,pos:r})}));for(var o=0,a=0;a<r.length;++a){var u=r[a];o<u.start&&t.push({type:va,text:e.slice(o,u.start),length:u.start-o,pos:o}),o=u.end;var l=e.slice(u.start,u.end),c=u.start,s=u.end-u.start,f=Xo;switch(u.type){case pi.o3.Number:f=ia;break;case pi.o3.String:f=ha;break;case pi.o3.Identifier:f="["===l[0]?Wo:ya;break;case pi.o3.Boolean:f=oa;break;case pi.o3.Operator:switch(u.op){case pi.Nv.Comma:f=ta;break;case pi.Nv.OpenParenthesis:f=sa;break;case pi.Nv.CloseParenthesis:f=fa;break;case pi.Nv.Plus:f=$o;break;case pi.Nv.Minus:f=ma;break;case pi.Nv.Star:case pi.Nv.Slash:f=pa;break;case pi.Nv.Equal:case pi.Nv.NotEqual:f=ra;break;case pi.Nv.LessThan:case pi.Nv.GreaterThan:case pi.Nv.LessThanEqual:case pi.Nv.GreaterThanEqual:f=ca;break;case pi.Nv.Not:f=aa;break;case pi.Nv.And:f=Ko;break;case pi.Nv.Or:f=la}}if(f===ya){var d=r[a+1];d&&d.type===pi.o3.Operator&&d.op===pi.Nv.OpenParenthesis&&(f=ea,s=d.start-u.start,l=e.slice(u.start,d.start),o=d.start)}t.push({type:f,text:l,length:s,pos:c})}return t.push({type:na,text:"\n",length:1,pos:e.length}),t.sort((function(e,t){return e.pos-t.pos}))}(e),o={source:e,startRule:t,query:n,name:r},a=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxIterations,i=void 0===r?1e6:r,o=n.hooks,a=void 0===o?{}:o,u=n.throwOnError,l=void 0!==u&&u,c=[],s=0,f=Ya(null,null,da,s);f.isRoot=!0;var d=f;null===(t=a.onCreateNode)||void 0===t||t.call(a,e[0],d);for(var p=0;p<e.length&&s<i;p++){var h,m,y=e[p];if(null===(h=a.onIteration)||void 0===h||h.call(a,y,d),y.type.skip)null===(m=a.onSkipToken)||void 0===m||m.call(a,y,d);else if(y.type!==Xo){var v,b;if(d.complete)vo(d.parent,"Marked a node complete without placing it with a parent"),Wa(d.parent.type,y.type)?(d.parent=Ya(y,d.parent,$a(y.type,d.parent.type),s),null===(v=a.onReparentNode)||void 0===v||v.call(a,y,d)):p--,(d=Ga(d,c,n)).children.length===d.type.expectedChildCount&&(d.complete=!0,null===(b=a.onCompleteNode)||void 0===b||b.call(a,y,d));else if(y.type.isTerminator){var g,w;if(null===(g=a.onTerminatorToken)||void 0===g||g.call(a,y,d),d.type.requiresTerminator===y.type)d.complete=!0,null===(w=a.onCompleteNode)||void 0===w||w.call(a,y,d);else if(-1===d.type.ignoresTerminator.indexOf(y.type)){var O,j,S=new ho((0,li.t)(Oa||(Oa=Ha(["Expected expression"]))),{node:d,token:y});if(null===(O=a.onUnexpectedTerminator)||void 0===O||O.call(a,y,d,S),l)throw S;c.push(S),y.type===na&&(d.complete||(d.complete=!0,null===(j=a.onCompleteNode)||void 0===j||j.call(a,y,d),p--))}}else if(0!==y.type.leftOperands)if(y.type===ma){var E;d=Ya(y,d,ua,s),null===(E=a.onCreateNode)||void 0===E||E.call(a,y,d)}else{var _,x=new ho((0,li.t)(ja||(ja=Ha(["Expected expression"]))),{token:y});if(null===(_=a.onMissinChildren)||void 0===_||_.call(a,y,d,x),l)throw x;c.push(x)}else{var P;d=Ya(y,d,$a(y.type,d.type),s),null===(P=a.onCreateNode)||void 0===P||P.call(a,y,d)}s+=1}else{var C,k=new ho((0,li.t)(wa||(wa=Ha(['Unexpected token "','"'])),y.text),{node:d,token:y});if(null===(C=a.onBadToken)||void 0===C||C.call(a,y,d,k),l)throw k;c.push(k)}}if(s>=i)throw new Error((0,li.t)(Sa||(Sa=Ha(["Reached max number of iterations"]))));var A=da.checkChildConstraints(f);if(null!==A){var D,R=new ho((0,li.t)(Ea||(Ea=Ha(["Unexpected token"]))),Va({node:f},A));if(null===(D=a.onChildConstraintViolation)||void 0===D||D.call(a,d,R),l)throw R;c.push(R)}return{root:f,errors:c}}(i,Su({throwOnError:!1},o)),u=a.root,l=a.errors;if(l.length>0)return l[0];function c(e,t,r){if(!n)return[e,t];if("metric"===e){var i=(0,di.h8)(t,o);if(!i)throw new mo((0,li.t)(vu||(vu=_u(["Unknown Metric: ",""])),t),r);return["metric",i.id]}if("segment"===e){var a=(0,di.AB)(t,o);if(!a)throw new mo((0,li.t)(bu||(bu=_u(["Unknown Segment: ",""])),t),r);return Array.isArray(a.id)?a.id:["segment",a.id]}var u=o.name,l=(0,di.rU)(t,Su({reference:u},o));if(!l)throw new mo((0,li.t)(gu||(gu=_u(["Unknown Field: ",""])),t),r);return l.mbql()}try{var s=au(u,{passes:[Vi,Qi,Ui,function(e){return qo(e,t,c)}],getMBQLName:di.nv}),f=Do.includes(s[0])||ko.includes(s[0]);if("expression"===t&&f)throw new mo((0,li.t)(wu||(wu=_u(["Custom columns do not support boolean expressions"]))),s.node)}catch(e){return Ou.warn("compile error",e),e}return null}var ku,Au=n(95498),Du=n(35463),Ru=n(6336),Iu=n(98111),Tu=n(65844),Nu=n(23070);var qu=function(e){var t,n,r=e.helpText,i=e.width,o=e.target;return r?oi.createElement(Nu.Z,{maxWidth:i,reference:o,placement:"bottom-start",visible:!0,content:oi.createElement(oi.Fragment,null,oi.createElement("div",{onMouseDown:function(e){return e.preventDefault()}},oi.createElement("p",{className:"p2 m0 text-monospace text-bold",style:{background:Ru.ZP["bg-yellow"]}},r.structure),oi.createElement("div",{className:"p2 border-top"},oi.createElement("p",{className:"mt0 text-bold"},r.description),oi.createElement("p",{className:"text-code m0 text-body"},r.example)),oi.createElement("div",{className:"p2 border-top"},r.args.map((function(e,t){var n=e.name,r=e.description;return oi.createElement("div",{key:t},oi.createElement("h4",{className:"text-medium"},n),oi.createElement("p",{className:"mt1 text-bold"},r))})),oi.createElement(Iu.Z,{className:"link text-bold block my1",target:"_blank",href:Du.Z.docsUrl("users-guide/expressions")},oi.createElement(Tu.ZP,{name:"reference",size:12,className:"mr1"}),(0,li.t)(ku||(t=["Learn more"],n||(n=t.slice(0)),ku=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))))))}):null},Mu=n(40841),Zu=n.n(Mu),Lu=n(47679);var Bu=(0,Lu.Z)("ul",{target:"ewrfdku1"})({name:"vsbs1h",styles:"min-width:150px;overflow-y:auto"}),zu=(0,Lu.Z)("li",{target:"ewrfdku0"})("padding-top:5px;padding-bottom:5px;",(function(e){return e.isHighlighted&&"\n      color: ".concat((0,Ru.$_)("white"),";\n      background-color: ").concat((0,Ru.$_)("brand"),";\n  ")}),");"),Fu=n(29502);function Qu(e){return Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(e)}function Vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return Hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hu(e,t)}function Yu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wu(e);if(t){var i=Wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gu(this,n)}}function Gu(e,t){return!t||"object"!==Qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wu(e)}var $u=function(e){var t=e.suggestion,n=e.isHighlighted,r=Zu()("text-dark text-bold hover-child",{"text-white bg-brand":n});return!n&&t.range?oi.createElement("span",{className:"text-medium"},t.name.slice(0,t.range[0]),oi.createElement("span",{className:r},t.name.slice(t.range[0],t.range[1])),t.name.slice(t.range[1])):t.name};$u.propTypes={suggestion:ui().object,isHighlighted:ui().bool};var Ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}(o,e);var t,n,r,i=Yu(o);function o(){return Vu(this,o),i.apply(this,arguments)}return t=o,n=[{key:"componentDidUpdate",value:function(e,t){(e&&e.highlightedIndex)!==this.props.highlightedIndex&&this._selectedRow&&(0,Fu.Fw)(this._selectedRow)&&this._selectedRow.scrollIntoView({block:"nearest"})}},{key:"onSuggestionMouseDown",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.props.onSuggestionMouseDown&&this.props.onSuggestionMouseDown(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,r=t.highlightedIndex,i=t.target;return n.length?oi.createElement(Nu.Z,{className:"not-rounded border-dark",placement:"bottom-start",sizeToFit:!0,visible:!0,reference:i,content:oi.createElement(Bu,{"data-testid":"expression-suggestions-list",className:"pb1"},n.map((function(t,n){var i=n===r,o=t.icon,a=function(e){switch(e){case"segment":return{normal:(0,Ru.$_)("accent2"),highlighted:(0,Ru.$_)("brand-white")};case"insight":return{normal:(0,Ru.$_)("accent1"),highlighted:(0,Ru.$_)("brand-white")};case"function":return{normal:(0,Ru.$_)("brand"),highlighted:(0,Ru.$_)("brand-white")};default:return{normal:(0,Ru.$_)("text-medium"),highlighted:(0,Ru.$_)("brand-white")}}}(o),u=a.normal,l=a.highlighted,c="$suggstion-".concat(n),s=oi.createElement(zu,{onMouseDownCapture:function(t){return e.onSuggestionMouseDown(t,n)},isHighlighted:i,className:"flex align-center px2 cursor-pointer text-white-hover bg-brand-hover hover-parent hover--inherit"},oi.createElement(Tu.ZP,{name:o,color:i?l:u,size:"14",className:"mr1"}),oi.createElement($u,{suggestion:t,isHighlighted:i}));return oi.createElement(oi.Fragment,{key:c},s)})))}):null}}],n&&Uu(t.prototype,n),r&&Uu(t,r),o}(oi.Component);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ku,"propTypes",{suggestions:ui().array,onSuggestionMouseDown:ui().func,highlightedIndex:ui().number.isRequired,target:ui().instanceOf(Element).isRequired});var Ju=n(75246),Xu=n(7500),el=(0,Lu.Z)("div",{target:"e12qeexv1"})("border:1px solid;border-color:",(0,Ru.$_)("border"),";border-radius:",(0,Xu.D)(0),";display:flex;position:relative;margin:",(0,Xu.D)(1)," 0;padding:12px ",(0,Xu.D)(1),";transition:border 0.3s linear;",(function(e){return e.isFocused&&(0,Ju.iv)("border-color:",(0,Ru.$_)("brand"),";","")})," ",(function(e){return e.hasError&&(0,Ju.iv)("border-color:",(0,Ru.$_)("error"),";","")}),"@media (prefers-reduced-motion){transition:none;}");el.defaultProps={className:"expression-editor-textfield"};var tl=(0,Lu.Z)("div",{target:"e12qeexv0"})('font:12px/normal "Monaco",monospace;height:12px;font-weight:700;margin:0 3px 0 ',(0,Xu.D)(0),";");n(80189);function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function il(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ol(e,t)}function ol(e,t){return ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ol(e,t)}function al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ll(e);if(t){var i=ll(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ul(this,n)}}function ul(e,t){return!t||"object"!==nl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ll(e){return ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ll(e)}var cl,sl,fl,dl,pl=function(e){il(n,window.ace.acequire("ace/mode/text_highlight_rules").TextHighlightRules);var t=al(n);function n(){var e;return rl(this,n),(e=t.call(this)).$rules={start:[{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"variable",regex:"\\[.*?\\]"},{token:"paren.lparen",regex:"[(]"},{token:"paren.rparen",regex:"[)]"},{token:"keyword",regex:"or|and|not|OR|AND|NOT"},{token:"keyword.operator",regex:"[+-/*=<>]"}]},e}return n}(),hl=function(e){il(n,window.ace.acequire("ace/mode/java").Mode);var t=al(n);function n(){var e;return rl(this,n),(e=t.call(this)).HighlightRules=pl,e}return n}(),ml=n(38339),yl=n(98399);function vl(e){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(e)}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e,t){return gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gl(e,t)}function wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sl(e);if(t){var i=Sl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ol(this,n)}}function Ol(e,t){return!t||"object"!==vl(t)&&"function"!=typeof t?jl(e):t}function jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sl(e)}function El(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ml.config.set("basePath","/assets/ui/");var _l=function(e){var t=e.error;return oi.createElement("div",null,t&&oi.createElement("div",{className:"text-error mt1 mb1",style:{whiteSpace:"pre-wrap"}},t.message))},xl=(0,Au.default)()((fl=sl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gl(e,t)}(o,e);var t,n,r,i=wl(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),El(jl(e=i.call(this)),"state",null),El(jl(e),"onSuggestionSelected",(function(t){var n=e.state,r=n.source,i=n.suggestions,o=i&&i[t],a=e.input.current.editor;if(o){var u=(0,pi.wS)(r).tokens.find((function(e){return e.end>=o.index})),l=a.getCursorPosition().row;if(u){var c=r.slice(0,u.start),s=r.slice(u.end),f=o.text,d="("===ci.ZP.last(f),p="("===ci.ZP.first(s.trimLeft()),h=d&&p?1:0,m=c+f.slice(0,f.length-h)+s;e.handleExpressionChange(m);var y=m.length-s.length;setTimeout((function(){return a.moveCursorTo(l,y)}))}else{var v=r+o.text;e.handleExpressionChange(v),a.moveCursorTo(l,v.length)}}})),El(jl(e),"handleArrowUp",(function(){var t=e.state,n=t.highlightedSuggestionIndex,r=t.suggestions;r.length?e.setState({highlightedSuggestionIndex:(n+r.length-1)%r.length}):e.input.current.editor.navigateLineEnd()})),El(jl(e),"handleArrowDown",(function(){var t=e.state,n=t.highlightedSuggestionIndex,r=t.suggestions;r.length?e.setState({highlightedSuggestionIndex:(n+r.length+1)%r.length}):e.input.current.editor.navigateLineEnd()})),El(jl(e),"handleEnter",(function(){var t=e.state,n=t.highlightedSuggestionIndex;t.suggestions.length?e.onSuggestionSelected(n):e.commitExpression()})),El(jl(e),"chooseSuggestion",(function(){var t=e.state,n=t.highlightedSuggestionIndex;t.suggestions.length&&e.onSuggestionSelected(n)})),El(jl(e),"handleFocus",(function(){if(e.setState({isFocused:!0}),e.input.current){var t=e.input.current.editor;e.handleCursorChange(t.selection),setTimeout((function(){t.focus()}),0)}})),El(jl(e),"handleInputBlur",(function(t){if(e.setState({isFocused:!1}),t.target!==document.activeElement){e.clearSuggestions();var n,r,i=e.diagnoseExpression();if(e.setState({errorMessage:i}),i)e.props.onError(i);else{var o=e.compileExpression();o?((0,di.UT)(o)||yl.warn("isExpression=false",o),e.props.onChange(o)):e.props.onError({message:(0,li.t)(dl||(n=["Invalid expression"],r||(r=n.slice(0)),dl=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))))})}}})),El(jl(e),"triggerAutosuggest",(function(){e.handleExpressionChange(e.state.source)})),El(jl(e),"setCaretPosition",(function(t,n){n&&setTimeout((function(){return e.triggerAutosuggest()}))})),El(jl(e),"commands",[{name:"arrowDown",bindKey:{win:"Down",mac:"Down"},exec:function(){e.handleArrowDown()}},{name:"arrowUp",bindKey:{win:"Up",mac:"Up"},exec:function(){e.handleArrowUp()}},{name:"enter",bindKey:{win:"Enter",mac:"Enter"},exec:function(){e.handleEnter()}},{name:"chooseSuggestion",bindKey:null,exec:function(){e.chooseSuggestion()}},{name:"clearSuggestions",bindKey:{win:"Esc",mac:"Esc"},exec:function(){e.clearSuggestions()}}]),e.input=oi.createRef(),e.suggestionTarget=oi.createRef(),e}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){this.UNSAFE_componentWillReceiveProps(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.expression,n=e.query,r=e.startRule;if(!this.state||!ci.ZP.isEqual(this.props.expression,t)){var i,o=(0,fi.WU)(t,{query:n,startRule:r}),a=null===(i=this.state)||void 0===i?void 0:i.source;if(this.setState({source:o,expression:t}),this.clearSuggestions(),a!==o&&this.input.current){var u=this.input.current.editor;setTimeout((function(){return u.gotoLine(1,o.length)}),0)}}}},{key:"componentDidMount",value:function(){var e=this.input.current.editor;e.getSession().setMode(new hl),e.setOptions({fontFamily:"Monaco, monospace",fontSize:"12px"});var t=e.commands.byName.passKeysToBrowser;e.commands.bindKey("Tab",t),e.commands.bindKey("Shift-Tab",t),e.commands.removeCommand(e.commands.byName.indent),e.commands.removeCommand(e.commands.byName.outdent),this.setCaretPosition(this.state.source.length,0===this.state.source.length),this.triggerAutosuggest()}},{key:"clearSuggestions",value:function(){this.setState({highlightedSuggestionIndex:0,helpText:null}),this.updateSuggestions([])}},{key:"updateSuggestions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.setState({suggestions:e}),this.input.current){var t=this.input.current.editor,n=this.state.suggestions,r=t.commands.commandKeyBinding.tab;n.length>0?t.commands.bindKey("Tab",t.commands.byName.chooseSuggestion):Array.isArray(r)&&r.length>1&&(t.commands.commandKeyBinding.tab=r.shift())}}},{key:"compileExpression",value:function(){var e=this.state.source,t=this.props,n=t.query,r=t.startRule,i=t.name;return e&&0!==e.length?Vo({name:i,source:e,query:n,startRule:r}).expression:null}},{key:"diagnoseExpression",value:function(){var e=this.state.source,t=this.props,n=t.query,r=t.startRule,i=t.name;return e&&0!==e.length?Pu(e,r,n,i):{message:"Empty expression"}}},{key:"commitExpression",value:function(){var e=this.props,t=e.query,n=e.startRule,r=Pu(this.state.source,n,t);if(this.setState({errorMessage:r}),r)this.props.onError(r);else{var i=this.compileExpression();(0,di.UT)(i)&&this.props.onCommit(i)}}},{key:"handleExpressionChange",value:function(e){this.setState({source:e,errorMessage:null}),this.props.onBlankChange&&this.props.onBlankChange(0===e.length)}},{key:"handleCursorChange",value:function(e){var t=e.getCursor(),n=this.props,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source,n=e.query,r=e.startRule,i=e.targetOffset,o=void 0===i?t.length:i,a=[],u=t.slice(0,o),l=hi(u);if(!l||"]"===ci.ZP.last(l)){var c=mi(u);if(c){var s=bi((0,gi.nv)(c));if(s)return{suggestions:a,helpText:s}}return{suggestions:a}}a.push({type:"literal",name:"True",text:"True",index:o,icon:"io",order:1},{type:"literal",name:"False",text:"False",index:o,icon:"io",order:1});var f,d,p,h,m,y=n.database();"["!==ci.ZP.first(l)&&(a.push({type:"functions",name:"case",text:"case(",index:o,icon:"function",order:1}),(f=a).push.apply(f,Oi(Array.from(gi.n9).map((function(e){return gi.xC[e]})).filter((function(e){return e&&y.hasFeature(e.requiresFeature)})).map((function(e){return{type:"functions",name:e.displayName,text:ki(e),index:o,icon:"function",order:1}})))),"aggregation"===r&&(d=a).push.apply(d,Oi(Array.from(gi.Xb).map((function(e){return gi.xC[e]})).filter((function(e){return e&&y.hasFeature(e.requiresFeature)})).map((function(e){return{type:"aggregations",name:e.displayName,text:ki(e),index:o,icon:"function",order:1}}))))),"]"!==ci.ZP.last(l)&&((p=a).push.apply(p,Oi(n.dimensionOptions((function(){return!0})).all().map((function(e){return{type:"fields",name:(0,di.d9)(e),text:(0,di.tv)(e)+" ",alternates:gi.J_.symbols.map((function(t){return(0,di.d9)(e,t)})),index:o,icon:e.icon(),order:2,dimension:e}})))),(h=a).push.apply(h,Oi(n.table().segments.map((function(e){return{type:"segments",name:e.name,text:(0,di.hH)(e),index:o,icon:"segment",order:3}})))),"aggregation"===r&&(m=a).push.apply(m,Oi(n.table().metrics.map((function(e){return{type:"metrics",name:e.name,text:(0,di.OM)(e),index:o,icon:"insight",order:4}})))));for(var v=l.toLowerCase(),b=0,g=a;b<g.length;b++){var w=g[b];e:for(var O=0,j=[w.name,w.text].concat(Oi(w.alternates||[]));O<j.length;O++){var S=(j[O]||"").toLowerCase();if(S.startsWith(v)){var E="["===v[0]?1:0;w.range=[0,v.length-E];break e}var _,x=0,P=wi(S.split(/\b/g));try{for(P.s();!(_=P.n()).done;){var C=_.value;if(C.startsWith(v)){w.range=[x,x+v.length];break e}x+=C.length}}catch(e){P.e(e)}finally{P.f()}}}if(a=a.filter((function(e){return e.range})),a=ci.ZP.chain(a).uniq((function(e){return e.text})).sortBy("text").sortBy("order").value(),1===a.length&&l&&"function"===a[0].icon){var k=bi((0,gi.nv)(l));if(k)return{helpText:k}}return{suggestions:a}}({query:n.query,startRule:n.startRule,source:this.state.source,targetOffset:t.column}),i=r.suggestions,o=r.helpText;this.setState({helpText:o}),this.updateSuggestions(i)}},{key:"errorAsMarkers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=e.pos,n=e.len;if("number"==typeof t)return[{startRow:0,startCol:t,endRow:0,endCol:t+n,className:"error",type:"text"}]}return[]}},{key:"render",value:function(){var e=this,t=this.state,n=t.source,r=t.suggestions,i=t.errorMessage,o=t.isFocused;return oi.createElement(oi.Fragment,null,oi.createElement(el,{isFocused:o,hasError:Boolean(i),ref:this.suggestionTarget},oi.createElement(tl,null,"="),oi.createElement(si.ZP,{commands:this.commands,mode:"text",ref:this.input,value:n,markers:this.errorAsMarkers(i),focus:!0,highlightActiveLine:!1,wrapEnabled:!0,fontSize:12,onBlur:this.handleInputBlur,onFocus:this.handleFocus,role:"ace-editor",setOptions:{behavioursEnabled:!1,indentedSoftWrap:!1,minLines:1,maxLines:9,showLineNumbers:!1,showGutter:!1,showFoldWidgets:!1,showPrintMargin:!1},onChange:function(t){return e.handleExpressionChange(t)},onCursorChange:function(t){return e.handleCursorChange(t)},width:"100%"}),oi.createElement(Ku,{target:this.suggestionTarget.current,suggestions:r,onSuggestionMouseDown:this.onSuggestionSelected,highlightedIndex:this.state.highlightedSuggestionIndex})),oi.createElement(_l,{error:i}),oi.createElement(qu,{target:this.props.helpTextTarget,helpText:this.state.helpText,width:this.props.width}))}}],n&&bl(t.prototype,n),r&&bl(t,r),o}(oi.Component),El(sl,"propTypes",{expression:ui().oneOfType([ui().number,ui().number,ui().array]),name:ui().string,onChange:ui().func.isRequired,onError:ui().func.isRequired,startRule:ui().string.isRequired,onBlankChange:ui().func,helpTextTarget:ui().instanceOf(Element).isRequired}),El(sl,"defaultProps",{expression:[null,""],startRule:"expression",placeholder:"write some math!"}),cl=fl))||cl},81820:function(e,t,n){"use strict";n.d(t,{Z:function(){return In}});var r=n(32735),i=n(25312),o=n(6336),a=n(28312),u=n(65844),l=n(40841),c=n.n(l),s=n(60216),f=n.n(s),d=n(50942);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w,O,j,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,i,o=v(a);function a(){return h(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.operator,n=e.operators,i=e.onOperatorChange,o=e.className;return r.createElement(d.ZP,{value:t,onChange:function(e){return i(e.target.value)},className:c()("border-medium text-default",o)},n.map((function(e){return r.createElement(d.Wx,{key:e.name,value:e.name},e.verboseName)})))}}])&&m(t.prototype,n),i&&m(t,i),a}(r.Component);w=S,O="propTypes",j={operator:f().string,operators:f().array.isRequired,onOperatorChange:f().func.isRequired},O in w?Object.defineProperty(w,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):w[O]=j;var E=n(33026);function _(e){var t=e.className,n=e.showFieldPicker,i=e.filter,o=e.onFilterChange,a=e.onBack,u=e.isSidebar,l=i.dimension();if(!l)return null;var s=l.field(),f=i.operatorName(),d=!s.isBoolean(),p=u||!n;return n||d?r.createElement("div",{className:c()(t,"text-medium",{"flex align-center":!p,"px1 pt1":u,"p1 mb1 border-bottom":!u})},n&&r.createElement(E.Z,{className:c()("text-default py1",{pr2:!p}),title:(s.table?s.table.displayName()+"  ":"")+s.displayName(),onBack:a}),d&&r.createElement(S,{className:c()("flex-no-shrink block",{"ml-auto":!p,my1:p}),operator:f,operators:i.filterOperators(f),onOperatorChange:function(e){i.operatorName()!==e&&o(i.setOperator(e))}})):null}var x,P,C,k=n(55625),A=n(47667),D=n(32935),R=n(53806),I=n.n(R),T=function(e){var t=e.hours,n=e.minutes,i=e.onChangeHours,o=e.onChangeMinutes,a=e.onClear,l=e.is24HourMode,s=void 0===l?(0,A.Qy)():l;return r.createElement("div",{className:"flex align-center"},r.createElement(D.default,{className:"input",style:{height:36},size:2,maxLength:2,value:s?String(t):t%12==0?"12":String(t%12),onChange:s?function(e){return i(e)}:function(e){return i((t>=12?12:0)+e)}}),r.createElement("span",{className:"px1"},":"),r.createElement(D.default,{className:"input",style:{height:36},size:2,maxLength:2,value:(n<10?"0":"")+n,onChange:function(e){return o(e)}}),!s&&r.createElement("div",{className:"flex align-center pl1"},r.createElement("span",{className:c()("text-purple-hover mr1",{"text-purple text-heavy":t<12,"cursor-pointer":t>=12}),onClick:t>=12?function(){return i(t-12)}:null},I().localeData().meridiem(0)),r.createElement("span",{className:c()("text-purple-hover mr1",{"text-purple text-heavy":t>=12,"cursor-pointer":t<12}),onClick:t<12?function(){return i(t+12)}:null},I().localeData().meridiem(12))),a&&r.createElement(u.ZP,{className:"text-light cursor-pointer text-medium-hover ml-auto",name:"close",onClick:a}))};function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Z(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(e){var t=e.value,n=e.onChange,i=(0,A.TD)(t);return r.createElement(T,{hours:i.hour(),minutes:i.minute(),onChangeHours:function(e){return n(i.hour(e).format("HH:mm:00.000"))},onChangeMinutes:function(e){return n(i.minute(e).format("HH:mm:00.000"))}})},F=function(e){var t=e.filter,n=e.onFilterChange;return r.createElement("div",{className:"mx2 mb2"},r.createElement(z,{value:U(t[2]),onChange:function(e){return n([t[0],t[1],e])}}))};F.horizontalLayout=!0;var Q,V=function(e,t){return(0,A.TD)(e).isAfter((0,A.TD)(t))?[t,e]:[e,t]},U=function(e){return"string"==typeof e&&/^\d+:\d+(:\d+(.\d+(\+\d+:\d+)?)?)?$/.test(e)?e:"00:00:00.000+00:00"},H=[{name:"before",displayName:(0,i.t)(x||(x=M(["Before"]))),init:function(e){return["<",(0,k.W4)(e[1]),U(e[2])]},test:function(e){return"<"===q(e,1)[0]},widget:F},{name:"after",displayName:(0,i.t)(P||(P=M(["After"]))),init:function(e){return[">",(0,k.W4)(e[1]),U(e[2])]},test:function(e){return">"===q(e,1)[0]},widget:F},{name:"between",displayName:(0,i.t)(C||(C=M(["Between"]))),init:function(e){return["between",(0,k.W4)(e[1]),U(e[2]),U(e[3])]},test:function(e){return"between"===q(e,1)[0]},widget:function(e){var t=e.filter,n=e.onFilterChange;return r.createElement("div",{className:"flex align-center justify-between mx2 mb1",style:{minWidth:480}},r.createElement(z,{value:U(t[2]),onChange:function(e){return n([t[0],t[1]].concat(Z(V(e,t[3]))))}}),r.createElement("span",{className:"h3"},"and"),r.createElement(z,{value:U(t[3]),onChange:function(e){return n([t[0],t[1]].concat(Z(V(t[2],e))))}}))}}],Y=function(e){return r.createElement(k.ZP,N({},e,{operators:H}))},G=n(30558),W=n(974),$=n(26548),K=n(47679),J=n(7500),X=n(86147),ee=n(98912);var te=(0,K.Z)(ee.Z,{target:"e1qw7pgj2"})({name:"1j389vi",styles:"font-weight:700"});te.defaultProps={colorScheme:"accent7"};var ne,re,ie,oe,ae,ue,le=(0,K.Z)("div",{target:"e1qw7pgj1"})({name:"1ne0iri",styles:"margin:15px 20px 70px 20px"}),ce=(0,K.Z)(X.Z,{target:"e1qw7pgj0"})("margin-left:",(0,J.D)(0),";color:",(0,o.$_)("text-medium"),";border:none;background-color:transparent;&:hover{background-color:transparent;}.Icon{margin-top:2px;}");function se(e){var t,n,o=e.onClick;return r.createElement(ce,{onClick:o},(0,i.t)(Q||(t=["More options"],n||(n=t.slice(0)),Q=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}})))))}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ce.defaultProps={iconRight:"chevrondown",iconSize:12},se.propTypes={onClick:f().func.isRequired},ye.propTypes={className:s.PropTypes.string,filter:s.PropTypes.instanceOf($.Z),onFilterChange:s.PropTypes.func.isRequired};var he=[{name:(0,i.t)(ne||(ne=pe(["true"]))),value:!0},{name:(0,i.t)(re||(re=pe(["false"]))),value:!1}],me=[{name:(0,i.t)(ie||(ie=pe(["true"]))),value:!0},{name:(0,i.t)(oe||(oe=pe(["false"]))),value:!1},{name:(0,i.t)(ae||(ae=pe(["empty"]))),value:"is-null"},{name:(0,i.t)(ue||(ue=pe(["not empty"]))),value:"not-null"}];function ye(e){var t=e.className,n=e.filter,i=e.onFilterChange,o=function(e){var t=e.operatorName();return"="===t?fe(e.arguments(),1)[0]:t}(n),a=fe((0,W.O)(!G.ZP.isBoolean(o)),2),u=a[0],l=a[1].toggle;return r.createElement(le,{className:t},r.createElement(te,{vertical:!0,colorScheme:"accent7",options:u?me:he,value:o,onChange:function(e){G.ZP.isBoolean(e)?i(n.setOperator("=").setArguments([e])):i(n.setOperator(e))}}),!u&&r.createElement(se,{onClick:l}))}var ve,be,ge=ye,we=n(70963);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function je(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var i=Pe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke,Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(u,e);var t,n,o,a=_e(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={fieldString:e.values.join(", ")},t}return t=u,(n=[{key:"setValue",value:function(e){if(null!=e){var t=e.replace(/\r?\n|\r/g,"");this.setState({fieldString:t});var n=t.split(",").map((function(e){return e.trim()})).filter((function(e){return""!==e}));this.props.onValuesChange(n)}else this.props.onValuesChange([])}},{key:"render",value:function(){var e=this,t=this.props,n=t.validations,o=t.multi,a=t.onCommit,u=t.isSingleLine,l=t.autoFocus,s=t.prefix,f=G.ZP.some(n,(function(e){return!1===e})),d=function(e){"Enter"===e.key&&a&&a()};return r.createElement("div",null,r.createElement("div",{className:"FilterInput px1 pt1 relative flex align-center"},!!s&&r.createElement("span",{"data-testid":"input-prefix",className:"text-medium px1",style:{marginRight:-30,width:30,zIndex:2}},s),!u&&r.createElement(we.Z,{className:c()("input block full border-purple",{"border-error":f}),type:"text",value:this.state.fieldString,onChange:function(t){return e.setValue(t.target.value)},onKeyPress:d,placeholder:this.props.placeholder,autoFocus:l,style:{resize:"none"},maxRows:8}),u&&r.createElement("input",{className:c()("input block full border-purple",{"border-error":f}),style:{paddingLeft:this.props.prefix?"".concat(this.props.prefix.length,".2rem"):""},type:"text",value:this.state.fieldString,onChange:function(t){return e.setValue(t.target.value)},onKeyPress:d,placeholder:this.props.placeholder,autoFocus:l})),o?r.createElement("div",{className:"p1 text-small"},(0,i.t)(ve||(ve=je(["You can enter multiple values separated by commas"])))):null)}}])&&Se(t.prototype,n),o&&Se(t,o),u}(r.Component);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce(Ae,"propTypes",{values:f().array.isRequired,onValuesChange:f().func.isRequired,placeholder:f().string,validations:f().array,multi:f().bool,onCommit:f().func,isSingleLine:f().bool}),Ce(Ae,"defaultProps",{validations:[],placeholder:(0,i.t)(be||(be=je(["Enter desired text"]))),autoFocus:!0});var Le,Be,ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(a,e);var t,n,i,o=Ne(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={stringValues:e.values.map((function(e){return String("number"==typeof e?e:e||"")})),validations:t._validate(e.values)},t}return t=a,(n=[{key:"_validate",value:function(e){return e.map((function(e){return void 0===e||!isNaN(e)}))}},{key:"onValuesChange",value:function(e){var t=e.map((function(e){return parseFloat(e)}));this.props.onValuesChange(t.map((function(e){return isNaN(e)?null:e}))),this.setState({stringValues:e,validations:this._validate(t)})}},{key:"render",value:function(){var e=this,t=this.state.stringValues.slice(0,this.props.values.length);return r.createElement(Ae,Re({},this.props,{isSingleLine:!0,prefix:this.props.prefix,values:t,validations:this.state.validations,onValuesChange:function(t){return e.onValuesChange(t)}}))}}])&&Ie(t.prototype,n),i&&Ie(t,i),a}(r.Component);Ze(ze,"propTypes",{values:f().array.isRequired,onValuesChange:f().func.isRequired,placeholder:f().string,multi:f().bool}),Ze(ze,"defaultProps",{placeholder:(0,i.t)(ke||(Le=["Enter desired number"],Be||(Be=Le.slice(0)),ke=Object.freeze(Object.defineProperties(Le,{raw:{value:Object.freeze(Be)}}))))});var Fe,Qe,Ve=n(88637),Ue=n(25666),He=n(83360),Ye=n(8840);function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function We(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var i=rt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?nt(e):t}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(u,e);var t,n,o,a=et(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),it(nt(t=a.call(this,e)),"updateSearchText",(function(e){var n=null;e&&(n=(0,Ye.C9)(e)),t.setState({searchText:e,searchRegex:n})})),t.state={searchText:"",searchRegex:null},t}return t=u,n=[{key:"selectValue",value:function(e,t){var n;n=this.props.multi?this.props.values.slice().filter((function(e){return null!=e})):[],t?n.push(e):n=n.filter((function(t){return t!==e})),this.props.onValuesChange(n)}},{key:"nameForOption",value:function(e){return""===e.name?(0,i.t)(Fe||(Fe=Ke(["Empty"]))):e.name instanceof String||"string"==typeof e.name?e.name:(0,He.kC)(String(e.name))}},{key:"render",value:function(){var e=this,t=this.props,n=t.values,o=t.options,a=t.placeholder,u=t.multi,l=new Set(n),s=[],f=this.state.searchRegex;if(f){var d,p=We(o);try{for(p.s();!(d=p.n()).done;){var h=d.value;(f.test(h.key)||f.test(h.name))&&s.push(h)}}catch(e){p.e(e)}finally{p.f()}}else s=o.slice();return r.createElement("div",null,s.length<=10&&!f?null:r.createElement("div",{className:"px1 pt1"},r.createElement(Ue.default,{hasClearButton:!0,onChange:this.updateSearchText,value:this.state.searchText,placeholder:(0,i.t)(Qe||(Qe=Ke(["Find a value"]))),autoFocus:!0})),r.createElement("div",{className:"px1 pt1 PopoverBody--marginBottom",style:{maxHeight:"400px",overflowY:"scroll"}},a?r.createElement("h5",null,a):null,u?r.createElement("ul",null,s.map((function(t,n){return r.createElement("li",{key:n},r.createElement("label",{className:"flex align-center cursor-pointer p1",onClick:function(){return e.selectValue(t.key,!l.has(t.key))}},r.createElement(Ve.Z,{checked:l.has(t.key),checkedColor:"accent2"}),r.createElement("h4",{className:"ml1"},e.nameForOption(t))))}))):r.createElement("div",{className:"flex flex-wrap py1"},s.map((function(t){return r.createElement("div",{key:t.key,className:"half",style:{padding:"0.15em"}},r.createElement("button",{style:{height:"95px"},className:c()("full rounded bordered border-purple text-centered text-bold",{"text-purple bg-white":n[0]!==t.key,"text-white bg-purple":n[0]===t.key}),onClick:function(){return e.selectValue(t.key,!0)}},e.nameForOption(t)))})))))}}],n&&Je(t.prototype,n),o&&Je(t,o),u}(r.Component);it(ot,"propTypes",{options:f().array.isRequired,values:f().array.isRequired,onValuesChange:f().func.isRequired,placeholder:f().string,multi:f().bool});var at=n(24519),ut=n(98958),lt=n(55316);var ct,st=(0,K.Z)("div",{target:"e1ayd2fx3"})({name:"1w13er2",styles:"display:flex;align-items:center;padding-bottom:1rem"}),ft=(0,K.Z)("div",{target:"e1ayd2fx2"})({name:"tlpemh",styles:"flex:1 0;max-width:190px"}),dt=(0,K.Z)("div",{target:"e1ayd2fx1"})("padding:0.5rem 0.5rem 0 0.5rem;font-weight:700;color:",(0,o.$_)("text-medium"),";"),pt={name:"bsla3r",styles:"max-height:300px;overflow:auto"},ht=(0,K.Z)("div",{target:"e1ayd2fx0"})((function(e){return e.limitHeight?pt:null}),";");function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt={filter:f().object,setValue:f().func,setValues:f().func,onCommit:f().func,className:f().string,isSidebar:f().bool,minWidth:f().number,maxWidth:f().number},Ot={className:f().string,fieldWidgets:f().array};function jt(e){var t,n,i,o,a,u=e.filter,l=e.setValue,s=e.setValues,f=e.onCommit,d=e.className,p=e.minWidth,h=e.maxWidth,m=e.isSidebar,y=u.operator();if(!y)return r.createElement("div",{className:d});var v=u.dimension(),b=v&&v.field(),g=y.fields||[],w=(0,ut.T9)(y),O="between"===y.name&&2===g.length,j=null==u||null===(t=u.query())||void 0===t||null===(n=t.question())||void 0===n?void 0:n.settings(),S=(0,lt.$Q)(v.column()),E=null==j||null===(i=j.column_settings)||void 0===i?void 0:i[S],_=null==b||null===(o=b.metadata)||void 0===o?void 0:o.fields[null==b?void 0:b.id],x=bt(bt({},null!==(a=null==_?void 0:_.settings)&&void 0!==a?a:{}),null!=E?E:{}),P=(0,ut.DB)(b)||null!=x&&x.currency?(0,He.jK)(null==x?void 0:x.currency):null,C=g.map((function(e,t){var n,i,o=y.placeholders&&y.placeholders[t]||void 0;if(y.multi?(n=u.arguments(),i=function(e){return s(e)}):(n=[u.arguments()[t]],i=function(e){return l(t,e[0])}),"hidden"===e.type)return null;if("select"===e.type)return r.createElement(ot,{key:t,options:e.values,values:n,onValuesChange:i,placeholder:o,multi:y.multi,onCommit:f});if(null!==(null==b?void 0:b.id)&&!O){for(var a,c=b;a=c.sourceField();)c=a;return r.createElement(at.default,{className:"input",value:n,onChange:i,multi:y.multi,placeholder:o,fields:c?[c]:[],prefix:P,disablePKRemappingForSearch:!0,autoFocus:0===t,alwaysShowOptions:1===y.fields.length,formatOptions:(0,ut.hp)(y,t),disableSearch:w,minWidth:p,maxWidth:h})}return"text"===e.type?r.createElement(Ae,{key:t,autoFocus:0===t,values:n,onValuesChange:i,placeholder:o,multi:y.multi,onCommit:f}):"number"===e.type?r.createElement(ze,{key:t,autoFocus:0===t,values:n,onValuesChange:i,placeholder:o,prefix:P,multi:y.multi,onCommit:f}):null})).filter((function(e){return e})),k=null;return O?k=r.createElement(Et,{fieldWidgets:C}):C.length>0&&(k=r.createElement(St,{fieldWidgets:C})),r.createElement(ht,{limitHeight:!m,className:c()(d,"PopoverBody--marginBottom")},k)}jt.propTypes=wt;var St=function(e){var t=e.className,n=e.fieldWidgets;return r.createElement("div",{className:t},n.map((function(e,t){return r.createElement("div",{key:t,className:t<n.length-1?"mb1":null},e)})))};St.propTypes=Ot;var Et=function(e){e.className;var t=mt(e.fieldWidgets,2),n=t[0],o=t[1];return r.createElement(st,null,r.createElement(ft,null,n)," ",r.createElement(dt,null,(0,i.t)(ct||(ct=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["and"])))),r.createElement(ft,null,o))};function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ct(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var i=Rt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt,Nt,qt,Mt,Zt,Lt,Bt,zt,Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(a,e);var t,n,i,o=kt(a);function a(){var e;xt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return It(Dt(e=o.call.apply(o,[this].concat(n))),"handleKeyDown",(function(t){"Enter"===t.key&&e.props.onCommit(e.props.filter)})),e}return t=a,n=[{key:"UNSAFE_componentWillMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.filter,i=e.onFilterChange,o=e.onCommit,a=e.isSidebar,u=e.minWidth,l=e.maxWidth,c=(e.primaryColor,n.dimension()),s=null==c?void 0:c.field();return null!=s&&s.isTime()?r.createElement(Y,{className:t,filter:n,onFilterChange:i,minWidth:u,maxWidth:l,isSidebar:a}):null!=s&&s.isBoolean()?r.createElement(ge,{className:t,filter:n,onFilterChange:i}):r.createElement(jt,{className:t,filter:n,setValue:function(e,t){i(n.setArgument(e,t))},setValues:function(e){i(n.setArguments(e))},onCommit:o,minWidth:u,maxWidth:l,isSidebar:a})}}],n&&Pt(t.prototype,n),i&&Pt(t,i),a}(r.Component),Qt=n(23445),Vt=n(97249);function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jt(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tn(e);if(t){var i=tn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var on={"include-current":function(e){var t=r.createElement("strong",{key:"notsurewhythisneedsakey"},function(e){if("time-interval"===e[0])return an[e[3]];return null}(e));return(0,i.jt)(Tt||(Tt=rn(["Include ",""])),t)},"case-sensitive":function(){return(0,i.t)(Nt||(Nt=rn(["Case sensitive"])))}},an={day:(0,i.t)(qt||(qt=rn(["today"]))),week:(0,i.t)(Mt||(Mt=rn(["this week"]))),month:(0,i.t)(Zt||(Zt=rn(["this month"]))),year:(0,i.t)(Lt||(Lt=rn(["this year"]))),minute:(0,i.t)(Bt||(Bt=rn(["this minute"]))),hour:(0,i.t)(zt||(zt=rn(["this hour"])))};var un,ln,cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(a,e);var t,n,i,o=Xt(a);function a(){return $t(this,a),o.apply(this,arguments)}return t=a,n=[{key:"getOptions",value:function(){return this.props.operator&&this.props.operator.options||{}}},{key:"getOptionName",value:function(e){return on[e]?on[e](this.props.filter):e}},{key:"getOptionValue",value:function(e){var t=this.props.filter,n=(0,Qt.dt)(t)[e];if(void 0!==n)return n;var r=this.getOptions()[e];return!(!r||void 0===r.defaultValue)&&r.defaultValue}},{key:"setOptionValue",value:function(e,t){var n=this.props.filter,r=(0,Qt.dt)(n);this.props.onFilterChange((0,Qt.O1)(n,Wt(Wt({},r),{},nn({},e,!r[e])))),Vt.vF("QueryBuilder","Filter","SetOption",e)}},{key:"toggleOptionValue",value:function(e){this.setOptionValue(e,!this.getOptionValue(e))}},{key:"render",value:function(){var e=this,t=Object.entries(this.getOptions());return 0===t.length?null:r.createElement("div",{className:"flex align-center"},t.map((function(t){var n=Ht(t,2),i=n[0];return n[1],r.createElement("div",{key:i,className:"flex align-center"},r.createElement(Ve.Z,{label:e.getOptionName(i),checkedColor:"accent2",checked:e.getOptionValue(i),onChange:function(){return e.toggleOptionValue(i)}}))})))}}],n&&Kt(t.prototype,n),i&&Kt(t,i),a}(r.Component);function sn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function fn(e){var t=e.filter,n=e.isNew,o=e.isSidebar,a=e.onFilterChange,u=e.onCommit,l=e.className,s=e.primaryColor,f=t.dimension(),d=(null==f||f.field(),c()(l,"flex align-center",{PopoverFooter:!o}));return r.createElement("div",{className:d},r.createElement(cn,{filter:t,onFilterChange:a,operator:t.operator()}),u&&r.createElement(X.Z,{"data-ui-tag":"add-filter",purple:!0,style:{backgroundColor:s},disabled:!t.isValid(),ml:"auto",onClick:function(){return u()}},n?(0,i.t)(un||(un=sn(["Add filter"]))):(0,i.t)(ln||(ln=sn(["Update filter"])))))}nn(cn,"propTypes",{filter:f().array.isRequired,onFilterChange:f().func.isRequired,operator:f().object.isRequired});var dn,pn,hn,mn=n(15741),yn=n(67478),vn=(0,K.Z)(X.Z,{target:"ecrn9jg0"})("color:white;border-color:",(function(e){var t=e.primaryColor;return void 0===t?bn:t}),";background-color:",(function(e){var t=e.primaryColor;return void 0===t?bn:t}),";&:hover,&:focus{color:white;border-color:",(function(e){var t=e.primaryColor;return void 0===t?bn:t}),";background-color:",(function(e){var t=e.primaryColor,n=void 0===t?bn:t;return(0,o.Fq)(n,.8)}),";}"),bn=(0,o.$_)("brand"),gn=n(698);function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},En(e,t)}function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var i=Cn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?Pn(e):t}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Dn=300,Rn=(0,i.t)(dn||(dn=An(["Custom Expression"]))),In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(s,e);var t,n,l,c=_n(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),kn(Pn(t=c.call(this,e)),"handleUpdateAndCommit",(function(e){var n=(t.state.filter||new $.Z([],null,t.props.query)).set(e);t.setState({filter:n},(function(){t.handleCommitFilter(n,t.props.query)}))})),kn(Pn(t),"handleCommit",(function(e){var n;t.handleCommitFilter(e?null===(n=t.state.filter)||void 0===n?void 0:n.set(e):t.state.filter,t.props.query)})),kn(Pn(t),"handleCommitFilter",(function(e,n){!e||e instanceof $.Z||(e=new $.Z(e,null,n)),e&&e.isValid()&&t.props.onChangeFilter&&(t.props.onChangeFilter(e),t.props.onClose&&t.props.onClose())})),kn(Pn(t),"handleDimensionChange",(function(e){var n,r=t.state.filter,i=null==e?void 0:e.field();(!r||r.query()!==e.query()||null!=i&&null!==(n=i.isDate)&&void 0!==n&&n.call(i))&&(r=new $.Z([],null,e.query()||r&&r.query()||t.props.query)),t.setFilter(r.setDimension(e.mbql(),{useDefaultOperator:!0}),!1),t.setState({choosingField:!1})})),kn(Pn(t),"handleFilterChange",(function(e){var n=(t.state.filter||new $.Z([],null,t.props.query)).set(e);t.setFilter(n)}));var n=e.filter instanceof $.Z?e.filter:null;return t.state={filter:n,choosingField:!n,editingFilter:!!n&&(n.isCustom()&&!(0,yn.U8)(n))},t}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.filter;t&&this.props.query!==e.query&&this.setState({filter:t.setQuery(e.query)})}},{key:"setFilter",value:function(e){this.setState({filter:e}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,l=t.style,c=t.query,s=t.showFieldPicker,f=t.fieldPickerTitle,d=t.isSidebar,p=t.isTopLevel,h=t.showCustom,m=this.state,y=m.filter,v=m.editingFilter,b=m.choosingField;if(v)return r.createElement(mn.Z,{title:Rn,query:c,expression:y?y.raw():null,startRule:"boolean",isValid:y&&y.isValid(),onChange:this.handleFilterChange,onDone:this.handleUpdateAndCommit,onBack:function(){return e.setState({editingFilter:!1})}});var g=y&&y.dimension();if(y&&!b&&g){var w,O=g.field(),j=this.props.isNew||!(null!==(w=this.props.filter)&&void 0!==w&&w.operator()),S=d?(0,o.$_)("filter"):(0,o.$_)("brand"),x=function(){e.setState({choosingField:!0})};return r.createElement("div",{className:n,style:jn({minWidth:Dn},l)},null!=O&&O.isTime()?r.createElement(Y,{className:n,isSidebar:d,filter:y,primaryColor:S,minWidth:d?null:Dn,maxWidth:d?null:410,onBack:x,onCommit:this.handleCommit,onFilterChange:this.handleFilterChange}):null!=O&&O.isDate()?r.createElement(gn.ZP,{className:n,isSidebar:d,filter:y,primaryColor:S,minWidth:d?null:Dn,maxWidth:d?null:410,onBack:x,onCommit:this.handleCommit,onFilterChange:this.handleFilterChange},d?null:r.createElement(vn,{"data-ui-tag":"add-filter",primaryColor:S,disabled:!y.isValid(),ml:"auto",onClick:function(){return e.handleCommit()}},j?(0,i.t)(pn||(pn=An(["Add filter"]))):(0,i.t)(hn||(hn=An(["Update filter"]))))):r.createElement("div",{className:d?"mx2 pt1":""},r.createElement(_,{isSidebar:d,filter:y,onFilterChange:this.handleFilterChange,onBack:x,showFieldPicker:s}),r.createElement(Ft,{className:d?"p1":"px1 pt1 pb1",isSidebar:d,filter:y,onFilterChange:this.handleFilterChange,onCommit:this.handleCommit,minWidth:d?null:Dn,maxWidth:d?null:410,primaryColor:S}),r.createElement(fn,{className:d?"p1":"px1 pb1",isSidebar:d,primaryColor:S,filter:y,onFilterChange:this.handleFilterChange,onCommit:this.props.noCommitButton?null:this.handleCommit,isNew:j})))}return r.createElement("div",{className:n,style:jn({minWidth:Dn,overflowY:"auto"},l)},f&&r.createElement(E.Z,{className:"mx1 my2",title:f}),r.createElement(a.Z,{style:{color:(0,o.$_)("filter")},maxHeight:1/0,dimension:g,sections:p?c.topLevelFilterFieldOptionSections():(y&&y.query()||c).filterFieldOptionSections(y,{includeSegments:h}),onChangeDimension:function(t){return e.handleDimensionChange(t)},onChangeOther:function(t){e.handleCommitFilter(t.filter,t.query)},width:d?null:"100%",alwaysExpanded:p||d}),h&&r.createElement("div",{style:{color:(0,o.$_)("filter")},className:"List-section List-section--togglable",onClick:function(){return e.setState({editingFilter:!0})}},r.createElement("div",{className:"List-section-header mx2 py2 flex align-center hover-parent hover--opacity cursor-pointer"},r.createElement("span",{className:"List-section-icon mr1 flex align-center"},r.createElement(u.ZP,{name:"filter"})),r.createElement("h3",{className:"List-section-title text-wrap"},Rn))))}}])&&Sn(t.prototype,n),l&&Sn(t,l),s}(r.Component);kn(In,"defaultProps",{style:{},showFieldPicker:!0,showCustom:!0})},698:function(e,t,n){"use strict";n.d(t,{ct:function(){return Tt},ZP:function(){return Nt}});var r,i=n(32735),o=n(25312),a=n(40841),u=n.n(a),l=n(53806),c=n.n(l),s=n(30558),f=n(55799),d=n(67478),p=n(65844),h=n(47679),m=n(6336),y=n(7500),v=n(86147),b=(0,h.Z)("div",{target:"e1c91rmk2"})("display:flex;flex-wrap:no-wrap;justify-content:space-between;align-items:center;border-top:",(function(e){return e.isSidebar?"":"1px solid ".concat((0,m.$_)("border"))}),";padding:",(function(e){return e.isSidebar?"0 ".concat((0,y.D)(2)," 0 ").concat((0,y.D)(2)):"".concat((0,y.D)(1)," ").concat((0,y.D)(2)," ").concat((0,y.D)(2)," ").concat((0,y.D)(2))}),";"),g=(0,h.Z)(v.Z,{target:"e1c91rmk1"})("border:none;border-radius:0;background:none;display:flex;align-items:center;font-weight:normal;&:hover{color:",(function(e){return"".concat(e.primaryColor||(0,m.$_)("brand"))}),";background:none;}"),w=(0,h.Z)("div",{target:"e1c91rmk0"})("display:flex;align-items:center;font-weight:normal;color:",(0,m.$_)("text-medium"),";margin-right:",(0,y.D)(2),";");function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=["between","=","<",">"],E=function(e){var t=e.filter,n=e.isSidebar,a=e.primaryColor,u=e.onFilterChange,l=e.hideTimeSelectors,s=e.children,f=O(t,4),h=f[0],m=f[1],y=f[2],v=f[3],j=(0,d.dE)(y),E=j.hours,_=j.minutes;if("time-interval"===h&&("current"===y||null===y))return null;var x,P,C,k=!l&&"number"!=typeof E&&"number"!=typeof _;if(S.indexOf(h)>-1&&k&&!(0,d.U8)(t))x=i.createElement(g,{primaryColor:a,onClick:function(){var e,t=(0,d.Dc)(y,d.Gj,d.M);v&&(e=(0,d.Dc)(v,d.Gj,d.M)),t&&u([h,m,t,"between"!==h||e?e:t])},icon:"clock"},(0,o.t)(r||(P=["Add a time"],C||(C=P.slice(0)),r=Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(C)}})))));else if("time-interval"===h||(0,d.U8)(t)){var A=function(e){var t=O((0,d.Bz)(e),2),n=t[0],r=void 0===n?c()():n,i=t[1],o=void 0===i?c()():i,a=(null==r?void 0:r.year())===(null==o?void 0:o.year())&&(null==r?void 0:r.year())===c()().year()?"MMM D":"MMM D, YYYY";return r.format(a)+" - "+o.format(a)}(t);x=A?i.createElement(w,null,i.createElement(p.ZP,{className:"mr1",name:"calendar"}),i.createElement("div",null,A)):null}return i.createElement(b,{isSidebar:n},x||i.createElement("div",null),s)},_=(0,h.Z)("div",{target:"e19644gn2"})("display:flex;flex-wrap:nowrap;padding-left:",(0,y.D)(1),";border-bottom:1px solid ",(0,m.$_)("border"),";"),x=(0,h.Z)(v.Z,{target:"e19644gn1"})("border:none;border-radius:0;padding-left:0;padding-right:0;margin-left:",(0,y.D)(2),";margin-right:",(0,y.D)(2),";border-bottom:",(function(e){var t=e.primaryColor,n=void 0===t?C:t;return e.selected?"2px solid ".concat(n):"2px solid transparent"}),";color:",(function(e){var t=e.primaryColor,n=void 0===t?C:t;return e.selected?n:(0,m.$_)("text-medium")}),";&:hover{background:none;color:",(function(e){var t=e.primaryColor;return void 0===t?C:t}),";border-color:",(function(e){var t=e.primaryColor;return void 0===t?C:t}),";}"),P=(0,h.Z)(x,{target:"e19644gn0"})("border:none;border-radius:0;margin-left:",(0,y.D)(1),";color:",(0,m.$_)("text-medium"),";&:hover{color:",(function(e){return e.primaryColor}),";}"),C=(0,m.$_)("brand"),k=n(35150);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t,n=e.operators,r=void 0===n?Tt:n,o=e.filter,a=e.primaryColor,u=e.onFilterChange,l=e.onBack,c=A(o,2),f=(c[0],c[1],null===(t=o.dimension)||void 0===t?void 0:t.call(o)),d=s.ZP.find(r,(function(e){return e.test(o)})),p=r.filter((function(e){return e.group===(null==d?void 0:d.group)}));if("exclude"===(null==d?void 0:d.name)){var h=null==f?void 0:f.temporalUnit();return l||h?i.createElement(_,null,i.createElement(P,{primaryColor:a,onClick:function(){h?u(["!=",null==f?void 0:f.withoutTemporalBucketing().mbql()]):null==l||l()},icon:"chevronleft"},(0,k.dQ)(o))):null}return i.createElement(_,null,l?i.createElement(P,{primaryColor:a,onClick:l,icon:"chevronleft"}):null,p.map((function(e){var t=e.test,n=e.displayName,r=e.init;return i.createElement(x,{selected:!!t(o),primaryColor:a,key:n,onClick:function(){u(r(o))}},n)})))}var I,T,N,q,M,Z,L,B,z,F,Q,V=n(33026),U=(0,h.Z)(v.Z,{target:"eqnhavx1"})("display:block;border:none;&:hover{color:",(function(e){return e.primaryColor||(0,m.$_)("brand")}),";background:none;}"),H=(0,h.Z)("div",{target:"eqnhavx0"})("margin:1rem;border-top:solid 1px ",(0,m.$_)("text-light"),";opacity:0.5;");function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function G(e,t){var n=f.T7.parseMBQLOrWarn(e);return n?t?n.withTemporalUnit(t).mbql():n.withoutTemporalBucketing().mbql():e}var W=[{displayName:(0,o.t)(I||(I=Y(["Today"]))),init:function(e){return["time-interval",G(e[1]),"current","day",{include_current:!0}]}},{displayName:(0,o.t)(T||(T=Y(["Yesterday"]))),init:function(e){return["time-interval",G(e[1]),-1,"day",{include_current:!1}]}},{displayName:(0,o.t)(N||(N=Y(["Last Week"]))),init:function(e){return["time-interval",G(e[1]),-1,"week",{include_current:!1}]}},{displayName:(0,o.t)(q||(q=Y(["Last 7 Days"]))),init:function(e){return["time-interval",G(e[1]),-7,"day",{include_current:!1}]}},{displayName:(0,o.t)(M||(M=Y(["Last 30 Days"]))),init:function(e){return["time-interval",G(e[1]),-30,"day",{include_current:!1}]}}],$=[{displayName:(0,o.t)(Z||(Z=Y(["Last Month"]))),init:function(e){return["time-interval",G(e[1]),-1,"month",{include_current:!1}]}},{displayName:(0,o.t)(L||(L=Y(["Last 3 Months"]))),init:function(e){return["time-interval",G(e[1]),-3,"month",{include_current:!1}]}},{displayName:(0,o.t)(B||(B=Y(["Last 12 Months"]))),init:function(e){return["time-interval",G(e[1]),-12,"month",{include_current:!1}]}}],K=[{displayName:(0,o.t)(z||(z=Y(["Specific dates..."]))),init:function(e){return["=",G(e[1]),c()().format("YYYY-MM-DD")]}},{displayName:(0,o.t)(F||(F=Y(["Relative dates..."]))),init:function(e){return["time-interval",G(e[1]),-30,"day"]}},{displayName:(0,o.t)(Q||(Q=Y(["Exclude..."]))),init:function(e){return["!=",G(e[1])]}}];function J(e){var t,n=e.className,r=e.onFilterChange,o=e.filter,a=e.onCommit,u=e.onBack,l=e.primaryColor,c=null===(t=o.dimension)||void 0===t?void 0:t.call(o),s="";if(c){var f=c.field();s=(f.table?f.table.displayName()+"  ":"")+f.displayName()}return i.createElement("div",{className:n},u?i.createElement(V.Z,{className:"text-default py1 mb1",title:s,onBack:u}):null,W.map((function(e){var t=e.displayName,n=e.init;return i.createElement(U,{key:t,primaryColor:l,onClick:function(){a(n(o))}},t)})),i.createElement(H,null),$.map((function(e){var t=e.displayName,n=e.init;return i.createElement(U,{key:t,primaryColor:l,onClick:function(){a(n(o))}},t)})),i.createElement(H,null),K.map((function(e){var t=e.displayName,n=e.init;return i.createElement(U,{key:t,primaryColor:l,onClick:function(){r(n(o))}},t)})))}var X,ee,te,ne,re,ie,oe,ae,ue,le,ce,se,fe,de,pe,he,me,ye=n(55446),ve=n(23070),be=n(17652),ge=n(32935),we=(0,h.Z)(be.Z,{target:"em1j5lv9"})("button:focus{border-color:",(function(e){var t=e.primaryColor;return void 0===t?je:t}),";}"),Oe=(0,h.Z)(ge.default,{target:"em1j5lv8"})("&:focus{border-color:",(function(e){var t=e.primaryColor;return void 0===t?je:t}),";}"),je=(0,m.$_)("brand"),Se=(0,h.Z)(v.Z,{target:"em1j5lv7"})("border:none;border-radius:99px;background-color:",(function(e){var t=e.selected,n=e.primaryColor,r=void 0===n?je:n;return t?r:(0,m.Fq)(r,.1)}),";color:",(function(e){var t=e.selected,n=e.primaryColor;return t?"white":void 0===n?je:n}),";padding-top:",(0,y.D)(1),";padding-bottom:",(0,y.D)(1),";&:hover{color:white;background-color:",(function(e){return e.primaryColor||(0,m.$_)("brand")}),";}"),Ee=(0,h.Z)("div",{target:"em1j5lv6"})("display:flex;flex-wrap:no-wrap;grid-gap:",(0,y.D)(2),";margin-bottom:",(function(e){return e.first?(0,y.D)(2):""}),";"),_e=(0,h.Z)("div",{target:"em1j5lv5"})("color:",(0,m.$_)("white"),";background-color:",(0,m.$_)("black"),";padding:",(0,y.D)(1)," ",(0,y.D)(2),";"),xe=(0,h.Z)("div",{target:"em1j5lv4"})("background-color:",(0,m.$_)("white"),";padding:",(0,y.D)(2)," ",(0,y.D)(1),";"),Pe=(0,h.Z)(v.Z,{target:"em1j5lv3"})("display:block;border:none;.Icon{transform:",(function(e){return e.reverseIconDirection?"rotate(180deg)":""}),";}color:",(function(e){var t=e.selected,n=e.primaryColor;return t?void 0===n?je:n:(0,m.$_)("text-dark")}),";&:hover{color:",(function(e){var t=e.primaryColor;return void 0===t?je:t}),";background:none;}"),Ce=(0,h.Z)(v.Z,{target:"em1j5lv2"})("border:none;color:",(0,m.$_)("text-medium"),";&:hover{color:",(function(e){var t=e.primaryColor;return void 0===t?je:t}),";}"),ke=(0,h.Z)("div",{target:"em1j5lv1"})("display:grid;grid-template-columns:repeat(",(function(e){var t=e.numColumns;return void 0===t?3:t}),", auto);justify-content:start;align-items:center;grid-gap:",(0,y.D)(1),";"),Ae=(0,h.Z)("div",{target:"em1j5lv0"})("font-size:1em;color:",(0,m.$_)("text-medium"),";");function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}var Ze=function(e){var t,n,r=c()();switch(e){case"day":return(0,o.t)(X||(X=qe(["Right now, this is ",""])),r.format("ddd, MMM D"));case"week":return t=r.startOf("week").format("ddd, MMM D"),n=r.endOf("week").format("ddd, MMM D"),(0,o.t)(ee||(ee=qe(["Right now, this is "," - ",""])),t,n);case"month":return t=r.startOf("month").format("ddd, MMM D"),n=r.endOf("month").format("ddd, MMM D"),(0,o.t)(te||(te=qe(["Right now, this is "," - ",""])),t,n);case"quarter":return t=r.startOf("quarter").format("ddd, MMM D"),n=r.endOf("quarter").format("ddd, MMM D"),(0,o.t)(ne||(ne=qe(["Right now, this is "," - ",""])),t,n);case"year":return t=r.startOf("year").format("MMM D, YYYY"),n=r.endOf("year").format("MMM D, YYYY"),(0,o.t)(re||(re=qe(["Right now, this is "," - ",""])),t,n)}};var Le=[["day","week","month"],["quarter","year"]],Be=["minute","hour"].concat(Le.flat()),ze=function(e){return(0,o.t)(ie||(ie=qe(["Include ",""])),function(e){if("time-interval"===e[0])return Fe[e[3]];return null}(e))},Fe={day:(0,o.t)(oe||(oe=qe(["today"]))),week:(0,o.t)(ae||(ae=qe(["this week"]))),month:(0,o.t)(ue||(ue=qe(["this month"]))),year:(0,o.t)(le||(le=qe(["this year"]))),quarter:(0,o.t)(ce||(ce=qe(["this quarter"]))),minute:(0,o.t)(se||(se=qe(["this minute"]))),hour:(0,o.t)(fe||(fe=qe(["this hour"])))};var Qe,Ve,Ue=function(e){var t=e.filter,n=e.onFilterChange,r=e.formatter,a=void 0===r?function(e){return e}:r,u=e.offsetFormatter,l=void 0===u?function(e){return e}:u,c=e.className,s=e.primaryColor,f=e.reverseIconDirection,p=(0,d.LV)(t),h=Te((0,d.iv)(t),2),m=h[0],y=void 0===m?30:m,v=h[1],b=void 0===v?"day":v,g=t[4]||{},w=!!g["include-current"],O=!p,j=O?3:4,S=Te(i.useState(!1),2),E=S[0],_=S[1],x=i.createElement(xe,null,i.createElement(Pe,{icon:"arrow_left_to_line",primaryColor:s,reverseIconDirection:f,onClick:function(){_(!1),n((0,d.Mg)(t))}},(0,o.t)(de||(de=qe(["Starting from..."])))),i.createElement(Pe,{selected:w,primaryColor:s,icon:w?"check":"calendar",onClick:function(){_(!1),n((0,ye.assoc)(t,4,Re(Re({},g),{},{"include-current":!w})))}},ze(t)));return i.createElement(ke,{className:c,numColumns:j,"data-testid":"relative-datetime-filter"},p?i.createElement(Ae,null,y<0?(0,o.t)(pe||(pe=qe(["Past"]))):(0,o.t)(he||(he=qe(["Next"])))):null,i.createElement(Oe,{className:"input text-right",primaryColor:s,style:He,"data-ui-tag":"relative-date-input","data-testid":"relative-datetime-value",value:"number"==typeof y?Math.abs(y):y,onChange:function(e){n((0,d.L3)(t,a(e)))},placeholder:"30"}),i.createElement(we,{value:b,primaryColor:s,onChange:function(e){n((0,d.Pc)(t,e))},testId:"relative-datetime-unit",intervals:y,formatter:a,periods:Be}),O?i.createElement(ve.Z,{visible:E,placement:"bottom-start",content:x,onClose:function(){return _(!1)}},i.createElement(Ce,{icon:"ellipsis",primaryColor:s,onClick:function(){return _(!E)}})):i.createElement("div",null),p?i.createElement(i.Fragment,null,i.createElement(Ae,null,(0,o.t)(me||(me=qe(["Starting from"])))),i.createElement(Oe,{className:"input text-right",primaryColor:s,style:He,"data-ui-tag":"relative-date-input","data-testid":"starting-from-value",value:"number"==typeof p[0]?Math.abs(p[0]):p[0],onChange:function(e){return n((0,d.Mg)(t,l(e),p[1]))},placeholder:"30"}),i.createElement(we,{value:p[1],primaryColor:s,onChange:function(e){n((0,d.Mg)(t,p[0],e))},formatDisplayName:function(e,t){return(0,d._W)(e,t)},intervals:Math.abs(p[0]),formatter:a,periods:Be,testId:"starting-from-unit"}),i.createElement(Ce,{icon:"close",primaryColor:s,onClick:function(){n((0,d.wN)(t))}})):null)},He={width:65,fontSize:14,fontWeight:700,padding:8},Ye=n(78930),Ge=(0,h.Z)("div",{target:"e5mhicg0"})("display:flex;grid-gap:",(0,y.D)(2),";flex-wrap:",(function(e){return e.isSidebar?"wrap":"no-wrap"}),";"),We=n(47667),$e=n(27468),Ke=n(3406),Je=n(17524);function Xe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nt=function(e){var t=function(t,n,r){e.onChange((0,d.Dc)(t,n,r))},n=e.value,r=e.calendar,a=e.hideTimeSelectors,u=e.onClear,l=e.className,s=e.selectAll,f=e.primaryColor,h=et(i.useState(!0),2),m=h[0],y=h[1],v=(0,d.dE)(n),b=v.hours,g=v.minutes,w=v.date,O=!a&&"number"==typeof b&&"number"==typeof g,j=(0,We.UA)()||"MM/DD/YYYY";return i.createElement("div",{className:l},i.createElement("div",{className:"mb2 full bordered rounded flex align-center"},i.createElement($e.default,{placeholder:c()().format(j),className:"borderless full p1 h3",style:{outline:"none"},value:w?w.format(j):"",onBlurChange:function(e){var n=e.target.value,r=c()(n,j);r.isValid()?t(r,b,g):t()}}),r&&i.createElement(p.ZP,{className:"mr1 text-purple-hover cursor-pointer",name:"calendar",onClick:function(){return y(!m)},tooltip:m?(0,o.t)(Qe||(Qe=Xe(["Hide calendar"]))):(0,o.t)(Ve||(Ve=Xe(["Show calendar"])))})),O&&i.createElement("div",null,i.createElement(Je.Z,{onClear:u,hours:b,minutes:g,onChangeHours:function(e){return t(w,e,g)},onChangeMinutes:function(e){return t(w,b,e)}})),r&&i.createElement(Ke.default,{isOpen:m},i.createElement(Ye.Z,{selected:w,initial:w||c()(),onChange:function(e){return t(e,b,g)},isRangePicker:!1,selectAll:s,primaryColor:f})))};function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ot=function(e){var t=e.className,n=rt(e.filter,3),r=n[0],o=n[1],a=n[2],u=e.onFilterChange,l=e.hideTimeSelectors,c=e.selectAll,s=e.primaryColor;return i.createElement(nt,{className:t,value:a,primaryColor:s,selectAll:c,onChange:function(e){return u([r,o,e])},onClear:function(){return u([r,o,(0,d.Dc)(a)])},hideTimeSelectors:l,calendar:!0})};function at(){return at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ct,st,ft,dt,pt,ht,mt,yt,vt;function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function gt(e){return Pt(e)||jt(e)||_t(e)||Et()}function wt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ot(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||jt(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function St(e,t){return Pt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||_t(e,t)||Et()}function Et(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _t(e,t){if(e){if("string"==typeof e)return xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e){if(Array.isArray(e))return e}var Ct=function(e){var t=St(e,4),n=t[0],r=(t[1],t[2]);t[3];return"time-interval"===n&&"number"==typeof r?Math.abs(r):30},kt=function(e){var t=St(e,4),n=t[0],r=(t[1],t[2],t[3]);return"time-interval"===n&&r?r:"day"},At=function(e){var t=St(e,5),n=t[0],r=(t[1],t[2],t[3],t[4]);return"time-interval"===n&&r||{}},Dt=function(e){return"string"==typeof e&&/T\d{2}:\d{2}:\d{2}$/.test(e)};function Rt(e,t){var n,r=null==e||null===(n=e.dimension)||void 0===n?void 0:n.call(e);return r||(r=f.T7.parseMBQLOrWarn((0,d.pe)(e))),r?t?r.withTemporalUnit(t).mbql():r.withoutTemporalBucketing().mbql():null}function It(e,t){var n=e.slice(2,2+t).map((function(e){return e&&function(e){return"string"==typeof e&&c()(e).isValid()||(e=c()().format("YYYY-MM-DD")),"none"===e?"day":e}(e)})),r=Rt(e,s.ZP.any(n,Dt)?"minute":null),i=(0,d.dE)(n[0]),o=i.hours,a=i.minutes;if("number"==typeof o&&"number"==typeof a&&2===n.length){var u=(0,d.dE)(n[1]),l=u.hours,f=u.minutes;"number"==typeof l&&"number"==typeof f||(n=[n[0],(0,d.Dc)(n[1],o,a)||n[0]])}return[r].concat(Ot(n.filter((function(e){return void 0!==e}))))}var Tt=[{name:"previous",displayName:(0,o.t)(ct||(ct=wt(["Past"]))),init:function(e){return(0,d.cQ)(e,!1)||["time-interval",Rt(e),-Ct(e),kt(e),At(e)]},test:function(e){var t=St(e,3),n=t[0],r=(t[1],t[2]);if("time-interval"===n&&"number"==typeof r&&r<=0)return!0;var i=St((0,d.iv)(e),1)[0];return"number"==typeof i&&i<=0},group:"relative",widget:function(e){return i.createElement(Ue,Me({},e,{formatter:function(e){return-1*e}}))},options:{"include-current":!0}},{name:"current",displayName:(0,o.t)(st||(st=wt(["Current"]))),init:function(e){return["time-interval",Rt(e),"current"]},test:function(e){var t=St(e,3),n=t[0],r=(t[1],t[2]);return"time-interval"===n&&("current"===r||null===r)},group:"relative",widget:function(e){var t=e.className,n=e.primaryColor,r=e.onCommit,o=Te(e.filter,4),a=o[0],u=o[1],l=(o[2],o[3]);return i.createElement("div",{className:t},Le.map((function(e,t){return i.createElement(Ee,{key:e.length,first:0===t},e.map((function(e){return i.createElement(ve.Z,{key:e,placement:"bottom",content:i.createElement(_e,null,Ze(e))},i.createElement(Se,{key:e,primaryColor:n,selected:a&&l===e.toLowerCase(),onClick:function(){r([a,u,"current",e])}},(0,d.p9)(e,1)))})))})))}},{name:"next",displayName:(0,o.t)(ft||(ft=wt(["Next"]))),init:function(e){return(0,d.cQ)(e,!0)||["time-interval",Rt(e),Ct(e),kt(e),At(e)]},test:function(e){var t=St(e,3),n=t[0],r=(t[1],t[2]);if("time-interval"===n&&r>0)return!0;var i=St((0,d.iv)(e),1)[0];return"number"==typeof i&&i>0},group:"relative",widget:function(e){return i.createElement(Ue,Me({},e,{offsetFormatter:function(e){return-1*e},reverseIconDirection:!0}))},options:{"include-current":!0}},{name:"between",displayName:(0,o.t)(dt||(dt=wt(["Between"]))),init:function(e){var t=gt(It(e,2)),n=t[0],r=t.slice(1);return["between",n].concat(Ot(r))},test:function(e){var t=St(e,4),n=t[0],r=(t[1],t[2]),i=t[3];return"between"===n&&!(0,d.QA)(r)&&!(0,d.QA)(i)},group:"specific",widget:function(e){var t=e.className,n=e.isSidebar,r=ut(e.filter,4),o=r[0],a=r[1],u=r[2],l=r[3],s=e.onFilterChange,f=e.hideTimeSelectors,p=e.primaryColor;return(0,d.tD)(u)&&!(0,d.tD)(l)&&(0,d.Dc)(l,d.Gj,d.M),i.createElement("div",{className:t},i.createElement(Ge,{isSidebar:n},i.createElement("div",null,i.createElement(nt,{value:u,primaryColor:p,hideTimeSelectors:f,onChange:function(e){return s([o,a,e,l])}})),i.createElement("div",null,i.createElement(nt,{value:l,primaryColor:p,hideTimeSelectors:f,onClear:function(){return s([o,a,(0,d.Dc)(u),(0,d.Dc)(l)])},onChange:function(e){return s([o,a,u,e])}}))),i.createElement("div",{className:"Calendar--noContext"},i.createElement(Ye.Z,{isRangePicker:!0,primaryColor:p,initial:u,selected:u&&c()(u),selectedEnd:l&&c()(l),onChange:function(e,t){return s([o,a,e,t])}})))}},{name:"before",displayName:(0,o.t)(pt||(pt=wt(["Before"]))),init:function(e){return["<"].concat(Ot(It(e,1)))},test:function(e){return"<"===St(e,1)[0]},group:"specific",widget:function(e){return i.createElement(ot,at({},e,{selectAll:"before"}))}},{name:"on",displayName:(0,o.t)(ht||(ht=wt(["On"]))),init:function(e){return["="].concat(Ot(It(e,1)))},test:function(e){return"="===St(e,1)[0]},group:"specific",widget:ot},{name:"after",displayName:(0,o.t)(mt||(mt=wt(["After"]))),init:function(e){return[">"].concat(Ot(It(e,1)))},test:function(e){return">"===St(e,1)[0]},group:"specific",widget:function(e){return i.createElement(ot,at({},e,{selectAll:"after"}))}},{name:"exclude",displayName:(0,o.t)(yt||(yt=wt(["Exclude..."]))),displayPrefix:(0,o.t)(vt||(vt=wt(["Exclude"]))),init:function(e){var t=gt(e),n=t[0],r=t[1],i=t.slice(2);return"!="===n?[n,r].concat(Ot(i)):[n,r]},test:function(e){var t=St(e,1)[0];return["!=","is-null","not-null"].indexOf(t)>-1},widget:k.ZP}];var Nt=function(e){var t=e.className,n=e.filter,r=e.onFilterChange,o=e.isSidebar,a=e.disableOperatorSelection,l=e.primaryColor,c=e.onCommit,f=e.children,p=e.hideTimeSelectors,h=e.operators,m=void 0===h?Tt:h,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return s.ZP.find(t,(function(t){return t.test(e)}))}(e.filter,m),v=St(i.useState(!y&&!a),2),b=v[0],g=v[1],w=y&&y.widget,O=!b&&!a||b&&e.onBack,j=function(){var t;!y||b?null===(t=e.onBack)||void 0===t||t.call(e):g(!0)};return i.createElement("div",{className:u()(t)},!y||b?i.createElement(J,{className:"p2",primaryColor:l,onFilterChange:function(e){g(!1),r(e)},onCommit:c,filter:n,onBack:O?j:void 0}):i.createElement(i.Fragment,null,y&&!a?i.createElement(R,{filter:n,onBack:j,operators:m,primaryColor:l,onFilterChange:r}):null,w&&i.createElement(w,bt({},e,{className:"flex-full p2",filter:n,onCommit:c,primaryColor:l,onFilterChange:function(e){!(0,d.U8)(e)&&y&&y.init?r(y.init(e)):r(e)}})),i.createElement(E,{isSidebar:o,filter:n,primaryColor:l,onFilterChange:r,hideTimeSelectors:p},f)))}},17652:function(e,t,n){"use strict";var r=n(32735),i=n(50942),o=n(67478),a=function(e,t){return(0,o.p9)(e,t).toLowerCase()};t.Z=function(e){var t=e.className,n=e.value,o=e.onChange,u=e.intervals,l=e.formatter,c=e.formatDisplayName,s=void 0===c?a:c,f=e.periods,d=e.testId;return r.createElement(i.ZP,{className:t,value:n,onChange:function(e){return o(e.target.value)},width:150,compact:!0,buttonProps:d?{"data-testid":d}:void 0},f.map((function(e){return r.createElement(i.Wx,{value:e,key:e},s(e,l(u)||1))})))}},35150:function(e,t,n){"use strict";n.d(t,{Nt:function(){return q},ZP:function(){return Z},dQ:function(){return M}});var r,i,o,a,u,l,c,s,f,d=n(32735),p=n(25312),h=n(30558),m=n(47679),y=n(6336),v=n(7500),b=n(86147),g=n(88637),w=(0,m.Z)(b.Z,{target:"enoazqt5"})("display:block;color:",(function(e){var t=e.primaryColor,n=void 0===t?(0,y.$_)("brand"):t;return e.selected?n:void 0}),";border:none;&:hover{color:",(function(e){return e.primaryColor||(0,y.$_)("brand")}),";background:none;}"),O=(0,m.Z)("div",{target:"enoazqt4"})("margin:1rem;border-top:solid 1px ",(0,y.$_)("text-light"),";opacity:0.5;"),j=(0,m.Z)(g.Z,{target:"enoazqt3"})("font-size:1em;color:",(0,y.$_)("text-dark"),";font-weight:600;min-height:1.5em;"),S=(0,m.Z)("div",{target:"enoazqt2"})("font-size:1rem;margin-left:",(0,v.D)(2),";"),E=(0,m.Z)("div",{target:"enoazqt1"})("display:flex;flex-wrap:no-wrap;grid-gap:",(0,v.D)(3),";"),_=(0,m.Z)("div",{target:"enoazqt0"})("display:flex;flex-wrap:no-wrap;flex-direction:column;grid-gap:",(0,v.D)(1),";"),x=n(55799),P=n(67478);function C(e){return function(e){if(Array.isArray(e))return D(e)}(e)||R(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return e}(e)||R(e)||A(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function T(e,t){var n,r=null!==(n=x.T7.parseMBQLOrWarn(e))&&void 0!==n?n:new x.T7(null);return t?r.withTemporalUnit(t).mbql():r.withoutTemporalBucketing().mbql()}var N=function(e){return function(t){var n,r,i=x.T7.parseMBQLOrWarn(t[1]);return i?i.temporalUnit()===e:(null===(n=t[1])||void 0===n||null===(r=n[2])||void 0===r?void 0:r["temporal-unit"])===e}},q=[{name:"days",displayName:(0,p.t)(r||(r=I(["Days of the week..."]))),test:N("day-of-week"),init:function(e){return["!=",T(e[1],"day-of-week")]},getOptions:P.ZT["day-of-week"]},{name:"months",displayName:(0,p.t)(i||(i=I(["Months of the year..."]))),test:N("month-of-year"),init:function(e){return["!=",T(e[1],"month-of-year")]},getOptions:P.ZT["month-of-year"]},{name:"quarters",displayName:(0,p.t)(o||(o=I(["Quarters of the year..."]))),test:N("quarter-of-year"),init:function(e){return["!=",T(e[1],"quarter-of-year")]},getOptions:P.ZT["quarter-of-year"]},{name:"hours",displayName:(0,p.t)(a||(a=I(["Hours of the day..."]))),test:N("hour-of-day"),init:function(e){return["!=",T(e[1],"hour-of-day")]},getOptions:P.ZT["hour-of-day"]}];function M(e){var t;return(null===(t=function(e){return h.ZP.find(q,(function(t){return(0,t.test)(e)}))}(e))||void 0===t?void 0:t.displayName)||(0,p.t)(u||(u=I(["Exclude..."])))}function Z(e){var t=e.className,n=e.onFilterChange,r=e.filter,i=e.primaryColor,o=void 0===i?(0,y.$_)("brand"):i,a=e.onCommit,u=e.hideEmptinessOperators,m=k(r),v=m[0],b=m[1],g=m.slice(2),x=h.ZP.find(q,(function(e){return(0,e.test)(r)}));if(!x||"is-null"===v||"not-null"===v)return d.createElement("div",{className:t},q.map((function(e){var t=e.displayName,i=e.init;return d.createElement(w,{key:t,primaryColor:o,onClick:function(){n(i(r))}},t)})),!u&&d.createElement(d.Fragment,null,d.createElement(O,null),d.createElement(w,{selected:"is-null"===v,primaryColor:o,onClick:function(){a(["is-null",T(r[1])])}},(0,p.t)(l||(l=I(["Is empty"])))),d.createElement(w,{selected:"not-null"===v,primaryColor:o,onClick:function(){a(["not-null",T(r[1])])}},(0,p.t)(c||(c=I(["Is not empty"]))))));var P=(0,x.getOptions)(),A=function(e){return n([v,b].concat(C(e)))},D=0===g.length,R=D?(0,p.t)(s||(s=I(["Select none..."]))):(0,p.t)(f||(f=I(["Select all..."])));return d.createElement("div",{className:t},d.createElement(j,{label:d.createElement(S,null,R),checkedColor:o,checked:D,onChange:function(){return A(D?P.flat().map((function(e){return e.value})):[])}}),d.createElement(O,null),d.createElement(E,null,P.map((function(e,t){return d.createElement(_,{key:t},e.map((function(e){var t=e.displayName,n=e.value,r=e.test,i=!h.ZP.find(g,(function(e){return r(e)}));return d.createElement(j,{key:n,label:d.createElement(S,null,t),checked:i,checkedColor:o,onChange:function(){A(i?[].concat(C(g),[n]):g.filter((function(e){return!r(e)})))}})})))}))))}},17524:function(e,t,n){"use strict";var r=n(32735),i=n(47667),o=n(32935),a=n(65844),u=n(40841),l=n.n(u),c=n(53806),s=n.n(c);t.Z=function(e){var t=e.hours,n=e.minutes,u=e.onChangeHours,c=e.onChangeMinutes,f=e.onClear,d=e.is24HourMode,p=void 0===d?(0,i.Qy)():d;return r.createElement("div",{className:"flex align-center"},r.createElement(o.default,{className:"input",style:{height:36},size:2,maxLength:2,value:p?String(t):t%12==0?"12":String(t%12),onChange:p?function(e){return u(e)}:function(e){return u((t>=12?12:0)+e)}}),r.createElement("span",{className:"px1"},":"),r.createElement(o.default,{className:"input",style:{height:36},size:2,maxLength:2,value:(n<10?"0":"")+n,onChange:function(e){return c(e)}}),!p&&r.createElement("div",{className:"flex align-center pl1"},r.createElement("span",{className:l()("text-purple-hover mr1",{"text-purple text-heavy":t<12,"cursor-pointer":t>=12}),onClick:t>=12?function(){return u(t-12)}:null},s().localeData().meridiem(0,0,!1)),r.createElement("span",{className:l()("text-purple-hover mr1",{"text-purple text-heavy":t>=12,"cursor-pointer":t<12}),onClick:t<12?function(){return u(t+12)}:null},s().localeData().meridiem(12,0,!1))),f&&r.createElement(a.ZP,{className:"text-light cursor-pointer text-medium-hover ml-auto",name:"close",onClick:f}))}},55625:function(e,t,n){"use strict";n.d(t,{ZP:function(){return $e},W4:function(){return Qe}});var r,i,o,a=n(32735),u=n(60216),l=n.n(u),c=n(25312),s=n(40841),f=n.n(s),d=n(53806),p=n.n(d),h=n(30558),m=n(47667),y=n(78930),v=n(27468),b=n(65844),g=n(3406),w=n(17524);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="YYYY-MM-DD",D="YYYY-MM-DDTHH:mm:ss",R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,e);var t,n,u,l=_(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),k(P(t=l.call(this,e)),"onChange",(function(e,n,r){var i=p()(e);i.isValid()||t.props.onChange(null);var o=!1;null!=n&&(i.hours(n),o=!0),null!=r&&(i.minutes(r),o=!0),o?t.props.onChange(i.format(D)):t.props.onChange(i.format(A))})),t.state={showCalendar:!0},t}return t=s,(n=[{key:"render",value:function(){var e,t,n,u=this,l=this.props,s=l.value,d=l.calendar,h=l.hideTimeSelectors,O=l.className,S=this.state.showCalendar;p()(s,D,!0).isValid()?(e=p()(s,D,!0),t=e.hours(),n=e.minutes(),e.startOf("day")):p()(s,A,!0).isValid()&&(e=p()(s,A,!0));var E=(0,m.UA)()||"MM/DD/YYYY";return a.createElement("div",{className:O},a.createElement("div",{className:"mb2 full bordered rounded flex align-center"},a.createElement(v.default,{placeholder:p()().format(E),className:"borderless full p1 h3",style:{outline:"none"},value:e?e.format(E):"",onBlurChange:function(e){var r=e.target.value,i=p()(r,E);i.isValid()?u.onChange(i,t,n):u.onChange(null)}}),d&&a.createElement(b.ZP,{className:"mr1 text-purple-hover cursor-pointer",name:"calendar",onClick:function(){return u.setState({showCalendar:!u.state.showCalendar})},tooltip:S?(0,c.t)(r||(r=j(["Hide calendar"]))):(0,c.t)(i||(i=j(["Show calendar"])))})),d&&a.createElement(g.default,{isOpen:S},a.createElement(y.Z,{selected:e,initial:e||p()(),onChange:function(e){return u.onChange(e,t,n)},isRangePicker:!1})),!h&&a.createElement("div",{className:f()({py2:d},{mb3:!d})},null==t||null==n?a.createElement("div",{className:"text-purple-hover cursor-pointer flex align-center",onClick:function(){return u.onChange(e,12,30)}},a.createElement(b.ZP,{className:"mr1",name:"clock"}),(0,c.t)(o||(o=j(["Add a time"])))):a.createElement(w.Z,{onClear:function(){return u.onChange(e,null,null)},hours:t,minutes:n,onChangeHours:function(t){return u.onChange(e,t,n)},onChangeMinutes:function(n){return u.onChange(e,t,n)}})))}}])&&S(t.prototype,n),u&&S(t,u),s}(a.Component);k(R,"propTypes",{value:l().string,onChange:l().func.isRequired});var I=n(32935),T=n(17652),N=n(55446);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=["day","week","month","quarter","year"],H=["minute","hour"].concat(U),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,e);var t,n,r,i=B(o);function o(){var e;M(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(F(e=i.call.apply(i,[this].concat(n))),"state",{showUnits:!1}),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.filter,r=t.onFilterChange,i=t.formatter,o=t.className,u=n[2],l=n[3];return a.createElement("div",{className:f()(o,"flex align-center")},a.createElement(I.default,{className:"mr2 input border-purple text-right",style:{width:65,fontSize:14,fontWeight:700,padding:8},"data-ui-tag":"relative-date-input",value:"number"==typeof u?Math.abs(u):u,onChange:function(e){return r((0,N.assoc)(n,2,i(e)))},placeholder:"30"}),a.createElement("div",{className:"flex-full"},a.createElement(T.Z,{open:this.state.showUnits,value:l,onChange:function(t){r((0,N.assoc)(n,3,t)),e.setState({showUnits:!1})},togglePicker:function(){return e.setState({showUnits:!e.state.showUnits})},intervals:u,formatter:i,periods:H})))}}])&&Z(t.prototype,n),r&&Z(t,r),o}(a.Component);V(Y,"defaultProps",{formatter:function(e){return e}});var G=n(50942);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},J(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var i=te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var ne,re,ie,oe,ae,ue,le,ce,se,fe,de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(o,e);var t,n,r,i=X(o);function o(){return $(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.operator,r=e.operators,i=e.onOperatorChange;return a.createElement("div",{className:t,style:{minWidth:100}},a.createElement(G.ZP,{value:h.ZP.findWhere(r,{name:n}),onChange:function(e){return i(e.target.value)},width:150,compact:!0},r.map((function(e){return a.createElement(G.Wx,{key:e.name,value:e},e.displayName)}))))}}])&&K(t.prototype,n),r&&K(t,r),o}(a.Component),pe=n(55799);function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ye(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var i=_e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?Ee(e):t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(){return Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De={className:l().string,filter:l().object,onFilterChange:l().func,hideTimeSelectors:l().func},Re={className:l().string,filter:l().object,onFilterChange:l().func,hideTimeSelectors:l().func},Ie=function(e){var t=e.className,n=Ce(e.filter,3),r=n[0],i=n[1],o=n[2],u=e.onFilterChange,l=e.hideTimeSelectors;return a.createElement(R,{className:t,value:o,onChange:function(e){return u([r,i,e])},hideTimeSelectors:l,calendar:!0})};Ie.propTypes=De;var Te=function(e){var t=e.className,n=Ce(e.filter,4),r=n[0],i=n[1],o=n[2],u=n[3],l=e.onFilterChange,c=e.hideTimeSelectors;return a.createElement("div",{className:t},a.createElement("div",{className:"Grid Grid--1of2 Grid--gutters"},a.createElement("div",{className:"Grid-cell"},a.createElement(R,{value:o,hideTimeSelectors:c,onChange:function(e){return l([r,i,e,u])}})),a.createElement("div",{className:"Grid-cell"},a.createElement(R,{value:u,hideTimeSelectors:c,onChange:function(e){return l([r,i,o,e])}}))),a.createElement("div",{className:"Calendar--noContext"},a.createElement(y.Z,{initial:o?p()(o):p()(),selected:o&&p()(o),selectedEnd:u&&p()(u),onChange:function(e,t){return l([r,i,e,t])}})))};Te.propTypes=Re;var Ne=function(e){return a.createElement(Y,Pe({},e,{formatter:function(e){return-1*e}}))};Ne.horizontalLayout=!0;var qe=function(e){return a.createElement(Y,e)};qe.horizontalLayout=!0;var Me=function(e){we(n,e);var t=je(n);function n(){var e;ve(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return xe(Ee(e=t.call.apply(t,[this].concat(i))),"state",{showUnits:!1}),e}return ge(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=Ce(t.filter,4),i=r[0],o=r[1],u=r[2],l=r[3],c=t.onFilterChange;return a.createElement(T.Z,{className:n,value:l,open:this.state.showUnits,onChange:function(t){c([i,o,u,t]),e.setState({showUnits:!1})},togglePicker:function(){return e.setState({showUnits:!e.state.showUnits})},formatter:function(e){return e},periods:U})}}]),n}(a.Component);xe(Me,"horizontalLayout",!0);var Ze=function(e){var t=Ce(e,4),n=t[0],r=(t[1],t[2]);t[3];return"time-interval"===n&&"number"==typeof r?Math.abs(r):30},Le=function(e){var t=Ce(e,4),n=t[0],r=(t[1],t[2],t[3]);return"time-interval"===n&&r?r:"day"},Be=function(e){var t=Ce(e,5),n=t[0],r=(t[1],t[2],t[3],t[4]);return"time-interval"===n&&r||{}},ze=function(e){return"string"==typeof e&&/T\d{2}:\d{2}:\d{2}$/.test(e)};function Fe(e,t){var n=pe.T7.parseMBQLOrWarn(e);return n?t?n.withTemporalUnit(t).mbql():n.withoutTemporalBucketing().mbql():e}function Qe(e){var t=pe.T7.parseMBQLOrWarn(e);return t&&t.temporalUnit()?t.withoutTemporalBucketing().mbql():e}function Ve(e,t){var n=e.slice(2,2+t).map((function(e){return e&&function(e){return"string"==typeof e&&p()(e).isValid()||(e=p()().format("YYYY-MM-DD")),e}(e)})),r=h.ZP.any(n,ze)?"minute":null;return[Fe(e[1],r)].concat(ye(n))}var Ue={name:"all",displayName:(0,c.t)(ne||(ne=me(["All Time"]))),init:function(){return null},test:function(e){return null===e}},He=[{name:"previous",displayName:(0,c.t)(re||(re=me(["Previous"]))),init:function(e){return["time-interval",Fe(e[1]),-Ze(e),Le(e),Be(e)]},test:function(e){var t=Ce(e,3),n=t[0],r=(t[1],t[2]);return"time-interval"===n&&r<0||Object.is(r,-0)},widget:Ne,options:{"include-current":!0}},{name:"next",displayName:(0,c.t)(ie||(ie=me(["Next"]))),init:function(e){return["time-interval",Fe(e[1]),Ze(e),Le(e),Be(e)]},test:function(e){var t=Ce(e,3),n=t[0],r=(t[1],t[2]);return"time-interval"===n&&r>=0},widget:qe,options:{"include-current":!0}},{name:"current",displayName:(0,c.t)(oe||(oe=me(["Current"]))),init:function(e){return["time-interval",Fe(e[1]),"current",Le(e)]},test:function(e){var t=Ce(e,3),n=t[0],r=(t[1],t[2]);return"time-interval"===n&&"current"===r},widget:Me},{name:"before",displayName:(0,c.t)(ae||(ae=me(["Before"]))),init:function(e){return["<"].concat(ye(Ve(e,1)))},test:function(e){return"<"===Ce(e,1)[0]},widget:Ie},{name:"after",displayName:(0,c.t)(ue||(ue=me(["After"]))),init:function(e){return[">"].concat(ye(Ve(e,1)))},test:function(e){return">"===Ce(e,1)[0]},widget:Ie},{name:"on",displayName:(0,c.t)(le||(le=me(["On"]))),init:function(e){return["="].concat(ye(Ve(e,1)))},test:function(e){return"="===Ce(e,1)[0]},widget:Ie},{name:"between",displayName:(0,c.t)(ce||(ce=me(["Between"]))),init:function(e){return["between"].concat(ye(Ve(e,2)))},test:function(e){return"between"===Ce(e,1)[0]},widget:Te}],Ye=[{name:"empty",displayName:(0,c.t)(se||(se=me(["Is Empty"]))),init:function(e){return["is-null",Fe(e[1])]},test:function(e){return"is-null"===Ce(e,1)[0]}},{name:"not-empty",displayName:(0,c.t)(fe||(fe=me(["Not Empty"]))),init:function(e){return["not-null",Fe(e[1])]},test:function(e){return"not-null"===Ce(e,1)[0]}}],Ge=He.concat(Ye);function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;return h.ZP.find(t,(function(t){return t.test(e)}))}var $e=function(e){we(n,e);var t=je(n);function n(){var e;ve(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return xe(Ee(e=t.call.apply(t,[this].concat(i))),"state",{operators:[]}),e}return ge(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.operators||He;this.props.hideEmptinessOperators||(e=e.concat(Ye)),this.props.includeAllTime&&(e=[Ue].concat(ye(e)));var t=We(this.props.filter,e)||e[0];this.adjustFilter(t),this.setState({operators:e})}},{key:"adjustFilter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.props.onFilterChange,r=t||this.props.filter;if(n)if(r)n(e.init(r));else{var i=this.props.dimension;n(e.init(["time-interval",null==i?void 0:i.mbql()]))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.filter,i=t.onFilterChange,o=t.isSidebar,u=t.disableOperatorSelection,l=this.state.operators,c=We(this.props.filter,l),s=c&&c.widget;return a.createElement("div",{className:f()(n,{"flex align-center":s&&s.horizontalLayout,"PopoverBody--marginBottom":!o}),style:{minWidth:300}},!u&&a.createElement(de,{className:f()({mr2:s&&s.horizontalLayout,mb2:s&&!s.horizontalLayout}),operator:c&&c.name,operators:l,onOperatorChange:function(t){return e.adjustFilter(t)}}),s&&a.createElement(s,Pe({},this.props,{className:"flex-full",filter:r,hideHoursAndMinutes:this.props.hideTimeSelectors,onFilterChange:function(t){c&&c.init?e.adjustFilter(c,t):i(t)}})))}}]),n}(a.Component);xe($e,"propTypes",{dimension:l().array,filter:l().array,onFilterChange:l().func.isRequired,className:l().string,hideEmptinessOperators:l().bool,hideTimeSelectors:l().bool,isSidebar:l().bool,operators:l().array,disableOperatorSelection:l().bool})},61045:function(e,t,n){"use strict";n.d(t,{pD:function(){return we},K6:function(){return ge},nO:function(){return B},pT:function(){return ce},Qv:function(){return Ze},TH:function(){return H},eS:function(){return Z},VR:function(){return Ye},bn:function(){return L},Cz:function(){return q},qN:function(){return Qe},Tx:function(){return Ve},J0:function(){return be},_o:function(){return z},FT:function(){return se},kw:function(){return le},xm:function(){return ve},RQ:function(){return ue},uL:function(){return U},a5:function(){return fe},wB:function(){return Pe},e7:function(){return xe},mi:function(){return Ue},S1:function(){return K},mX:function(){return ee},g_:function(){return X},zF:function(){return We},yT:function(){return ke},i0:function(){return Oe},Kg:function(){return me},yZ:function(){return Ge}});var r=n(91826),i=n.n(r),o=n(12463),a=n(30558),u=n(55446),l=n(26864),c=n(76198),s=n(10209),f=n(98007),d=n(98958),p=n(38908),h=n(11217),m=n(13818),y=n(68942),v=n(96049),b=n(82616),g=n(81932),w=n(47667),O=n(88961),j=n(59613),S=n(93638),E=n(68989),_=n(33388),x=n(98399);function P(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){return e.qb.uiControls},N=function(e){return e.qb.loadingControls},q=function(e){return T(e).isShowingTemplateTagsEditor},M=["isShowingQuestionDetailsSidebar","isShowingChartTypeSidebar","isShowingChartSettingsSidebar","isShowingTimelineSidebar","isShowingSummarySidebar","isShowingFilterSidebar","isShowingDataReference","isShowingTemplateTagsEditor","isShowingSnippetSidebar"],Z=((0,o.createSelector)([T],(function(e){return M.some((function(t){return e[t]}))})),function(e){return T(e).isEditing}),L=function(e){return T(e).isRunning},B=function(e){return e.qb.card},z=function(e){return e.qb.originalCard},F=function(e){return e.qb.lastRunCard},Q=function(e){return e.qb.parameterValues},V=function(e){return e.qb.metadataDiff},U=(0,o.createSelector)([function(e){return e.qb.queryResults},V],(function(e,t){var n;if(!Array.isArray(e)||!e.length)return null;var r=D(e,1)[0];if(r.error||null==r||null===(n=r.data)||void 0===n||!n.results_metadata)return e;var i=r.data,o=i.cols,a=i.results_metadata;function l(e){var n=t[e.field_ref];return n?(0,u.merge)(e,n):e}return[k(k({},r),{},{data:k(k({},r.data),{},{cols:o.map(l),results_metadata:k(k({},a),{},{columns:a.columns.map(l)})})})]})),H=(0,o.createSelector)([U],(function(e){return Array.isArray(e)?e[0]:null})),Y=(0,o.createSelector)([H],(function(e){if(e)return e.data.cols.findIndex(d.Vm)})),G=(0,o.createSelector)([H,Y],(function(e,t){if(!e||!Number.isSafeInteger(t))return{};var n=e.data.rows,r={};return n.forEach((function(e,n){var i=e[t];r[i]=n})),r})),W=(0,o.createSelector)([B],(function(e){return e&&e.dataset_query&&e.dataset_query.database})),$=(0,o.createSelector)([B],(function(e){return(0,u.getIn)(e,["dataset_query","query","source-table"])})),K=function(e){return e.qb.tableForeignKeyReferences},J=function(e){return v.ZP.selectors.getList(e,{entityQuery:{include:"tables",saved:!0}})||[]},X=((0,o.createSelector)([W,J],(function(e,t){if(null!=e&&t&&t.length>0){var n=a.ZP.findWhere(t,{id:e});if(n&&n.tables)return n.tables}return[]})),(0,o.createSelector)([J],(function(e){return e&&e.filter((function(e){return"write"===e.native_permissions}))})),(0,o.createSelector)([$,g.sd],(function(e,t){return t.table(e)}))),ee=(0,o.createSelector)([X],(function(e){return e&&e.fks})),te=((0,o.createSelector)([J],(function(e){var t=a.ZP.findWhere(e,{is_sample:!0});return t&&t.id})),(0,o.createSelector)([W,function(e){return e.qb.databaseFields}],(function(e,t){return[]})),(0,o.createSelector)([B,g.sd,Q],(function(e,t,n){return(0,s.a5)(e,t,n)}))),ne=(0,o.createSelector)([F],(function(e){return e&&e.dataset_query})),re=(0,o.createSelector)([B],(function(e){return e&&e.dataset_query})),ie=(0,o.createSelector)([H],(function(e){return e&&e.json_query&&e.json_query.parameters||[]})),oe=(0,o.createSelector)([ie],(function(e){return e.map((function(e){return e.value}))})),ae=(0,o.createSelector)([te],(function(e){return e.filter((function(e){return null!=e.value})).map((function(e){return(0,f._3)(e.type,e.value)})).filter((function(e){return void 0!==e}))})),ue=(0,o.createSelector)([T],(function(e){return e.queryBuilderMode})),le=(0,o.createSelector)([T],(function(e){return e.previousQueryBuilderMode})),ce=(0,o.createSelector)([T],(function(e){return e.datasetEditorTab})),se=(0,o.createSelector)([g.sd,z],(function(e,t){return e&&t&&new h.Z(t,e)})),fe=(0,o.createSelector)([g.sd,B,Q,ue],(function(e,t,n,r){if(e&&t){var i=new h.Z(t,e,n);if("dataset"===r)return i.lockDisplay();var o=!!i.database();return i.isDataset()&&o?i.composeDataset():i}}));function de(e){return"function"==typeof(null==e?void 0:e.raw)?e.raw():e}function pe(e,t){return e?(e.query&&(t&&(e=(0,u.updateIn)(e,["query","fields"],(function(e){return(e=e?P(e):t.fields.map((function(e){return["field",e.id,null]}))).sort((function(e,t){return JSON.stringify(t).localeCompare(JSON.stringify(e))}))}))),["aggregation","breakout","filter","joins","order-by"].forEach((function(t){e.query[t]&&(e=(0,u.updateIn)(e,["query",t],(function(e){return e.map(de)})))}))),e.native&&null==e.native["template-tags"]&&(e=(0,u.assocIn)(e,["native","template-tags"],{})),e):e}(0,o.createSelector)([fe,se,ne,re,oe,ae,X],(function(e,t,n,r,i,o,a){return(!e||!(0,y._q)(e,t))&&(!p.Z.equals(i,o)||(!e||!e.query().readOnly())&&(n=pe(n,a),r=pe(r,a),!p.Z.equals(n,r)))}));var he=(0,o.createSelector)([g.sd,F,Q],(function(e,t,n){return t&&e&&new h.Z(t,e,n)})),me=function(e){return e.qb.zoomedRowObjectId},ye=(0,o.createSelector)([G,me],(function(e,t){if(e)return e[t]||e[parseInt(t)]})),ve=(0,o.createSelector)([H,Y,ye],(function(e,t,n){if(e)return e.data.rows[n-1][t]})),be=(0,o.createSelector)([H,Y,ye],(function(e,t,n){if(e)return e.data.rows[n+1][t]})),ge=(0,o.createSelector)([ye],(function(e){return 0!==e})),we=(0,o.createSelector)([U,ye],(function(e,t){if(Array.isArray(e)&&e.length)return t!==e[0].data.rows.length-1})),Oe=(0,o.createSelector)([U,ye],(function(e,t){if(Array.isArray(e)&&e.length)return e[0].data.rows[t]})),je=(0,o.createSelector)([me],(function(e){return null!=e})),Se=(0,o.createSelector)([he,je],(function(e,t){return t?new S.Z(e,E.Z):e&&e.mode()})),Ee=(0,o.createSelector)([Se,U,je],(function(e,t,n){if(n)return!0;var r=null==t?void 0:t.some((function(e){var t=e.data;return(null==t?void 0:t.rows.length)>1}));return"object"===(null==e?void 0:e.name())&&!r})),_e=(0,o.createSelector)([fe,se],(function(e,t){return!(!e||(0,y._q)(e,t))&&e.isDirtyComparedToWithoutParameters(t)})),xe=((0,o.createSelector)([fe],(function(e){return e&&e.query()})),(0,o.createSelector)([fe,_e],(function(e,t){return!!e&&(!e.isSaved()||t?e.canRun()&&!e.query().readOnly():e.canRun())})),(0,o.createSelector)([function(e){return e.alert.alerts.result},B],(function(e,t){return t&&t.id&&a.ZP.pick(e,(function(e){return e.card.id===t.id}))||{}})),(0,o.createSelector)([H],(function(e){return e&&e.data&&e.data.results_metadata}))),Pe=((0,o.createSelector)([V],(function(e){return Object.keys(e).length>0})),(0,o.createSelector)([fe,U,Ee,ne,function(e){return T(e).isShowingRawTable}],(function(e,t,n,r,i){var o=e&&e.display(),a=e&&e.settings();return n?o="object":i&&(o="table",a={"table.pivot":!1}),t&&e.atomicQueries().map((function(n,i){return{card:k(k({},e.card()),{},{display:o,visualization_settings:a,dataset_query:r}),data:t[i]&&t[i].data}}))}))),Ce=(0,o.createSelector)([Pe],(function(e){return e&&(0,l.getVisualizationTransformed)((0,l.extractRemappings)(e))})),ke=(0,o.createSelector)([Ce],(function(e){return e&&e.series})),Ae=(0,o.createSelector)([Ce],(function(e){return e&&e.visualization})),De=(0,o.createSelector)([ke],(function(e){return e&&(0,c.eG)(e)})),Re=(0,o.createSelector)([fe],(function(e){return e&&e.query()instanceof m.Z})),Ie=(0,o.createSelector)([Re,T],(function(e,t){return e&&t.isNativeEditorOpen})),Te=(0,o.createSelector)([T],(function(e){return e&&e.nativeEditorSelectedRange}));var Ne=(0,o.createSelector)([De],(function(e){return e&&(0,j.rd)(e)})),qe=(0,o.createSelector)([Ne,ke,De],(function(e,t,n){return e&&t&&n&&(0,j.bJ)({series:t,settings:n})})),Me=(0,o.createSelector)([Ne,qe],(function(e,t){return t&&e&&i().extent(t)})),Ze=(0,o.createSelector)([function(e){return e.entities}],(function(e){var t;return null!==(t=b.Z.selectors.getList({entities:e},{entityQuery:{include:"events"}}))&&void 0!==t?t:[]})),Le=(0,o.createSelector)([Ze],(function(e){return(0,O.as)(e.map((function(e){return(0,u.updateIn)(e,["events"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.ZP.chain(e).map((function(e){return(0,u.updateIn)(e,["timestamp"],w.ZB)})).filter((function(e){return!e.archived})).value()}))})))})),Be=(0,o.createSelector)([Le,Me],(function(e,t){return e.map((function(e){return(0,u.updateIn)(e,["events"],(function(e){return t?e.filter((function(e){return function(e,t){return e.timestamp.isBetween(t[0],t[1],void 0,"[]")}(e,t)})):e}))})).filter((function(e){return e.events.length>0}))})),ze=(0,o.createSelector)([Be,function(e){return e.qb.visibleTimelineIds}],(function(e,t){return e.filter((function(e){return t.includes(e.id)}))}));(0,o.createSelector)([ze],(function(e){return a.ZP.chain(e).map((function(e){return e.events})).flatten().sortBy((function(e){return e.timestamp})).value()}));function Fe(e,t){var n=t.row,r=t.column;return e.split("\n").slice(0,n).reduce((function(e,t){return e+t.length}),0)+n+r}var Qe=(0,o.createSelector)([Te,re],(function(e,t){return null==e||null==t||null==t.native?null:Fe(t.native.query,e.end)})),Ve=(0,o.createSelector)([Te,re],(function(e,t){if(null==e||null==t||null==t.native)return null;var n=t.native.query,r=Fe(n,e.start),i=Fe(n,e.end);return n.slice(r,i)})),Ue=((0,o.createSelector)([T],(function(e){return e&&e.modalSnippet})),(0,o.createSelector)([T],(function(e){return e&&e.snippetCollectionId}))),He=(0,o.createSelector)([Ie,fe,function(e){return e.qb.card&&!e.qb.card.id},_e],(function(e,t,n,r){return!1})),Ye=(0,o.createSelector)([He,T],(function(e,t){return e&&t.isPreviewing})),Ge=((0,o.createSelector)([fe,De],(function(e,t){return e&&("table"!==e.display()&&"pivot"!==e.display()||Object.keys(e.settings()).some((function(e){return e.startsWith("table.")}))||t&&t["table.pivot"])})),(0,o.createSelector)([ke,Ae],(function(e,t){try{return!e||!t||!t.isLiveResizable||t.isLiveResizable(e)}catch(e){return x.error(e),!1}})),(0,o.createSelector)([T],(function(e){return e&&e.questionDetailsTimelineDrawerState})),(0,o.createSelector)([se],(function(e){return null!=e}))),We=((0,o.createSelector)([N],(function(e){return null==e?void 0:e.documentTitle})),(0,o.createSelector)([N],(function(e){return null!=e&&e.showLoadCompleteFavicon?_.F:void 0})),(0,o.createSelector)([N],(function(e){return e.timeoutId})))},15712:function(e,t,n){"use strict";n.d(t,{$J:function(){return f},Yo:function(){return d}});var r,i,o=n(95390),a=n(24432),u=n(29502),l=n(98399);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="metabase/app/SET_ERROR_PAGE";function f(e){return l.error("Error:",e),{type:s,payload:e}}var d=function(e,t){return function(n){(0,u.aD)(e,t)?(0,u.lW)(e):n((0,o.VF)(e))}},p=(0,a.jZ)((c(r={},s,(function(e,t){return t.payload})),c(r,o.nk,(function(){return null})),r),null),h=[/\/model.*/,/\/question.*/,/\/dashboard.*/];var m="metabase/app/OPEN_NAVBAR",y="metabase/app/CLOSE_NAVBAR",v="metabase/app/TOGGLE_NAVBAR";(0,a.PH)(m),(0,a.PH)(y),(0,a.PH)(v);var b=(0,a.jZ)((c(i={},m,(function(){return!0})),c(i,v,(function(e){return!e})),c(i,y,(function(){return!1})),i),!(0,u.rA)()&&!h.some((function(e){return e.test(window.location.pathname)})));t.ZP=(0,a.UY)({errorPage:p,isNavbarOpen:b})},60006:function(e,t,n){"use strict";n.d(t,{fetchDatabaseMetadata:function(){return S},fetchField:function(){return _},fetchFieldValues:function(){return x},addParamValues:function(){return P},addFields:function(){return C},addRemappings:function(){return A},fetchRemapping:function(){return D},loadMetadataForQueries:function(){return R}});var r=n(24432),i=n(55446),o=n(30558),a=n(81932),u=n(11093),l=n(96049),c=n(39410),s=n(33572),f=n(67087),d=n(87181),p=n(95745),h=n(98399);function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,u,"next",e)}function u(e){v(o,r,i,a,u,"throw",e)}a(void 0)}))}}var g=function(e){return h.warn("DEPRECATED: "+e)},w=(p.Z.actions.fetchList.toString(),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g("metabase/redux/metadata fetchMetrics"),p.Z.actions.fetchList(null,{reload:e})}),O=(d.Z.actions.fetchList.toString(),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g("metabase/redux/metadata fetchSegments"),d.Z.actions.fetchList(null,{reload:e})}),j=(l.ZP.actions.fetchList.toString(),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g("metabase/redux/metadata fetchRealDatabases"),l.ZP.actions.fetchList({include:"tables"},{reload:e})}),S=(l.ZP.actions.fetchDatabaseMetadata.toString(),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g("metabase/redux/metadata fetchDatabaseMetadata"),l.ZP.actions.fetchDatabaseMetadata({id:e},{reload:t})}),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g("metabase/redux/metadata fetchTableMetadata"),s.ZP.actions.fetchMetadataAndForeignTables({id:e},{reload:t})},_=(0,r.RU)("metabase/metadata/FETCH_FIELD",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g("metabase/redux/metadata fetchField"),function(){var n=b(regeneratorRuntime.mark((function n(r){var i,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(f.ZP.actions.fetch({id:e},{reload:t}));case 2:if(o=n.sent,null==(null==(a=f.ZP.HACK_getObjectFromAction(o))||null===(i=a.dimensions)||void 0===i?void 0:i.human_readable_field_id)){n.next=7;break}return n.next=7,r(f.ZP.actions.fetch({id:a.dimensions.human_readable_field_id},{reload:t}));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),x=(f.ZP.actions.fetchFieldValues.toString(),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g("metabase/redux/metadata fetchFieldValues"),f.ZP.actions.fetchFieldValues({id:e},t)}),P=(f.ZP.actions.updateFieldValues.toString(),function(e){return g("metabase/redux/metadata addParamValues"),f.ZP.actions.addParamValues(e)}),C=function(e){return g("metabase/redux/metadata addFields"),f.ZP.actions.addFields(e)},k=(f.ZP.actions.update.toString(),f.ZP.actions.deleteFieldDimension.toString(),f.ZP.actions.updateFieldDimension.toString(),(0,r.RU)("metabase/metadata/FETCH_REVISIONS",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var i=b(regeneratorRuntime.mark((function i(o,a){var l,c,s;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return l=["revisions",e,t],c=["revisions"],s=function(){var n=b(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=e,n.t1=t,n.next=4,u.RevisionsApi.get({id:t,entity:e});case 4:return n.t2=n.sent,n.abrupt("return",{type:n.t0,id:n.t1,revisions:n.t2});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i.next=5,(0,r.rQ)({dispatch:o,getState:a,requestStatePath:l,existingStatePath:c,getData:s,reload:n});case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()}))),A=((0,r.RU)("metabase/metadata/FETCH_METRIC_TABLE",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(w());case 2:return o=(0,i.getIn)(r(),["entities","metrics",e]),a=o.table_id,t.next=6,n(E(a));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),(0,r.RU)("metabase/metadata/FETCH_METRIC_REVISIONS",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n(k("metric",e)),n(w())]);case 2:return o=(0,i.getIn)(r(),["entities","metrics",e]),a=o.table_id,t.next=6,n(E(a));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),(0,r.RU)("metabase/metadata/FETCH_SEGMENT_FIELDS",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,a,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(O());case 2:return o=(0,i.getIn)(r(),["entities","segments",e]),a=o.table_id,t.next=6,n(E(a));case 6:return u=(0,i.getIn)(r(),["entities","tables",a]),l=u.db_id,t.next=10,n(S(l));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),(0,r.RU)("metabase/metadata/FETCH_SEGMENT_TABLE",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(O());case 2:return o=(0,i.getIn)(r(),["entities","segments",e]),a=o.table_id,t.next=6,n(E(a));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),(0,r.RU)("metabase/metadata/FETCH_SEGMENT_REVISIONS",(function(e){return function(){var t=b(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([n(k("segment",e)),n(O())]);case 2:return o=(0,i.getIn)(r(),["entities","segments",e]),a=o.table_id,t.next=6,n(E(a));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()})),function(e,t){return g("metabase/redux/metadata addRemappings"),f.ZP.actions.addRemappings({id:e},t)}),D=(0,r.RU)("metabase/metadata/FETCH_REMAPPING",(function(e,t){return function(){var n=b(regeneratorRuntime.mark((function n(i,o){var l,c,s,f,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=(0,a.sd)(o()),c=l.field(t),s=c&&c.remappedField(),c&&s&&!c.hasRemappedValue(e)&&(f=(c.target||c).id,d=s.id,(0,r.rQ)({dispatch:i,getState:o,requestStatePath:["entities","remapping",f,JSON.stringify(e)],getData:function(){var t=b(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.MetabaseApi.field_remapping({value:e,fieldId:f,remappedFieldId:d});case 2:(n=t.sent)&&i(A(c.id,[n]));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()})),R=((0,r.RU)("metabase/metadata/FETCH_REAL_DATABASES_WITH_METADATA",(function(){return function(){var e=b(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(j());case 2:return r=(0,i.getIn)(n(),["entities","databases"]),e.next=5,Promise.all(Object.values(r).map((function(e){return t(S(e.id))})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r,i=(r=o.ZP.chain(e).map((function(e){return e.dependentMetadata()}))).push.apply(r,m(t)).flatten().uniq(!1,(function(e){return e.type+e.id})).map((function(e){var t=e.type,n=e.id,r=e.foreignTables;return"table"===t?(r?s.ZP.actions.fetchMetadataAndForeignTables:s.ZP.actions.fetchMetadata)({id:n}):"field"===t?f.ZP.actions.fetch({id:n}):"schema"===t?c.Z.actions.fetchList({dbId:n}):void h.warn("loadMetadataForQueries: type ".concat(t," not implemented"))})).filter(Boolean).value();return Promise.all(i.map(n)).catch((function(e){return h.error("Failed loading metadata for query",e)}))}})},33094:function(e,t,n){"use strict";n.d(t,{IQ:function(){return d},xH:function(){return p},LQ:function(){return h},db:function(){return m}});var r,i=n(83269),o=n(77407),a=n(55446);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,i.Z)("metabase/requests/SET_REQUEST_LOADING",(function(e,t){return{statePath:e,queryKey:t}})),p=(0,i.Z)("metabase/requests/SET_REQUEST_LOADED",(function(e,t){return{statePath:e,queryKey:t}})),h=(0,i.Z)("metabase/requests/SET_REQUEST_ERROR",(function(e,t,n){return{statePath:e,queryKey:t,error:n}})),m=(0,i.Z)("metabase/requests/SET_REQUEST_UNLOADED",(function(e){return{statePath:e}})),y=(0,o.Z)((f(r={},d,{next:function(e,t){var n=t.payload.queryKey;return s(s({},e),{},{queryKey:n,loading:!0,loaded:!1,error:null})}}),f(r,p,{next:function(e,t){var n=t.payload.queryKey;return s(s({},e),{},{queryKey:n,loading:!1,loaded:!0,error:null,fetched:!0})}}),f(r,h,{next:function(e,t){var n=t.payload,r=n.queryKey,i=n.error;return s(s({},e),{},{queryKey:r,loading:!1,loaded:!1,error:i})}}),f(r,m,{next:function(e){return s(s({},e),{},{loaded:!1,error:null})}}),r),{loading:!1,loaded:!1,fetched:!1,error:null,_isRequestState:!0});function v(e,t){if(!e||e._isRequestState)return y(e,t);for(var n=0,r=Object.entries(e);n<r.length;n++){var i=u(r[n],2),o=i[0],l=i[1];e=(0,a.assoc)(e,o,v(l,t))}return e}var b=function(e){return e.length<=2};t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t&&t.payload&&t.payload.statePath){var n=t.payload.statePath,r=!!(0,a.getIn)(e,n);!r&&b(n)||(e=(0,a.updateIn)(e,t.payload.statePath,(function(e){return v(e,t)})))}return e}},31595:function(e,t,n){"use strict";n.d(t,{GC:function(){return d}});var r=n(35463),i=n(24432),o=n(11093);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,u,"next",e)}function u(e){c(o,r,i,a,u,"throw",e)}a(void 0)}))}}var f="metabase/settings/REFRESH_SITE_SETTINGS",d=(0,i.RU)(f,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale;return function(){var e=s(regeneratorRuntime.mark((function e(n,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.SessionApi.properties(null,{headers:t?{"X-Metabase-Locale":t}:{}});case 2:return a=e.sent,r.Z.setAll(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),p=(0,i.jZ)(l({},f,{next:function(e,t){var n=t.payload;return u(u({},e),n)}}),window.MetabaseBootstrap);t.ZP=(0,i.UY)({values:p})},73319:function(e,t,n){"use strict";n.d(t,{nx:function(){return m},ZP:function(){return v}});var r=n(30558),i=n(24432),o=n(97249),a=n(98399);function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d="metabase/questions/ADD_UNDO",p="metabase/questions/DISMISS_UNDO",h=0,m=(0,i.RU)(d,(function(e){return function(t,n){var r=h++;return setTimeout((function(){return t(y(r,!1))}),5e3),s(s({},e),{},{id:r,_domId:r})}})),y=(0,i.PH)(p,(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&o.vF("Undo","Dismiss Undo"),e}));(0,i.RU)("metabase/questions/PERFORM_UNDO",(function(e){return function(t,n){o.vF("Undo","Perform Undo");var i=r.ZP.findWhere(n().undo,{id:e});i&&(i.actions.map((function(e){return t(e)})),t(y(e,!1)))}}));function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,i=t.error;if(n===d){if(i)return a.warn("ADD_UNDO",r),e;var o=s(s({},r),{},{actions:r.action?[r.action]:r.actions||[],action:null,count:r.count||1}),l=e[e.length-1];return l&&null!=o.verb&&o.verb===l.verb?e.slice(0,-1).concat(s(s({},o),{},{verb:l.verb,count:l.count+o.count,subject:l.subject===o.subject?o.subject:"item",actions:[].concat(u(l.actions),u(r.actions)),_domId:l._domId})):e.concat(o)}return n===p?i?(a.warn("DISMISS_UNDO",r),e):e.filter((function(e){return e.id!==r})):e}},40396:function(e,t,n){"use strict";n.d(t,{H6:function(){return d},Ze:function(){return h},ar:function(){return m}});var r,i=n(24432),o=n(11093),a=n(35123);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}var f="metabase/user/REFRESH_CURRENT_USER",d=(0,i.PH)(f,(function(){try{return o.UserApi.current()}catch(e){return null}})),p=((0,i.RU)("metabase/user/LOAD_CURRENT_USER",(function(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n().currentUser){e.next=3;break}return e.next=3,t(d());case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()})),"metabase/user/CLEAR_CURRENT_USER"),h=(0,i.PH)(p),m=(0,i.jZ)((c(r={},p,{next:function(e,t){return null}}),c(r,f,{next:function(e,t){return t.payload}}),c(r,a.CLOSE_QB_NEWB_MODAL,{next:function(e,t){t.payload;return l(l({},e),{},{is_qbnewb:!1})}}),r),null)},40242:function(e,t,n){"use strict";n.d(t,{ci:function(){return l},Ok:function(){return f},Gn:function(){return d},a$:function(){return p},po:function(){return h},WU:function(){return m},KD:function(){return y},$C:function(){return v},Ic:function(){return g},t1:function(){return w},p8:function(){return O},XA:function(){return j},Vt:function(){return S},ad:function(){return E},$7:function(){return _},g0:function(){return x}});var r=n(64671),i=n(58914),o=n(19269);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var u=new r.fK.Entity("questions"),l=new r.fK.Entity("bookmarks"),c=new r.fK.Entity("dashboards"),s=new r.fK.Entity("pulses"),f=new r.fK.Entity("collections"),d=new r.fK.Entity("databases"),p=new r.fK.Entity("schemas"),h=new r.fK.Entity("tables",{},{processStrategy:function(e){var t=a({},e),n="string"==typeof t.id,r=n?o.zz:t.db_id;return"string"!=typeof t.schema&&null!==t.schema||(t.schema_name=t.schema,t.schema={id:(0,i.E3)(r,t.schema_name),name:t.schema_name,database:{id:r,is_saved_questions:n}}),t}}),m=new r.fK.Entity("fields"),y=new r.fK.Entity("segments"),v=new r.fK.Entity("metrics"),b=new r.fK.Entity("snippets"),g=new r.fK.Entity("snippetCollections"),w=new r.fK.Entity("timelines"),O=new r.fK.Entity("timelineEvents");d.define({tables:[h],schemas:[p]}),p.define({database:d,tables:[h]}),h.define({db:d,fields:[m],segments:[y],metrics:[v],schema:p}),m.define({target:m,table:h,name_field:m,dimensions:{human_readable_field:m}}),y.define({table:h}),v.define({table:h}),w.define({collection:f,events:[O]});var j={questions:u,bookmarks:l,dashboards:c,pulses:s,collections:f,segments:y,metrics:v,snippets:b,snippetCollections:g},S=new r.fK.Union(j,(function(e,t,n){return(0,i.mL)(e)}));f.define({items:[S]});var E=new r.fK.Entity("recentItems",void 0,{idAttribute:function(e){var t=e.model,n=e.model_id;return"".concat(t,":").concat(n)}}),_=new r.fK.Entity("popularItems",void 0,{idAttribute:function(e){var t=e.model,n=e.model_id;return"".concat(t,":").concat(n)}}),x=new r.fK.Entity("loginHistory",void 0,{idAttribute:function(e){var t=e.timestamp;return"".concat(t)}})},81932:function(e,t,n){"use strict";n.d(t,{VN:function(){return Se},sd:function(){return Oe},d6:function(){return je}});var r,i=n(12463),o=n(24584),a=n(11217),u=n(64583),l=n(58914),c=n(2818);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var w,O,j,S,E,_,x=(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(o,e);var t,n,r,i=v(o);function o(){return h(this,o),i.apply(this,arguments)}return t=o,n=[{key:"displayName",value:function(){return this.name}},{key:"schema",value:function(e){return this.metadata.schema((0,l.E3)(this.id,e))}},{key:"schemaNames",value:function(){return this.schemas.map((function(e){return e.name})).sort((function(e,t){return e.localeCompare(t)}))}},{key:"getSchemas",value:function(){return this.schemas}},{key:"schemasCount",value:function(){return this.schemas.length}},{key:"getTables",value:function(){return this.tables}},{key:"tablesLookup",value:function(){return(0,c.uA)(this.tables,"id")}},{key:"tables_lookup",get:function(){return this.tablesLookup()}},{key:"hasFeature",value:function(e){if(!e)return!0;var t=new Set(this.features);return"join"===e?t.has("left-join")||t.has("right-join")||t.has("inner-join")||t.has("full-join"):t.has(e)}},{key:"supportsPivots",value:function(){return this.hasFeature("expressions")&&this.hasFeature("left-join")}},{key:"canWrite",value:function(){return"write"===this.native_permissions}},{key:"newQuestion",value:function(){return this.question().setDefaultQuery().setDefaultDisplay()}},{key:"question",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{"source-table":null};return a.Z.create({metadata:this.metadata,dataset_query:{database:this.id,type:"query",query:e}})}},{key:"nativeQuestion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.Z.create({metadata:this.metadata,dataset_query:{database:this.id,type:"native",native:d({query:"","template-tags":{}},e)}})}},{key:"nativeQuery",value:function(e){return this.nativeQuestion(e).query()}},{key:"savedQuestionsDatabase",value:function(){return this.metadata.databasesList().find((function(e){return e.is_saved_questions}))}},{key:"_constructor",value:function(e,t,n,r,i,o,a){this.id=e,this.name=t,this.description=n,this.tables=r,this.schemas=i,this.metadata=o,this.auto_run_queries=a}}],n&&m(t.prototype,n),r&&m(t,r),o}(u.Z),w=r.prototype,O="tablesLookup",j=[c.HP],S=Object.getOwnPropertyDescriptor(r.prototype,"tablesLookup"),E=r.prototype,_={},Object.keys(S).forEach((function(e){_[e]=S[e]})),_.enumerable=!!_.enumerable,_.configurable=!!_.configurable,("value"in _||_.initializer)&&(_.writable=!0),_=j.slice().reverse().reduce((function(e,t){return t(w,O,e)||e}),_),E&&void 0!==_.initializer&&(_.value=_.initializer?_.initializer.call(E):void 0,_.initializer=void 0),void 0===_.initializer&&(Object.defineProperty(w,O,_),_=null),r),P=n(83360);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,n,r,i=R(o);function o(){return k(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"displayName",value:function(){return(0,P.MI)((0,P.OI)(this.name))}},{key:"getTables",value:function(){return this.tables}},{key:"_constructor",value:function(e,t,n){this.name=e,this.database=t,this.tables=n}}])&&A(t.prototype,n),r&&A(t,r),o}(u.Z),q=n(66320),M=n(89326);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var i=V(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(o,e);var t,n,r,i=F(o);function o(){return L(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"displayName",value:function(){return this.name}},{key:"aggregationClause",value:function(){return["metric",this.id]}},{key:"definitionQuery",value:function(){return this.definition?this.table.query().setQuery(this.definition):null}},{key:"aggregation",value:function(){var e=this.definitionQuery();if(e)return e.aggregations()[0]}},{key:"columnName",value:function(){var e=this.aggregation();return e?e.columnName():"string"==typeof this.id?this.id:null}},{key:"isActive",value:function(){return!this.archived}},{key:"_constructor",value:function(e,t,n,r,i,o,a){this.name=e,this.description=t,this.database=n,this.table=r,this.id=i,this.definition=o,this.archived=a}}])&&B(t.prototype,n),r&&B(t,r),o}(u.Z);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},W(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=J(e);if(t){var i=J(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(o,e);var t,n,r,i=$(o);function o(){return Y(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"displayName",value:function(){return this.name}},{key:"filterClause",value:function(){return["segment",this.id]}},{key:"isActive",value:function(){return!this.archived}},{key:"_constructor",value:function(e,t,n,r,i,o){this.name=e,this.description=t,this.database=n,this.table=r,this.id=i,this.archived=o}}])&&G(t.prototype,n),r&&G(t,r),o}(u.Z),ee=n(25359),te=n(30558),ne=n(1861),re=n(98399);function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){return e.entities.databases},se=function(e){return e.entities.tables},fe=(0,i.createSelector)([se,function(e,t){return null==t?void 0:t.includeHiddenTables}],(function(e,t){return t?e:Pe(e,(function(e){return null==e.visibility_type}))})),de=(0,i.createSelector)([function(e){return e.entities.fields},se],(function(e,t){return Pe(e,(function(e){var n=t[e.table_id];return(!n||null==n.visibility_type)&&"sensitive"!==e.visibility_type}))})),pe=function(e){return e.entities.metrics},he=function(e){return e.entities.segments},me=function(e){return new x(e)},ye=function(e){return new N(e)},ve=function(e){return new q.Z(e)},be=function(e){return new M.Z(ue(ue({},e),{},{_comesFromEndpoint:!0}))},ge=function(e){return new X(e)},we=function(e){return new U(e)},Oe=(0,i.createSelector)([ce,function(e){return e.entities.schemas},fe,de,he,pe],(function(e,t,n,r,i,a){var u=new o.Z;return u.databases=Ee(u,e,me),u.schemas=Ee(u,t,ye),u.tables=Ee(u,n,ve),u.fields=Ee(u,r,be),u.segments=Ee(u,i,ge),u.metrics=Ee(u,a,we),_e(u.databases,"tables",(function(e){var t;return(null===(t=e.tables)||void 0===t?void 0:t.length)>0?e.tables.map((function(e){return u.table(e)})).filter((function(e){return null!=e})):Object.values(u.tables).filter((function(t){return!(0,ee.dx)(t.id)&&t.schema&&t.db_id===e.id}))})),_e(u.schemas,"database",(function(e){return u.database(e.database)})),xe(u.tables,"fields",u.fields),xe(u.tables,"segments",u.segments),xe(u.tables,"metrics",u.metrics),_e(u.tables,"db",(function(e){return u.database(e.db_id||e.db)})),_e(u.tables,"schema",(function(e){return u.schema(e.schema)})),_e(u.databases,"schemas",(function(e){return e.schemas?e.schemas.map((function(e){return u.schema(e)})):Object.values(u.schemas).filter((function(t){return t.database&&t.database.id===e.id}))})),_e(u.schemas,"tables",(function(e){return e.tables?e.tables.map((function(e){return u.table(e)})):e.database&&e.database.tables.length>0?e.database.tables.filter((function(t){return t.schema_name===e.name})):Object.values(u.tables).filter((function(t){return t.schema&&t.schema.id===e.id}))})),_e(u.segments,"table",(function(e){return u.table(e.table_id)})),_e(u.metrics,"table",(function(e){return u.table(e.table_id)})),_e(u.fields,"table",(function(e){return u.table(e.table_id)})),_e(u.fields,"target",(function(e){return u.field(e.fk_target_field_id)})),_e(u.fields,"name_field",(function(e){return null!=e.name_field?u.field(e.name_field):e.table&&e.isPK()?te.ZP.find(e.table.fields,(function(e){return e.isEntityName()})):void 0})),_e(u.fields,"values",(function(e){return(0,ne.W6)(e)})),_e(u.fields,"remapping",(function(e){return new Map((0,ne.LP)(e))})),u})),je=function(e,t){return Oe(e,ue(ue({},t),{},{includeHiddenTables:!0}))},Se=((0,i.createSelector)([Oe],(function(e){return e.databases})),(0,i.createSelector)([Oe],(function(e){return e.tables})),(0,i.createSelector)([Oe],(function(e){return e.fields})));(0,i.createSelector)([Oe],(function(e){return e.metrics})),(0,i.createSelector)([Oe],(function(e){return e.segments}));function Ee(e,t,n){for(var r={},i=0,o=Object.values(t);i<o.length;i++){var a=o[i];a&&null!=a.id?(r[a.id]=n(a),r[a.id].metadata=e):re.warn("Missing id:",a)}return r}function _e(e,t,n){for(var r=0,i=Object.values(e);r<i.length;r++){var o=i[r];o[t]=n(o)}}function xe(e,t,n){_e(e,t,(function(e){return(e[t]||[]).map((function(e){return n[e]})).filter((function(e){return null!=e}))}))}function Pe(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=ie(i[r],2),a=o[0],u=o[1];t(u)&&(n[a]=u)}return n}},6697:function(e,t,n){"use strict";n.d(t,{PR:function(){return o},n5:function(){return a},w3:function(){return u},tO:function(){return l},to:function(){return c}});var r=n(40930),i=n(12463),o=function(e){return e.currentUser},a=(0,i.createSelector)([o],(function(e){return null==e?void 0:e.id})),u=(0,i.createSelector)([o],(function(e){return e&&e.is_superuser||!1})),l=((0,i.createSelector)([u,function(e){return r.o7.selectors.canManageSubscriptions(e)}],(function(e,t){return e||t})),(0,i.createSelector)([o],(function(e){return e&&e.login_attributes||[]}))),c=(0,i.createSelector)([o],(function(e){return e&&e.personal_collection_id||null}))},11093:function(e,t,n){"use strict";n.r(t),n.d(t,{ActivityApi:function(){return w},BookmarkApi:function(){return O},GTAPApi:function(){return j},StoreApi:function(){return S},maybeUsePivotEndpoint:function(){return E},CardApi:function(){return _},DashboardApi:function(){return x},CollectionsApi:function(){return P},PublicApi:function(){return C},EmbedApi:function(){return k},AutoApi:function(){return A},EmailApi:function(){return D},SlackApi:function(){return R},LdapApi:function(){return I},TimelineApi:function(){return T},TimelineEventApi:function(){return N},MetabaseApi:function(){return q},ModerationReviewApi:function(){return M},PulseApi:function(){return Z},AlertApi:function(){return L},SegmentApi:function(){return B},MetricApi:function(){return z},RevisionApi:function(){return F},RevisionsApi:function(){return Q},SessionApi:function(){return V},SettingsApi:function(){return U},PermissionsApi:function(){return H},SetupApi:function(){return Y},UserApi:function(){return G},UtilApi:function(){return W},GeoJSONApi:function(){return $},I18NApi:function(){return K},TaskApi:function(){return J},setPublicQuestionEndpoints:function(){return X},setPublicDashboardEndpoints:function(){return ee},setEmbedQuestionEndpoints:function(){return te},setEmbedDashboardEndpoints:function(){return ne}});var r=n(30558),i=n(90635),o=n(36764),a=n(11217),u=n(55799),l=n(24531),c=n.n(l);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=o.L?"/api/preview_embed":"/api/embed",w={list:(0,i.HT)("/api/activity"),recent_views:(0,i.HT)("/api/activity/recent_views")},O={card:{create:(0,i.a4)("/api/bookmark/card/:id"),delete:(0,i.yY)("/api/bookmark/card/:id")},collection:{create:(0,i.a4)("/api/bookmark/collection/:id"),delete:(0,i.yY)("/api/bookmark/collection/:id")},dashboard:{create:(0,i.a4)("/api/bookmark/dashboard/:id"),delete:(0,i.yY)("/api/bookmark/dashboard/:id")},reorder:(0,i.uO)("/api/bookmark/ordering")},j={list:(0,i.HT)("/api/mt/gtap"),create:(0,i.a4)("/api/mt/gtap"),update:(0,i.uO)("/api/mt/gtap/:id"),attributes:(0,i.HT)("/api/mt/user/attributes")},S={tokenStatus:(0,i.HT)("/api/premium-features/token/status")};function E(e,t,n){function i(e){var t=u.T7.parseMBQL(e);return t?t.withoutOptions("binning").mbql():e}var o=new a.Z(t,n);function l(e){return function(t){for(var n=o.setting("pivot_table.column_split"),a=o.isStructured()&&o.query().breakouts()||[],u=r.ZP.mapObject(n,(function(e){return e.map((function(e){return a.findIndex((function(t){return r.ZP.isEqual(i(t),i(e))}))})).filter((function(e){return-1!==e}))})),l=u.rows,c=u.columns,s=arguments.length,f=new Array(s>1?s-1:0),d=1;d<s;d++)f[d-1]=arguments[d];return e.apply(void 0,[v(v({},t),{},{pivot_rows:l,pivot_cols:c})].concat(f))}}if("pivot"!==t.display||!o.isStructured()||o.database()&&!o.database().supportsPivots())return e;for(var c=0,s=[[_.query,_.query_pivot],[x.cardQuery,x.cardQueryPivot],[q.dataset,q.dataset_pivot],[C.cardQuery,C.cardQueryPivot],[C.dashboardCardQuery,C.dashboardCardQueryPivot],[k.cardQuery,k.cardQueryPivot],[k.dashboardCardQuery,k.dashboardCardQueryPivot]];c<s.length;c++){var f=p(s[c],2),d=f[0],h=f[1];if(e===d)return l(h)}return e}var _={list:(0,i.HT)("/api/card",(function(e,t){var n=t.data;return e.filter((function(e){return!n.q||e.name.toLowerCase().indexOf(n.q.toLowerCase())>=0}))})),create:(0,i.a4)("/api/card"),get:(0,i.HT)("/api/card/:cardId"),update:(0,i.uO)("/api/card/:id"),delete:(0,i.yY)("/api/card/:cardId"),query:(0,i.a4)("/api/card/:cardId/query"),query_pivot:(0,i.a4)("/api/card/pivot/:cardId/query"),bookmark:{create:(0,i.a4)("/api/card/:id/bookmark"),delete:(0,i.yY)("/api/card/:id/bookmark")},listPublic:(0,i.HT)("/api/card/public"),listEmbeddable:(0,i.HT)("/api/card/embeddable"),createPublicLink:(0,i.a4)("/api/card/:id/public_link"),deletePublicLink:(0,i.yY)("/api/card/:id/public_link"),related:(0,i.HT)("/api/card/:cardId/related"),adHocRelated:(0,i.a4)("/api/card/related")},x={list:(0,i.HT)("/api/dashboard"),create:(0,i.a4)("/api/dashboard"),save:(0,i.a4)("/api/dashboard/save"),get:(0,i.HT)("/api/dashboard/:dashId"),update:(0,i.uO)("/api/dashboard/:id"),delete:(0,i.yY)("/api/dashboard/:dashId"),addcard:(0,i.a4)("/api/dashboard/:dashId/cards"),removecard:(0,i.yY)("/api/dashboard/:dashId/cards"),reposition_cards:(0,i.uO)("/api/dashboard/:dashId/cards"),favorite:(0,i.a4)("/api/dashboard/:dashId/favorite"),unfavorite:(0,i.yY)("/api/dashboard/:dashId/favorite"),parameterValues:(0,i.HT)("/api/dashboard/:dashId/params/:paramId/values"),parameterSearch:(0,i.HT)("/api/dashboard/:dashId/params/:paramId/search/:query"),validFilterFields:(0,i.HT)("/api/dashboard/params/valid-filter-fields"),listPublic:(0,i.HT)("/api/dashboard/public"),listEmbeddable:(0,i.HT)("/api/dashboard/embeddable"),createPublicLink:(0,i.a4)("/api/dashboard/:id/public_link"),deletePublicLink:(0,i.yY)("/api/dashboard/:id/public_link"),cardQuery:(0,i.a4)("/api/dashboard/:dashboardId/dashcard/:dashcardId/card/:cardId/query"),cardQueryPivot:(0,i.a4)("/api/dashboard/pivot/:dashboardId/dashcard/:dashcardId/card/:cardId/query"),exportCardQuery:(0,i.a4)("/api/dashboard/:dashboardId/dashcard/:dashcardId/card/:cardId/query/:exportFormat")},P={list:(0,i.HT)("/api/collection"),create:(0,i.a4)("/api/collection"),get:(0,i.HT)("/api/collection/:id"),getRoot:(0,i.HT)("/api/collection/root"),update:(0,i.uO)("/api/collection/:id"),graph:(0,i.HT)("/api/collection/graph"),updateGraph:(0,i.uO)("/api/collection/graph")},C={card:(0,i.HT)("/api/public/card/:uuid"),cardQuery:(0,i.HT)("/api/public/card/:uuid/query"),cardQueryPivot:(0,i.HT)("/api/public/pivot/card/:uuid/query"),dashboard:(0,i.HT)("/api/public/dashboard/:uuid"),dashboardCardQuery:(0,i.HT)("/api/public/dashboard/:uuid/dashcard/:dashcardId/card/:cardId"),dashboardCardQueryPivot:(0,i.HT)("/api/public/pivot/dashboard/:uuid/dashcard/:dashcardId/card/:cardId")},k={card:(0,i.HT)(g+"/card/:token"),cardQuery:(0,i.HT)(g+"/card/:token/query"),cardQueryPivot:(0,i.HT)(g+"/pivot/card/:token/query"),dashboard:(0,i.HT)(g+"/dashboard/:token"),dashboardCardQuery:(0,i.HT)(g+"/dashboard/:token/dashcard/:dashcardId/card/:cardId"),dashboardCardQueryPivot:(0,i.HT)(g+"/pivot/dashboard/:token/dashcard/:dashcardId/card/:cardId")},A={dashboard:(0,i.HT)("/api/automagic-dashboards/:subPath",{raw:{subPath:!0}}),db_candidates:(0,i.HT)("/api/automagic-dashboards/database/:id/candidates")},D={updateSettings:(0,i.uO)("/api/email"),sendTest:(0,i.a4)("/api/email/test"),clear:(0,i.yY)("/api/email")},R={getManifest:(0,i.HT)("/api/slack/manifest"),updateSettings:(0,i.uO)("/api/slack/settings")},I={updateSettings:(0,i.uO)("/api/ldap/settings")},T={list:(0,i.HT)("/api/timeline"),listForCollection:(0,i.HT)("/api/collection/:collectionId/timelines"),get:(0,i.HT)("/api/timeline/:id"),create:(0,i.a4)("/api/timeline"),update:(0,i.uO)("/api/timeline/:id")},N={list:(0,i.HT)("/api/timeline-event"),get:(0,i.HT)("/api/timeline-event/:id"),create:(0,i.a4)("/api/timeline-event"),update:(0,i.uO)("/api/timeline-event/:id")},q={db_list:(0,i.HT)("/api/database",(function(e){return e.data})),db_create:(0,i.a4)("/api/database"),db_validate:(0,i.a4)("/api/database/validate"),db_add_sample_database:(0,i.a4)("/api/database/sample_database"),db_get:(0,i.HT)("/api/database/:dbId"),db_update:(0,i.uO)("/api/database/:id"),db_delete:(0,i.yY)("/api/database/:dbId"),db_metadata:(0,i.HT)("/api/database/:dbId/metadata"),db_schemas:(0,i.HT)("/api/database/:dbId/schemas"),db_schema_tables:(0,i.HT)("/api/database/:dbId/schema/:schemaName"),db_fields:(0,i.HT)("/api/database/:dbId/fields"),db_idfields:(0,i.HT)("/api/database/:dbId/idfields"),db_autocomplete_suggestions:(0,i.HT)("/api/database/:dbId/autocomplete_suggestions?search=:prefix"),db_sync_schema:(0,i.a4)("/api/database/:dbId/sync_schema"),db_rescan_values:(0,i.a4)("/api/database/:dbId/rescan_values"),db_discard_values:(0,i.a4)("/api/database/:dbId/discard_values"),db_get_db_ids_with_deprecated_drivers:(0,i.HT)("/db-ids-with-deprecated-drivers"),table_list:(0,i.HT)("/api/table"),table_update:(0,i.uO)("/api/table/:id"),table_fks:(0,i.HT)("/api/table/:tableId/fks"),table_query_metadata:(0,i.HT)("/api/table/:tableId/query_metadata",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.db||"googleanalytics"!==t.db.engine){e.next=7;break}return e.next=3,c()();case 3:i=e.sent,t.fields=t.fields.map((function(e){return v(v({},e),i.fields[e.name])})),(n=t.metrics).push.apply(n,f(i.metrics.map((function(e){return v(v({},e),{},{table_id:t.id,googleAnalyics:!0})})))),(r=t.segments).push.apply(r,f(i.segments.map((function(e){return v(v({},e),{},{table_id:t.id,googleAnalyics:!0})}))));case 7:if(t&&t.fields){o=s(t.fields);try{for(o.s();!(a=o.n()).done;)(u=a.value).dimension_options&&(u.dimension_options=u.dimension_options.map((function(e){return t.dimension_options[e]}))),u.default_dimension_option&&(u.default_dimension_option=t.dimension_options[u.default_dimension_option])}catch(e){o.e(e)}finally{o.f()}}return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,u,"next",e)}function u(e){d(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),table_rescan_values:(0,i.a4)("/api/table/:tableId/rescan_values"),table_discard_values:(0,i.a4)("/api/table/:tableId/discard_values"),field_get:(0,i.HT)("/api/field/:fieldId"),field_values:(0,i.HT)("/api/field/:fieldId/values"),field_values_update:(0,i.a4)("/api/field/:fieldId/values"),field_update:(0,i.uO)("/api/field/:id"),field_dimension_update:(0,i.a4)("/api/field/:fieldId/dimension"),field_dimension_delete:(0,i.yY)("/api/field/:fieldId/dimension"),field_rescan_values:(0,i.a4)("/api/field/:fieldId/rescan_values"),field_discard_values:(0,i.a4)("/api/field/:fieldId/discard_values"),field_search:(0,i.HT)("/api/field/:fieldId/search/:searchFieldId"),field_remapping:(0,i.HT)("/api/field/:fieldId/remapping/:remappedFieldId"),dataset:(0,i.a4)("/api/dataset"),dataset_pivot:(0,i.a4)("/api/dataset/pivot"),dataset_duration:(0,i.a4)("/api/dataset/duration"),native:(0,i.a4)("/api/dataset/native"),datasetEndpoint:(0,i.a4)("/api/:endpoint",{raw:{endpoint:!0}})},M={create:(0,i.a4)("/api/moderation-review"),update:(0,i.uO)("/api/moderation-review/:id")},Z={list:(0,i.HT)("/api/pulse"),create:(0,i.a4)("/api/pulse"),get:(0,i.HT)("/api/pulse/:pulseId"),update:(0,i.uO)("/api/pulse/:id"),test:(0,i.a4)("/api/pulse/test"),form_input:(0,i.HT)("/api/pulse/form_input"),preview_card:(0,i.HT)("/api/pulse/preview_card_info/:id"),unsubscribe:(0,i.yY)("/api/pulse/:id/subscription")},L={list:(0,i.HT)("/api/alert"),list_for_question:(0,i.HT)("/api/alert/question/:questionId"),get:(0,i.HT)("/api/alert/:id"),create:(0,i.a4)("/api/alert"),update:(0,i.uO)("/api/alert/:id"),unsubscribe:(0,i.yY)("/api/alert/:id/subscription")},B={list:(0,i.HT)("/api/segment"),create:(0,i.a4)("/api/segment"),get:(0,i.HT)("/api/segment/:segmentId"),update:(0,i.uO)("/api/segment/:id"),delete:(0,i.yY)("/api/segment/:segmentId")},z={list:(0,i.HT)("/api/metric"),create:(0,i.a4)("/api/metric"),get:(0,i.HT)("/api/metric/:metricId"),update:(0,i.uO)("/api/metric/:id"),delete:(0,i.yY)("/api/metric/:metricId")},F={list:(0,i.HT)("/api/revision"),revert:(0,i.a4)("/api/revision/revert")},Q={get:(0,i.HT)("/api/:entity/:id/revisions")},V={create:(0,i.a4)("/api/session"),createWithGoogleAuth:(0,i.a4)("/api/session/google_auth"),delete:(0,i.yY)("/api/session"),properties:(0,i.HT)("/api/session/properties"),forgot_password:(0,i.a4)("/api/session/forgot_password"),reset_password:(0,i.a4)("/api/session/reset_password"),password_reset_token_valid:(0,i.HT)("/api/session/password_reset_token_valid")},U={list:(0,i.HT)("/api/setting"),put:(0,i.uO)("/api/setting/:key"),putAll:(0,i.uO)("/api/setting")},H={groups:(0,i.HT)("/api/permissions/group"),groupDetails:(0,i.HT)("/api/permissions/group/:id"),graph:(0,i.HT)("/api/permissions/graph"),updateGraph:(0,i.uO)("/api/permissions/graph"),createGroup:(0,i.a4)("/api/permissions/group"),memberships:(0,i.HT)("/api/permissions/membership"),createMembership:(0,i.a4)("/api/permissions/membership"),deleteMembership:(0,i.yY)("/api/permissions/membership/:id"),updateMembership:(0,i.uO)("/api/permissions/membership/:id"),updateGroup:(0,i.uO)("/api/permissions/group/:id"),deleteGroup:(0,i.yY)("/api/permissions/group/:id")},Y={create:(0,i.a4)("/api/setup"),validate_db:(0,i.a4)("/api/setup/validate"),admin_checklist:(0,i.HT)("/api/setup/admin_checklist"),user_defaults:(0,i.HT)("/api/setup/user_defaults")},G={create:(0,i.a4)("/api/user"),list:(0,i.HT)("/api/user"),current:(0,i.HT)("/api/user/current"),update:(0,i.uO)("/api/user/:id"),update_password:(0,i.uO)("/api/user/:id/password"),update_qbnewb:(0,i.uO)("/api/user/:id/modal/qbnewb"),delete:(0,i.yY)("/api/user/:userId"),reactivate:(0,i.uO)("/api/user/:userId/reactivate"),send_invite:(0,i.a4)("/api/user/:id/send_invite")},W={password_check:(0,i.a4)("/api/util/password_check"),random_token:(0,i.HT)("/api/util/random_token"),logs:(0,i.HT)("/api/util/logs"),bug_report_details:(0,i.HT)("/api/util/bug_report_details"),connection_pool_details_url:"/api/util/diagnostic_info/connection_pool_info"},$={load:(0,i.HT)("/api/geojson"),get:(0,i.HT)("/api/geojson/:id")},K={locale:(0,i.HT)("/app/locales/:locale.json")},J={get:(0,i.HT)("/api/task"),getJobsInfo:(0,i.HT)("/api/task/info")};function X(e){ie("/api/public/card/:uuid",{uuid:e})}function ee(){oe("/api/public")}function te(e){o.L||ie("/api/embed/card/:token",{token:e})}function ne(){o.L||oe("/api/embed")}function re(e,t){return function(n,r){return(0,i.HT)(e)(v(v({},t),n),r)}}function ie(e,t){q.field_values=re(e+"/field/:fieldId/values",t),q.field_search=re(e+"/field/:fieldId/search/:searchFieldId",t),q.field_remapping=re(e+"/field/:fieldId/remapping/:remappedFieldId",t)}function oe(e){x.parameterValues=(0,i.HT)(e+"/dashboard/:dashId/params/:paramId/values"),x.parameterSearch=(0,i.HT)(e+"/dashboard/:dashId/params/:paramId/search/:query")}},47707:function(e,t,n){"use strict";n.d(t,{_9:function(){return r},y4:function(){return i}});var r="@media screen and (min-width: 40em)",i="@media screen and (max-width: 40em)"},7500:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=["4px","8px","16px","32px","64px","128px"];function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=r[e];return t||""}},26864:function(e,t,n){"use strict";n.r(t),n.d(t,{getSensibleDisplays:function(){return O},setDefaultVisualization:function(){return j},registerVisualization:function(){return S},getVisualizationRaw:function(){return E},getVisualizationTransformed:function(){return _},getIconForVisualizationType:function(){return x},extractRemappings:function(){return P},getMaxMetricsSupported:function(){return C}});var r,i,o,a,u=n(25312),l=n(30558),c=n(98399);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,g=new Map,w=new Map;function O(e){return Array.from(g).filter((function(t){var n=m(t,2)[1];return e.rows.length<=1||n.isSensible&&n.isSensible(e)})).map((function(e){return m(e,1)[0]}))}function j(e){b=e}function S(e){if(null==e)throw new Error((0,u.t)(r||(r=h(["Visualization is null"]))));var t=e.identifier;if(null==t)throw new Error((0,u.t)(i||(i=h(["Visualization must define an 'identifier' static variable: "])))+e.name);if(g.has(t))throw new Error((0,u.t)(o||(o=h(["Visualization with that identifier is already registered: "])))+e.name);g.set(t,e);var n,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(e.aliases||[]);try{for(a.s();!(n=a.n()).done;){var l=n.value;w.set(l,e)}}catch(e){a.e(e)}finally{a.f()}}function E(e){return{series:e,visualization:g.get(e[0].card.display)}}function _(e){if(l.ZP.any(e,(function(e){return null==e.data}))||l.ZP.any(e,(function(e){return e.error})))return E(e);var t,n;do{if(!(t=g.get(e[0].card.display)))throw new Error((0,u.t)(a||(a=h(["No visualization for ",""])),e[0].card.display));n=e,"function"==typeof t.transformSeries&&(e=t.transformSeries(e)),e!==n&&((e=p(e))._raw=n)}while(e!==n);return{series:e,visualization:t}}function x(e){var t=g.get(e);return t&&t.iconName}g.get=function(e){return Map.prototype.get.call(this,e)||w.get(e)||b};var P=function(e){return e.map((function(e){return f(f({},e),{},{data:e.data&&k(e.data)})}))};function C(e){return g.get(e).maxMetricsSupported||1/0}var k=function(e){var t=e.cols.map((function(t){return f(f({},t),{},{remapped_from_index:t.remapped_from&&l.ZP.findIndex(e.cols,(function(e){return e.name===t.remapped_from})),remapping:t.remapped_to&&new Map})})),n=e.rows.map((function(e,n){return e.filter((function(n,r){var i=t[r];return null==i.remapped_from||(t[i.remapped_from_index]&&t[i.remapped_from_index].remapping?(t[i.remapped_from_index].remapped_to_column=i,t[i.remapped_from_index].remapping.set(e[i.remapped_from_index],e[r]),!1):(c.warn("Invalid remapped_from",i),!0))}))}));return f(f({},e),{},{rows:n,cols:t.filter((function(e){return null==e.remapped_from}))})};t.default=g},41921:function(e,t,n){"use strict";n.d(t,{sy:function(){return a},SN:function(){return l},Mk:function(){return c},Kb:function(){return s}});var r=n(98958);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t=e.cols,n=e.rows,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((0,r.kE)(t[i]))return!0;var o=n.some((function(e){return"number"==typeof e[i]})),a=n.every((function(e){return"number"==typeof e[i]||null===e[i]}));return a&&o}function u(e){if(!isFinite(e))return 0;if(!e)return 0;for(var t=Math.ceil(Math.log10(Math.abs(e)));t>-14&&!s(e,Math.pow(10,t));)t--;return Math.pow(10,t)}function l(e){if(!isFinite(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}function c(e){var t,n=1/0,r=i(e);try{for(r.s();!(t=r.n()).done;){var o=u(t.value)||1;o<n&&(n=o)}}catch(e){r.e(e)}finally{r.f()}return n}var s=function(e,t){var n=Math.pow(10,-14);return Math.abs(e-Math.round(e/t)*t)<n}},59613:function(e,t,n){"use strict";n.d(t,{zz:function(){return j},eA:function(){return S},oW:function(){return E},sX:function(){return _},r_:function(){return x},KJ:function(){return D},bJ:function(){return R},BA:function(){return N},dQ:function(){return q},yj:function(){return M},rd:function(){return Z},P6:function(){return L},t4:function(){return B},c$:function(){return z},P7:function(){return F},UA:function(){return Q},l6:function(){return V},bS:function(){return U},Zq:function(){return H},RS:function(){return Y},yr:function(){return G},C5:function(){return W},rE:function(){return $},yM:function(){return K},ri:function(){return J},JR:function(){return X}});var r=n(30558),i=n(55446),o=n(55316),a=n(47667),u=n(30163),l=n(8765),c=n(41921),s=n(63614),f=n(20514);function d(e){return b(e)||m(e)||w(e)||v()}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e){return function(e){if(Array.isArray(e))return O(e)}(e)||m(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function y(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||w(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){if(Array.isArray(e))return e}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function w(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){e.width((0,s.Jm)(t)),e.height((0,s.eG)(t)),e.transitionDuration(0),e.brushOn&&e.brushOn(!1)}function S(e){var t,n=new Map,r=g(e.entries());try{for(r.s();!(t=r.n()).done;){var i=y(t.value,2),o=i[0],a=i[1];n.set(a,o)}}catch(e){r.e(e)}finally{r.f()}return n}function E(e,t){for(var n=e.top(1/0).sort((function(e,n){return t.get(e.key)-t.get(n.key)})),r=0;r<n.length;r++)n[r].index=r;e.all=function(){return n}}function _(e,t){var n,r=g(e);try{for(r.s();!(n=r.n()).done;){var i,o=g(n.value);try{for(o.s();!(i=o.n()).done;){E(i.value,t)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}}function x(e,t,n){return e.reduce((function(e,r){return null==e&&null==r[t]?null:(null!=e&&null!=r[t]&&n(),(e||0)+(r[t]||0))}),(function(e,r){return null==e&&null==r[t]?null:(null!=e&&null!=r[t]&&n(),(e||0)-(r[t]||0))}),(function(){return null}))}function P(e,t,n){var r=C(e,t),i=r.parsedValue,o=r.warning;return void 0!==o&&n(o),i}var C=r.ZP.memoize((function(e,t){var n=t.isNumeric,r=t.isTimeseries,i=t.isQuantitative,o=t.unit;return r&&!i?function(e,t){if(null==e)return{parsedValue:null,warning:(0,f.JU)()};var n=(0,a.ZB)(e,t);if(!n.isValid())return{parsedValue:null,warning:(0,f.Am)(e)};return n.toString=T,{parsedValue:n}}(e,o):{parsedValue:n?e:String(J(e))}}),(function(e,t){return[e,p(e)].concat(h(Object.values(t))).join()}));function k(e){var t=e.settings,n=e.data,r=I({settings:t,data:n});return{isNumeric:(0,c.sy)(n,r),isTimeseries:Z(t)||(0,l.tL)(n,r),isQuantitative:L(t),unit:n.cols[r].unit}}function A(e){return!z(e)||B(e)}function D(e,t){var n=e.settings;return e.series.map((function(e){var r=e.data,i=k({settings:n,data:r}),o=r.rows;return A(n)?o=r.rows.filter((function(e){return null!==y(e,1)[0]})):i.isNumeric&&(o=r.rows.map((function(e){var t=d(e),n=t[0],r=t.slice(1),i=[X(n)].concat(h(r));return i._origin=e._origin,i}))),o.length<r.rows.length&&t((0,f.JU)()),o.map((function(e){var n=d(e),r=n[0],o=n.slice(1),a=i.unit,u=P(r,i,t),l=[u&&a&&"function"==typeof u.startOf?u.startOf(a):u].concat(h(o));return l._origin=e._origin,l}))}))}function R(e){var t,n=e.settings,i=e.series,o=i._raw,a=void 0===o?i:o,u=function(){},l=new Set,c=!0,s=!0,f=g(a);try{for(f.s();!(t=f.n()).done;){var d,p=t.value.data,h=I({settings:n,data:p}),m=k({settings:n,data:p}),y=void 0,v=g(p.rows);try{for(v.s();!(d=v.n()).done;){var b=d.value;if(!A(n)||null!==b[h]){var w=P(b[h],m,u);void 0!==y&&(c=c&&y<=w,s=s&&w<=y),y=w,l.add(w)}}}catch(e){v.e(e)}finally{v.f()}}}catch(e){f.e(e)}finally{f.f()}var O=Array.from(l);return s?O=r.ZP.sortBy(O,(function(e){return e})).reverse():c&&(O=r.ZP.sortBy(O,(function(e){return e}))),O}function I(e){var t=e.settings,n=e.data.cols,r=y(t["graph.dimensions"]||[],1)[0],i=n.findIndex((function(e){return e.name===r}));return-1===i?0:i}function T(){return this._i}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t&&t["waterfall.show_total"],i=e.slice(),o=i[0],a=o.map((function(e){return e[1]})),u=a.reduce((function(e,t){return e+t}),0),l=a.reduce((function(e,t){return{beams:[].concat(h(e.beams),[e.offset]),offset:e.offset+t}}),{beams:[],offset:0}),c=l.beams,s=a.slice();if(r){var f=[M({settings:t,series:n}),u];o[0]._origin&&(f._origin={seriesIndex:o[0]._origin.seriesIndex,rowIndex:o.length,cols:o[0]._origin.cols,row:f}),i[0]=[].concat(h(o),[f]),c.push(0),s.push(0)}else i[0]=o;i.push(i[0].map((function(e){return e.slice()}))),i.push(i[0].map((function(e){return e.slice()}))),i.push(i[0].map((function(e){return e.slice()})));for(var d=0;d<s.length;++d)i[0][d]._waterfallValue=i[0][d][1],i[0][d][1]=c[d],i[1][d][1]=s[d]<0?s[d]:0,i[2][d][1]=s[d]>0?s[d]:0,i[3][d][1]=!r||d<s.length-1?0:u;return i}function q(e,t,n){var r=e.settings,i=e.series;if(Z(r)){var o=(0,l.oY)(i.map((function(e){return e.data.cols[0].unit}))),a=(0,l.EP)(i,n),u=(0,l.BC)(t,o);return{count:u.count,interval:u.interval,timezone:a}}if(L(r)||B(r)){var s=Y(i).data.cols[0].binning_info;return s?s.bin_width:(0,c.Mk)(t)}}function M(e){var t=e.settings,n=e.series,i=R({settings:t,series:n}),o=q({settings:t,series:n},i,(function(){}));if(Z(t)){var a=o.count,l=o.interval;return i[i.length-1].clone().add(a,l)}return L(t)||B(t)?r.ZP.max(i)+o:u.XN}var Z=function(e){return"timeseries"===e["graph.x_axis.scale"]},L=function(e){return["linear","log","pow"].indexOf(e["graph.x_axis.scale"])>=0},B=function(e){return"histogram"===e["graph.x_axis._scale_original"]||"histogram"===e["graph.x_axis.scale"]},z=function(e){return"ordinal"===e["graph.x_axis.scale"]},F=function(e){return"line"===e.display},Q=function(e){return"area"===e.display},V=function(e){var t=e.settings,n=e.chartType;return B(t)&&"bar"===n},U=function(e,t){return e["stackable.stack_type"]},H=function(e,t){return"normalized"===e["stackable.stack_type"]},Y=function(e){return r.ZP.find(e,(function(e){return!(0,o.Y2)(e.data)}))},G=function(e){return(0,l.S9)(Y(e).data)};var W=function(e){return function(e){var t=e.cols[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0];return!!(t.remapping&&t.remapping.size>0)&&"string"==typeof t.remapping.values().next().value}(Y(e).data)},$=function(e){return null!=(0,i.getIn)(e,[0,"card","visualization_settings","click_behavior"])},K=function(e){return e.length>1&&(0,i.getIn)(e,[0,"card","id"])!==(0,i.getIn)(e,[1,"card","id"])};function J(e){return null===e?u.rd:e}function X(e){return null===e?u.Dv:e}},39322:function(e,t,n){"use strict";n.d(t,{di:function(){return Et},ST:function(){return vt},MU:function(){return Ot},xB:function(){return wt},Oc:function(){return St},VP:function(){return jt}});var r=n(55446),i=n(32735),o=n(27468),a=["value","onChange"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.value,n=e.onChange,r=l(e,a);return i.createElement(o.default,u({},r,{"data-testid":r.id,className:"input block full",value:t,onBlurChange:function(e){return n(e.target.value)}}))};var s=n(40841),f=n.n(s);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=["onChange"];function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o=b(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).state={value:String(null==e.value?"":e.value)},n}return t=a,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:String(null==e.value?"":e.value)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange,r=m(t,p);return i.createElement("input",h({type:"number"},r,{className:f()("input block full",{"border-error":""!==this.state.value&&isNaN(parseFloat(this.state.value))}),value:this.state.value,onChange:function(t){var r=parseFloat(t.target.value);isNaN(r)||r===e.props.value||n(r),e.setState({value:t.target.value})},onBlur:function(e){var t=parseFloat(e.target.value);isNaN(t)?n(void 0):n(t)}}))}}])&&y(t.prototype,n),r&&y(t,r),a}(i.Component),j=n(98912),S=function(e){var t=e.value,n=e.onChange,r=e.options,o=void 0===r?[]:r,a=e.className;return i.createElement(j.Z,{className:a,value:t,onChange:n,options:o,vertical:!0})},E=n(50942),_=["value","onChange","options","isInitiallyOpen","className","placeholder","placeholderNoOptions"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=function(e){var t=e.value,n=void 0===t?null:t,r=e.onChange,o=e.options,a=void 0===o?[]:o,u=e.isInitiallyOpen,l=e.className,c=e.placeholder,s=e.placeholderNoOptions,d=P(e,_);return i.createElement(E.ZP,x({className:f()(l,"block",{disabled:0===a.length||1===a.length&&a[0].value===n}),value:n,onChange:function(e){return r(e.target.value)},placeholder:0===a.length?s:c,isInitiallyOpen:u},d),a.map((function(e){return i.createElement(E.Wx,{key:e.value,name:e.name,value:e.value},e.name)})))},k=n(65629),A=function(e){var t=e.value,n=e.onChange;return i.createElement(k.Z,{value:t,onChange:n})},D=n(15065);function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}var I,T,N=function(e){return i.createElement(D.SegmentedControl,R({fullWidth:!0},e))},q=n(25312),M=n(30558),Z=n(65844),L=n(55316);function B(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var z,F=function(e){var t,n=e.value,r=e.options,o=e.onChange,a=e.onRemove,u=e.onShowWidget,l=e.className,c=e.columns,s=e.showColumnSetting;if(n&&s&&c){var d=M.ZP.findWhere(c,{name:n});d&&(t=(0,L.$Q)(d))}return i.createElement("div",{className:f()(l,"flex align-center")},i.createElement(C,{className:"flex-full",value:n,options:r,onChange:o,placeholder:(0,q.t)(I||(I=B(["Select a field"]))),placeholderNoOptions:(0,q.t)(T||(T=B(["No valid fields"]))),isInitiallyOpen:void 0===n}),t&&i.createElement(Z.ZP,{name:"gear",className:"ml1 text-medium text-brand-hover cursor-pointer",onClick:function(){u({id:"column_settings",props:{initialKey:t}})}}),i.createElement(Z.ZP,{"data-testid":"remove-".concat(n),name:"close",className:f()("ml1 text-medium text-brand-hover cursor-pointer",{"disabled hidden":!a}),onClick:a}))},Q=["value","options","onChange","addAnother"];function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function U(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var G=function(e){var t,n,r=e.value,o=void 0===r?[]:r,a=e.options,u=e.onChange,l=e.addAnother,c=Y(e,Q);return i.createElement("div",null,Array.isArray(o)?o.map((function(e,t){return i.createElement(F,V({},c,{className:t>0?"mt1":null,key:t,value:e,options:a,onChange:function(e){var n=U(o),r=o.indexOf(e);r>=0&&n.splice(r,1,o[t]),n.splice(t,1,e),u(n)},onRemove:o.filter((function(e){return null!=e})).length>1||o.length>1&&null==e?function(){return u([].concat(U(o.slice(0,t)),U(o.slice(t+1))))}:null}))})):i.createElement("span",{className:"text-error"},(0,q.t)(z||(t=["error"],n||(n=t.slice(0)),z=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))),l&&i.createElement("div",{className:"mt2 mb3"},i.createElement("a",{className:"text-brand text-bold py1 px2 rounded bg-light bg-medium-hover",onClick:function(){var e=a.filter((function(e){return o.indexOf(e.value)<0}));1===e.length?u(o.concat([e[0].value])):u(o.concat([void 0]))}},l)))},W=n(47679),$=n(26907),K=n(6336),J=n(59450),X=n(7843),ee=n(84468),te=n(56397);var ne,re,ie,oe,ae,ue,le,ce,se=(0,W.Z)("div",{target:"e13l9z4w2"})({name:"1meykgc",styles:"display:flex;justify-content:space-between;align-items:center;padding-top:1rem"}),fe=(0,W.Z)("div",{target:"e13l9z4w1"})({name:"kr6vls",styles:"display:flex;justify-content:space-between;align-items:center;padding-top:0.5rem"}),de=(0,W.Z)("div",{target:"e13l9z4w0"})({name:"kr6vls",styles:"display:flex;justify-content:space-between;align-items:center;padding-top:0.5rem"});function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function he(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),e}function Oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var i=xe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xe(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ke=(0,W.Z)("div",{target:"evip8xd0"})("padding:12px 14px;box-shadow:0 2px 3px ",(0,K.$n)(K.ZP["text-dark"],1.5),";&:hover{box-shadow:0 2px 5px ",(0,K.$n)(K.ZP["text-dark"],1.3),";transition:all 300ms linear;}");function Ae(e){var t=e.value,n=e.onChange;return null===t?null:i.createElement(se,null,i.createElement(ee.default,null,(0,q.t)(ne||(ne=Ce(["Show totals"])))),i.createElement(k.Z,{value:t,onChange:function(){return n(!t)}}))}function De(e){var t=e.iconName,n=e.onChange,r=e.currentValue,o=e.buttonValue,a=o===r;return i.createElement(Z.ZP,{name:t,onClick:function(){return n(a?void 0:o)},size:16,className:f()("sort cursor-pointer",{"text-brand":a,"text-medium text-brand-hover":!a})})}function Re(e){var t=e.value,n=e.onChange;return i.createElement(fe,null,i.createElement(ee.default,null,(0,q.t)(re||(re=Ce(["Sort order"])))),i.createElement("div",null,i.createElement(De,{iconName:"arrow_up",onChange:n,currentValue:t,buttonValue:te.rv}),i.createElement(De,{iconName:"arrow_down",onChange:n,currentValue:t,buttonValue:te.Ct})))}function Ie(e){var t=e.onEdit;return i.createElement(de,null,i.createElement(ee.default,null,(0,q.t)(ie||(ie=Ce(["Formatting"])))),i.createElement(ee.default,{onClick:t,className:"text-brand text-bold cursor-pointer"},(0,q.t)(oe||(oe=Ce(["See options"])))))}function Te(e){var t=e.partitionName,n=e.getColumnSettingValue,r=e.onChangeColumnSetting,o=e.onEditFormatting;return i.createElement("div",null,"values"!==t&&i.createElement("div",null,i.createElement(Ae,{value:n(te.u6),onChange:r.bind(null,te.u6)}),i.createElement(Re,{value:n(te.FG),onChange:r.bind(null,te.FG)})),i.createElement(Ie,{onEdit:o}))}var Ne=function(e){Oe(n,e);var t=Se(n);function n(e){var i;return be(this,n),Pe(_e(i=t.call(this,e)),"handleChangeColumnSetting",(function(e,t,n){var o=i.props,a=o.settings;(0,o.onChangeSettings)({column_settings:(0,r.assocIn)(a.column_settings,[(0,L.$Q)(e),t],n)})})),Pe(_e(i),"getColumnSettingValue",(function(e,t){var n=i.props.settings.column(e);return n&&n[t]})),Pe(_e(i),"handleEditFormatting",(function(e){e&&i.props.onShowWidget({id:"column_settings",props:{initialKey:(0,L.$Q)(e)}})})),Pe(_e(i),"updateDisplayedValue",(function(e){return i.setState({displayedValue:M.ZP.mapObject(e,(function(e){return e.map((function(e){return e.field_ref}))}))})})),Pe(_e(i),"commitDisplayedValue",(function(){var e=i.state.displayedValue;null!=e&&(i.props.onChange(e),i.setState({displayedValue:null}))})),i.state={displayedValue:null},i}return we(n,[{key:"render",value:function(){var e=this,t=M.ZP.mapObject(this.state.displayedValue||this.props.value||{},(function(t){return t.map((function(t){return e.props.columns.find((function(e){return M.ZP.isEqual(e.field_ref,t)}))})).filter((function(e){return null!=e}))}));return i.createElement("div",null,this.props.partitions.map((function(n,r){var o=n.name,a=n.title,u=n.columnFilter;return i.createElement(qe,{key:r,className:f()("py2",{"border-top":r>0}),title:a,columnFilter:u,partitionName:o,columns:t[o],value:t,getColumnSettingValue:e.getColumnSettingValue,onChangeColumnSetting:e.handleChangeColumnSetting,onEditFormatting:e.handleEditFormatting,updateDisplayedValue:e.updateDisplayedValue,commitDisplayedValue:e.commitDisplayedValue})})))}}]),n}(i.Component),qe=(0,$.GR)("columns",{drop:function(e,t,n){e.commitDisplayedValue()}},(function(e,t){return{connectDropTarget:e.dropTarget()}}))(ae=function(e){Oe(n,e);var t=Se(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n,[{key:"render",value:function(){var e=this.props,t=e.columns,n=void 0===t?[]:t,r=e.partitionName,o=e.columnFilter,a=e.onChangeColumnSetting,u=e.getColumnSettingValue,l=e.onEditFormatting,c=e.updateDisplayedValue,s=e.commitDisplayedValue,f=e.value,d=e.connectDropTarget,p=e.title,h=e.className;return d(i.createElement("div",{className:h},i.createElement(J.default,{color:"medium"},p),0===n.length?i.createElement(Me,{columnFilter:o,value:f,partitionName:r,updateDisplayedValue:c}):n.map((function(e,t){return i.createElement(Ze,{key:t,partitionName:r,column:e,index:t,columnFilter:o,value:f,onChangeColumnSetting:a,getColumnSettingValue:u,onEditFormatting:l,updateDisplayedValue:c,commitDisplayedValue:s})}))))}}]),n}(i.Component))||ae,Me=(0,$.GR)("columns",{hover:function(e,t,n){var r,i=t.getItem();if(!e.columnFilter||!1!==e.columnFilter(i.column)){var o=i.index,a=i.partitionName,u=e.value,l=e.partitionName;(0,e.updateDisplayedValue)(ve(ve({},u),{},(Pe(r={},a,[].concat(he(u[a].slice(0,o)),he(u[a].slice(o+1)))),Pe(r,l,[u[a][o]]),r))),i.index=0,i.partitionName=l}}},(function(e,t){return{connectDropTarget:e.dropTarget()}}))(ue=function(e){Oe(n,e);var t=Se(n);function n(){return be(this,n),t.apply(this,arguments)}return we(n,[{key:"render",value:function(){return this.props.connectDropTarget(i.createElement("div",{className:"p2 text-centered bg-light rounded text-medium"},(0,q.t)(le||(le=Ce(["Drag fields here"])))))}}]),n}(i.Component))||ue,Ze=(0,$.GR)("columns",{hover:function(e,t,n){var r=t.getItem();if(!e.columnFilter||!1!==e.columnFilter(r.column)){var i=r.index,o=r.partitionName,a=e.index,u=e.value,l=e.partitionName,c=e.updateDisplayedValue;if(l===o&&i!==a){var s=u[o],f=he(s);f[i]=s[a],f[a]=s[i],c(ve(ve({},u),{},Pe({},o,f))),r.index=a}else if(l!==o){var d;c(ve(ve({},u),{},(Pe(d={},o,[].concat(he(u[o].slice(0,i)),he(u[o].slice(i+1)))),Pe(d,l,[].concat(he(u[l].slice(0,a)),[u[o][i]],he(u[l].slice(a)))),d))),r.index=a,r.partitionName=l}}},drop:function(e,t,n){return{index:e.index,column:e.column,partitionName:e.partitionName}}},(function(e,t){return{connectDropTarget:e.dropTarget()}}))(ce=(0,$.Ej)("columns",{beginDrag:function(e){return{column:e.column,partitionName:e.partitionName,index:e.index}},endDrag:function(e,t,n){}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(ce=function(e){Oe(n,e);var t=Se(n);function n(e){var r;return be(this,n),Pe(_e(r=t.call(this,e)),"toggleExpand",(function(){var e=r.state.expanded;r.setState({expanded:!e})})),Pe(_e(r),"handleEditFormatting",(function(){var e=r.props,t=e.column,n=e.onEditFormatting;n&&n(t)})),r.state={expanded:!1},r}return we(n,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.connectDragSource,r=e.connectDropTarget,o=e.isDragging,a=e.partitionName,u=e.onChangeColumnSetting,l=e.getColumnSettingValue,c=this.state.expanded,s=c&&!o;return r(n(i.createElement("div",null,i.createElement(ke,{className:f()("text-dark mb1 bordered rounded cursor-grab text-bold",{disabled:o})},i.createElement("div",{className:f()("text-dark text-bold cursor-grab flex justify-between")},i.createElement("span",{onClick:this.toggleExpand,className:"cursor-pointer text-brand-hover hover-parent hover--inherit"},t.display_name,i.createElement(Z.ZP,{name:c?"chevronup":"chevrondown",size:"10",className:"text-light hover-child hover--inherit ml1"})),i.createElement(X.default,{style:{width:10}})),s&&i.createElement(Te,{className:"text-medium",partitionName:a,onChangeColumnSetting:u.bind(null,t),getColumnSettingValue:l.bind(null,t),onEditFormatting:this.handleEditFormatting})))))}}]),n}(i.Component))||ce)||ce,Le=Ne,Be=n(50262);function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ue(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,n,r,o=He(a);function a(){return Qe(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return i.createElement("div",{className:"flex align-center mb1"},i.createElement(Be.default,Fe({},this.props,{triggerSize:12})),this.props.title&&i.createElement("h4",{className:"ml1"},this.props.title))}}])&&Ve(t.prototype,n),r&&Ve(t,r),a}(i.Component);function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nt(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var i=ot(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(a,e);var t,n,r,o=rt(a);function a(){return et(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,r=e.seriesValues,o=e.seriesTitles;return i.createElement("div",null,r.map((function(e,r){return i.createElement(We,{key:r,onChange:function(r){return n(Je(Je({},t),{},Xe({},e,r)))},title:o[r],value:t[e]})})))}}])&&tt(t.prototype,n),r&&tt(t,r),a}(i.Component),ut=n(97249),lt=n(98399);function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ht(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ht(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yt={input:c,inputGroup:function(e){var t=e.value,n=e.onChange,r=t.map((function(e,r){return i.createElement(o.default,{key:r,className:"input block full mb1",value:e,onBlurChange:function(e){var i=e.target.value.trim();if(i&&i.length){var o=t.slice();o[r]=i,n(o)}}})}));return i.createElement("div",null,r)},number:O,radio:S,select:C,toggle:A,segmentedControl:N,field:F,fields:G,fieldsPartition:Le,color:We,colors:at};function vt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};for(var o in e)bt(i,e,o,t,n,r);return i}function bt(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!(n in e)){var a,u=t[n]||{},l=pt(u.readDependencies||[]);try{for(l.s();!(a=l.n()).done;){var c=a.value;bt(e,t,c,r,i,o)}}catch(e){l.e(e)}finally{l.f()}u.useRawSeries&&r._raw&&(r=r._raw);var s=ft(ft({},i),e);try{if(u.getValue)return e[n]=u.getValue(r,s,o);if(void 0!==i[n]&&(!u.isValid||u.isValid(r,s,o)))return e[n]=i[n];if(u.getDefault){var f=u.getDefault(r,s,o);return e[n]=f}if("default"in u)return e[n]=u.default}catch(e){lt.warn("Error getting setting",n,e)}return e[n]=void 0}}function gt(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=e[t],l=r[t],c=function(e){var n,i=dt({},t,e),a=pt(u.writeDependencies||[]);try{for(a.s();!(n=a.n()).done;){var l=n.value;i[l]=r[l]}}catch(e){a.e(e)}finally{a.f()}o(i)};return u.useRawSeries&&i._raw&&(i=i._raw),ft(ft({},u),{},{id:t,value:l,title:u.getTitle?u.getTitle(i,r,a):u.title,hidden:u.getHidden?u.getHidden(i,r,a):u.hidden||!1,disabled:u.getDisabled?u.getDisabled(i,r,a):u.disabled||!1,props:ft(ft({},u.props?u.props:{}),u.getProps?u.getProps(i,r,c,a):{}),set:t in n,widget:"string"==typeof u.widget?yt[u.widget]:u.widget,onChange:c,onChangeSettings:o})}function wt(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Object.keys(e).map((function(a){return gt(e,a,t,n,r,i,o)})).filter((function(e){return e.widget}))}function Ot(e,t){var n={};for(var r in e){e[r].persistDefault&&(n[r]=t[r])}return n}function jt(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];ut.vF("Chart Settings","Change Setting",i)}for(var o=ft(ft({},e),t),a=0,u=Object.entries(t);a<u.length;a++){var l=ct(u[a],2),c=l[0];void 0===l[1]&&delete o[c]}return o}function St(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["series_settings","column_settings"],i=ft(ft({},e),t),o=0,a=n;o<a.length;o++){var u=a[o];if(null!=e[u]||null!=t[u]){i[u]={};for(var l=0,c=Object.keys(ft(ft({},e[u]),t[u]));l<c.length;l++){var s=c[l];i[u][s]=St((0,r.getIn)(e,[u,s])||{},(0,r.getIn)(t,[u,s])||{})}}}return i}function Et(e){var t={};e.click_behavior&&(t.click_behavior=e.click_behavior);var n=function(e){if(null==e)return null;return Object.entries(e).filter((function(e){var t=ct(e,2);t[0];return null!=t[1].click_behavior})).reduce((function(e,t){var n=ct(t,2),r=n[0],i=n[1];return ft(ft({},e),{},dt({},r,{click_behavior:i.click_behavior}))}),null)}(e.column_settings);return n&&(t.column_settings=n),t}},76198:function(e,t,n){"use strict";n.d(t,{eG:function(){return b},tP:function(){return g},dr:function(){return w}});var r,i,o=n(39322),a=n(26864),u=n(55316),l=n(25312);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m={"card.title":{title:(0,l.t)(r||(r=h(["Title"]))),widget:"input",getDefault:function(e){return 1===e.length?e[0].card.name:null},dashboard:!0,useRawSeries:!0},"card.description":{title:(0,l.t)(i||(i=h(["Description"]))),widget:"input",getDefault:function(e){return 1===e.length?e[0].card.description:null},dashboard:!0,useRawSeries:!0},click_behavior:{}};function y(e){if(!e)return{};var t=(0,a.getVisualizationRaw)(e).visualization,n=d(d({},m),t.settings||{});for(var r in n)n[r].id=r;return n}function v(e){var t=e&&e[0]&&e[0].card.visualization_settings||{};return t.column_settings&&(t.column_settings=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=c(JSON.parse(i),2),a=o[0],l=o[1];t["ref"===a?JSON.stringify(["ref",(0,u.fM)(l)]):i]=e[i]}return t}(t.column_settings)),t}function b(e){if(!e)return{};var t=y(e),n=v(e);return(0,o.ST)(t,e,n)}function g(e){var t=y(e),n=b(e);return(0,o.MU)(t,n)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(e),i=v(e),a=b(e);return(0,o.xB)(r,i,a,e,t).filter((function(e){return void 0===e.dashboard||e.dashboard===n}))}},8765:function(e,t,n){"use strict";n.d(t,{S9:function(){return p},tL:function(){return h},oY:function(){return v},BC:function(){return b},L$:function(){return O},EP:function(){return j}});var r=n(56525),i=n.n(r),o=n(30558),a=n(98958),u=n(47667),l=n(20514);function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=new Set(["minute","hour","day","week","month","quarter","year"]);function p(e){var t=e.cols,n=e.rows,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return h({cols:t,rows:n},r)||i()(n[0]&&n[0][r],i().ISO_8601).isValid()}function h(e,t){var n=e.cols;return(0,a.J_)(n[t])&&(null==n[t].unit||d.has(n[t].unit))}var m=[{interval:"ms",count:1,testFn:function(e){return 0}},{interval:"second",count:1,testFn:function(e){return e.milliseconds()}},{interval:"second",count:5,testFn:function(e){return e.seconds()%5}},{interval:"second",count:15,testFn:function(e){return e.seconds()%15}},{interval:"second",count:30,testFn:function(e){return e.seconds()%30}},{interval:"minute",count:1,testFn:function(e){return e.seconds()}},{interval:"minute",count:5,testFn:function(e){return e.minutes()%5}},{interval:"minute",count:15,testFn:function(e){return e.minutes()%15}},{interval:"minute",count:30,testFn:function(e){return e.minutes()%30}},{interval:"hour",count:1,testFn:function(e){return e.minutes()}},{interval:"hour",count:3,testFn:function(e){return e.hours()%3}},{interval:"hour",count:6,testFn:function(e){return e.hours()%6}},{interval:"hour",count:12,testFn:function(e){return e.hours()%12}},{interval:"day",count:1,testFn:function(e){return e.hours()}},{interval:"week",count:1,testFn:function(e){return e.day()}},{interval:"month",count:1,testFn:function(e){return e.date()}},{interval:"month",count:3,testFn:function(e){return e.month()%3}},{interval:"year",count:1,testFn:function(e){return e.month()}},{interval:"year",count:5,testFn:function(e){return e.year()%5}},{interval:"year",count:10,testFn:function(e){return e.year()%10}},{interval:"year",count:50,testFn:function(e){return e.year()%50}},{interval:"year",count:100,testFn:function(e){return e.year()%100}}],y={minute:5,hour:9,day:13,week:14,month:15,quarter:16,year:17};function v(e){return e.reduce((function(e,t){return null!=t&&(null==e||y[t]<y[e])?t:e}),null)}function b(e,t){if(t&&null!=y[t])return m[y[t]];if(1===e.length)return m.find((function(e){return"day"===e.interval}));var n=e.map((function(e){var t=(0,u.ZB)(e);return m.map((function(e){return e.testFn(t)}))})),r=o.ZP.zip.apply(o.ZP,c(n)).map((function(e){return new Set(e).size})),i=r.findIndex((function(e){return 1!==e})),a=m.findIndex((function(e){return"week"===e.interval}));return i===a&&1===r[a+1]&&(i=r.findIndex((function(e,t){return 1!==e&&t>a}))),-1===i?m[m.length-1]:m[i-1]}function g(e,t){return Math.ceil(t/function(e){return i()(0).add(e.count,e.interval).valueOf()}(e))}function w(e,t,n){var r=o.ZP.findIndex(m,(function(t){var n=t.interval,r=t.count;return n===e.interval&&r===e.count}));-1===r&&(r=0);var i,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(o.ZP.rest(m,r));try{for(a.s();!(i=a.n()).done;){var u=i.value;if(g(u,t)<=n)return u}}catch(e){a.e(e)}finally{a.f()}return m[m.length-1]}function O(e,t,n,r){return w(t,function(e){var t=e[0];return e[1]-t}(e),function(e,t){var n=7*t(new Date(2019,8,4)).length+20;return Math.floor(e/n)}(n,r))}function j(e,t){e=e._raw||e;var n=Array.from(new Set(e.map((function(e){return e.data.results_timezone}))));n.length>1&&t((0,l.w9)(n));var r=e[0].data,i=r.results_timezone,o=r.requested_timezone;return o&&o!==i&&t((0,l.vw)({results_timezone:i,requested_timezone:o})),i||"Etc/UTC"}},63614:function(e,t,n){"use strict";n.d(t,{cI:function(){return E},IW:function(){return _},eG:function(){return P},Jm:function(){return C},f0:function(){return D},RY:function(){return T},dS:function(){return N},Pz:function(){return q},$e:function(){return Z},tS:function(){return B},wz:function(){return z},yv:function(){return F},xo:function(){return Q},x9:function(){return V},Ew:function(){return U}});var r,i,o,a,u,l=n(30558),c=n(91826),s=n.n(c),f=n(25312),d=n(92129),p=n.n(d),h=n(98958);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function j(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=100;function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};if("string"==typeof e&&(e=[e]),!t||!Array.isArray(e))return!1;var r,i={},o=O(t.cols);try{for(o.s();!(r=o.n()).done;){var a=r.value;i[a.name]=a}}catch(e){o.e(e)}finally{o.f()}return e.reduce((function(e,t){return e&&(null==t||i[t]&&n(i[t]))}),!0)}function x(e,t){var n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function P(e){var t=e.parentElement;return x("height",t)-x("padding-top",t)-x("padding-bottom",t)-3}function C(e){var t=e.parentElement;return x("width",t)-x("padding-left",t)-x("padding-right",t)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return 0===e.length||r>8?[[t,n]]:[].concat(w(k(e.slice(1),t.concat([e[0]]),n,r+1)),w(k(e.slice(1),t,n.concat([e[0]]),r+1)))}function A(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=s().extent((t=[]).concat.apply(t,w(e))),i=r[1]-r[0];return n&&0===e.length?-100:0===i?0:e.reduce((function(e,t){return e+Math.pow(i/(t[1]-t[0]),2)}),0)}function D(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=e.map((function(e,t){return t})).filter((function(e){return i.indexOf(e)<0&&o.indexOf(e)<0})),u=o.length>0,l=function(t){return A(t[0].map((function(t){return e[t]})),u)+A(t[1].map((function(t){return e[t]})),u)},c=k(a,i,o),s=O(c);try{for(s.s();!(r=s.n()).done;){var f=r.value,d=l(f);(!t||d<n)&&(t=f,n=d)}}catch(e){s.e(e)}finally{s.f()}return i.length>0||o.length>0?t:t&&t.sort((function(e,t){return e[0]-t[0]}))}var R={avg:(0,f.t)(r||(r=g(["Average"]))),count:(0,f.t)(i||(i=g(["Count"]))),sum:(0,f.t)(o||(o=g(["Sum"]))),distinct:(0,f.t)(a||(a=g(["Distinct"]))),stddev:(0,f.t)(u||(u=g(["Standard Deviation"])))},I=new RegExp("^(".concat(Object.keys(R).join("|"),")(_\\d+)?$"));function T(e){if(I.test(e.name)){var t=R[e.display_name.toLowerCase()];if(t)return t}return e.display_name}function N(e,t){return(e&&e.length)===(t&&t.length)&&l.ZP.zip(e,t).reduce((function(e,t){var n=b(t,2),r=n[0],i=n[1],o=r.data===i.data,a=(r.card&&r.card.display)===(i.card&&i.card.display),u=(r.card&&JSON.stringify(r.card.visualization_settings))===(i.card&&JSON.stringify(i.card.visualization_settings));return e&&o&&a&&u}),!0)}function q(e,t){return l.ZP.range(t).map((function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.match(/#(?:(..)(..)(..)|(.)(.)(.))/);if(!n)return e;var r=(null!=n[1]?n.slice(1,4):n.slice(4,7)).map((function(e){return parseInt(e,16)})),i=Math.min.apply(Math,w(r)),o=Math.max.apply(Math,w(r));return"#"+r.map((function(e){return Math.round(i+(o-i)*t*(e/255)).toString(16)})).join("")}(e,1-Math.min(.25,1/t)*n)}))}var M=new WeakMap;function Z(e,t,n){var r=e[n];if(!M.has(r)){var i=p()(t);M.set(r,i.dimension((function(e){return e[n]})).group().size())}return M.get(r)}var L=new WeakMap;function B(e,t,n){var r=e[n];return L.has(r)||L.set(r,s().extent(t,(function(e){return e[n]}))),L.get(r)}function z(e,t){if(function(e,t){return!l.ZP.isEqual(t.dataset_query,e.dataset_query)||t.display!==e.display}(e,t)){var n=!e.id,r=!!t.original_card_id;return y(y({},e),{},{original_card_id:r?t.original_card_id:n?t.id:e.id,id:null})}return y(y({},e),{},{original_card_id:e.id})}function F(e){var t=Q(e,1,1);return{dimension:t.dimensions[0],metric:t.metrics[0]}}function Q(e){var t=b(e,1),n=t[0].data,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!n)return{dimensions:[null],metrics:[null]};var o=n.cols,a=n.rows,u=[],l=[],c=o.filter((function(e){return(0,h.Zd)(e)})),s=o.filter((function(e){return(0,h.vM)(e)&&!(0,h.Zd)(e)}));return(s.length<=r&&1===c.length||1===s.length&&c.length<=i)&&(u=s,l=c),2===u.length&&((0,h.J_)(u[1])&&!(0,h.J_)(u[0])||Z(o,a,o.indexOf(u[0]))<Z(o,a,o.indexOf(u[1])))&&u.reverse(),u.length>1&&Z(o,a,o.indexOf(u[1]))>E&&u.pop(),{dimensions:u.length>0?u.map((function(e){return e.name})):[null],metrics:l.length>0?l.map((function(e){return e.name})):[null]}}function V(e,t){try{var n,r=Intl.NumberFormat("en",t),i=0,o=O(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=r.formatToParts(a).find((function(e){return"fraction"===e.type})),l=u?u.value.length:0;l>i&&(i=l)}}catch(e){o.e(e)}finally{o.f()}return i}catch(e){return}}var U=function(e,t){if(!e||0===e.length)return t;for(var n=new Set(t),r=new Set(e),i=t.filter((function(e){return!r.has(e)})),o=e.map((function(e){return n.has(e)?e:null})),a=[];o.length>0||i.length>0;){var u=o.shift();if(null==u){var l=i.shift();null!=l&&a.push(l)}else a.push(u)}return a}},20514:function(e,t,n){"use strict";n.d(t,{yT:function(){return f},JU:function(){return d},Am:function(){return p},ex:function(){return h},vw:function(){return m},w9:function(){return y}});var r,i,o,a,u,l=n(63614),c=n(25312);function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f="NULL_DIMENSION_WARNING";function d(){return{key:f,text:(0,c.t)(r||(r=s(["Data includes missing dimension values."])))}}function p(e){return{key:"INVALID_DATE_WARNING",text:(0,c.t)(i||(i=s(['We encountered an invalid date: "','"'])),e)}}function h(e){return{key:"UNAGGREGATED_DATA_WARNING",text:(0,c.t)(o||(o=s(['"','" is an unaggregated field: if it has more than one value at a point on the x-axis, the values will be summed.'])),(0,l.RY)(e))}}function m(e){var t=e.results_timezone,n=e.requested_timezone;return{key:"UNEXPECTED_QUERY_TIMEZONE",text:(0,c.t)(a||(a=s(["The query for this chart was run in "," rather than "," due to database or driver constraints."])),t,n)}}function y(e){var t=e.join(", ");return{key:"MULTIPLE_TIMEZONES",text:(0,c.t)(u||(u=s(["This chart contains queries run in multiple timezones: ",""])),t)}}},76896:function(e,t,n){var r={"./af":98514,"./af.js":98514,"./ar":11542,"./ar-dz":5386,"./ar-dz.js":5386,"./ar-kw":86595,"./ar-kw.js":86595,"./ar-ly":21490,"./ar-ly.js":21490,"./ar-ma":99128,"./ar-ma.js":99128,"./ar-sa":22769,"./ar-sa.js":22769,"./ar-tn":27156,"./ar-tn.js":27156,"./ar.js":11542,"./az":18979,"./az.js":18979,"./be":46948,"./be.js":46948,"./bg":40537,"./bg.js":40537,"./bm":44299,"./bm.js":44299,"./bn":34733,"./bn-bd":81362,"./bn-bd.js":81362,"./bn.js":34733,"./bo":5428,"./bo.js":5428,"./br":17816,"./br.js":17816,"./bs":96972,"./bs.js":96972,"./ca":24557,"./ca.js":24557,"./cs":16594,"./cs.js":16594,"./cv":92645,"./cv.js":92645,"./cy":99773,"./cy.js":99773,"./da":35297,"./da.js":35297,"./de":11318,"./de-at":2655,"./de-at.js":2655,"./de-ch":19677,"./de-ch.js":19677,"./de.js":11318,"./dv":62493,"./dv.js":62493,"./el":59650,"./el.js":59650,"./en-au":37965,"./en-au.js":37965,"./en-ca":59993,"./en-ca.js":59993,"./en-gb":26137,"./en-gb.js":26137,"./en-ie":73825,"./en-ie.js":73825,"./en-il":73929,"./en-il.js":73929,"./en-in":99793,"./en-in.js":99793,"./en-nz":85889,"./en-nz.js":85889,"./en-sg":38652,"./en-sg.js":38652,"./eo":85825,"./eo.js":85825,"./es":3879,"./es-do":60171,"./es-do.js":60171,"./es-mx":40864,"./es-mx.js":40864,"./es-us":17300,"./es-us.js":17300,"./es.js":3879,"./et":82787,"./et.js":82787,"./eu":83132,"./eu.js":83132,"./fa":51051,"./fa.js":51051,"./fi":89309,"./fi.js":89309,"./fil":8958,"./fil.js":8958,"./fo":99617,"./fo.js":99617,"./fr":41680,"./fr-ca":69678,"./fr-ca.js":69678,"./fr-ch":61976,"./fr-ch.js":61976,"./fr.js":41680,"./fy":30418,"./fy.js":30418,"./ga":25313,"./ga.js":25313,"./gd":98048,"./gd.js":98048,"./gl":6769,"./gl.js":6769,"./gom-deva":28247,"./gom-deva.js":28247,"./gom-latn":93906,"./gom-latn.js":93906,"./gu":6385,"./gu.js":6385,"./he":91535,"./he.js":91535,"./hi":34105,"./hi.js":34105,"./hr":70316,"./hr.js":70316,"./hu":42138,"./hu.js":42138,"./hy-am":33029,"./hy-am.js":33029,"./id":17418,"./id.js":17418,"./is":83583,"./is.js":83583,"./it":27529,"./it-ch":77680,"./it-ch.js":77680,"./it.js":27529,"./ja":62875,"./ja.js":62875,"./jv":4414,"./jv.js":4414,"./ka":63786,"./ka.js":63786,"./kk":28298,"./kk.js":28298,"./km":6147,"./km.js":6147,"./kn":44895,"./kn.js":44895,"./ko":91027,"./ko.js":91027,"./ku":11123,"./ku.js":11123,"./ky":69763,"./ky.js":69763,"./lb":37597,"./lb.js":37597,"./lo":75135,"./lo.js":75135,"./lt":29716,"./lt.js":29716,"./lv":70440,"./lv.js":70440,"./me":21400,"./me.js":21400,"./mi":60876,"./mi.js":60876,"./mk":49091,"./mk.js":49091,"./ml":91907,"./ml.js":91907,"./mn":56433,"./mn.js":56433,"./mr":21346,"./mr.js":21346,"./ms":2824,"./ms-my":6481,"./ms-my.js":6481,"./ms.js":2824,"./mt":56331,"./mt.js":56331,"./my":58778,"./my.js":58778,"./nb":88572,"./nb.js":88572,"./ne":82832,"./ne.js":82832,"./nl":82931,"./nl-be":5775,"./nl-be.js":5775,"./nl.js":82931,"./nn":44940,"./nn.js":44940,"./oc-lnc":34485,"./oc-lnc.js":34485,"./pa-in":91700,"./pa-in.js":91700,"./pl":62525,"./pl.js":62525,"./pt":86956,"./pt-br":59657,"./pt-br.js":59657,"./pt.js":86956,"./ro":62329,"./ro.js":62329,"./ru":8854,"./ru.js":8854,"./sd":47579,"./sd.js":47579,"./se":4726,"./se.js":4726,"./si":79053,"./si.js":79053,"./sk":55870,"./sk.js":55870,"./sl":93837,"./sl.js":93837,"./sq":23310,"./sq.js":23310,"./sr":54147,"./sr-cyrl":14060,"./sr-cyrl.js":14060,"./sr.js":54147,"./ss":93789,"./ss.js":93789,"./sv":45461,"./sv.js":45461,"./sw":99803,"./sw.js":99803,"./ta":54563,"./ta.js":54563,"./te":84167,"./te.js":84167,"./tet":49664,"./tet.js":49664,"./tg":14099,"./tg.js":14099,"./th":44104,"./th.js":44104,"./tk":14319,"./tk.js":14319,"./tl-ph":14872,"./tl-ph.js":14872,"./tlh":19136,"./tlh.js":19136,"./tr":3196,"./tr.js":3196,"./tzl":28350,"./tzl.js":28350,"./tzm":54248,"./tzm-latn":69701,"./tzm-latn.js":69701,"./tzm.js":54248,"./ug-cn":6781,"./ug-cn.js":6781,"./uk":14702,"./uk.js":14702,"./ur":77826,"./ur.js":77826,"./uz":26427,"./uz-latn":74779,"./uz-latn.js":74779,"./uz.js":26427,"./vi":24778,"./vi.js":24778,"./x-pseudo":7381,"./x-pseudo.js":7381,"./yo":68376,"./yo.js":68376,"./zh-cn":2577,"./zh-cn.js":2577,"./zh-hk":20793,"./zh-hk.js":20793,"./zh-mo":9409,"./zh-mo.js":9409,"./zh-tw":37970,"./zh-tw.js":37970};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=76896},84179:function(e,t,n){var r={"./af":95286,"./af.js":95286,"./ar":6561,"./ar-dz":2146,"./ar-dz.js":2146,"./ar-kw":38047,"./ar-kw.js":38047,"./ar-ly":22833,"./ar-ly.js":22833,"./ar-ma":30186,"./ar-ma.js":30186,"./ar-sa":66922,"./ar-sa.js":66922,"./ar-tn":490,"./ar-tn.js":490,"./ar.js":6561,"./az":48641,"./az.js":48641,"./be":23299,"./be.js":23299,"./bg":21502,"./bg.js":21502,"./bm":24574,"./bm.js":24574,"./bn":11729,"./bn.js":11729,"./bo":9925,"./bo.js":9925,"./br":1988,"./br.js":1988,"./bs":85793,"./bs.js":85793,"./ca":60347,"./ca.js":60347,"./cs":10999,"./cs.js":10999,"./cv":81690,"./cv.js":81690,"./cy":72638,"./cy.js":72638,"./da":66820,"./da.js":66820,"./de":38413,"./de-at":15502,"./de-at.js":15502,"./de-ch":67569,"./de-ch.js":67569,"./de.js":38413,"./dv":15335,"./dv.js":15335,"./el":21406,"./el.js":21406,"./en-au":19612,"./en-au.js":19612,"./en-ca":87302,"./en-ca.js":87302,"./en-gb":21543,"./en-gb.js":21543,"./en-ie":96745,"./en-ie.js":96745,"./en-nz":87883,"./en-nz.js":87883,"./eo":38066,"./eo.js":38066,"./es":96730,"./es-do":61848,"./es-do.js":61848,"./es-us":32779,"./es-us.js":32779,"./es.js":96730,"./et":61386,"./et.js":61386,"./eu":49220,"./eu.js":49220,"./fa":81123,"./fa.js":81123,"./fi":95495,"./fi.js":95495,"./fo":15855,"./fo.js":15855,"./fr":93843,"./fr-ca":72251,"./fr-ca.js":72251,"./fr-ch":41713,"./fr-ch.js":41713,"./fr.js":93843,"./fy":91316,"./fy.js":91316,"./gd":39957,"./gd.js":39957,"./gl":28775,"./gl.js":28775,"./gom-latn":82190,"./gom-latn.js":82190,"./gu":22018,"./gu.js":22018,"./he":41636,"./he.js":41636,"./hi":96602,"./hi.js":96602,"./hr":91898,"./hr.js":91898,"./hu":23597,"./hu.js":23597,"./hy-am":86557,"./hy-am.js":86557,"./id":48186,"./id.js":48186,"./is":92004,"./is.js":92004,"./it":31032,"./it.js":31032,"./ja":31461,"./ja.js":31461,"./jv":40721,"./jv.js":40721,"./ka":22116,"./ka.js":22116,"./kk":31007,"./kk.js":31007,"./km":7765,"./km.js":7765,"./kn":3735,"./kn.js":3735,"./ko":86880,"./ko.js":86880,"./ky":24125,"./ky.js":24125,"./lb":10047,"./lb.js":10047,"./lo":16396,"./lo.js":16396,"./lt":93903,"./lt.js":93903,"./lv":4162,"./lv.js":4162,"./me":53933,"./me.js":53933,"./mi":4044,"./mi.js":4044,"./mk":26326,"./mk.js":26326,"./ml":5774,"./ml.js":5774,"./mr":52738,"./mr.js":52738,"./ms":77364,"./ms-my":55086,"./ms-my.js":55086,"./ms.js":77364,"./my":49515,"./my.js":49515,"./nb":38267,"./nb.js":38267,"./ne":68871,"./ne.js":68871,"./nl":130,"./nl-be":33615,"./nl-be.js":33615,"./nl.js":130,"./nn":4484,"./nn.js":4484,"./pa-in":75380,"./pa-in.js":75380,"./pl":80255,"./pl.js":80255,"./pt":15179,"./pt-br":43809,"./pt-br.js":43809,"./pt.js":15179,"./ro":71998,"./ro.js":71998,"./ru":13586,"./ru.js":13586,"./sd":65424,"./sd.js":65424,"./se":19412,"./se.js":19412,"./si":19220,"./si.js":19220,"./sk":47374,"./sk.js":47374,"./sl":67574,"./sl.js":67574,"./sq":62977,"./sq.js":62977,"./sr":76792,"./sr-cyrl":53388,"./sr-cyrl.js":53388,"./sr.js":76792,"./ss":41676,"./ss.js":41676,"./sv":89807,"./sv.js":89807,"./sw":39893,"./sw.js":39893,"./ta":81610,"./ta.js":81610,"./te":38921,"./te.js":38921,"./tet":16791,"./tet.js":16791,"./th":10035,"./th.js":10035,"./tl-ph":72526,"./tl-ph.js":72526,"./tlh":8730,"./tlh.js":8730,"./tr":59059,"./tr.js":59059,"./tzl":88459,"./tzl.js":88459,"./tzm":46357,"./tzm-latn":98904,"./tzm-latn.js":98904,"./tzm.js":46357,"./uk":87166,"./uk.js":87166,"./ur":42450,"./ur.js":42450,"./uz":76150,"./uz-latn":42939,"./uz-latn.js":42939,"./uz.js":76150,"./vi":62959,"./vi.js":62959,"./x-pseudo":76756,"./x-pseudo.js":76756,"./yo":21873,"./yo.js":21873,"./zh-cn":26077,"./zh-cn.js":26077,"./zh-hk":22992,"./zh-hk.js":22992,"./zh-tw":99603,"./zh-tw.js":99603};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=84179},24531:function(e,t,n){e.exports=function(){return new Promise((function(e){n.e(932).then(function(t){e(n(39932))}.bind(null,n)).catch(n.oe)}))}},67781:function(e,t,n){"use strict";e.exports=n.p+"29c0b81f9edbfbf134f5.svg"},11164:function(){},93907:function(){},41145:function(){},18164:function(){},83784:function(){},2905:function(){},50126:function(){},14013:function(){},98673:function(){}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},e=[],i.O=function(t,n,r,o){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],r=e[s][1],o=e[s][2];for(var u=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(u=!1,o<a&&(a=o));if(u){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return e+".bundle.js?7c223b6e5d1d09d62e53"},i.miniCssF=function(e){return"app-embed.css?f1313c22d62097e9c1ed"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},i.l=function(e,n,r,o){if(t[e])t[e].push(n);else{var a,u;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var s=l[c];if(s.getAttribute("src")==e){a=s;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=e),t[e]=[n];var f=function(n,r){a.onerror=a.onload=null,clearTimeout(d);var i=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),n)return n(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),u&&document.head.appendChild(a)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},i.j=918,i.p="app/dist/",function(){var e={918:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),u=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}}),"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,a=n[0],u=n[1],l=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);if(l)var s=l(i)}for(t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(s)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[736],(function(){return i(20925)}));o=i.O(o)}();
//# sourceMappingURL=app-embed.bundle.js.map?7d8d3418f8d488607328